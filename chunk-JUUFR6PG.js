import{b as Oe}from"./chunk-BPA753SH.js";import{B as Ne,D as Ge,F as He,w as qe,x as De}from"./chunk-35H7Q3NZ.js";import"./chunk-QA7UUIIB.js";import{a as Le}from"./chunk-LSSFB7V7.js";import{a as Ve}from"./chunk-BKVU43SP.js";import{a as Pe}from"./chunk-XDCIJ5KI.js";import{h as X,j as Be}from"./chunk-QEJQXKTV.js";import"./chunk-V7S3MOFG.js";import{a as Ie}from"./chunk-2NOD7FGR.js";import{$a as G,Dc as ye,Ec as V,Fc as fe,G as ce,Gc as be,Ic as ae,Ja as l,Jb as O,Ka as n,Kb as R,Kc as _e,La as o,Lb as $,Ma as x,O as b,Oc as ve,Pc as Ee,Qa as v,Qb as ge,Ra as h,Rb as U,Sa as m,Sc as we,T as u,Tb as he,Tc as Ce,U as g,Uc as ke,V as F,Vc as Se,W as A,Wb as W,Yb as oe,Za as te,_ as f,_a as ie,_c as Me,ad as Fe,bb as c,bd as Ae,cb as E,da as de,db as C,dd as K,ed as Te,ga as me,ha as pe,i as se,ic as xe,ja as s,jd as Q,kc as z,lc as j,m as J,mb as P,qc as Y,ra as N,rb as _,rc as T,sb as w,tb as re,ub as ue,uc as S,vb as ne,vc as L,wa as p,wc as I,y as ee,z as le,zb as H}from"./chunk-SFZ46NFX.js";import{a as k,b as M,g as D}from"./chunk-GAL4ENT6.js";var Qe=r=>({"filter dark:invert":r});function Xe(r,e){if(r&1&&(n(0,"option",39),c(1),_(2,"titlecase"),o()),r&2){let t=e.$implicit;l("value",t),s(),E(w(2,2,t))}}function Ze(r,e){if(r&1&&(n(0,"option",39),c(1),_(2,"titlecase"),o()),r&2){let t=e.$implicit;l("value",t),s(),E(w(2,2,t))}}function Je(r,e){if(r&1&&(n(0,"div",40),c(1," Showing "),n(2,"strong",41),c(3),o(),c(4," exercises "),o()),r&2){let t=m();s(3),E(t.filteredExercises().length)}}function et(r,e){if(r&1&&x(0,"img",64),r&2){let t=m().$implicit,i=m(3);l("src",i.getIconPath(t.iconName),me)("alt",t.name+" icon")("ngClass",P(3,Qe,t.iconName!=="default-exercise"))}}function tt(r,e){r&1&&(n(0,"span",65),x(1,"app-icon",66),c(2," Hidden "),o())}function it(r,e){r&1&&(n(0,"span",67),x(1,"app-icon",68),c(2," Custom "),o())}function rt(r,e){if(r&1&&(n(0,"p",53)(1,"span",69),c(2," Equipment: "),o(),n(3,"span"),c(4),_(5,"titlecase"),o()()),r&2){let t=m().$implicit;s(4),C(" ",w(5,1,t.equipmentNeeded.join(", ")||"None")," ")}}function nt(r,e){if(r&1&&(n(0,"div",70),x(1,"app-icon",71),n(2,"span",69),c(3,"Muscles:"),o(),n(4,"span",72),c(5),_(6,"titlecase"),o()()),r&2){let t=m().$implicit;s(5),C(" ",w(6,1,t.primaryMuscleGroup)," ")}}function ot(r,e){if(r&1&&(n(0,"p",73),c(1),o()),r&2){let t=m().$implicit;l("title",t.description),s(),E(t.description)}}function at(r,e){if(r&1&&(n(0,"p",74),c(1),_(2,"date"),o()),r&2){let t=m().$implicit;s(),C(" Last used: ",ue(2,1,t.lastUsedAt,"dd-MM-yyyy","UTC")," ")}}function st(r,e){if(r&1&&(n(0,"p",74),c(1),_(2,"date"),o()),r&2){let t=m().$implicit;s(),C(" Last updated: ",re(2,1,t.updatedAt,"short")," ")}}function lt(r,e){if(r&1&&(n(0,"p",74),c(1),_(2,"date"),o()),r&2){let t=m().$implicit;s(),C(" Created: ",re(2,1,t.createdAt,"short")," ")}}function ct(r,e){if(r&1){let t=v();n(0,"app-action-menu",75),h("itemClick",function(a){u(t);let d=m(4);return g(d.handleActionMenuItemClick(a))})("closeMenu",function(){u(t);let a=m(4);return g(a.onCloseActionMenu())}),o()}if(r&2){let t=m().$implicit,i=m(3);l("modalTitle","")("displayMode",i.menuModeDropdown?"dropdown":"modal")("gridClass"," grid grid-cols-2 ")("items",i.getExerciseDropdownActionItems(t.id,i.menuModeDropdown?"dropdown":"modal"))("isVisible",i.areActionsVisible(t.id))}}function dt(r,e){if(r&1){let t=v();n(0,"app-action-menu",76),h("itemClick",function(a){u(t);let d=m(4);return g(d.handleActionMenuItemClick(a))})("closeMenu",function(){u(t);let a=m(4);return g(a.onCloseActionMenu())}),o()}if(r&2){let t=m().$implicit,i=m(3);l("items",i.getExerciseDropdownActionItems(t.id,"compact"))("isVisible",i.areActionsVisible(t.id))}}function mt(r,e){if(r&1){let t=v();n(0,"div",45),h("click",function(){let a=u(t).$implicit,d=m(3);return g(d.goToExerciseDetails(a.id))}),n(1,"div",46)(2,"div",47),p(3,et,1,5,"img",48),n(4,"h2",49),c(5),o()(),n(6,"div",50),p(7,tt,3,0,"span",51)(8,it,3,0,"span",52),o(),n(9,"p",53),c(10),_(11,"titlecase"),o(),p(12,rt,6,3,"p",54)(13,nt,7,3,"div",55)(14,ot,2,2,"p",56)(15,at,3,5,"p",57)(16,st,3,4,"p",57)(17,lt,3,4,"p",57),o(),n(18,"div",58)(19,"div",59)(20,"button",60),h("click",function(a){let d=u(t).$implicit,y=m(3);return g(y.toggleActions(d.id,a))}),x(21,"app-icon",61),o(),p(22,ct,1,5,"app-action-menu",62),o()(),p(23,dt,1,2,"app-action-menu",63),o()}if(r&2){let t=e.$implicit,i=m(3);ie("z-index",i.areActionsVisible(t.id)?50:"auto"),s(3),l("ngIf",t),s(),l("title",t.name),s(),E(t.name),s(2),l("ngIf",t.isHidden),s(),l("ngIf",t.isCustom),s(2),C("Category: ",w(11,16,t.category)),s(2),l("ngIf",t.equipmentNeeded),s(),l("ngIf",t.primaryMuscleGroup),s(),l("ngIf",t.description),s(),l("ngIf",t.lastUsedAt),s(),l("ngIf",t.updatedAt),s(),l("ngIf",t.createdAt),s(5),l("ngIf",i.areActionsVisible(t.id)&&(i.menuModeDropdown||i.menuModeModal)),s(),l("ngIf",i.areActionsVisible(t.id)&&i.menuModeCompact)}}function pt(r,e){if(r&1&&(n(0,"div",43),p(1,mt,24,18,"div",44),o()),r&2){let t=m(2);s(),l("ngForOf",t.filteredExercises())}}function ut(r,e){r&1&&(n(0,"div",77)(1,"p",78),c(2,"No exercises found matching your criteria"),o(),n(3,"p",79),c(4,"Try adjusting your filters or search term"),o()())}function gt(r,e){if(r&1&&(n(0,"div"),p(1,pt,2,1,"div",42)(2,ut,5,0,"ng-template",null,1,ne),o()),r&2){let t=te(3),i=m();s(),l("ngIf",i.filteredExercises().length>0)("ngIfElse",t)}}function ht(r,e){r&1&&(n(0,"div",77),x(1,"app-icon",82),n(2,"p",83),c(3,"Loading exercises..."),o()())}function xt(r,e){r&1&&(n(0,"div",84),x(1,"app-icon",85),n(2,"h3",86),c(3,"Your Exercise Library is Empty"),o(),n(4,"p",87),c(5,"Start building your collection by adding your first exercise "),o(),n(6,"button",88),c(7," Add Your First Exercise "),o()())}function yt(r,e){if(r&1&&(n(0,"div",77),p(1,ht,4,0,"div",80),_(2,"async"),p(3,xt,8,0,"div",81),_(4,"async"),o()),r&2){let t=m(2);s(),l("ngIf",w(2,2,t.exerciseService.isLoadingExercises$)),s(2),l("ngIf",!w(4,4,t.exerciseService.isLoadingExercises$)&&(!t.allExercises()||t.allExercises().length===0))}}function ft(r,e){if(r&1&&p(0,yt,5,6,"div",80),r&2){let t=m();l("ngIf",!t.allExercises()||t.allExercises().length===0)}}function bt(r,e){if(r&1){let t=v();n(0,"button",89),h("shortPress",function(){u(t);let a=m();return g(a.scrollToTop())}),F(),n(1,"svg",90),x(2,"path",91),o(),A(),n(3,"span",8),c(4,"Back to Top"),o()()}}function _t(r,e){if(r&1){let t=v();n(0,"div",92)(1,"div",93)(2,"span",94),c(3," CREATE EXERCISE "),o(),n(4,"button",95),h("shortPress",function(){u(t);let a=m();return g(a.navigateToCreateExercise())}),F(),n(5,"svg",96),x(6,"path",97),o(),A(),n(7,"span",8),c(8,"CREATE EXERCISE"),o()()()()}r&2&&l("@fabSlideUp",void 0)}var Z=class r{exerciseService=b(X);router=b(z);alertService=b(Q);toastService=b(Te);spinnerService=b(Pe);themeService=b(Le);platformId=b(de);appSettingsService=b(Ie);trackingService=b(Be);categories$;primaryMuscleGroups$;selectedCategory=f(null);selectedMuscleGroup=f(null);searchTerm=f("");allExercises=f([]);showHiddenExercises=f(!1);actionsVisibleId=f(null);menuModeDropdown=!1;menuModeCompact=!1;menuModeModal=!1;isFilterAccordionOpen=f(!1);filteredExercises=H(()=>{let e=this.allExercises();this.showHiddenExercises()||(e=e.filter(y=>!y.isHidden));let i=this.selectedCategory();i&&(e=e.filter(y=>y.category===i));let a=this.selectedMuscleGroup();a&&(e=e.filter(y=>y.primaryMuscleGroup===a));let d=this.searchTerm();if(d=this.exerciseService.normalizeExerciseNameForSearch(d),d){let y=d.split(/\s+/).filter(Boolean);e=e.filter(B=>{let We=[B.name,B.category,B.description||""].join(" ").toLowerCase();return y.every(ze=>We.includes(ze))})}return e.map(y=>M(k({},y),{iconName:this.exerciseService.determineExerciseIcon(y,y?.name)}))});constructor(){}showBackToTopButton=f(!1);onWindowScroll(){let e=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;this.showBackToTopButton.set(e>400)}isFabActionsOpen=f(!1);isTouchDevice=!1;ngOnInit(){oe(this.platformId)&&(window.scrollTo(0,0),this.isTouchDevice="ontouchstart"in window||navigator.maxTouchPoints>0),this.categories$=this.exerciseService.getUniqueCategories(),this.primaryMuscleGroups$=this.exerciseService.getUniquePrimaryMuscleGroups(),this.menuModeDropdown=this.appSettingsService.isMenuModeDropdown(),this.menuModeCompact=this.appSettingsService.isMenuModeCompact(),this.menuModeModal=this.appSettingsService.isMenuModeModal(),this.exerciseService.exercises$.subscribe(e=>{this.allExercises.set(e)})}onCategoryChange(e){let t=e.target;this.selectedCategory.set(t.value||null)}onMuscleGroupChange(e){let t=e.target;this.selectedMuscleGroup.set(t.value||null)}onSearchTermChange(e){let t=e.target;this.searchTerm.set(t.value.toLowerCase())}clearFilters(){this.selectedCategory.set(null),this.selectedMuscleGroup.set(null),this.searchTerm.set(""),this.showHiddenExercises.set(!1);let e=document.getElementById("category-filter");e&&(e.value="");let t=document.getElementById("muscle-group-filter");t&&(t.value="");let i=document.getElementById("search-term");i&&(i.value="")}goToExerciseDetails(e){this.router.navigate(["/library",e]),this.actionsVisibleId.set(null)}getIconPath(e){return this.exerciseService.getIconPath(e)}editExercise(e){this.router.navigate(["/library/edit",e]),this.actionsVisibleId.set(null)}deleteExercise(e){return D(this,null,function*(){this.actionsVisibleId.set(null);let t=this.allExercises().find(a=>a.id===e);if(!t){this.toastService.error("Exercise not found",0);return}let i=yield this.alertService.showConfirm("Delete Exercise",`Are you sure you want to delete the exercise "${t.name}"? This action cannot be undone.`,"Delete");if(i&&i.data)try{this.spinnerService.show("Deleting exercise.."),yield this.exerciseService.deleteExercise(e),this.toastService.success(`Exercise "${t.name}" deleted successfully.`,3e3,"Deleted")}catch(a){console.error("Error deleting exercise:",a),this.toastService.error("Failed to delete exercise. It might be in use",0,"Error")}finally{this.spinnerService.hide()}})}hideExercise(e){this.exerciseService.hideExercise(e).subscribe(),this.activeExerciseIdActions.set(null)}unhideExercise(e){this.exerciseService.unhideExercise(e).subscribe(),this.activeExerciseIdActions.set(null)}toggleFilterAccordion(){this.isFilterAccordionOpen.update(e=>!e)}scrollToTop(){oe(this.platformId)&&window.scrollTo({top:0,behavior:"smooth"})}handleFabClick(){this.isFabActionsOpen.update(e=>!e)}handleFabMouseEnter(){this.isTouchDevice||this.isFabActionsOpen.set(!0)}handleFabMouseLeave(){this.isTouchDevice||this.isFabActionsOpen.set(!1)}navigateToCreateExercise(){this.router.navigate(["/library/new"])}getExerciseDropdownActionItems(e,t){let i="rounded text-left px-3 py-1.5 sm:px-4 sm:py-2 font-medium text-gray-600 dark:text-gray-300 hover:bg-primary flex items-center text-sm hover:text-white dark:hover:text-gray-100 dark:hover:text-white",a="rounded text-left px-3 py-1.5 sm:px-4 sm:py-2 font-medium text-gray-600 dark:text-gray-300 hover:bg-red-600 flex items-center text-sm hover:text-gray-100 hover:animate-pulse",d=this.allExercises().find(B=>B.id===e),y=[M(k({},Ne),{data:{exerciseId:e}}),M(k({},Ge),{data:{exerciseId:e}})];return d?.isHidden?y.push(M(k({},De),{data:{exerciseId:e}})):y.push(M(k({},qe),{data:{exerciseId:e}})),y.push(M(k({},He),{data:{exerciseId:e}})),y}handleActionMenuItemClick(e,t){let i=e.data?.exerciseId;if(i){switch(e.actionKey){case"view":this.goToExerciseDetails(i);break;case"edit":this.editExercise(i);break;case"delete":this.deleteExercise(i);break;case"hide":this.hideExercise(i);break;case"unhide":this.unhideExercise(i);break}this.activeExerciseIdActions.set(null)}}activeExerciseIdActions=f(null);toggleActions(e,t){t.stopPropagation(),this.activeExerciseIdActions.update(i=>i===e?null:e)}areActionsVisible(e){return this.activeExerciseIdActions()===e}onCloseActionMenu(){this.activeExerciseIdActions.set(null)}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=N({type:r,selectors:[["app-exercise-list"]],hostBindings:function(t,i){t&1&&h("scroll",function(){return i.onWindowScroll()},pe)},decls:58,vars:23,consts:[["loadingOrInitial",""],["noExercisesAfterFilter",""],[1,"container","mx-auto","p-2","sm:p-4"],[1,"flex","justify-between","items-center","pb-2"],[1,"text-2xl","font-bold","text-gray-800","dark:text-gray-200"],["type","button",1,"rounded-md","text-gray-600","dark:text-gray-300","hover:bg-gray-200","dark:hover:bg-gray-700","focus:outline-none","focus:ring-2","focus:ring-primary","dark:focus:ring-primary-light","transition-all","duration-300","ease-in-out",3,"click"],["stroke","currentColor","viewBox","0 0 24 24","stroke-width","0.02","fill","currentColor","xmlns","http://www.w3.org/2000/svg",1,"w-10","h-10","transition-transform","duration-300"],["stroke-linecap","round","stroke-linejoin","round","d","M9 5a1 1 0 1 0 0 2 1 1 0 0 0 0-2zM6.17 5a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 0 1 0-2h1.17zM15 11a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-1.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h7.17zM9 17a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h1.17z"],[1,"sr-only"],[1,"overflow-y-auto","transition-all","duration-500","ease-in-out","rounded-md"],[1,"p-4","bg-white","dark:bg-gray-700","rounded-md","shadow-md","border","dark:border-gray-600"],[1,"text-xl","font-semibold","text-gray-700","dark:text-gray-300","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-4","items-end"],["for","category-filter",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-1"],["id","category-filter",1,"block","w-full","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200",3,"change","value"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","muscle-group-filter",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-1"],["id","muscle-group-filter",1,"block","w-full","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200",3,"change","value"],["for","search-term",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-1"],["type","text","id","search-term","placeholder","Search by name or description...",1,"block","w-full","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200",3,"input","value"],[1,"md:col-span-1","border-t","md:border-t-0","pt-4","md:pt-0"],["for","show-hidden-exercises",1,"inline-flex","items-center","cursor-pointer","mt-2"],["type","checkbox","id","show-hidden-exercises",1,"sr-only","peer",3,"change","checked"],[1,"relative","w-11","h-6","bg-gray-200","peer-focus:outline-none","peer-focus:ring-4","peer-focus:ring-blue-300","dark:peer-focus:ring-blue-800","rounded-full","peer","dark:bg-gray-600","peer-checked:after:translate-x-full","rtl:peer-checked:after:-translate-x-full","peer-checked:after:border-white","after:content-['']","after:absolute","after:top-[2px]","after:start-[2px]","after:bg-white","after:border-gray-300","after:border","after:rounded-full","after:h-5","after:w-5","after:transition-all","dark:border-gray-600","peer-checked:bg-primary","dark:peer-checked:bg-primary-dark"],[1,"ms-3","text-sm","font-medium","text-gray-900","dark:text-gray-300"],[1,"mt-4","flex","justify-between","items-center"],["appPress","",1,"flex","px-4","py-2","bg-yellow-200","dark:bg-yellow-700","text-gray-700","dark:text-gray-200","rounded-md","hover:bg-yellow-300","dark:hover:bg-yellow-500","text-sm","items-center",3,"shortPress"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"size-5","mr-2"],["stroke-linecap","round","stroke-linejoin","round","d","m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"],["class","text-sm text-gray-600 dark:text-gray-400",4,"ngIf"],[4,"ngIf","ngIfElse"],[1,"fixed","bottom-20","right-6","z-40","flex","flex-col","items-center","gap-4"],["appPress","","type","button","class","bg-primary dark:bg-primary text-white rounded-full p-3 shadow-lg hover:bg-primary-dark dark:hover:bg-primary-light focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-focus dark:focus:ring-offset-gray-900 transition-opacity animate-fade-in",3,"shortPress",4,"ngIf"],[1,"flex","flex-col-reverse","items-center","gap-4",3,"mouseenter","mouseleave"],["appPress","","type","button",1,"flex","h-14","w-14","items-center","justify-center","rounded-full","bg-primary","text-white","shadow-xl","transition-all","duration-300","hover:bg-primary-dark","hover:scale-105","focus:outline-none","focus:ring-2","focus:ring-primary-focus","focus:ring-offset-2","dark:ring-offset-gray-900",3,"shortPress"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2.5",1,"h-8","w-8","transition-transform","duration-300"],["stroke-linecap","round","stroke-linejoin","round","d","M12 6v6m0 0v6m0-6h6m-6 0H6"],["class","flex flex-col items-center gap-4",4,"ngIf"],[3,"value"],[1,"text-sm","text-gray-600","dark:text-gray-400"],[1,"text-gray-800","dark:text-gray-200"],["class","grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mt-4",4,"ngIf","ngIfElse"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-4","mt-4"],["class","bg-white dark:bg-gray-700 rounded-md shadow-lg hover:shadow-xl transition-shadow duration-300 flex flex-col relative transform hover:-translate-y-1",3,"zIndex","click",4,"ngFor","ngForOf"],[1,"bg-white","dark:bg-gray-700","rounded-md","shadow-lg","hover:shadow-xl","transition-shadow","duration-300","flex","flex-col","relative","transform","hover:-translate-y-1",3,"click"],[1,"p-3","cursor-pointer"],[1,"flex","items-start","mb-1.5"],["class","w-7 h-7 sm:w-8 sm:h-8 object-contain mr-2 mt-0.5 sm:mt-1",3,"src","alt","ngClass",4,"ngIf"],[1,"text-lg","sm:text-xl","font-semibold","text-primary","dark:text-primary-light","flex-grow","pr-8",3,"title"],[1,"flex","flex-wrap","gap-2","mb-2"],["class","inline-flex items-center gap-x-1.5 rounded-full bg-yellow-100 px-2 py-1 text-xs font-medium text-yellow-700 dark:bg-yellow-800/50 dark:text-yellow-400",4,"ngIf"],["class","inline-flex items-center gap-x-1.5 rounded-full bg-blue-100 px-2 py-1 text-xs font-medium text-blue-700 dark:bg-blue-800/50 dark:text-blue-400",4,"ngIf"],[1,"text-xs","sm:text-sm","text-gray-500","dark:text-gray-400","mb-1","capitalize"],["class","text-xs sm:text-sm text-gray-500 dark:text-gray-400 mb-1 capitalize",4,"ngIf"],["class","flex items-center text-xs text-gray-500 dark:text-gray-300 mb-2 flex gap-1",4,"ngIf"],["class","text-gray-600 dark:text-gray-400 text-xs sm:text-sm mb-3 sm:mb-4 line-clamp-2 sm:line-clamp-3",3,"title",4,"ngIf"],["class","text-xs sm:text-sm text-gray-500 dark:text-gray-400 italic",4,"ngIf"],[1,"absolute","top-2","right-2"],[1,"relative"],[1,"text-gray-500","dark:text-gray-400","hover:bg-gray-200","dark:hover:bg-gray-500","rounded-full","focus:outline-none","flex","items-center",3,"click"],["name","menu-action",1,"h-10","w-10"],["class","action-menu-container",3,"modalTitle","displayMode","gridClass","items","isVisible","itemClick","closeMenu",4,"ngIf"],["displayMode","compact",3,"items","isVisible","itemClick","closeMenu",4,"ngIf"],[1,"w-7","h-7","sm:w-8","sm:h-8","object-contain","mr-2","mt-0.5","sm:mt-1",3,"src","alt","ngClass"],[1,"inline-flex","items-center","gap-x-1.5","rounded-full","bg-yellow-100","px-2","py-1","text-xs","font-medium","text-yellow-700","dark:bg-yellow-800/50","dark:text-yellow-400"],["name","eye-off"],[1,"inline-flex","items-center","gap-x-1.5","rounded-full","bg-blue-100","px-2","py-1","text-xs","font-medium","text-blue-700","dark:bg-blue-800/50","dark:text-blue-400"],["name","favourite"],[1,"font-medium"],[1,"flex","items-center","text-xs","text-gray-500","dark:text-gray-300","mb-2","flex","gap-1"],["name","muscle",1,"h-5","w-5"],[1,"text-center","text-xs","bg-purple-100","text-purple-700","dark:bg-purple-700","dark:text-purple-200","px-1.5","py-0.5","rounded-full","mx-1","inline-block"],[1,"text-gray-600","dark:text-gray-400","text-xs","sm:text-sm","mb-3","sm:mb-4","line-clamp-2","sm:line-clamp-3",3,"title"],[1,"text-xs","sm:text-sm","text-gray-500","dark:text-gray-400","italic"],[1,"action-menu-container",3,"itemClick","closeMenu","modalTitle","displayMode","gridClass","items","isVisible"],["displayMode","compact",3,"itemClick","closeMenu","items","isVisible"],[1,"text-center","py-10"],[1,"text-xl","text-gray-600","dark:text-gray-400"],[1,"text-sm","text-gray-500","dark:text-gray-400","mt-2"],["class","text-center py-10",4,"ngIf"],["class","text-center py-12 px-6 bg-white dark:bg-gray-700 rounded-md shadow-md",4,"ngIf"],["name","loading"],[1,"text-lg","text-gray-600","dark:text-gray-400","mt-3"],[1,"text-center","py-12","px-6","bg-white","dark:bg-gray-700","rounded-md","shadow-md"],["name","alert-filled"],[1,"text-xl","font-semibold","text-gray-700","dark:text-gray-300","mb-2"],[1,"text-gray-500","dark:text-gray-400","mb-6"],["routerLink","/library/new",1,"bg-primary","hover:bg-primary-dark","text-white","font-semibold","py-2.5","px-6","rounded-md","shadow-md","hover:shadow-lg","transition-all","duration-300","focus:outline-none","focus:ring-2","focus:ring-primary-light","focus:ring-opacity-75"],["appPress","","type","button",1,"bg-primary","dark:bg-primary","text-white","rounded-full","p-3","shadow-lg","hover:bg-primary-dark","dark:hover:bg-primary-light","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-primary-focus","dark:focus:ring-offset-gray-900","transition-opacity","animate-fade-in",3,"shortPress"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","2.5","stroke","currentColor",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","d","M4.5 15.75l7.5-7.5 7.5 7.5"],[1,"flex","flex-col","items-center","gap-4"],[1,"group","relative","flex","items-center"],[1,"absolute","right-full","md:hidden","whitespace-nowrap","rounded-md","bg-blue-500","px-3","py-2","text-sm","font-semibold","text-white","group-hover:block",2,"margin-right","-10px"],["appPress","","type","button",1,"flex","h-14","w-14","items-center","justify-center","rounded-full","bg-blue-500","text-white","shadow-lg","transition-transform","hover:scale-110","focus:outline-none","focus:ring-2","focus:ring-blue-400","focus:ring-offset-2","dark:ring-offset-gray-900",3,"shortPress"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"h-7","w-7"],["d","M10.75 4.75a.75.75 0 0 0-1.5 0v4.5h-4.5a.75.75 0 0 0 0 1.5h4.5v4.5a.75.75 0 0 0 1.5 0v-4.5h4.5a.75.75 0 0 0 0-1.5h-4.5v-4.5Z"]],template:function(t,i){if(t&1){let a=v();n(0,"div",2)(1,"header",3)(2,"h1",4),c(3,"Exercises"),o(),n(4,"button",5),h("click",function(){return u(a),g(i.toggleFilterAccordion())}),F(),n(5,"svg",6),x(6,"path",7),o(),A(),n(7,"span",8),c(8,"Toggle Filters"),o()()(),n(9,"div",9)(10,"div",10)(11,"h2",11),c(12,"Filter Exercises"),o(),n(13,"div",12)(14,"div")(15,"label",13),c(16,"Category"),o(),n(17,"select",14),h("change",function(y){return u(a),g(i.onCategoryChange(y))}),n(18,"option",15),c(19,"All Categories"),o(),p(20,Xe,3,4,"option",16),_(21,"async"),o()(),n(22,"div")(23,"label",17),c(24,"Primary Muscle"),o(),n(25,"select",18),h("change",function(y){return u(a),g(i.onMuscleGroupChange(y))}),n(26,"option",15),c(27,"All Muscle Groups"),o(),p(28,Ze,3,4,"option",16),_(29,"async"),o()(),n(30,"div")(31,"label",19),c(32,"Search"),o(),n(33,"input",20),h("input",function(y){return u(a),g(i.onSearchTermChange(y))}),o()(),n(34,"div",21)(35,"label",22)(36,"input",23),h("change",function(){return u(a),g(i.showHiddenExercises.set(!i.showHiddenExercises()))}),o(),x(37,"div",24),n(38,"span",25),c(39," Show Hidden Exercises "),o()()()(),n(40,"div",26)(41,"button",27),h("shortPress",function(){return u(a),g(i.clearFilters())}),F(),n(42,"svg",28),x(43,"path",29),o(),c(44," CLEAR FILTERS "),o(),p(45,Je,5,1,"div",30),o()()(),p(46,gt,4,2,"div",31)(47,ft,1,1,"ng-template",null,0,ne),o(),A(),n(49,"div",32),p(50,bt,5,0,"button",33),n(51,"div",34),h("mouseenter",function(){return u(a),g(i.handleFabMouseEnter())})("mouseleave",function(){return u(a),g(i.handleFabMouseLeave())}),n(52,"button",35),h("shortPress",function(){return u(a),g(i.handleFabClick())}),F(),n(53,"svg",36),x(54,"path",37),o(),A(),n(55,"span",8),c(56,"Open creation menu"),o()(),p(57,_t,9,1,"div",38),o()()}if(t&2){let a=te(48);s(5),G("rotate-180",i.isFilterAccordionOpen()),s(4),ie("max-height",i.isFilterAccordionOpen()?"600px":"0px"),G("mb-8",i.isFilterAccordionOpen()),s(8),l("value",i.selectedCategory()||""),s(3),l("ngForOf",w(21,19,i.categories$)),s(5),l("value",i.selectedMuscleGroup()||""),s(3),l("ngForOf",w(29,21,i.primaryMuscleGroups$)),s(5),l("value",i.searchTerm()),s(3),l("checked",i.showHiddenExercises()),s(9),l("ngIf",i.allExercises().length>0),s(),l("ngIf",i.allExercises().length>0)("ngIfElse",a),s(4),l("ngIf",i.showBackToTopButton()),s(3),G("rotate-45",i.isFabActionsOpen()),s(4),l("ngIf",i.isFabActionsOpen())}},dependencies:[W,O,R,$,j,Ae,Ve,K,ge,U,he],encapsulation:2,data:{animation:[Y("fabSlideUp",[I(":enter",[S({opacity:0,transform:"translateY(200%)"}),T("250ms ease-out",S({opacity:1,transform:"translateY(0)"}))]),I(":leave",[T("200ms ease-in",S({opacity:0,transform:"translateY(100%)"}))])]),Y("slideInOutActions",[L("void",S({height:"0px",opacity:0,overflow:"hidden",paddingTop:"0",paddingBottom:"0",marginTop:"0",marginBottom:"0"})),L("*",S({height:"*",opacity:1,paddingTop:"0.5rem",paddingBottom:"0.5rem"})),I("void <=> *",T("200ms ease-in-out"))]),Y("dropdownMenu",[L("void",S({opacity:0,transform:"scale(0.75) translateY(-10px)",transformOrigin:"top right"})),L("*",S({opacity:1,transform:"scale(1) translateY(0)",transformOrigin:"top right"})),I("void => *",[T("150ms cubic-bezier(0.25, 0.8, 0.25, 1)")]),I("* => void",[T("100ms cubic-bezier(0.25, 0.8, 0.25, 1)")])])]}})};var Re=[{id:"rectus-abdominis",name:"Rectus Abdominis (Abs)",bodyPart:"Core"},{id:"adductors",name:"Adductors",bodyPart:"Legs"},{id:"arms",name:"Arms",bodyPart:"Arms"},{id:"back",name:"Back",bodyPart:"Back"},{id:"biceps",name:"Biceps",bodyPart:"Arms"},{id:"brachialis",name:"Brachialis",bodyPart:"Arms"},{id:"brachioradialis",name:"Brachioradialis (Forearms)",bodyPart:"Arms"},{id:"calves",name:"Calves",bodyPart:"Legs"},{id:"gastrocnemius",name:"Gastrocnemius (Calves)",bodyPart:"Legs"},{id:"soleus",name:"Soleus (Calves)",bodyPart:"Legs"},{id:"cardiovascular-system",name:"Cardiovascular System",bodyPart:"Functional"},{id:"chest",name:"Chest",bodyPart:"Chest"},{id:"inner-chest",name:"Chest (Inner)",bodyPart:"Chest"},{id:"lower-chest",name:"Chest (Lower)",bodyPart:"Chest"},{id:"upper-chest",name:"Chest (Upper)",bodyPart:"Chest"},{id:"coordination",name:"Coordination",bodyPart:"Functional"},{id:"core",name:"Core",bodyPart:"Core"},{id:"obliques",name:"Obliques",bodyPart:"Core"},{id:"quadratus-lumborum",name:"Quadratus Lumborum (Core)",bodyPart:"Core"},{id:"core-stabilizers",name:"Core (stabilizer)",bodyPart:"Functional"},{id:"compound-core-grip",name:"Core & Grip",bodyPart:"Full Body"},{id:"compound-core-shoulders",name:"Core & Shoulders",bodyPart:"Full Body"},{id:"compound-core-upper-body",name:"Core & Upper Body",bodyPart:"Full Body"},{id:"deltoids",name:"Deltoids",bodyPart:"Shoulders"},{id:"forearms",name:"Forearms",bodyPart:"Arms"},{id:"forearm-flexors",name:"Forearms (Flexors)",bodyPart:"Arms"},{id:"grip-strength",name:"Grip Strength",bodyPart:"Functional"},{id:"full-body",name:"Full Body",bodyPart:"Full Body"},{id:"glutes",name:"Glutes",bodyPart:"Glutes"},{id:"gluteus-medius",name:"Glutes (Medius)",bodyPart:"Glutes"},{id:"gluteus-minimus",name:"Glutes (Minimus)",bodyPart:"Glutes"},{id:"hamstrings",name:"Hamstrings",bodyPart:"Legs"},{id:"hip-abductors",name:"Hip Abductors",bodyPart:"Hips"},{id:"hip-flexors",name:"Hip Flexors",bodyPart:"Hips"},{id:"hips",name:"Hips",bodyPart:"Hips"},{id:"hip-stabilizers",name:"Hips (stabilizers)",bodyPart:"Functional"},{id:"lats",name:"Lats",bodyPart:"Back"},{id:"legs",name:"Legs",bodyPart:"Legs"},{id:"lower-abs",name:"Lower Abs",bodyPart:"Core"},{id:"lower-back",name:"Lower Back",bodyPart:"Back"},{id:"erector-spinae",name:"Erector Spinae (Lower Back)",bodyPart:"Back"},{id:"middle-back",name:"Middle Back",bodyPart:"Back"},{id:"pectorals-stretch",name:"Pectorals (stretch)",bodyPart:"Functional"},{id:"posterior-chain",name:"Posterior Chain",bodyPart:"Full Body"},{id:"quadriceps",name:"Quadriceps",bodyPart:"Legs"},{id:"rhomboids",name:"Rhomboids",bodyPart:"Back"},{id:"rotator-cuff",name:"Rotator Cuff",bodyPart:"Shoulders"},{id:"serratus-anterior",name:"Serratus Anterior",bodyPart:"Chest"},{id:"shoulders",name:"Shoulders",bodyPart:"Shoulders"},{id:"all-deltoid-heads",name:"Shoulders (All Deltoid Heads)",bodyPart:"Shoulders"},{id:"anterior-deltoids",name:"Shoulders (Anterior)",bodyPart:"Shoulders"},{id:"anterior-lateral-deltoids",name:"Shoulders (Anterior & Lateral)",bodyPart:"Shoulders"},{id:"anterior-medial-deltoids",name:"Shoulders (Anterior & Medial)",bodyPart:"Shoulders"},{id:"deltoids-rotator-cuff",name:"Shoulders (Deltoids, Rotator Cuff)",bodyPart:"Shoulders"},{id:"lateral-deltoids",name:"Shoulders (Lateral)",bodyPart:"Shoulders"},{id:"medial-deltoids",name:"Shoulders (Medial)",bodyPart:"Shoulders"},{id:"posterior-deltoids",name:"Shoulders (Posterior)",bodyPart:"Shoulders"},{id:"shoulder-stabilizers",name:"Shoulders (stabilizers)",bodyPart:"Functional"},{id:"spine",name:"Spine",bodyPart:"Back"},{id:"thoracic-spine",name:"Spine (Thoracic)",bodyPart:"Back"},{id:"traps",name:"Traps",bodyPart:"Back"},{id:"middle-traps",name:"Traps (Middle)",bodyPart:"Back"},{id:"middle-lower-traps",name:"Traps (Middle & Lower)",bodyPart:"Back"},{id:"upper-traps",name:"Traps (Upper)",bodyPart:"Back"},{id:"triceps",name:"Triceps",bodyPart:"Arms"},{id:"long-head-triceps",name:"Triceps (Long Head)",bodyPart:"Arms"},{id:"upper-back",name:"Upper Back",bodyPart:"Back"},{id:"upper-body",name:"Upper Body",bodyPart:"Full Body"},{id:"wrists",name:"Wrists",bodyPart:"Arms"}];var $e=[{id:"abdominal-crunch-machine",name:"Abdominal Crunch Machine",category:"Machines"},{id:"ab-roller-coaster",name:"Ab Roller Coaster",category:"Machines"},{id:"ab-wheel",name:"Ab Wheel",category:"Functional & Bodyweight"},{id:"adjustable-bench",name:"Adjustable Bench",category:"Accessories"},{id:"aerobic-stepper",name:"Aerobic Stepper",category:"Cardio"},{id:"air-bike",name:"Air Bike (Assault/Echo)",category:"Cardio"},{id:"anchor-point",name:"Anchor Point",category:"Accessories"},{id:"ankle-weights",name:"Ankle Weights",category:"Accessories"},{id:"arm-blaster",name:"Arm Blaster",category:"Accessories"},{id:"atlas-stone",name:"Atlas Stone",category:"Functional & Bodyweight"},{id:"axel-bar",name:"Axel Bar (Thick Bar)",category:"Free Weights"},{id:"back-extension-machine",name:"Back Extension Machine",category:"Machines"},{id:"barbell",name:"Barbell",category:"Free Weights"},{id:"battle-ropes",name:"Battle Ropes",category:"Functional & Bodyweight"},{id:"bench",name:"Bench",category:"Accessories"},{id:"bicycle",name:"Bicycle (Outdoor)",category:"Cardio"},{id:"bosu-ball",name:"Bosu Ball",category:"Functional & Bodyweight"},{id:"bumper-plates",name:"Bumper Plates",category:"Free Weights"},{id:"cable-machine",name:"Cable Machine",category:"Machines"},{id:"calf-raise-machine",name:"Calf Raise Machine",category:"Machines"},{id:"cambered-bar",name:"Cambered Bar",category:"Free Weights"},{id:"captains-of-crush-grippers",name:"Captains of Crush Grippers",category:"Accessories"},{id:"chains",name:"Chains",category:"Free Weights"},{id:"chalk",name:"Chalk",category:"Accessories"},{id:"chest-press-machine",name:"Chest Press Machine",category:"Machines"},{id:"circus-dumbbell",name:"Circus Dumbbell",category:"Free Weights"},{id:"climbing-rope",name:"Climbing Rope",category:"Functional & Bodyweight"},{id:"d-handle",name:"D-Handle / Stirrup Handle",category:"Accessories"},{id:"decline-bench",name:"Decline Bench",category:"Accessories"},{id:"dip-belt",name:"Dip Belt",category:"Accessories"},{id:"dip-station",name:"Dip Station / Parallel Bars",category:"Functional & Bodyweight"},{id:"doorway",name:"Doorway",category:"Accessories"},{id:"dumbbell",name:"Dumbbell",category:"Free Weights"},{id:"elliptical-trainer",name:"Elliptical Trainer",category:"Cardio"},{id:"ez-curl-bar",name:"EZ-Curl Bar",category:"Free Weights"},{id:"farmers-walk-handles",name:"Farmer's Walk Handles",category:"Functional & Bodyweight"},{id:"fat-gripz",name:"Fat Gripz",category:"Accessories"},{id:"flat-bench",name:"Flat Bench",category:"Accessories"},{id:"foam-roller",name:"Foam Roller",category:"Accessories"},{id:"ghd",name:"GHD (Glute-Ham Developer)",category:"Machines"},{id:"gymnastic-rings",name:"Gymnastic Rings",category:"Functional & Bodyweight"},{id:"hack-squat-machine",name:"Hack Squat Machine",category:"Machines"},{id:"harness-straps",name:"Harness / Straps",category:"Accessories"},{id:"head-harness",name:"Head Harness (Neck Training)",category:"Accessories"},{id:"hex-bar",name:"Hex Bar (Trap Bar)",category:"Free Weights"},{id:"hip-abduction-machine",name:"Hip Abduction Machine",category:"Machines"},{id:"hip-adduction-machine",name:"Hip Adduction Machine",category:"Machines"},{id:"hyperextension-bench",name:"Hyperextension Bench",category:"Machines"},{id:"incline-bench",name:"Incline Bench",category:"Accessories"},{id:"inversion-table",name:"Inversion Table",category:"Accessories"},{id:"jump-rope",name:"Jump Rope",category:"Cardio"},{id:"keg",name:"Keg",category:"Functional & Bodyweight"},{id:"kettlebell",name:"Kettlebell",category:"Free Weights"},{id:"lacrosse-massage-ball",name:"Lacrosse Ball / Massage Ball",category:"Accessories"},{id:"landmine-attachment",name:"Landmine Attachment",category:"Accessories"},{id:"large-tire",name:"Large Tire",category:"Functional & Bodyweight"},{id:"lat-pulldown-machine",name:"Lat Pulldown Machine",category:"Machines"},{id:"leg-curl-machine",name:"Leg Curl Machine",category:"Machines"},{id:"leg-extension-machine",name:"Leg Extension Machine",category:"Machines"},{id:"leg-press-machine",name:"Leg Press Machine",category:"Machines"},{id:"lifting-belt",name:"Lifting Belt",category:"Accessories"},{id:"log-bar",name:"Log Bar",category:"Free Weights"},{id:"medicine-ball",name:"Medicine Ball",category:"Functional & Bodyweight"},{id:"mini-bands",name:"Mini Bands (Hip Circles)",category:"Accessories"},{id:"parallettes",name:"Parallettes",category:"Functional & Bodyweight"},{id:"pegboard",name:"Pegboard",category:"Functional & Bodyweight"},{id:"pec-deck-machine",name:"Pec Deck Machine",category:"Machines"},{id:"pilates-reformer",name:"Pilates Reformer",category:"Machines"},{id:"plyo-box",name:"Plyo Box / Platform",category:"Functional & Bodyweight"},{id:"power-rack-squat-rack",name:"Power Rack / Squat Rack",category:"Functional & Bodyweight"},{id:"preacher-curl-bench",name:"Preacher Curl Bench",category:"Machines"},{id:"prowler-sled",name:"Prowler Sled",category:"Functional & Bodyweight"},{id:"pull-up-bar",name:"Pull-up Bar",category:"Functional & Bodyweight"},{id:"resistance-bands-loop",name:"Resistance Bands (Loop)",category:"Accessories"},{id:"resistance-bands-handles",name:"Resistance Bands (with Handles)",category:"Accessories"},{id:"reverse-hyperextension-machine",name:"Reverse Hyperextension Machine",category:"Machines"},{id:"rope-attachment-cables",name:"Rope Attachment (for cables)",category:"Accessories"},{id:"rower-erg",name:"Rower (Erg)",category:"Cardio"},{id:"safety-squat-bar",name:"Safety Squat Bar",category:"Free Weights"},{id:"sandbag",name:"Sandbag",category:"Functional & Bodyweight"},{id:"seated-calf-raise-machine",name:"Seated Calf Raise Machine",category:"Machines"},{id:"seated-row-machine",name:"Seated Row Machine",category:"Machines"},{id:"shoulder-press-machine",name:"Shoulder Press Machine",category:"Machines"},{id:"skierg",name:"SkiErg",category:"Cardio"},{id:"slam-ball",name:"Slam Ball",category:"Functional & Bodyweight"},{id:"sledgehammer",name:"Sledgehammer",category:"Functional & Bodyweight"},{id:"smith-machine",name:"Smith Machine",category:"Machines"},{id:"stability-ball",name:"Stability Ball (Swiss Ball)",category:"Functional & Bodyweight"},{id:"stair-climber",name:"Stair Climber / StairMaster",category:"Cardio"},{id:"stationary-bike",name:"Stationary Bike",category:"Cardio"},{id:"steel-clubs",name:"Steel Clubs",category:"Free Weights"},{id:"steel-mace",name:"Steel Mace",category:"Free Weights"},{id:"stretching-strap",name:"Stretching Strap",category:"Accessories"},{id:"suspension-trainer",name:"Suspension Trainer (TRX)",category:"Functional & Bodyweight"},{id:"swiss-bar",name:"Swiss Bar (Multi-Grip Bar)",category:"Free Weights"},{id:"t-bar-row-machine",name:"T-Bar Row Machine",category:"Machines"},{id:"thera-band",name:"TheraBand",category:"Accessories"},{id:"towel",name:"Towel",category:"Accessories"},{id:"treadmill",name:"Treadmill",category:"Cardio"},{id:"v-bar-handle",name:"V-Bar Handle (for cables)",category:"Accessories"},{id:"vibration-plate",name:"Vibration Plate",category:"Machines"},{id:"wall-ball",name:"Wall Ball",category:"Functional & Bodyweight"},{id:"weight-plates",name:"Weight Plates",category:"Free Weights"},{id:"weight-releasers",name:"Weight Releasers",category:"Accessories"},{id:"weight-vest",name:"Weight Vest",category:"Accessories"},{id:"wrist-roller",name:"Wrist Roller",category:"Accessories"},{id:"wrist-wraps",name:"Wrist Wraps",category:"Accessories"},{id:"yoga-block",name:"Yoga Block",category:"Accessories"},{id:"yoga-mat",name:"Yoga Mat",category:"Accessories"},{id:"yoke",name:"Yoke",category:"Functional & Bodyweight"}];var Ue=r=>({"bg-gray-100 dark:bg-gray-700":r});function vt(r,e){if(r&1&&(n(0,"option",33),c(1),_(2,"titlecase"),o()),r&2){let t=e.$implicit;l("value",t),s(),E(w(2,2,t))}}function Et(r,e){if(r&1&&(n(0,"option",33),c(1),o()),r&2){let t=e.$implicit;l("value",t),s(),E(t)}}function wt(r,e){if(r&1){let t=v();n(0,"span",36),c(1),n(2,"button",37),h("click",function(){let a=u(t).index,d=m(2);return g(d.removeMuscle(a))}),x(3,"app-icon",38),o()()}if(r&2){let t=e.$implicit;s(),C(" ",t.value," ")}}function Ct(r,e){if(r&1&&(n(0,"div",34),p(1,wt,4,1,"span",35),o()),r&2){let t=m();s(),l("ngForOf",t.getFormArray("muscleGroups").controls)}}function kt(r,e){if(r&1){let t=v();n(0,"li",41),h("click",function(){let a=u(t).$implicit,d=m(2);return g(d.selectMuscle(a))})("mouseenter",function(){let a=u(t).index,d=m(2);return g(d.highlightedMuscleIndex.set(a))}),n(1,"span",42),c(2),o()()}if(r&2){let t=e.$implicit,i=e.index,a=m(2);l("ngClass",P(2,Ue,i===a.highlightedMuscleIndex())),s(2),E(t.name)}}function St(r,e){if(r&1){let t=v();n(0,"ul",39),h("mouseleave",function(){u(t);let a=m();return g(a.highlightedMuscleIndex.set(-1))}),p(1,kt,3,4,"li",40),o()}if(r&2){let t=m();s(),l("ngForOf",t.filteredMuscles())}}function Mt(r,e){if(r&1){let t=v();n(0,"span",44),c(1),n(2,"button",45),h("click",function(){let a=u(t).index,d=m(2);return g(d.removeEquipment(a))}),x(3,"app-icon",46),o()()}if(r&2){let t=e.$implicit;s(),C(" ",t.value," ")}}function Ft(r,e){if(r&1&&(n(0,"div",34),p(1,Mt,4,1,"span",43),o()),r&2){let t=m();s(),l("ngForOf",t.getFormArray("equipmentNeeded").controls)}}function At(r,e){if(r&1){let t=v();n(0,"li",41),h("click",function(){let a=u(t).$implicit,d=m(2);return g(d.selectEquipment(a.name))})("mouseenter",function(){let a=u(t).index,d=m(2);return g(d.highlightedEquipmentIndex.set(a))}),n(1,"span",42),c(2),o()()}if(r&2){let t=e.$implicit,i=e.index,a=m(2);l("ngClass",P(2,Ue,i===a.highlightedEquipmentIndex())),s(2),E(t.name)}}function Tt(r,e){if(r&1){let t=v();n(0,"ul",39),h("mouseleave",function(){u(t);let a=m();return g(a.highlightedEquipmentIndex.set(-1))}),p(1,At,3,4,"li",40),o()}if(r&2){let t=m();s(),l("ngForOf",t.filteredEquipment())}}function It(r,e){r&1&&x(0,"app-icon",47)}function Bt(r,e){r&1&&x(0,"app-icon",48)}var q=class r{fb=b(Me);router=b(z);route=b(xe);exerciseService=b(X);alertService=b(Q);exerciseForm;isEditMode=f(!1);editingExerciseId=null;pageTitle=f("Add New Exercise");muscleSearchCtrl=new ae("");allMuscles=Re;filteredMuscles=f([]);highlightedMuscleIndex=f(-1);equipmentSearchCtrl=new ae("");allEquipment=$e;filteredEquipment=f([]);highlightedEquipmentIndex=f(-1);categories=["barbells","dumbbells","bodyweight/calisthenics","machines","cables","kettlebells","bands","other","stretching","cardio"];availableMuscleGroups=H(()=>this.allMuscles.map(e=>e.name).filter(e=>!e.includes("(")&&!e.includes("&")).sort((e,t)=>e.localeCompare(t)));constructor(){this.exerciseForm=this.fb.group({name:["",V.required],description:[""],category:["bodyweight/calisthenics",V.required],primaryMuscleGroup:["",V.required],muscleGroups:this.fb.array([]),equipmentNeeded:this.fb.array([]),imageUrls:this.fb.array([]),videoUrl:[""],notes:[""]})}ngOnInit(){this.route.paramMap.pipe(ce(e=>(this.editingExerciseId=e.get("id"),this.editingExerciseId?(this.isEditMode.set(!0),this.pageTitle.set("Edit Exercise"),this.exerciseService.getExerciseById(this.editingExerciseId)):se(null))),le(1)).subscribe(e=>{e&&this.isEditMode()&&this.patchFormForEditing(e)}),this.muscleSearchCtrl.valueChanges.pipe(ee(200),J(e=>this._filterMuscles(e||""))).subscribe(e=>{this.filteredMuscles.set(e),this.highlightedMuscleIndex.set(-1)}),this.equipmentSearchCtrl.valueChanges.pipe(ee(200),J(e=>this._filterEquipment(e||""))).subscribe(e=>{this.filteredEquipment.set(e),this.highlightedEquipmentIndex.set(-1)})}onMuscleInputClick(){if(!this.muscleSearchCtrl.value){let e=this.getFormArray("muscleGroups").value;this.filteredMuscles.set(this.allMuscles.filter(t=>!e.includes(t.name)))}}hideMuscleSuggestions(){setTimeout(()=>this.filteredMuscles.set([]),150)}onMuscleSearchKeydown(e){let t=e.key,i=this.filteredMuscles();if(i.length!==0){if(t==="ArrowDown")e.preventDefault(),this.highlightedMuscleIndex.update(a=>(a+1)%i.length);else if(t==="ArrowUp")e.preventDefault(),this.highlightedMuscleIndex.update(a=>(a-1+i.length)%i.length);else if(t==="Enter"){e.preventDefault();let a=this.highlightedMuscleIndex();a>-1&&this.selectMuscle(i[a])}}}_filterMuscles(e){if(!e)return[];let t=e.toLowerCase(),i=this.getFormArray("muscleGroups").value;return this.allMuscles.filter(a=>a.name.toLowerCase().includes(t)&&!i.includes(a.name))}selectMuscle(e){this.getFormArray("muscleGroups").push(this.fb.control(e.name)),this.muscleSearchCtrl.setValue(""),this.filteredMuscles.set([])}removeMuscle(e){this.getFormArray("muscleGroups").removeAt(e)}onEquipmentInputClick(){if(!this.equipmentSearchCtrl.value){let e=this.getFormArray("equipmentNeeded").value;this.filteredEquipment.set(this.allEquipment.filter(t=>!e.includes(t.name)))}}hideEquipmentSuggestions(){setTimeout(()=>this.filteredEquipment.set([]),150)}onEquipmentSearchKeydown(e){let t=e.key,i=this.filteredEquipment(),a=this.equipmentSearchCtrl.value?.trim();if(t==="Enter"){e.preventDefault();let d=this.highlightedEquipmentIndex();d>-1?this.selectEquipment(i[d].name):a&&this.selectEquipment(a)}else i.length>0&&(t==="ArrowDown"?(e.preventDefault(),this.highlightedEquipmentIndex.update(d=>(d+1)%i.length)):t==="ArrowUp"&&(e.preventDefault(),this.highlightedEquipmentIndex.update(d=>(d-1+i.length)%i.length)))}_filterEquipment(e){if(!e)return[];let t=e.toLowerCase(),i=this.getFormArray("equipmentNeeded").value;return this.allEquipment.filter(a=>a.name.toLowerCase().includes(t)&&!i.includes(a.name))}selectEquipment(e){this.getFormArray("equipmentNeeded").value.includes(e)||this.getFormArray("equipmentNeeded").push(this.fb.control(e)),this.equipmentSearchCtrl.setValue(""),this.filteredEquipment.set([])}removeEquipment(e){this.getFormArray("equipmentNeeded").removeAt(e)}patchFormForEditing(e){this.exerciseForm.patchValue({name:e.name,description:e.description,category:e.category,primaryMuscleGroup:e.primaryMuscleGroup,videoUrl:e.videoUrl||"",notes:e.notes||""}),this.setFormArrayControls("muscleGroups",e.muscleGroups),this.setFormArrayControls("equipmentNeeded",e.equipmentNeeded||[]),this.setFormArrayControls("imageUrls",e.imageUrls||[])}getFormArray(e){return this.exerciseForm.get(e)}setFormArrayControls(e,t){let i=this.getFormArray(e);i.clear(),t.forEach(a=>i.push(this.fb.control(a,V.required)))}onSubmit(){return D(this,null,function*(){if(this.exerciseForm.invalid){this.exerciseForm.markAllAsTouched(),this.alertService.showAlert("Error","Please fill in all required fields.");return}let e=this.exerciseForm.value,t=k({},e);try{if(this.isEditMode()&&this.editingExerciseId)yield this.exerciseService.updateExercise(k({id:this.editingExerciseId},t)).toPromise(),this.alertService.showAlert("Success","Exercise updated successfully!"),this.router.navigate(["/library",this.editingExerciseId]);else{let i=yield this.exerciseService.addExercise(t).toPromise();i&&(this.alertService.showAlert("Success","Exercise added successfully!"),this.router.navigate(["/library",i.id]))}}catch(i){console.error("Error saving exercise:",i),this.alertService.showAlert("Error",`Failed to save exercise: ${i.message}`)}})}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=N({type:r,selectors:[["app-exercise-form"]],decls:56,vars:15,consts:[[1,"container","mx-auto"],[1,"flex","items-center","justify-start","p-2"],[1,"flex","justify-between","items-center"],[1,"text-gray-600","dark:text-gray-300","hover:text-primary","dark:hover:text-primary-light","p-2","-ml-1",3,"routerLink"],["name","back",1,"h-6","w-6"],[1,"w-10","h-10"],[1,"text-2xl","font-bold","text-gray-800","dark:text-gray-200"],[1,"space-y-6","bg-white","dark:bg-gray-700","p-6","rounded-md","shadow-md",3,"ngSubmit","formGroup"],["for","name",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["type","text","id","name","formControlName","name",1,"mt-1","block","w-full","p-2","border","rounded-md","dark:bg-gray-800","dark:border-gray-600","dark:text-gray-200"],["for","description",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["id","description","formControlName","description","rows","3",1,"mt-1","block","w-full","p-2","border","rounded-md","dark:bg-gray-800","dark:border-gray-600","dark:text-gray-200"],["for","category",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["id","category","formControlName","category",1,"mt-1","block","w-full","p-2","border","rounded-md","dark:bg-gray-800","dark:border-gray-600","dark:text-gray-200"],[3,"value",4,"ngFor","ngForOf"],["for","primaryMuscleGroup",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["id","primaryMuscleGroup","formControlName","primaryMuscleGroup",1,"mt-1","block","w-full","p-2","border","rounded-md","dark:bg-gray-800","dark:border-gray-600","dark:text-gray-200"],["value",""],[1,"relative"],[1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["class","mt-2 flex flex-wrap gap-2 p-2 border rounded-md min-h-[42px] dark:border-gray-600",4,"ngIf"],["type","text","placeholder","Search to add muscles...",1,"mt-1","block","w-full","p-2","border","rounded-md","dark:bg-gray-800","dark:border-gray-600","dark:text-gray-200",3,"keydown","click","blur","formControl"],["class","absolute z-10 w-full mt-1 bg-white dark:bg-gray-800 shadow-lg max-h-60 rounded-md py-1 text-base ring-1 ring-black ring-opacity-5 overflow-auto focus:outline-none sm:text-sm",3,"mouseleave",4,"ngIf"],["type","text","placeholder","Search or add equipment...",1,"mt-1","block","w-full","p-2","border","rounded-md","dark:bg-gray-800","dark:border-gray-600","dark:text-gray-200",3,"keydown","click","blur","formControl"],["for","videoUrl",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["type","url","id","videoUrl","formControlName","videoUrl",1,"mt-1","block","w-full","p-2","border","rounded-md","dark:bg-gray-800","dark:border-gray-600","dark:text-gray-200"],["for","notes",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["id","notes","formControlName","notes","rows","3",1,"mt-1","block","w-full","p-2","border","rounded-md","dark:bg-gray-800","dark:border-gray-600","dark:text-gray-200"],[1,"pt-6","flex","justify-end","space-x-3"],["routerLink","/library",1,"px-4","py-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","text-m","font-medium","text-gray-700","dark:text-gray-200","hover:bg-gray-50","dark:hover:bg-gray-500"],["type","submit",1,"flex","items-center","justify-center","px-4","py-2","border","border-transparent","rounded-md","shadow-sm","text-sm","font-medium","text-white","bg-primary","hover:bg-primary-dark","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-primary-dark","disabled:opacity-50",3,"disabled"],["name","save","class","h-7 w-7 mr-1",4,"ngIf"],["name","plus-circle","class","h-7 w-7 mr-1",4,"ngIf"],[3,"value"],[1,"mt-2","flex","flex-wrap","gap-2","p-2","border","rounded-md","min-h-[42px]","dark:border-gray-600"],["class","inline-flex items-center px-2.5 py-0.5 rounded-full text-sm font-medium bg-primary-light text-white dark:bg-primary-dark",4,"ngFor","ngForOf"],[1,"inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-sm","font-medium","bg-primary-light","text-white","dark:bg-primary-dark"],["type","button",1,"flex-shrink-0","ml-1.5","p-0.5","text-primary-light","rounded-full","inline-flex","items-center","justify-center","hover:bg-white/20","focus:outline-none",3,"click"],["name","cancel",1,"h-4","w-4"],[1,"absolute","z-10","w-full","mt-1","bg-white","dark:bg-gray-800","shadow-lg","max-h-60","rounded-md","py-1","text-base","ring-1","ring-black","ring-opacity-5","overflow-auto","focus:outline-none","sm:text-sm",3,"mouseleave"],["class","text-gray-900 dark:text-gray-200 cursor-pointer select-none relative py-2 pl-3 pr-9",3,"ngClass","click","mouseenter",4,"ngFor","ngForOf"],[1,"text-gray-900","dark:text-gray-200","cursor-pointer","select-none","relative","py-2","pl-3","pr-9",3,"click","mouseenter","ngClass"],[1,"font-normal","block","truncate"],["class","inline-flex items-center px-2.5 py-0.5 rounded-full text-sm font-medium bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",4,"ngFor","ngForOf"],[1,"inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-sm","font-medium","bg-blue-100","text-blue-800","dark:bg-blue-900","dark:text-blue-200"],["type","button",1,"flex-shrink-0","ml-1.5","p-0.5","text-blue-700","dark:text-blue-200","rounded-full","inline-flex","items-center","justify-center","hover:bg-white/20","focus:outline-none",3,"click"],["name","cancel"],["name","save",1,"h-7","w-7","mr-1"],["name","plus-circle",1,"h-7","w-7","mr-1"]],template:function(t,i){t&1&&(n(0,"div",0)(1,"header",1)(2,"div",2)(3,"button",3),x(4,"app-icon",4),o(),x(5,"div",5),o(),n(6,"h1",6),c(7),o()(),n(8,"form",7),h("ngSubmit",function(){return i.onSubmit()}),n(9,"div")(10,"label",8),c(11,"Name"),o(),x(12,"input",9),o(),n(13,"div")(14,"label",10),c(15,"Description"),o(),x(16,"textarea",11),o(),n(17,"div")(18,"label",12),c(19,"Category"),o(),n(20,"select",13),p(21,vt,3,4,"option",14),o()(),n(22,"div")(23,"label",15),c(24,"Primary Muscle Group"),o(),n(25,"select",16)(26,"option",17),c(27,"Select Primary Muscle"),o(),p(28,Et,2,2,"option",14),o()(),n(29,"div",18)(30,"label",19),c(31,"Other Muscle Groups"),o(),p(32,Ct,2,1,"div",20),n(33,"input",21),h("keydown",function(d){return i.onMuscleSearchKeydown(d)})("click",function(){return i.onMuscleInputClick()})("blur",function(){return i.hideMuscleSuggestions()}),o(),p(34,St,2,1,"ul",22),o(),n(35,"div",18)(36,"label",19),c(37,"Equipment Needed"),o(),p(38,Ft,2,1,"div",20),n(39,"input",23),h("keydown",function(d){return i.onEquipmentSearchKeydown(d)})("click",function(){return i.onEquipmentInputClick()})("blur",function(){return i.hideEquipmentSuggestions()}),o(),p(40,Tt,2,1,"ul",22),o(),n(41,"div")(42,"label",24),c(43,"Video URL (Optional)"),o(),x(44,"input",25),o(),n(45,"div")(46,"label",26),c(47,"Notes & Tips (Optional)"),o(),x(48,"textarea",27),o(),n(49,"div",28)(50,"a",29),c(51,"CANCEL"),o(),n(52,"button",30),p(53,It,1,0,"app-icon",31)(54,Bt,1,0,"app-icon",32),c(55),o()()()()),t&2&&(s(3),l("routerLink","/library"),s(4),E(i.pageTitle()),s(),l("formGroup",i.exerciseForm),s(13),l("ngForOf",i.categories),s(7),l("ngForOf",i.availableMuscleGroups()),s(4),l("ngIf",i.getFormArray("muscleGroups").controls.length>0),s(),l("formControl",i.muscleSearchCtrl),s(),l("ngIf",i.filteredMuscles().length>0),s(4),l("ngIf",i.getFormArray("equipmentNeeded").controls.length>0),s(),l("formControl",i.equipmentSearchCtrl),s(),l("ngIf",i.filteredEquipment().length>0),s(12),l("disabled",i.exerciseForm.invalid),s(),l("ngIf",i.isEditMode()),s(),l("ngIf",!i.isEditMode()),s(),C(" ",i.isEditMode()?"UPDATE EXERCISE":"ADD EXERCISE"," "))},dependencies:[W,O,R,$,Fe,_e,ke,Se,ye,Ce,fe,be,ve,Ee,we,j,K,U],encapsulation:2})};var Fi=[{path:"",component:Z,title:"Exercise Library"},{path:"new",component:q,title:"Add New Exercise"},{path:"edit/:id",component:q,title:"Edit Exercise"},{path:":id",component:Oe,title:"Exercise Details"}];export{Fi as EXERCISE_LIBRARY_ROUTES};
