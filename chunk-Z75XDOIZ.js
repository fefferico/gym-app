import{Cd as h,Ed as f,Hd as S,Id as A,P as m,T as o,Yc as p,e as y,j as v,o as l}from"./chunk-QWSJMNH2.js";import{a as n,b as c,g as d}from"./chunk-GAL4ENT6.js";var g=[{id:"football",name:"Football",description:"A team sport involving kicking a ball to score a goal.",category:"Team Sports",categoryKey:"teamSports",iconName:"football",intensity:"High",defaultTrackingMetrics:{duration:!0,distance:!0,calories:!0,notes:!0}},{id:"basketball",name:"Basketball",description:"A team sport where players shoot a ball through a hoop.",category:"Team Sports",categoryKey:"teamSports",iconName:"basketball",intensity:"High",defaultTrackingMetrics:{duration:!0,distance:!1,calories:!0,notes:!0}},{id:"volleyball",name:"Volleyball",description:"A team sport where two teams hit a ball over a net.",category:"Team Sports",categoryKey:"teamSports",iconName:"volleyball",intensity:"Medium",defaultTrackingMetrics:{duration:!0,distance:!1,calories:!0,notes:!0}},{id:"baseball",name:"Baseball",description:"A bat-and-ball game played between two opposing teams.",category:"Team Sports",categoryKey:"teamSports",iconName:"baseball",intensity:"Medium",defaultTrackingMetrics:{duration:!0,distance:!1,calories:!0,notes:!0}},{id:"running",name:"Running",description:"Running or jogging at a steady pace outdoors or on a treadmill.",category:"Individual Sports",categoryKey:"individualSports",iconName:"run",intensity:"High",defaultTrackingMetrics:{duration:!0,distance:!0,calories:!0,notes:!0}},{id:"swimming",name:"Swimming",description:"Propelling oneself through water using limbs, typically in a pool or open water.",category:"Individual Sports",categoryKey:"individualSports",iconName:"pool",intensity:"High",defaultTrackingMetrics:{duration:!0,distance:!0,calories:!0,notes:!0}},{id:"cycling",name:"Cycling",description:"Riding a bicycle for transport, recreation, or sport.",category:"Individual Sports",categoryKey:"individualSports",iconName:"bike",intensity:"Medium",defaultTrackingMetrics:{duration:!0,distance:!0,calories:!0,notes:!0}},{id:"tennis",name:"Tennis",description:"A racket sport that can be played individually or between two teams of two.",category:"Individual Sports",categoryKey:"individualSports",iconName:"tennisball",intensity:"High",defaultTrackingMetrics:{duration:!0,distance:!1,calories:!0,notes:!0}},{id:"golf",name:"Golf",description:"A club-and-ball sport in which players use various clubs to hit balls into a series of holes.",category:"Individual Sports",categoryKey:"individualSports",iconName:"golf",intensity:"Low",defaultTrackingMetrics:{duration:!0,distance:!1,calories:!0,notes:!0}},{id:"hiking",name:"Hiking",description:"A long, vigorous walk, usually on trails or footpaths in the countryside.",category:"Outdoor & Adventure",categoryKey:"outdoorAdventure",iconName:"hiking",intensity:"Medium",defaultTrackingMetrics:{duration:!0,distance:!0,calories:!0,notes:!0}},{id:"rockClimbing",name:"Rock Climbing",description:"The sport of climbing rock faces, especially with the aid of ropes and special equipment.",category:"Outdoor & Adventure",categoryKey:"outdoorAdventure",iconName:"rock-climbing",intensity:"High",defaultTrackingMetrics:{duration:!0,distance:!1,calories:!0,notes:!0}},{id:"skiing",name:"Skiing",description:"The action of traveling over snow on skis, especially as a sport or recreation.",category:"Outdoor & Adventure",categoryKey:"outdoorAdventure",iconName:"skiing",intensity:"High",defaultTrackingMetrics:{duration:!0,distance:!0,calories:!0,notes:!0}},{id:"kayaking",name:"Kayaking",description:"The use of a kayak for moving across water.",category:"Outdoor & Adventure",categoryKey:"outdoorAdventure",iconName:"kayaking",intensity:"Medium",defaultTrackingMetrics:{duration:!0,distance:!0,calories:!0,notes:!0}},{id:"yoga",name:"Yoga",description:"A group of physical, mental, and spiritual practices which originated in ancient India.",category:"Fitness & Classes",categoryKey:"fitnessClasses",iconName:"yoga",intensity:"Low",defaultTrackingMetrics:{duration:!0,distance:!1,calories:!0,notes:!0}},{id:"pilates",name:"Pilates",description:"A physical fitness system developed in the early 20th century by Joseph Pilates.",category:"Fitness & Classes",categoryKey:"fitnessClasses",iconName:"pilates",intensity:"Low",defaultTrackingMetrics:{duration:!0,distance:!1,calories:!0,notes:!0}},{id:"hiitClass",name:"HIIT Class",description:"High-Intensity Interval Training class, involving short bursts of intense exercise.",category:"Fitness & Classes",categoryKey:"fitnessClasses",iconName:"flame",intensity:"High",defaultTrackingMetrics:{duration:!0,distance:!1,calories:!0,notes:!0}},{id:"spinning",name:"Spinning Class",description:"An indoor cycling class focusing on endurance, strength, and high-intensity.",category:"Fitness & Classes",categoryKey:"fitnessClasses",iconName:"spin-bike",intensity:"High",defaultTrackingMetrics:{duration:!0,distance:!0,calories:!0,notes:!0}},{id:"meditation",name:"Meditation",description:"A practice where an individual uses a technique to train attention and awareness.",category:"Mind & Body",categoryKey:"mindBody",iconName:"meditation",intensity:"Low",defaultTrackingMetrics:{duration:!0,distance:!1,calories:!1,notes:!0}},{id:"stretching",name:"Stretching",description:"A form of physical exercise in which a specific muscle or tendon is deliberately flexed or stretched.",category:"Mind & Body",categoryKey:"mindBody",iconName:"stretch",intensity:"Low",defaultTrackingMetrics:{duration:!0,distance:!1,calories:!0,notes:!0}},{id:"walking",name:"Walking",description:"Walking at a casual to brisk pace for leisure or transport.",category:"Recreational & Leisure",categoryKey:"recreationalLeisure",iconName:"walk",intensity:"Low",defaultTrackingMetrics:{duration:!0,distance:!0,calories:!0,notes:!0}},{id:"dancing",name:"Dancing (Social)",description:"Moving rhythmically to music, as a form of social interaction or performance.",category:"Recreational & Leisure",categoryKey:"recreationalLeisure",iconName:"dance",intensity:"Medium",defaultTrackingMetrics:{duration:!0,distance:!1,calories:!0,notes:!0}},{id:"gardening",name:"Gardening",description:"The practice of growing and cultivating plants as part of horticulture.",category:"Home & Lifestyle",categoryKey:"homeLifestyle",iconName:"leaf",intensity:"Low",defaultTrackingMetrics:{duration:!0,distance:!1,calories:!0,notes:!0}},{id:"heavyChores",name:"Heavy Chores",description:"Physically demanding household or yard work, such as moving furniture or landscaping.",category:"Home & Lifestyle",categoryKey:"homeLifestyle",iconName:"home-wrench",intensity:"Medium",defaultTrackingMetrics:{duration:!0,distance:!1,calories:!0,notes:!0}}];var b=class u{storageService=o(A);toastService=o(h);alertService=o(S);translate=o(f);ACTIVITIES_LOGS_STORAGE_KEY="fitTrackPro_activityLogs";activityLogsSubject=new y(this._loadLogsFromStorage());activityLogs$=this.activityLogsSubject.asObservable();translatedActivityLogs$=this.activityLogs$.pipe(l(t=>t.map(e=>c(n({},e),{activityName:this.translate.instant(`activities.${e.activityId}`)}))));constructor(){}_loadLogsFromStorage(){let t=this.storageService.getItem(this.ACTIVITIES_LOGS_STORAGE_KEY);return t?t.sort((e,i)=>i.startTime-e.startTime):[]}_saveLogsToStorage(t){this.storageService.setItem(this.ACTIVITIES_LOGS_STORAGE_KEY,t),this.activityLogsSubject.next([...t].sort((e,i)=>i.startTime-e.startTime))}addActivityLog(t){let e=c(n({},t),{id:p()}),i=this.activityLogsSubject.getValue(),a=[e,...i];this._saveLogsToStorage(a);let s=this.translate.instant("activityService.logSuccess.message",{activityName:e.activityName}),r=this.translate.instant("activityService.logSuccess.title");return this.toastService.success(s,3e3,r),e}getLogsForDate(t){return this.activityLogs$.pipe(l(e=>e.filter(i=>i.date===t)))}getActivities(){return v([...g].sort((t,e)=>this.translate.instant(`activities.${t.id}`).localeCompare(this.translate.instant(`activities.${e.id}`))).map(t=>c(n({},t),{name:this.translate.instant(`activities.${t.id}`),category:this.translate.instant(`activities.activityCategories.${t.categoryKey}`)})))}getTranslatedCategory(t){return this.translate.instant(`activities.activityCategories.${t.categoryKey}`)}getActivityById(t){return g.find(e=>e.id===t)}getActivityLogById(t){return this.activityLogs$.pipe(l(e=>e.find(i=>i.id===t)))}deleteActivityLog(t){let i=this.activityLogsSubject.getValue().filter(r=>r.id!==t);this._saveLogsToStorage(i);let a=this.translate.instant("activityService.deleteSuccess.message"),s=this.translate.instant("activityService.deleteSuccess.title");this.toastService.info(a,3e3,s)}updateActivityLog(t){let e=this.activityLogsSubject.getValue(),i=e.findIndex(a=>a.id===t.id);if(i>-1){let a=[...e];a[i]=t,this._saveLogsToStorage(a);let s=this.translate.instant("activityService.updateSuccess.message",{activityName:t.activityName}),r=this.translate.instant("activityService.updateSuccess.title");this.toastService.success(s,3e3,r)}}getLogsForBackup(){return this.activityLogsSubject.getValue()}mergeData(t){if(!Array.isArray(t)){console.warn("ActivityService: Imported data for logs is not an array. Skipping.");return}let e=this.activityLogsSubject.getValue(),i=new Set(e.map(r=>r.id)),a=0,s=t.filter(r=>r.id&&!i.has(r.id)?(a++,!0):!1);if(s.length>0){let r=[...e,...s];this._saveLogsToStorage(r);let L=this.translate.instant("activityService.mergeSuccess.message",{count:a}),T=this.translate.instant("activityService.mergeSuccess.title");this.toastService.success(L,3e3,T)}else{let r=this.translate.instant("activityService.mergeInfo");this.toastService.info(r,2e3)}}clearAllActivities_DEV_ONLY(){let t=this.translate.instant("activityService.alerts.clearAllTitle");return this.alertService.showConfirm(t,this.translate.instant("activityService.alerts.clearAllMessage")).then(e=>d(this,null,function*(){e&&e.data&&(this._saveLogsToStorage([]),yield this.alertService.showAlert(t,this.translate.instant("activityService.alerts.clearAllSuccess")))}))}getAllActivityLogs(){return this.activityLogsSubject.getValue()}getActivityLocations(){let t=i=>i.replace(/\w\S*/g,a=>a.charAt(0).toUpperCase()+a.substr(1).toLowerCase()),e=this.getAllActivityLogs().map(i=>i.locationName||"").map(i=>t(i.trim())).filter(i=>i!=="");return Array.from(new Set(e))}getActivityPeople(){let t=i=>i.replace(/\w\S*/g,a=>a.charAt(0).toUpperCase()+a.substr(1).toLowerCase()),e=this.getAllActivityLogs().flatMap(i=>i.people||[]).map(i=>t(i.trim())).filter(i=>i!=="");return Array.from(new Set(e))}static \u0275fac=function(e){return new(e||u)};static \u0275prov=m({token:u,factory:u.\u0275fac,providedIn:"root"})};export{b as a};
