import{a as je,c as we}from"./chunk-WM74HQ32.js";import{a as at}from"./chunk-XJKQT56K.js";import{a as ke}from"./chunk-H65SIUA3.js";import"./chunk-XLDBSI66.js";import{c as nt,d as ot}from"./chunk-5YSYEYLW.js";import{g as et}from"./chunk-R2LNZ2GR.js";import{a as _e,b as Se,c as it}from"./chunk-G6WDLEZE.js";import{c as tt}from"./chunk-QVLCIGEI.js";import{a as rt}from"./chunk-F35BDMIR.js";import{A as D,Ac as $e,Cc as ce,D as A,Dc as Ye,E as Oe,Ea as d,Eb as re,Fa as r,Fb as L,Fc as ue,Ga as t,Gb as R,Gc as ze,Ha as c,Hc as ge,Ia as Ie,Ic as fe,Ja as Fe,Jc as Ke,Kc as qe,L as J,La as k,Lb as Re,Lc as Xe,Ma as u,Mb as Ue,N as Ne,Na as g,Nb as ie,Nc as he,Ob as He,Pc as ye,Qb as U,Qc as ve,R as y,Rb as K,Rc as be,Sc as xe,Tc as Ze,Ua as B,Uc as H,V as v,Va as Ae,Vc as Je,W as b,Wa as ee,Wc as Qe,X as T,Y as I,Ya as o,Za as S,_a as _,a as j,aa as M,ab as te,ac as ne,b as W,bc as Ge,fa as Q,g as C,gc as Be,hc as oe,ia as $,ib as Y,j as De,ja as Le,jc as q,kc as X,la as l,lc as ae,mb as w,nb as N,ob as P,pb as Me,qb as z,qc as We,r as Z,rc as se,sc as f,ta as O,tb as V,tc as le,uc as me,ya as h,yc as de,zc as pe}from"./chunk-UHZ6G33I.js";var st=(a,i)=>({"bg-primary hover:bg-primary-dark text-white border-primary dark:border-primary":a,"border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700":i});function gt(a,i){if(a&1&&(r(0,"option",92),o(1),t()),a&2){let e=i.$implicit;d("value",e.value),l(),_("",e.label," ")}}function ft(a,i){a&1&&(r(0,"div",93),o(1," Must be a positive number (e.g., 2.5 or 5). Max 50. "),t())}function ht(a,i){a&1&&(r(0,"div",93),o(1," Must be 1-20s. "),t())}function yt(a,i){if(a&1){let e=k();r(0,"div",9)(1,"label",94),o(2,"Countdown From (seconds)"),t(),r(3,"input",95),u("change",function(){v(e);let s=g();return b(s.currentVibrator.vibrate(50))}),t(),h(4,ht,2,0,"div",48),t()}if(a&2){let e,n=g();l(4),d("ngIf",((e=n.appSettingsForm.get("countdownSoundSeconds"))==null?null:e.invalid)&&((e=n.appSettingsForm.get("countdownSoundSeconds"))==null?null:e.touched))}}function vt(a,i){a&1&&(r(0,"div",93),o(1," Must be 3-60s. "),t())}function bt(a,i){if(a&1){let e=k();r(0,"div",96)(1,"label",97),o(2,"Pre-Set Timer Duration (seconds)"),t(),r(3,"input",98),u("change",function(){v(e);let s=g();return b(s.currentVibrator.vibrate(50))}),t(),h(4,vt,2,0,"div",48),t()}if(a&2){let e,n=g();l(4),d("ngIf",((e=n.appSettingsForm.get("presetTimerDurationSeconds"))==null?null:e.invalid)&&((e=n.appSettingsForm.get("presetTimerDurationSeconds"))==null?null:e.touched))}}function xt(a,i){if(a&1&&(r(0,"div",107),c(1,"input",108),r(2,"label",109),o(3),t()()),a&2){let e=i.$implicit;l(),d("id","strategy-"+e.value)("value",e.value),l(),d("for","strategy-"+e.value),l(),S(e.label)}}function _t(a,i){a&1&&(r(0,"div",93),o(1," Please select a strategy. "),t())}function St(a,i){a&1&&(r(0,"div",93),o(1," Must be a positive number. "),t())}function wt(a,i){if(a&1&&(r(0,"div")(1,"label",110),o(2),w(3,"uppercase"),t(),c(4,"input",111),h(5,St,2,0,"div",48),t()),a&2){let e,n=g(2);l(2),_("Weight Increment (",N(3,2,n.unitsService.currentUnit()),")"),l(3),d("ngIf",((e=n.progressiveOverloadForm.get("weightIncrement"))==null?null:e.invalid)&&((e=n.progressiveOverloadForm.get("weightIncrement"))==null?null:e.touched))}}function kt(a,i){a&1&&(r(0,"div",93),o(1," Must be a whole number (e.g., 1, 2). "),t())}function Ct(a,i){if(a&1&&(r(0,"div")(1,"label",112),o(2,"Repetitions Increment"),t(),c(3,"input",113),h(4,kt,2,0,"div",48),t()),a&2){let e,n=g(2);l(4),d("ngIf",((e=n.progressiveOverloadForm.get("repsIncrement"))==null?null:e.invalid)&&((e=n.progressiveOverloadForm.get("repsIncrement"))==null?null:e.touched))}}function Et(a,i){a&1&&(r(0,"div",93),o(1," Must be at least 1 session. "),t())}function Pt(a,i){if(a&1&&(r(0,"div",99)(1,"div")(2,"label",100),o(3,"Progression Strategy"),t(),r(4,"p",101),o(5,"Choose what to increase when you meet your goals."),t(),r(6,"div",102),h(7,xt,4,4,"div",103),t(),h(8,_t,2,0,"div",48),t(),h(9,wt,6,4,"div",104)(10,Ct,5,1,"div",104),r(11,"div")(12,"label",105),o(13,"Apply After # Successful Sessions"),t(),r(14,"p",46),o(15,"Increase after completing this many workouts for an exercise successfully."),t(),c(16,"input",106),h(17,Et,2,0,"div",48),t()()),a&2){let e,n,s,m,p=g();l(7),d("ngForOf",p.progressiveOverloadStrategies),l(),d("ngIf",((e=p.progressiveOverloadForm.get("strategy"))==null?null:e.invalid)&&((e=p.progressiveOverloadForm.get("strategy"))==null?null:e.touched)),l(),d("ngIf",((n=p.progressiveOverloadForm.get("strategy"))==null?null:n.value)==="weight"),l(),d("ngIf",((s=p.progressiveOverloadForm.get("strategy"))==null?null:s.value)==="reps"),l(7),d("ngIf",((m=p.progressiveOverloadForm.get("sessionsToIncrement"))==null?null:m.invalid)&&((m=p.progressiveOverloadForm.get("sessionsToIncrement"))==null?null:m.touched))}}var Ce=class a{fb=y(he);router=y(ne);workoutService=y(Qe);trackingService=y(Se);trainingProgramService=y(tt);exerciseService=y(_e);storageService=y(Ze);unitsService=y(ke);alertService=y(xe);spinnerService=y(rt);themeService=y(it);userProfileService=y(we);appSettingsService=y(at);progressiveOverloadService=y(Je);platformId=y(Q);toastService=y(H);currentVibrator=navigator;goalsForm;profileForm;appSettingsForm;progressiveOverloadForm;currentUnit=this.unitsService.currentUnit;genders=[{label:"Male",value:"male"},{label:"Female",value:"female"},{label:"Other",value:"other"},{label:"Prefer not to say",value:"prefer_not_to_say"}];progressiveOverloadStrategies=[{label:"Increase Weight",value:"weight"},{label:"Increase Reps",value:"reps"}];BACKUP_VERSION=4;constructor(){this.profileForm=this.fb.group({username:[""],gender:[null],measurements:this.fb.group({heightCm:[null,[f.min(0),f.required]],weightKg:[null,[f.min(0),f.required]],age:[null,[f.min(0),f.max(150),f.required]],chestCm:[null,[f.min(0)]],waistCm:[null,[f.min(0)]],hipsCm:[null,[f.min(0)]],rightArmCm:[null,[f.min(0)]]})}),this.profileForm.get("measurements").addControl("neckCm",this.fb.control(null,[f.min(0)])),this.goalsForm=this.fb.group({weightKg:[null,[f.min(0)]],waistCm:[null,[f.min(0)]]}),this.appSettingsForm=this.fb.group({enableTimerCountdownSound:[!0],countdownSoundSeconds:[5,[f.required,f.min(1),f.max(60)]],enablePresetTimer:[!1],presetTimerDurationSeconds:[10,[f.required,f.min(3),f.max(60)]],weightStep:[2.5,[f.required,f.min(.01),f.max(50)]]}),this.progressiveOverloadForm=this.fb.group({enabled:[!1],strategy:[null],weightIncrement:[null,[f.min(.1)]],repsIncrement:[null,[f.min(1),f.pattern("^[0-9]*$")]],sessionsToIncrement:[1,[f.required,f.min(1)]]})}ngOnInit(){K(this.platformId)&&window.scrollTo(0,0),this.loadProfileData(),this.loadAppSettingsData(),this.loadProgressiveOverloadSettings(),this.appSettingsForm.valueChanges.pipe(A(700),D(()=>this.appSettingsForm.valid&&this.appSettingsForm.dirty),J(i=>{this.appSettingsService.saveSettings(i),this.appSettingsForm.markAsPristine({onlySelf:!1}),this.toastService.info("App settings auto-saved",1500)})).subscribe(),this.listenForProgressiveOverloadChanges(),this.profileForm.get("username")?.valueChanges.pipe(A(700),D(()=>this.profileForm.valid&&this.profileForm.dirty)).subscribe(i=>this.saveUsernameAndGender()),this.profileForm.get("gender")?.valueChanges.pipe(A(700),D(()=>this.profileForm.valid&&this.profileForm.dirty)).subscribe(i=>this.saveUsernameAndGender()),this.loadGoalsData(),this.goalsForm.valueChanges.pipe(A(700),D(()=>this.goalsForm.valid&&this.goalsForm.dirty),J(i=>{this.userProfileService.saveGoals(i),this.goalsForm.markAsPristine(),this.toastService.info("Goals auto-saved",1500)})).subscribe()}loadGoalsData(){let i=this.userProfileService.getProfile()?.measurementGoals;i&&this.goalsForm.reset(i,{emitEvent:!1})}saveMeasurements(){let i=this.profileForm?.get("measurements");if(!this.profileForm||!i||i.invalid){this.toastService.error("Please fill in all required fields correctly: at least age, height and weight should be filled.");return}let e=this.profileForm.get("measurements")?.value;this.userProfileService.addOrUpdateMeasurementEntry(e),this.profileForm.get("measurements").markAsPristine(),this.toastService.info("Measurements history updated",1500)}saveUsernameAndGender(){let i={username:this.profileForm.get("username")?.value,gender:this.profileForm.get("gender")?.value};this.userProfileService.saveProfile(i),this.toastService.info("Profile auto-saved",1500),this.profileForm.markAsPristine()}listenForProgressiveOverloadChanges(){this.progressiveOverloadForm.valueChanges.pipe(A(700),D(()=>this.progressiveOverloadForm.valid&&this.progressiveOverloadForm.dirty),J(m=>{this.progressiveOverloadService.saveSettings(m),this.progressiveOverloadForm.markAsPristine({onlySelf:!1}),this.toastService.info("Progressive Overload settings auto-saved",1500)})).subscribe();let i=this.progressiveOverloadForm.get("enabled"),e=this.progressiveOverloadForm.get("strategy"),n=this.progressiveOverloadForm.get("weightIncrement"),s=this.progressiveOverloadForm.get("repsIncrement");i?.valueChanges.subscribe(m=>{m?e?.setValidators(f.required):(e?.clearValidators(),e?.setValue(null,{emitEvent:!1})),e?.updateValueAndValidity()}),e?.valueChanges.subscribe(m=>{m==="weight"?(n?.setValidators([f.required,f.min(.1)]),s?.clearValidators(),s?.setValue(null,{emitEvent:!1})):m==="reps"?(s?.setValidators([f.required,f.min(1),f.pattern("^[0-9]*$")]),n?.clearValidators(),n?.setValue(null,{emitEvent:!1})):(n?.clearValidators(),s?.clearValidators(),n?.setValue(null,{emitEvent:!1}),s?.setValue(null,{emitEvent:!1})),n?.updateValueAndValidity(),s?.updateValueAndValidity()})}loadProfileData(){let i=this.userProfileService.getProfile();if(i){let e=this.userProfileService.getMeasurements();this.profileForm.reset({username:i.username||"",gender:i.gender||null,measurements:e||{}},{emitEvent:!1})}else this.profileForm.reset({username:"",gender:null,measurements:{heightCm:null,weightKg:null,age:null,chestCm:null,waistCm:null,hipsCm:null,rightArmCm:null}},{emitEvent:!1})}loadAppSettingsData(){let i=this.appSettingsService.getSettings();this.appSettingsForm.reset(i,{emitEvent:!1})}loadProgressiveOverloadSettings(){let i=this.progressiveOverloadService.getSettings();this.progressiveOverloadForm.reset(i,{emitEvent:!1})}exportData(){this.spinnerService.show("Exporting data...");let i={version:this.BACKUP_VERSION,timestamp:new Date().toISOString(),profile:this.userProfileService.getDataForBackup(),appSettings:this.appSettingsService.getDataForBackup(),progressiveOverload:this.progressiveOverloadService.getDataForBackup(),routines:this.workoutService.getDataForBackup(),programs:this.trainingProgramService.getDataForBackup(),exercises:this.exerciseService.getDataForBackup(),workoutLogs:this.trackingService.getLogsForBackup(),personalBests:this.trackingService.getPBsForBackup()},e=JSON.stringify(i,null,2),n=new Blob([e],{type:"application/json"}),s=URL.createObjectURL(n),m=document.createElement("a"),p=et(new Date,"yyyyMMdd_HHmmss");m.download=`FitTrackPro_backup_v${this.BACKUP_VERSION}_${p}.json`,m.href=s,m.click(),URL.revokeObjectURL(s),this.spinnerService.hide(),this.toastService.success("Data export initiated",3e3)}importData(i){let e=i.target,n=e.files?.[0];if(!n)return;if(n.type!=="application/json"){this.alertService.showAlert("Error","Invalid file type. Please select a JSON file."),e.value="";return}let s=new FileReader;s.onload=m=>{try{let p=m.target?.result,x=JSON.parse(p);if(typeof x!="object"||x===null){this.alertService.showAlert("Error","Invalid backup file format. Expected an object."),e.value="";return}let E=x.version;if(E>this.BACKUP_VERSION){this.alertService.showAlert("Error",`Backup version ${E} is newer than the app's supported version ${this.BACKUP_VERSION}. Please update the app.`),e.value="";return}this.alertService.showConfirm("WARNING","Importing data will try to MERGE your current data with the IMPORTED one. Are you sure?").then(F=>{F&&F.data?(this.spinnerService.show("Importing data..."),this.workoutService.mergeData(x.routines),this.trackingService.replaceLogs(x.workoutLogs),this.trackingService.replacePBs(x.personalBests),E>=4?this.progressiveOverloadService.replaceData(x.progressiveOverload):this.progressiveOverloadService.replaceData(null),E>=3&&(this.exerciseService.mergeData(x.exercises),this.trainingProgramService.mergeData(x.programs)),E>=2?(this.userProfileService.replaceData(x.profile),this.appSettingsService.replaceData(x.appSettings)):(this.userProfileService.replaceData(null),this.appSettingsService.replaceData(null)),this.loadProfileData(),this.loadAppSettingsData(),this.loadProgressiveOverloadSettings(),this.spinnerService.hide(),this.toastService.success("Data imported successfully!",5e3,"Import Complete")):this.toastService.info("Data import cancelled",2e3)})}catch(p){console.error("Error processing imported file:",p),this.alertService.showAlert("Error","Error processing backup file. Ensure it is valid JSON.")}finally{e.value=""}},s.onerror=()=>{this.alertService.showAlert("Error","Error reading file."),e.value=""},s.readAsText(n)}clearAllAppData(){return C(this,null,function*(){let i=yield this.alertService.showConfirmationDialog("WARNING","This will delete ALL your workout data, profile, and settings. This cannot be undone. Are you sure?",[{text:"Cancel",role:"cancel",data:!1,icon:"cancel"},{text:"Clear all data",role:"confirm",data:!0,cssClass:"bg-red-600",icon:"trash"}]);if(i&&i.data){let e=yield this.alertService.showPromptDialog("Confirm Data Deletion",'To confirm, please type "DELETE" in the input below. This will delete ALL your workout data, profile, and settings. This cannot be undone.',[{name:"confirmDialogInput",type:"text",placeholder:"Type DELETE to confirm",value:"",autofocus:!0}],"CLEAR ALL DATA"),n=e&&typeof e.confirmDialogInput=="string"?e.confirmDialogInput:null;if(!n||n.toUpperCase()!=="DELETE"){this.alertService.showAlert("Cancelled","Data clearing cancelled. No changes made.");return}this.trackingService.clearAllWorkoutLogs_DEV_ONLY&&(yield this.trackingService.clearAllWorkoutLogs_DEV_ONLY()),this.trackingService.clearAllPersonalBests_DEV_ONLY&&(yield this.trackingService.clearAllPersonalBests_DEV_ONLY()),this.workoutService.clearAllRoutines_DEV_ONLY&&(yield this.workoutService.clearAllRoutines_DEV_ONLY()),this.userProfileService.clearUserProfile_DEV_ONLY&&this.userProfileService.clearUserProfile_DEV_ONLY(),this.appSettingsService.clearAppSettings_DEV_ONLY&&this.appSettingsService.clearAppSettings_DEV_ONLY(),this.progressiveOverloadService.clearSettings_DEV_ONLY&&this.progressiveOverloadService.clearSettings_DEV_ONLY(),this.trainingProgramService.deactivateAllPrograms&&this.trainingProgramService.deactivateAllPrograms(),this.loadProfileData(),this.loadAppSettingsData(),this.loadProgressiveOverloadSettings(),yield this.alertService.showAlert("Info","All application data has been cleared")}})}selectUnit(i){this.unitsService.setUnitPreference(i)}toggleWipDisclaimer(){let i=this.userProfileService.getHideWipDisclaimer();this.userProfileService.updateHideWipDisclaimer(!i)}navigateToExerciseLibrary(){this.router.navigate(["/library"])}navigateToPersonalBests(){this.router.navigate(["/profile/personal-bests"])}onSyncExerciseHistoryClick(){return C(this,null,function*(){let i=yield this.alertService.showConfirm("Sync Exercise History",'This will scan your workout logs to update the "Last Used" date for all exercises. This may take a moment. Proceed?');i&&i.data&&(yield this.trackingService.backfillLastUsedExerciseTimestamps())})}navigateToBodyMeasurements(){this.router.navigate(["/profile/measurements"])}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=O({type:a,selectors:[["app-profile-settings"]],decls:239,vars:30,consts:[[1,"container","mx-auto","p-2","sm:p-4"],[1,"flex","justify-between","items-center","pb-2"],[1,"text-2xl","font-bold","text-gray-800","dark:text-gray-200"],[1,"space-y-6","sm:space-y-8"],[1,"bg-white","dark:bg-gray-700","p-4","sm:p-6","rounded-md","shadow-md"],[1,"text-xl","font-semibold","text-gray-700","dark:text-gray-300","mb-4"],[1,"space-y-4","dark:text-gray-300",3,"formGroup"],["for","username",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["type","text","id","username","formControlName","username","placeholder","Your display name",1,"mt-1","block","w-full","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600",3,"change"],[1,"dark:text-gray-300"],["for","gender",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["id","gender","formControlName","gender",1,"mt-1","block","w-full","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600",3,"change"],[3,"ngValue"],[3,"value",4,"ngFor","ngForOf"],["formGroupName","measurements",1,"space-y-4","pt-4","border-t","border-gray-200","dark:border-gray-600"],[1,"text-lg","font-medium","text-gray-700","dark:text-gray-300"],[1,"grid","grid-cols-1","sm:grid-cols-2","md:grid-cols-3","gap-4"],["for","age",1,"block","text-xs","font-medium","text-gray-600","dark:text-gray-400"],[1,"text-red-500"],["type","number","min","0","id","age","formControlName","age","placeholder","Years","required","",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200"],["for","heightCm",1,"block","text-xs","font-medium","text-gray-600","dark:text-gray-400"],["type","number","min","0","id","heightCm","formControlName","heightCm","placeholder","cm",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200"],["for","weightKg",1,"block","text-xs","font-medium","text-gray-600","dark:text-gray-400"],["type","number","min","0","id","weightKg","formControlName","weightKg","placeholder","kg",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200"],["for","chestCm",1,"block","text-xs","font-medium","text-gray-600","dark:text-gray-400"],["type","number","min","0","id","chestCm","formControlName","chestCm","placeholder","cm",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200"],["for","neckCm",1,"block","text-xs","font-medium","text-gray-600","dark:text-gray-400"],["type","number","min","0","id","neckCm","formControlName","neckCm","placeholder","cm",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200"],["for","waistCm",1,"block","text-xs","font-medium","text-gray-600","dark:text-gray-400"],["type","number","min","0","id","waistCm","formControlName","waistCm","placeholder","cm",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200"],["for","hipsCm",1,"block","text-xs","font-medium","text-gray-600","dark:text-gray-400"],["type","number","min","0","id","hipsCm","formControlName","hipsCm","placeholder","cm",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200"],["for","rightArmCm",1,"block","text-xs","font-medium","text-gray-600","dark:text-gray-400"],["type","number","min","0","id","rightArmCm","formControlName","rightArmCm","placeholder","cm",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200"],[1,"flex","justify-center","space-x-2","pt-4"],["type","button",1,"flex","items-center","px-4","py-2","bg-green-500","hover:bg-green-600","text-white","font-semibold","rounded-md","shadow-sm","text-sm","disabled:opacity-50","disabled:cursor-not-allowed",3,"click"],["name","save",1,"w-6","h-6","mr-1"],["type","button",1,"flex","items-center","px-4","py-2","bg-blue-500","hover:bg-blue-600","text-white","font-semibold","rounded-md","shadow-sm","text-sm","disabled:opacity-50","disabled:cursor-not-allowed",3,"click"],["name","chart2",1,"w-6","h-6","mr-1"],[1,"space-y-4",3,"formGroup"],["for","goalWeightKg",1,"block","text-xs","font-medium","text-gray-600","dark:text-gray-400"],["type","number","min","0","id","goalWeightKg","formControlName","weightKg","placeholder","kg",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200"],["for","goalWaistCm",1,"block","text-xs","font-medium","text-gray-600","dark:text-gray-400"],["type","number","min","0","id","goalWaistCm","formControlName","waistCm","placeholder","cm",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200"],[1,"border-b","border-gray-200","dark:border-gray-600","pb-4"],["for","weightStep",1,"block","text-md","font-medium","text-gray-700","dark:text-gray-300"],[1,"text-sm","text-gray-500","dark:text-gray-400","mb-1"],["type","number","id","weightStep","formControlName","weightStep","min","0.01","step","any",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200",3,"change"],["class","text-red-500 dark:text-red-400 text-xs mt-1",4,"ngIf"],[1,"flex","items-center","justify-between","pt-4"],[1,"text-md","font-medium","text-gray-700","dark:text-gray-300"],[1,"text-sm","text-gray-500","dark:text-gray-400","mr-1"],["for","countdown-sound-toggle",1,"inline-flex","items-center","cursor-pointer"],["type","checkbox","id","countdown-sound-toggle","formControlName","enableTimerCountdownSound",1,"sr-only","peer",3,"change"],[1,"relative","w-11","h-6","bg-gray-200","peer-focus:outline-none","peer-focus:ring-4","peer-focus:ring-blue-300","dark:peer-focus:ring-blue-800","rounded-full","peer","dark:bg-gray-600","peer-checked:after:translate-x-full","rtl:peer-checked:after:-translate-x-full","peer-checked:after:border-white","after:content-['']","after:absolute","after:top-[2px]","after:start-[2px]","after:bg-white","after:border-gray-300","after:border","after:rounded-full","after:h-5","after:w-5","after:transition-all","dark:border-gray-600","peer-checked:bg-primary","dark:peer-checked:bg-primary-dark"],[1,"ms-3","text-sm","font-medium","text-gray-900","dark:text-gray-300"],["class"," dark:text-gray-300",4,"ngIf"],[1,"pt-4","border-t","border-gray-200","dark:border-gray-600"],[1,"flex","items-center","justify-between"],["for","preset-timer-toggle",1,"inline-flex","items-center","cursor-pointer"],[1,"sr-only"],["type","checkbox","id","preset-timer-toggle","formControlName","enablePresetTimer",1,"sr-only","peer",3,"change"],["class","text-gray-700 dark:text-gray-300",4,"ngIf"],[1,"flex","items-center","justify-between","pb-4","border-b","border-gray-200","dark:border-gray-600"],["for","po-enabled-toggle",1,"inline-flex","items-center","cursor-pointer"],["type","checkbox","id","po-enabled-toggle","formControlName","enabled",1,"sr-only","peer",3,"change"],["class","space-y-4 pt-4",4,"ngIf"],[1,"space-y-4"],[1,"text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-2"],["appPress","",1,"flex","items-center","px-4","py-2","bg-blue-500","hover:bg-blue-600","text-white","font-semibold","rounded-md","shadow-sm","transition-colors","text-sm",3,"shortPress"],["name","export",1,"w-6","h-6","mr-1"],["type","file","accept","application/json",1,"block","w-full","text-sm","text-gray-700","dark:text-gray-300","file:mr-4","file:py-2","file:px-4","file:rounded-md","file:border-0","file:text-sm","file:font-semibold","file:bg-gray-200","file:text-gray-700","hover:file:bg-gray-300","dark:file:bg-gray-600","dark:file:text-gray-200","dark:hover:file:bg-gray-700",3,"change"],[1,"text-xs","text-gray-500","dark:text-gray-400","mb-2"],["appPress","",1,"flex","items-center","px-4","py-2","bg-indigo-500","hover:bg-indigo-600","text-white","font-semibold","rounded-md","shadow-sm","transition-colors","text-sm",3,"shortPress"],["name","change",1,"w-6","h-6","mr-1"],[1,"pt-4","border-t","border-gray-200","dark:border-gray-700"],[1,"text-lg","font-semibold","text-gray-700","dark:text-gray-300","mb-2"],[1,"text-sm","font-medium","text-red-600","dark:text-red-400","mb-2"],["appPress","",1,"flex","items-center","px-4","py-2","bg-red-500","hover:bg-red-600","text-white","font-semibold","rounded-md","shadow-sm","transition-colors","text-sm",3,"shortPress"],["name","trash",1,"w-6","h-6","mr-1"],["appPress","",1,"px-4","py-2","bg-primary","hover:bg-primary-dark","text-white","font-semibold","rounded-md","shadow-sm","transition-colors","inline-flex","items-center","text-sm",3,"shortPress"],["name","exercise-list",1,"w-6","h-6","mr-1"],["name","pb",1,"w-6","h-6","mr-1"],[1,"flex","space-x-4"],["appPress","",1,"px-4","py-2","border","rounded-md","transition-colors","text-sm",3,"shortPress","ngClass"],["for","show-wip-message",1,"inline-flex","items-center","cursor-pointer"],["type","checkbox","id","show-wip-message",1,"sr-only","peer",3,"change","checked"],["for","theme-toggle",1,"inline-flex","items-center","cursor-pointer"],["type","checkbox","id","theme-toggle",1,"sr-only","peer",3,"change","checked"],[1,"flex","items-center","justify-between","mt-5"],["for","menu-mode-toggle",1,"inline-flex","items-center","cursor-pointer"],["type","checkbox","id","menu-mode-toggle",1,"sr-only","peer",3,"change","checked"],[3,"value"],[1,"text-red-500","dark:text-red-400","text-xs","mt-1"],["for","countdownSeconds",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["type","number","id","countdownSeconds","formControlName","countdownSoundSeconds","min","1","max","20",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600",3,"change"],[1,"text-gray-700","dark:text-gray-300"],["for","presetTimerDurationSeconds",1,"block","text-sm","font-medium"],["type","number","id","presetTimerDurationSeconds","formControlName","presetTimerDurationSeconds","min","3","max","60",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600",3,"change"],[1,"space-y-4","pt-4"],[1,"block","text-md","font-medium","text-gray-700","dark:text-gray-300"],[1,"text-sm","text-gray-500","dark:text-gray-400","mb-2"],[1,"flex","flex-col","sm:flex-row","sm:space-x-4"],["class","flex items-center",4,"ngFor","ngForOf"],[4,"ngIf"],["for","sessionsToIncrement",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["type","number","id","sessionsToIncrement","formControlName","sessionsToIncrement","min","1","step","1",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200"],[1,"flex","items-center"],["type","radio","formControlName","strategy",1,"focus:ring-primary","h-4","w-4","text-primary","border-gray-300","dark:border-gray-600","dark:bg-gray-700",3,"id","value"],[1,"ml-3","block","text-sm","font-medium","text-gray-700","dark:text-gray-300",3,"for"],["for","weightIncrement",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["type","number","id","weightIncrement","formControlName","weightIncrement","min","0.1","step","any","placeholder","e.g., 2.5",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200"],["for","repsIncrement",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["type","number","id","repsIncrement","formControlName","repsIncrement","min","1","step","1","placeholder","e.g., 1",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200"]],template:function(e,n){if(e&1&&(r(0,"div",0)(1,"header",1)(2,"h1",2),o(3,"Profile & Settings"),t()(),r(4,"div",3)(5,"section",4)(6,"h2",5),o(7,"User Profile"),t(),r(8,"form",6)(9,"div")(10,"label",7),o(11,"Username"),t(),r(12,"input",8),u("change",function(){return n.currentVibrator.vibrate(50)}),t()(),r(13,"div",9)(14,"label",10),o(15,"Gender"),t(),r(16,"select",11),u("change",function(){return n.currentVibrator.vibrate(50)}),r(17,"option",12),o(18,"Select Gender..."),t(),h(19,gt,2,2,"option",13),t()(),r(20,"div",14)(21,"h3",15),o(22,"Measurements"),t(),r(23,"div",16)(24,"div")(25,"label",17),o(26," Age "),r(27,"span",18),o(28,"*"),t()(),c(29,"input",19),t(),r(30,"div")(31,"label",20),o(32," Height (cm)"),r(33,"span",18),o(34,"*"),t()(),c(35,"input",21),t(),r(36,"div")(37,"label",22),o(38," Weight (kg)"),r(39,"span",18),o(40,"*"),t()(),c(41,"input",23),t(),r(42,"div")(43,"label",24),o(44,"Chest (cm)"),t(),c(45,"input",25),t(),r(46,"div")(47,"label",26),o(48,"Neck (cm)"),t(),c(49,"input",27),t(),r(50,"div")(51,"label",28),o(52,"Waist (cm)"),t(),c(53,"input",29),t(),r(54,"div")(55,"label",30),o(56,"Hips (cm)"),t(),c(57,"input",31),t(),r(58,"div")(59,"label",32),o(60,"Right Arm (cm)"),t(),c(61,"input",33),t()(),r(62,"div",34)(63,"button",35),u("click",function(){return n.saveMeasurements()}),c(64,"app-icon",36),o(65," SAVE MEASUREMENTS "),t(),r(66,"button",37),u("click",function(){return n.navigateToBodyMeasurements()}),c(67,"app-icon",38),o(68," MEASUREMENTS HISTORY "),t()()()()(),r(69,"section",4)(70,"h2",5),o(71,"Measurement Goals"),t(),r(72,"form",39)(73,"div",16)(74,"div")(75,"label",40),o(76,"Target Weight (kg)"),t(),c(77,"input",41),t(),r(78,"div")(79,"label",42),o(80,"Target Waist (cm)"),t(),c(81,"input",43),t()()()(),r(82,"section",4)(83,"h2",5),o(84,"Workout Player Settings"),t(),r(85,"form",39)(86,"div",44)(87,"label",45),o(88,"Weight Increment Step"),t(),r(89,"p",46),o(90),w(91,"uppercase"),t(),r(92,"input",47),u("change",function(){return n.currentVibrator.vibrate(50)}),t(),h(93,ft,2,0,"div",48),t(),r(94,"div",49)(95,"div")(96,"h3",50),o(97,"Timed Set Countdown Sound"),t(),r(98,"p",51),o(99,"Play sound X seconds before a timed set ends"),t()(),r(100,"label",52)(101,"input",53),u("change",function(){return n.currentVibrator.vibrate(50)}),t(),c(102,"div",54),r(103,"span",55),o(104),t()()(),h(105,yt,5,1,"div",56),c(106,"div",57),r(107,"div",58)(108,"div")(109,"h3",50),o(110,"Pre-Set Timer"),t(),r(111,"p",51),o(112,"Show a countdown before each set starts"),t()(),r(113,"label",59)(114,"span",60),o(115,"Toggle Pre-Set Timer"),t(),r(116,"input",61),u("change",function(){return n.currentVibrator.vibrate(50)}),t(),c(117,"div",54),r(118,"span",55),o(119),t()()(),h(120,bt,5,1,"div",62),t()(),r(121,"section",4)(122,"h2",5),o(123,"Progressive Overload"),t(),r(124,"form",39)(125,"div",63)(126,"div")(127,"h3",50),o(128,"Enable Automatic Progression "),t(),r(129,"p",51),o(130,"Automatically increase weight or reps based on performance."),t()(),r(131,"label",64)(132,"input",65),u("change",function(){return n.currentVibrator.vibrate(50)}),t(),c(133,"div",54),r(134,"span",55),o(135),t()()(),h(136,Pt,18,5,"div",66),t()(),r(137,"section",4)(138,"h2",5),o(139,"Data Management"),t(),r(140,"div",67)(141,"div")(142,"p",68),o(143,"Backup your data to a JSON file"),t(),r(144,"button",69),u("shortPress",function(){return n.exportData()}),c(145,"app-icon",70),o(146," EXPORT DATA"),t()(),r(147,"div")(148,"p",68),o(149,"Restore your data from a JSON backup file"),t(),r(150,"input",71),u("change",function(m){return n.importData(m),n.currentVibrator.vibrate(50)}),t()(),r(151,"div",57)(152,"p",68),o(153,"Sync Exercise History"),t(),r(154,"p",72),o(155,' This will scan all workout logs to update the "Last Used" date for every exercise in your library. Run this if the dates seem out of sync after an import or an update. '),t(),r(156,"button",73),u("shortPress",function(){return n.onSyncExerciseHistoryClick()}),c(157,"app-icon",74),o(158," SYNC HISTORY "),t()(),r(159,"div",75)(160,"h3",76),o(161,"Reset / Clear Data"),t(),r(162,"p",77),o(163,"WARNING: This action will delete ALL your saved data"),t(),r(164,"button",78),u("shortPress",function(){return n.clearAllAppData()}),c(165,"app-icon",79),o(166," CLEAR ALL DATA"),t()()()(),r(167,"section",4)(168,"h2",5),o(169,"Exercise library"),t(),r(170,"div")(171,"p",68),o(172,"View all the available exercise and add your own ones"),t(),r(173,"button",80),u("shortPress",function(){return n.navigateToExerciseLibrary()}),c(174,"app-icon",81),o(175," EXERCISES "),t()()(),r(176,"section",4)(177,"h2",5),o(178,"Your Achievements"),t(),r(179,"div")(180,"p",68),o(181,"View all your tracked Personal Bests"),t(),r(182,"button",80),u("shortPress",function(){return n.navigateToPersonalBests()}),c(183,"app-icon",82),o(184," VIEW PBs "),t()()(),r(185,"section",4)(186,"h2",5),o(187,"General Settings"),t(),r(188,"div",67)(189,"div")(190,"p",68),o(191,"Weight Units"),t(),r(192,"div",83)(193,"button",84),u("shortPress",function(){return n.selectUnit("kg")}),o(194,"kg"),t(),r(195,"button",84),u("shortPress",function(){return n.selectUnit("lbs")}),o(196,"lbs"),t()()(),r(197,"div",58)(198,"div")(199,"h3",50),o(200,"WIP Message"),t(),r(201,"p",51),o(202,"Toggle between showing or hiding WIP message"),t()(),r(203,"label",85)(204,"span",60),o(205,"Show WIP Disclaimer"),t(),r(206,"input",86),u("change",function(){return n.toggleWipDisclaimer()}),t(),c(207,"div",54),r(208,"span",55),o(209),t()()()()(),r(210,"section",4)(211,"h2",5),o(212,"Appearance"),t(),r(213,"div",58)(214,"div")(215,"h3",50),o(216,"Dark Mode"),t(),r(217,"p",51),o(218,"Toggle between light and dark themes"),t()(),r(219,"label",87)(220,"span",60),o(221,"Toggle Dark Mode"),t(),r(222,"input",88),u("change",function(){return n.themeService.toggleTheme()}),t(),c(223,"div",54),r(224,"span",55),o(225),t()()(),r(226,"div",89)(227,"div")(228,"h3",50),o(229,"Compact menu mode"),t(),r(230,"p",51),o(231,"Toggle between window and compact mode"),t()(),r(232,"label",90)(233,"span",60),o(234,"Toggle Compact Mode"),t(),r(235,"input",91),u("change",function(){return n.themeService.toggleMenuMode()}),t(),c(236,"div",54),r(237,"span",55),o(238),t()()()()()()),e&2){let s,m,p,x,E,F,G;l(8),d("formGroup",n.profileForm),l(9),d("ngValue",null),l(2),d("ngForOf",n.genders),l(53),d("formGroup",n.goalsForm),l(13),d("formGroup",n.appSettingsForm),l(5),_("Default step for +/- weight buttons in player (in ",N(91,22,n.unitsService.currentUnit()),")"),l(3),d("ngIf",((s=n.appSettingsForm.get("weightStep"))==null?null:s.invalid)&&((s=n.appSettingsForm.get("weightStep"))==null?null:s.touched)),l(11),_(" ",(m=n.appSettingsForm.get("enableTimerCountdownSound"))!=null&&m.value?"On":"Off"," "),l(),d("ngIf",(p=n.appSettingsForm.get("enableTimerCountdownSound"))==null?null:p.value),l(14),_(" ",(x=n.appSettingsForm.get("enablePresetTimer"))!=null&&x.value?"On":"Off"," "),l(),d("ngIf",(E=n.appSettingsForm.get("enablePresetTimer"))==null?null:E.value),l(4),d("formGroup",n.progressiveOverloadForm),l(11),_(" ",(F=n.progressiveOverloadForm.get("enabled"))!=null&&F.value?"On":"Off"," "),l(),d("ngIf",(G=n.progressiveOverloadForm.get("enabled"))==null?null:G.value),l(57),d("ngClass",Y(24,st,n.currentUnit()==="kg",n.currentUnit()!=="kg")),l(2),d("ngClass",Y(27,st,n.currentUnit()==="lbs",n.currentUnit()!=="lbs")),l(11),d("checked",!n.userProfileService.getHideWipDisclaimer()),l(3),S(n.userProfileService.getHideWipDisclaimer()?"Off":"On"),l(13),d("checked",n.themeService.isDarkTheme()),l(3),S(n.themeService.isDarkTheme()?"On":"Off"),l(10),d("checked",n.themeService.isMenuModeCompact()),l(3),S(n.themeService.isMenuModeCompact()?"On":"Off")}},dependencies:[U,re,L,R,Ue,ye,de,ge,fe,se,pe,We,ze,$e,le,me,Xe,qe,Ke,ce,ue,Ye,ve,be],encapsulation:2})};var dt=["bodyweight/calisthenics","dumbbells","kettlebells","barbells","machines","cables","bands","cardio","stretching","plyometrics","strongman","custom","other"];function Tt(a,i){if(a&1&&(r(0,"option",42),o(1),t()),a&2){let e=i.$implicit;d("value",e),l(),_(" ",e," ")}}function It(a,i){if(a&1&&(r(0,"option",42),o(1),w(2,"titlecase"),t()),a&2){let e=i.$implicit;d("value",e),l(),_(" ",N(2,2,e)," ")}}function Ft(a,i){if(a&1&&(r(0,"span"),o(1," of "),r(2,"strong",44),o(3),t()()),a&2){let e=g(2);l(3),S(e.combinedPersonalBests().length)}}function At(a,i){if(a&1&&(r(0,"div",43),o(1," Showing "),r(2,"strong",44),o(3),t(),h(4,Ft,4,1,"span",45),o(5," PBs "),t()),a&2){let e=g();l(3),S(e.displayPersonalBests().length),l(),d("ngIf",e.exerciseNameFilter()||e.exerciseCategoryFilter()||e.pbTypeFilter())}}function Mt(a,i){if(a&1&&(r(0,"span"),o(1),w(2,"date"),w(3,"date"),t()),a&2){let e=i.$implicit,n=i.last,s=g(2).$implicit,m=g(2);l(),te(" ",m.formatPbValue(e,s.pbType)," (",Me(3,6,P(2,3,e.timestamp,"shortDate"),"dd-MM-yy","UTC"),")",n?"":", "," ")}}function Bt(a,i){a&1&&(r(0,"span"),o(1," ..."),t())}function Vt(a,i){if(a&1&&(r(0,"div",59)(1,"span",60),o(2,"Prev:"),t(),h(3,Mt,4,10,"span",61)(4,Bt,2,0,"span",45),t()),a&2){let e=g().$implicit;l(3),d("ngForOf",e.history.slice(0,1)),l(),d("ngIf",e.history.length>1)}}function Dt(a,i){if(a&1&&(r(0,"div",62)(1,"p",63),o(2),t()()),a&2){let e=g().$implicit;ee("mt-2",e.history&&e.history.length>0)("mt-1",!(e.history&&e.history.length>0)),l(),d("title",e.notes),l(),_(" ",e.notes," ")}}function Ot(a,i){if(a&1){let e=k();r(0,"div",64)(1,"button",65),u("click",function(s){v(e);let m=g().$implicit,p=g(2);return b(p.navigateToLogDetail(m.workoutLogId,s))}),T(),r(2,"svg",66),c(3,"path",67)(4,"path",68),t(),o(5," VIEW LOG "),t(),I(),r(6,"button",69),u("click",function(){v(e);let s=g().$implicit,m=g(2);return b(m.showPbTrend(s.exerciseId,s.pbType))}),T(),r(7,"svg",70),c(8,"path",71),t(),o(9," TREND "),t()()}}function Nt(a,i){if(a&1&&(r(0,"div",48)(1,"div",49)(2,"div",50)(3,"div")(4,"h2",51),o(5),t(),r(6,"p",52),o(7),w(8,"titlecase"),t()()(),r(9,"div",53)(10,"span",54),o(11),t()(),r(12,"div",55)(13,"span"),o(14),t(),r(15,"span"),o(16),w(17,"date"),w(18,"date"),t()(),h(19,Vt,5,2,"div",56)(20,Dt,3,6,"div",57),t(),h(21,Ot,10,0,"div",58),t()),a&2){let e=i.$implicit,n=g(2);Ae("z-index",n.filtersVisible()?50:"auto"),l(4),d("title",e.exerciseName),l(),_(" ",e.exerciseName," "),l(2),_(" (",N(8,11,e.primaryMuscleGroup),") "),l(4),S(n.formatPbValue(e)),l(3),S(e.pbType),l(2),S(Me(18,16,P(17,13,e.timestamp,"shortDate"),"dd-MM-yy","UTC")),l(3),d("ngIf",e.history&&e.history.length>0),l(),d("ngIf",e.notes),l(),d("ngIf",e.pbType!=="1RM (Estimated)"&&e.workoutLogId)}}function Lt(a,i){if(a&1&&(r(0,"div")(1,"div",46),h(2,Nt,22,20,"div",47),t()()),a&2){let e=g();l(2),d("ngForOf",e.displayPersonalBests())}}function Rt(a,i){a&1&&(r(0,"span"),o(1,"No Personal Bests Match Your Filters"),t())}function Ut(a,i){a&1&&o(0,"No Personal Bests Yet!")}function Ht(a,i){if(a&1){let e=k();r(0,"span"),o(1,"Try adjusting your filter criteria or "),r(2,"button",77),u("shortPress",function(){v(e);let s=g(2);return b(s.resetFiltersAndShow())}),o(3,"reset all filters"),t()()}}function Gt(a,i){a&1&&(r(0,"span"),o(1,"Keep logging your workouts to track your progress and achievements here"),t())}function jt(a,i){if(a&1){let e=k();r(0,"span"),o(1," Try clearing filters, or perhaps "),r(2,"button",77),u("shortPress",function(){v(e);let s=g(2);return b(s.triggerRecalculatePBs())}),o(3,"recalculate PBs"),t(),o(4," if you've recently imported data. "),t()}}function Wt(a,i){if(a&1&&(r(0,"div",72),T(),r(1,"svg",73),c(2,"path",74),t(),I(),r(3,"h2",75),h(4,Rt,2,0,"span",40)(5,Ut,1,0,"ng-template",null,4,z),t(),r(7,"p",76),h(8,Ht,4,0,"span",45)(9,Gt,2,0,"span",45)(10,jt,5,0,"span",45),t()()),a&2){let e=B(6),n=g();l(4),d("ngIf",n.hasActiveFilters())("ngIfElse",e),l(4),d("ngIf",n.hasActiveFilters()),l(),d("ngIf",!n.hasActiveFilters()&&n.allPersonalBestsSignalEmpty()),l(),d("ngIf",!n.allPersonalBestsSignalEmpty()&&n.displayPersonalBests().length===0&&!n.hasActiveFilters())}}function $t(a,i){if(a&1){let e=k();r(0,"button",78),u("shortPress",function(){v(e);let s=g();return b(s.scrollToTop())}),T(),r(1,"svg",79),c(2,"path",80),t(),I(),r(3,"span",15),o(4,"Back to Top"),t()()}}var Ee=class a{trackingService=y(Se);exerciseService=y(_e);unitsService=y(ke);router=y(ne);toastService=y(H);platformId=y(Q);allPersonalBestsRaw=M({});allExercisesRaw=M([]);filtersVisible=M(!1);exerciseNameFilter=M("");pbTypeFilter=M("");exerciseCategoryFilter=M("");decimalPipe=new He("en-US");availableCategories=V(()=>[...dt].sort());availablePbTypes=V(()=>{let i=this.allPersonalBestsRaw(),e=new Set;return Object.values(i).forEach(n=>{n.forEach(s=>{s.pbType&&e.add(s.pbType)})}),Array.from(e).sort()});combinedPersonalBests=V(()=>{let i=this.allPersonalBestsRaw(),e=this.allExercisesRaw();if(Object.keys(i).length===0||e.length===0)return[];let n=new Map(e.map(m=>[m.id,m])),s=[];for(let m in i)if(i.hasOwnProperty(m)){let p=n.get(m),x=i[m];p&&x.forEach(E=>{s.push(W(j({},E),{exerciseName:p.name,exerciseCategory:p.category,primaryMuscleGroup:p.primaryMuscleGroup}))})}return s});displayPersonalBests=V(()=>{let i=this.combinedPersonalBests(),e=this.exerciseNameFilter().toLowerCase().trim(),n=this.exerciseCategoryFilter(),s=this.pbTypeFilter();if(!e&&!n&&!s)return this.sortPBs(i);let m=i.filter(p=>!(e&&!p.exerciseName.toLowerCase().includes(e)||n&&p.exerciseCategory!==n||s&&p.pbType!==s));return this.sortPBs(m)});hasActiveFilters=V(()=>this.exerciseNameFilter().trim()!==""||this.exerciseCategoryFilter()!==""||this.pbTypeFilter().trim()!=="");allPersonalBestsSignalEmpty=V(()=>Object.keys(this.allPersonalBestsRaw()).length===0);constructor(){}ngOnInit(){K(this.platformId)&&window.scrollTo(0,0),this.trackingService.personalBests$.subscribe(i=>{this.allPersonalBestsRaw.set(i)}),this.exerciseService.getExercises().pipe(Oe(1)).subscribe(i=>{this.allExercisesRaw.set(i)})}toggleFiltersVisibility(){this.filtersVisible.update(i=>!i)}resetFilters(){this.exerciseNameFilter.set(""),this.exerciseCategoryFilter.set("")}resetFiltersAndShow(){this.resetFilters(),this.filtersVisible.set(!0)}getPbTypeSortOrder(i){return i.includes("1RM (Actual)")?0:i.includes("1RM (Estimated)")?1:i.includes("3RM (Actual)")?2:i.includes("5RM (Actual)")?3:i.includes("Heaviest Lifted")?4:i.includes("Max Reps (Bodyweight)")?5:i.includes("Max Duration")?6:100}sortPBs(i){return[...i].sort((e,n)=>{let s=e.exerciseName.localeCompare(n.exerciseName);if(s!==0)return s;let m=this.getPbTypeSortOrder(e.pbType),p=this.getPbTypeSortOrder(n.pbType);return m!==p?m-p:e.weightUsed!==void 0&&n.weightUsed!==void 0?(n.weightUsed??0)-(e.weightUsed??0):e.repsAchieved!==void 0&&n.repsAchieved!==void 0&&e.pbType.includes("Max Reps")?(n.repsAchieved??0)-(e.repsAchieved??0):e.durationPerformed!==void 0&&n.durationPerformed!==void 0&&e.pbType.includes("Max Duration")?(n.durationPerformed??0)-(e.durationPerformed??0):new Date(n.timestamp).getTime()-new Date(e.timestamp).getTime()})}formatPbValue(i,e){let n="",s=i.pbType||e;if(i.weightUsed!==void 0&&i.weightUsed!==null){if(n+=`${this.decimalPipe.transform(i.weightUsed,"1.0-2")}${this.unitsService.getUnitSuffix()}`,i.repsAchieved>0){let m=!0;if(s&&s.includes("RM (Actual)")){let p=s.split("RM")[0],x=parseInt(p,10);!isNaN(x)&&i.repsAchieved===x&&(m=!1)}m&&(n+=` x ${i.repsAchieved}`)}}else i.repsAchieved>0&&s?.includes("Max Reps")?n=`${i.repsAchieved} reps`:i.durationPerformed&&i.durationPerformed>0&&s?.includes("Max Duration")?n=`${i.durationPerformed}s`:i.repsAchieved>0?n=`${i.repsAchieved} reps`:i.durationPerformed&&i.durationPerformed>0&&(n=`${i.durationPerformed}s`);return n||"N/A"}vibrate(){let i=navigator;i&&"vibrate"in i&&i.vibrate(50)}navigateToLogDetail(i,e){e?.stopPropagation(),i?(this.vibrate(),this.router.navigate(["/workout/summary",i])):(this.toastService.error("Could not find the associated workout log for this personal best. It's possible that the related workout session has been removed.",0,"Navigation Error"),console.warn("Attempted to navigate to log detail, but workoutLogId is undefined for PB:",e))}triggerRecalculatePBs(){return C(this,null,function*(){try{yield this.trackingService.recalculateAllPersonalBests(),this.filtersVisible.set(!1)}catch(i){console.error("Error initiating PB recalculation:",i),this.toastService.error("An error occurred while trying to recalculate personal bests.")}})}resetPBs(){return C(this,null,function*(){try{yield this.trackingService.clearAllPersonalBests_DEV_ONLY()}catch(i){console.error("Error clearAllPersonalBests_DEV_ONLY:",i),this.toastService.error("An error occurred while trying to reset personal bests.")}})}showPbTrend(i,e){if(!i||!e){this.toastService.error("Cannot show trend: Missing exercise ID or PB type.",0,"Error");return}let n=encodeURIComponent(e);this.vibrate(),this.router.navigate(["/profile/pb-trend",i,n]),console.log(`Requesting trend for Exercise ID: ${i}, PB Type: ${e}`)}showBackToTopButton=M(!1);onWindowScroll(){let i=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;this.showBackToTopButton.set(i>400)}scrollToTop(){K(this.platformId)&&window.scrollTo({top:0,behavior:"smooth"})}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=O({type:a,selectors:[["app-personal-bests"]],hostBindings:function(e,n){e&1&&u("scroll",function(){return n.onWindowScroll()},Le)},decls:59,vars:15,consts:[["nameFilterInput",""],["pbTypeFilterInput",""],["categoryFilterInput",""],["noPBsOrFilters",""],["noPBsMessage",""],[1,"container","mx-auto","p-2","sm:p-4"],[1,"mb-6","flex","items-center"],["routerLink","/profile",1,"text-gray-600","dark:text-gray-300","hover:text-primary","dark:hover:text-primary-light","p-2","-ml-2","rounded-full","focus:outline-none","focus:ring-2","focus:ring-primary-focus"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 19l-7-7 7-7"],[1,"flex","flex-grow","justify-between","items-center","pb-2"],[1,"text-2xl","font-bold","text-gray-800","dark:text-gray-200"],["type","button",1,"rounded-md","text-gray-600","dark:text-gray-300","hover:bg-gray-200","dark:hover:bg-gray-700","focus:outline-none","focus:ring-2","focus:ring-primary","dark:focus:ring-primary-light","transition-all","duration-300","ease-in-out",3,"click"],["stroke","currentColor","viewBox","0 0 24 24","stroke-width","0.02","fill","currentColor","xmlns","http://www.w3.org/2000/svg",1,"w-10","h-10","transition-transform","duration-300"],["stroke-linecap","round","stroke-linejoin","round","d","M9 5a1 1 0 1 0 0 2 1 1 0 0 0 0-2zM6.17 5a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 0 1 0-2h1.17zM15 11a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-1.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h7.17zM9 17a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h1.17z"],[1,"sr-only"],[1,"overflow-hidden","transition-all","duration-500","ease-in-out"],[1,"p-4","bg-white","dark:bg-gray-700","rounded-md","shadow-md","border","dark:border-gray-600"],[1,"text-xl","font-semibold","text-gray-700","dark:text-gray-300","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","mb-4"],["for","exerciseNameFilter",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-1"],["type","text","id","exerciseNameFilter","placeholder","e.g., Bench Press",1,"mt-1","block","w-full","px-3","py-2","bg-white","dark:bg-gray-800","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:outline-none","focus:ring-primary","focus:border-primary","sm:text-sm","text-gray-900","dark:text-gray-100","placeholder-gray-400","dark:placeholder-gray-500",3,"input","value"],["for","pbTypeFilter",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-1"],["id","pbTypeFilter",1,"mt-1","block","w-full","px-3","py-2","bg-white","dark:bg-gray-800","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:outline-none","focus:ring-primary","focus:border-primary","sm:text-sm","text-gray-900","dark:text-gray-100",3,"change","value"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","categoryFilter",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-1"],["id","categoryFilter",1,"mt-1","block","w-full","px-3","py-2","bg-white","dark:bg-gray-800","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:outline-none","focus:ring-primary","focus:border-primary","sm:text-sm","text-gray-900","dark:text-gray-100",3,"change","value"],[1,"mt-4","flex","justify-between","items-center"],["appPress","",1,"flex","px-4","py-2","bg-yellow-200","dark:bg-yellow-700","text-gray-700","dark:text-gray-200","rounded-md","hover:bg-yellow-300","dark:hover:bg-yellow-500","text-sm","items-center",3,"shortPress"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"size-5","mr-2"],["stroke-linecap","round","stroke-linejoin","round","d","m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"],["appPress","","title","Recalculate all Personal Bests from your workout history",1,"ml-2","p-2","text-sm","text-gray-500","dark:text-gray-400","hover:text-primary","dark:hover:text-primary-light","rounded-md","border","border-gray-300","dark:border-gray-600","hover:bg-gray-100","dark:hover:bg-gray-700","transition-colors","flex","items-center",3,"shortPress"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-10","h-10","transition-transform","duration-300"],["stroke-linecap","round","stroke-linejoin","round","d","M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"],[1,"hidden","sm:inline-block","ml-1"],["appPress","","title","Reset all PBs",1,"ml-2","p-2","text-sm","text-gray-500","dark:text-gray-400","hover:text-red-600","dark:hover:text-red-500","rounded-md","border","border-gray-300","dark:border-gray-600","hover:bg-red-100","dark:hover:bg-red-900/50","transition-colors","flex","items-center",3,"shortPress"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"w-10","h-10","transition-transform","duration-300"],["fill-rule","evenodd","d","M8.75 1A2.75 2.75 0 006 3.75v.443c-.795.077-1.58.177-2.365.298a.75.75 0 10.23 1.482l.149-.022.841 10.518A2.75 2.75 0 007.596 19h4.807a2.75 2.75 0 002.742-2.53l.841-10.52.149.023a.75.75 0 00.23-1.482A41.03 41.03 0 0014 4.193V3.75A2.75 2.75 0 0011.25 1h-2.5ZM10 4c.84 0 1.673.025 2.5.075V3.75c0-.69-.56-1.25-1.25-1.25h-2.5c-.69 0-1.25.56-1.25 1.25v.325C8.327 4.025 9.16 4 10 4ZM8.58 7.72a.75.75 0 00-1.5.06l.3 7.5a.75.75 0 101.5-.06l-.3-7.5Zm4.34.06a.75.75 0 10-1.5-.06l-.3 7.5a.75.75 0 101.5.06l.3-7.5Z","clip-rule","evenodd"],["class","text-sm text-gray-600 dark:text-gray-400",4,"ngIf"],[4,"ngIf","ngIfElse"],["appPress","","type","button","class","fixed bottom-20 right-4 z-40 bg-primary dark:bg-primary text-white rounded-full p-3 shadow-lg hover:bg-primary-dark dark:hover:bg-primary-light focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-focus dark:focus:ring-offset-gray-900 transition-opacity animate-fade-in",3,"shortPress",4,"ngIf"],[3,"value"],[1,"text-sm","text-gray-600","dark:text-gray-400"],[1,"text-gray-800","dark:text-gray-200"],[4,"ngIf"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-3","xl:grid-cols-4","gap-4"],["class","flex flex-col bg-white dark:bg-gray-700 rounded-md shadow-md hover:shadow-lg transition-shadow duration-200 relative group transform hover:-translate-y-1",3,"zIndex",4,"ngFor","ngForOf"],[1,"flex","flex-col","bg-white","dark:bg-gray-700","rounded-md","shadow-md","hover:shadow-lg","transition-shadow","duration-200","relative","group","transform","hover:-translate-y-1"],[1,"p-3","flex-grow"],[1,"flex","justify-between","items-start","mb-1"],[1,"text-md","font-semibold","text-primary","dark:text-primary-light","truncate",3,"title"],[1,"text-xs","text-gray-500","dark:text-gray-400"],[1,"mb-2"],[1,"text-xl","font-bold","text-gray-900","dark:text-white"],[1,"flex","justify-between","items-center","text-xs","text-gray-500","dark:text-gray-400","mb-2"],["class","mt-2 pt-1 border-t border-gray-200 dark:border-gray-600 text-xs text-gray-500 dark:text-gray-400",4,"ngIf"],["class","pt-1 border-t border-gray-200 dark:border-gray-600",3,"mt-2","mt-1",4,"ngIf"],["class","flex flex-col items-center justify-center px-8 py-2 bg-gray-50 dark:bg-gray-800 border-t border-gray-200 rounded-b dark:border-gray-600 space-y-2",4,"ngIf"],[1,"mt-2","pt-1","border-t","border-gray-200","dark:border-gray-600","text-xs","text-gray-500","dark:text-gray-400"],[1,"font-medium"],[4,"ngFor","ngForOf"],[1,"pt-1","border-t","border-gray-200","dark:border-gray-600"],[1,"text-xs","text-gray-600","dark:text-gray-400","italic","max-h-16","overflow-y-auto","custom-scrollbar","pr-1",3,"title"],[1,"flex","flex-col","items-center","justify-center","px-8","py-2","bg-gray-50","dark:bg-gray-800","border-t","border-gray-200","rounded-b","dark:border-gray-600","space-y-2"],["title","View Workout Log",1,"flex","w-full","items-center","justify-center","px-2","py-1","border","border-transparent","rounded-md","shadow-sm","text-xs","font-medium","text-white","bg-indigo-600","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500","dark:bg-indigo-500","dark:hover:bg-indigo-600","dark:focus:ring-offset-gray-800","transition-colors","duration-150",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"w-4","h-4","mr-1"],["d","M10 12.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Z"],["fill-rule","evenodd","d","M.664 10.59a1.651 1.651 0 0 1 0-1.186A10.004 10.004 0 0 1 10 3c4.257 0 7.893 2.66 9.336 6.41.147.381.146.804 0 1.186A10.004 10.004 0 0 1 10 17c-4.257 0-7.893-2.66-9.336-6.41ZM14 10a4 4 0 1 1-8 0 4 4 0 0 1 8 0Z","clip-rule","evenodd"],["title","Show Trend for this PB","title","View trend Log",1,"flex","w-full","items-center","justify-center","px-2","py-1","border","border-transparent","rounded-md","shadow-sm","text-xs","font-medium","text-white","bg-primary","hover:bg-primary-light","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-primary","dark:bg-primary","dark:hover:bg-primary-light","dark:focus:ring-offset-gray-800","transition-colors","duration-150",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-5","h-5","mr-2"],["stroke-linecap","round","stroke-linejoin","round","d","M2.25 18 9 11.25l4.306 4.306a11.95 11.95 0 0 1 5.814-5.518l2.74-1.22m0 0-5.94-2.281m5.94 2.28-2.28 5.941"],[1,"text-center","py-10","bg-white","dark:bg-gray-700","rounded-xl","shadow-lg"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-16","h-16","mx-auto","text-gray-400","dark:text-gray-500","mb-4"],["stroke-linecap","round","stroke-linejoin","round","d","M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607zM13.5 10.5h-6"],[1,"text-xl","font-semibold","text-gray-700","dark:text-gray-300","mb-2"],[1,"text-gray-500","dark:text-gray-400","px-4"],["appPress","",1,"text-primary","dark:text-primary-light","hover:underline",3,"shortPress"],["appPress","","type","button",1,"fixed","bottom-20","right-4","z-40","bg-primary","dark:bg-primary","text-white","rounded-full","p-3","shadow-lg","hover:bg-primary-dark","dark:hover:bg-primary-light","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-primary-focus","dark:focus:ring-offset-gray-900","transition-opacity","animate-fade-in",3,"shortPress"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","2.5","stroke","currentColor",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","d","M4.5 15.75l7.5-7.5 7.5 7.5"]],template:function(e,n){if(e&1){let s=k();r(0,"div",5)(1,"div",6)(2,"button",7),T(),r(3,"svg",8),c(4,"path",9),t()(),I(),r(5,"header",10)(6,"h1",11),o(7,"Personal Bests"),t(),r(8,"button",12),u("click",function(){return v(s),b(n.toggleFiltersVisibility())}),T(),r(9,"svg",13),c(10,"path",14),t(),I(),r(11,"span",15),o(12,"Toggle Filters"),t()()()(),r(13,"div",16)(14,"div",17)(15,"h2",18),o(16,"Filter PBs"),t(),r(17,"div",19)(18,"div")(19,"label",20),o(20," Filter by Exercise Name "),t(),r(21,"input",21,0),u("input",function(){v(s);let p=B(22);return b(n.exerciseNameFilter.set(p.value))}),t()(),r(23,"div")(24,"label",22),o(25," Filter by PB Type "),t(),r(26,"select",23,1),u("change",function(){v(s);let p=B(27);return b(n.pbTypeFilter.set(p.value))}),r(28,"option",24),o(29,"All PB Types"),t(),h(30,Tt,2,2,"option",25),t()(),r(31,"div")(32,"label",26),o(33," Filter by Category "),t(),r(34,"select",27,2),u("change",function(){v(s);let p=B(35);return b(n.exerciseCategoryFilter.set(p.value))}),r(36,"option",24),o(37,"All Categories"),t(),h(38,It,3,4,"option",25),t()()(),r(39,"div",28)(40,"button",29),u("shortPress",function(){return v(s),b(n.resetFilters())}),T(),r(41,"svg",30),c(42,"path",31),t(),o(43," CLEAR FILTERS "),t(),I(),r(44,"button",32),u("shortPress",function(){return v(s),b(n.triggerRecalculatePBs())}),T(),r(45,"svg",33),c(46,"path",34),t(),I(),r(47,"span",35),o(48,"RECALCULATE"),t()(),r(49,"button",36),u("shortPress",function(){return v(s),b(n.resetPBs())}),T(),r(50,"svg",37),c(51,"path",38),t(),I(),r(52,"span",35),o(53,"RESET PBs"),t()(),h(54,At,6,2,"div",39),t()()(),h(55,Lt,3,1,"div",40)(56,Wt,11,5,"ng-template",null,3,z)(58,$t,5,0,"button",41),t()}if(e&2){let s=B(57);l(9),ee("rotate-180",n.filtersVisible()),l(4),Ae("max-height",n.filtersVisible()?"1000px":"0px"),ee("mb-6",n.filtersVisible()),l(8),d("value",n.exerciseNameFilter()),l(5),d("value",n.pbTypeFilter()),l(4),d("ngForOf",n.availablePbTypes()),l(4),d("value",n.exerciseCategoryFilter()),l(4),d("ngForOf",n.availableCategories()),l(16),d("ngIf",n.combinedPersonalBests().length>0),l(),d("ngIf",n.displayPersonalBests().length>0)("ngIfElse",s),l(3),d("ngIf",n.showBackToTopButton())}},dependencies:[U,L,R,Re,ie,Ge,ve],styles:[".custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent;border-radius:3px}.custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#9ca3af;border-radius:3px}.custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#6b7280}.dark[_ngcontent-%COMP%]   .custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#4b5563}.dark[_ngcontent-%COMP%]   .custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#6b7280}"],data:{animation:[Be("slideInOutActions",[X("void",q({height:"0px",opacity:0,overflow:"hidden",paddingTop:"0",paddingBottom:"0",marginTop:"0",marginBottom:"0"})),X("*",q({height:"*",opacity:1,overflow:"hidden",paddingTop:"0.5rem",paddingBottom:"0.5rem"})),ae("void <=> *",oe("200ms ease-in-out"))]),Be("dropdownMenu",[X("void",q({opacity:0,transform:"scale(0.75) translateY(-10px)",transformOrigin:"top right"})),X("*",q({opacity:1,transform:"scale(1) translateY(0)",transformOrigin:"top right"})),ae("void => *",[oe("150ms cubic-bezier(0.25, 0.8, 0.25, 1)")]),ae("* => void",[oe("100ms cubic-bezier(0.25, 0.8, 0.25, 1)")])])]}})};var Pe=class a{STORE_NAME="progress_photos";dbService=y(je);saveImage(i,e){return C(this,null,function*(){return Z(this.dbService.update(this.STORE_NAME,{date:i,image:e}))})}getImage(i){return C(this,null,function*(){if(!i)return Promise.resolve(void 0);let e=yield Z(this.dbService.getByKey(this.STORE_NAME,i));return e?e.image:void 0})}deleteImage(i){return C(this,null,function*(){return i?Z(this.dbService.delete(this.STORE_NAME,i)):Promise.resolve()})}static \u0275fac=function(e){return new(e||a)};static \u0275prov=Ne({token:a,factory:a.\u0275fac,providedIn:"root"})};var Yt=(a,i)=>({"text-yellow-500":a,"text-gray-500":i});function zt(a,i){if(a&1&&(r(0,"option",18),o(1),w(2,"date"),t()),a&2){let e=i.$implicit;d("value",e.date),l(),_("",P(2,2,e.date,"mediumDate")," ")}}function Kt(a,i){if(a&1&&(r(0,"option",18),o(1),w(2,"date"),t()),a&2){let e=i.$implicit;d("value",e.date),l(),_("",P(2,2,e.date,"mediumDate")," ")}}function qt(a,i){if(a&1&&(r(0,"option",18),o(1),t()),a&2){let e=i.$implicit;d("value",e.key),l(),S(e.label)}}function Xt(a,i){if(a&1){let e=k();r(0,"img",41),u("click",function(){v(e);let s=g().$implicit,m=g(2);return b(m.openFullScreenImage(s.photoUrl))}),t()}if(a&2){let e=g().$implicit;d("src",e.photoUrl,$)}}function Zt(a,i){if(a&1){let e=k();r(0,"div",27)(1,"div",28)(2,"div",29)(3,"p",30),o(4),w(5,"date"),t(),r(6,"button",31),u("click",function(){let s=v(e).$implicit,m=g(2);return b(m.confirmDeleteEntry(s.date))}),c(7,"app-icon",32),t(),r(8,"button",33),u("click",function(){let s=v(e).$implicit,m=g(2);return b(m.editEntry(s.date))}),c(9,"app-icon",34),t(),h(10,Xt,1,1,"img",35),r(11,"label",36),o(12),r(13,"input",37),u("change",function(s){let m=v(e).$implicit,p=g(2);return b(p.uploadPhoto(s,m.date))}),t()()(),r(14,"div",38)(15,"p")(16,"strong"),o(17,"Weight:"),t(),o(18),t(),r(19,"p")(20,"strong"),o(21,"Chest:"),t(),o(22),t(),r(23,"p")(24,"strong"),o(25,"Waist:"),t(),o(26),t(),r(27,"p")(28,"strong"),o(29,"Hips:"),t(),o(30),t(),r(31,"p")(32,"strong"),o(33,"Neck:"),t(),o(34),t(),r(35,"p")(36,"strong"),o(37,"R. Arm:"),t(),o(38),t()(),r(39,"div")(40,"label",39),o(41,"Notes:"),t(),r(42,"textarea",40),u("input",function(s){let m=v(e).$implicit,p=g(2);return b(p.updateNotes(m.date,s))}),t()()()()}if(a&2){let e=i.$implicit;l(4),S(P(5,10,e.date,"fullDate")),l(6),d("ngIf",e.photoUrl),l(2),_(" ",e.photoUrl?"Change Photo":"Add Photo"," "),l(6),_(" ",e.weightKg||"N/A"," kg"),l(4),_(" ",e.chestCm||"N/A"," cm"),l(4),_(" ",e.waistCm||"N/A"," cm"),l(4),_(" ",e.hipsCm||"N/A"," cm"),l(4),_(" ",e.neckCm||"N/A"," cm"),l(4),_(" ",e.rightArmCm||"N/A"," cm"),l(4),d("value",e.notes||"")}}function Jt(a,i){if(a&1){let e=k();r(0,"div")(1,"section",19)(2,"h2",20),o(3,"Progress Chart"),t(),r(4,"div",21)(5,"select",22),u("change",function(s){v(e);let m=g();return b(m.updateChart(s))}),h(6,qt,2,2,"option",11),t()(),r(7,"div",23),c(8,"ngx-charts-line-chart",24),t()(),r(9,"section",25)(10,"h2",20),o(11,"Log History"),t(),h(12,Zt,43,13,"div",26),t()()}if(a&2){let e=g();l(6),d("ngForOf",e.availableMetrics),l(2),d("results",e.chartData)("scheme",e.colorScheme)("xAxis",!0)("yAxis",!0)("legend",!0)("showXAxisLabel",!0)("showYAxisLabel",!0)("xAxisLabel","Date")("yAxisLabel",e.yAxisLabel)("autoScale",!0)("referenceLines",e.referenceLines),l(4),d("ngForOf",e.measurementHistory)}}function Qt(a,i){a&1&&(r(0,"div",42)(1,"p",43),o(2,"No measurement history found."),t(),r(3,"p",44),o(4,"Go to your profile settings to add your first entry!"),t()())}function er(a,i){if(a&1){let e=k();r(0,"div",45),u("click",function(){v(e);let s=g();return b(s.closeFullScreenImage())}),c(1,"img",46),t()}if(a&2){let e=g();l(),d("src",e.fullScreenImageUrl,$)}}function tr(a,i){if(a&1){let e=k();r(0,"div",47)(1,"div",48)(2,"h2",49),o(3,"Add Measurement Entry"),t(),r(4,"form",50),u("ngSubmit",function(){v(e);let s=g();return b(s.saveEntry())}),r(5,"label",51),o(6,"Date"),t(),c(7,"input",52),r(8,"div",53)(9,"div")(10,"label",54),o(11,"Target Weight (kg)"),t(),c(12,"input",55),t(),r(13,"div")(14,"label",56),o(15,"Chest (cm)"),t(),c(16,"input",57),t(),r(17,"div")(18,"label",58),o(19,"Waist (cm)"),t(),c(20,"input",59),t(),r(21,"div")(22,"label",60),o(23,"Hips (cm)"),t(),c(24,"input",61),t(),r(25,"div")(26,"label",62),o(27,"Neck (cm)"),t(),c(28,"input",63),t(),r(29,"div")(30,"label",64),o(31,"Right Arm (cm)"),t(),c(32,"input",65),t()(),c(33,"textarea",66),r(34,"div",67)(35,"button",68),u("click",function(){v(e);let s=g();return b(s.isAddEntryModalOpen=!1)}),c(36,"app-icon",69),o(37," CANCEL"),t(),r(38,"button",70),c(39,"app-icon",71),o(40,"SAVE"),t()()()()()}if(a&2){let e=g();l(4),d("formGroup",e.entryForm),l(34),d("disabled",e.entryForm.invalid)}}function rr(a,i){if(a&1&&(r(0,"span"),o(1),t()),a&2){let e=g().$implicit;l(),S(e.unit)}}function ir(a,i){if(a&1&&(r(0,"span"),o(1),t()),a&2){let e=g().$implicit;l(),S(e.unit)}}function nr(a,i){if(a&1&&(Ie(0),o(1),Fe()),a&2){let e=g().$implicit;l(),te(" ",e.difference>0?"+":"","",e.difference," ",e.unit," ")}}function or(a,i){a&1&&(Ie(0),o(1,"N/A"),Fe())}function ar(a,i){if(a&1&&(r(0,"tr",93)(1,"th",94),o(2),t(),r(3,"td",95),o(4),h(5,rr,2,1,"span",96),t(),r(6,"td",95),o(7),h(8,ir,2,1,"span",96),t(),r(9,"td",97),h(10,nr,2,3,"ng-container",96)(11,or,2,0,"ng-container",96),t()()),a&2){let e=i.$implicit;l(2),S(e.metricLabel),l(2),_("",e.fromValue," "),l(),d("ngIf",e.fromValue!=="N/A"),l(2),_("",e.toValue," "),l(),d("ngIf",e.toValue!=="N/A"),l(),d("ngClass",Y(8,Yt,e.difference!==null&&e.difference!==null,e.difference===0||e.difference===null)),l(),d("ngIf",e.difference!==null),l(),d("ngIf",e.difference===null)}}function sr(a,i){if(a&1){let e=k();r(0,"div",72)(1,"div",73)(2,"div",74)(3,"h2",75),o(4,"Side-by-Side Comparison"),t(),r(5,"button",76),u("click",function(){v(e);let s=g();return b(s.comparisonData=null)}),c(6,"app-icon",77),t()(),r(7,"div",78)(8,"div",79),c(9,"img",80),r(10,"p",81),o(11),w(12,"date"),t()(),r(13,"div",79),c(14,"img",82),r(15,"p",81),o(16),w(17,"date"),t()()(),r(18,"div",83)(19,"table",84)(20,"thead",85)(21,"tr")(22,"th",86),o(23,"Metric"),t(),r(24,"th",87),o(25),w(26,"date"),t(),r(27,"th",87),o(28),w(29,"date"),t(),r(30,"th",88),o(31,"Change"),t()()(),r(32,"tbody"),h(33,ar,12,11,"tr",89),t()()(),r(34,"div",90)(35,"button",91),u("click",function(){v(e);let s=g();return b(s.comparisonData=null)}),c(36,"app-icon",92),o(37," CLOSE"),t()()()()}if(a&2){let e=g();l(9),d("src",e.comparisonData.from.photoUrl||"./assets/images/no_data.png",$),l(2),S(P(12,7,e.comparisonData.from.date,"fullDate")),l(3),d("src",e.comparisonData.to.photoUrl||"./assets/images/no_data.png",$),l(2),S(P(17,10,e.comparisonData.to.date,"fullDate")),l(9),_("",P(26,13,e.comparisonData.from.date,"shortDate")," "),l(3),_("",P(29,16,e.comparisonData.to.date,"shortDate")," "),l(5),d("ngForOf",e.comparisonData.rows)}}var Te=class a{userProfileService=y(we);imageStorageService=y(Pe);toastService=y(H);fb=y(he);alertService=y(xe);compareFromDate="";compareToDate="";userProfile=null;measurementHistory=[];fullScreenImageUrl=null;isAddEntryModalOpen=!1;comparisonData=null;entryForm;chartData=[];yAxisLabel="Value";referenceLines=[];colorScheme="vivid";availableMetrics=[];notesUpdate$=new De;ngOnInit(){this.userProfile=this.userProfileService.getProfile(),this.setupAvailableMetrics(),this.loadHistory(),this.initEntryForm(),this.notesUpdate$.pipe(A(1e3)).subscribe(i=>this.saveNotes(i.date,i.notes))}setupAvailableMetrics(){this.availableMetrics=[{key:"weightKg",label:"Weight (kg)"},{key:"bmi",label:"Body Mass Index (BMI)"},{key:"bodyFat",label:"Body Fat % (Navy)"},{key:"chestCm",label:"Chest (cm)"},{key:"waistCm",label:"Waist (cm)"},{key:"hipsCm",label:"Hips (cm)"},{key:"neckCm",label:"Neck (cm)"},{key:"rightArmCm",label:"Right Arm (cm)"}]}loadHistory(){return C(this,null,function*(){this.userProfile=this.userProfileService.getProfile();let i=this.userProfile?.measurementHistory?.slice().sort((e,n)=>new Date(n.date).getTime()-new Date(e.date).getTime())||[];if(this.measurementHistory=yield Promise.all(i.map(e=>C(this,null,function*(){if(!e.date)return null;let n=yield this.imageStorageService.getImage(e.date),s=n?URL.createObjectURL(n):void 0;return W(j({},e),{photoUrl:s})}))).then(e=>e.filter(Boolean)),this.measurementHistory.length>0){let e=document.getElementById("metric-select");this.prepareChartData(e?.value||"weightKg")}else this.chartData=[]})}prepareChartData(i){let e=this.availableMetrics.find(m=>m.key===i);this.yAxisLabel=e?e.label:"Value";let s=this.measurementHistory.slice().reverse().map(m=>{let p=null;if(i==="bmi")m.weightKg&&this.userProfile?.heightCm&&this.userProfile.heightCm>0&&(p=this.userProfileService.calculateBMI(m.weightKg,this.userProfile.heightCm));else if(i==="bodyFat"){let{gender:x,heightCm:E}=this.userProfile||{},{waistCm:F,neckCm:G,hipsCm:pt}=m;if(x&&E&&F&&G){let ct={waistCm:F,neckCm:G,heightCm:E,hipsCm:pt??void 0};p=this.userProfileService.calculateBodyFatNavy(x,ct)}}else{let x=m[i];typeof x=="number"&&(p=x)}return{name:m.date,value:p}}).filter(m=>m.value!==null&&m.value!==void 0&&!isNaN(m.value));this.chartData=[{name:this.yAxisLabel,series:s}],this.updateReferenceLine(i)}updateReferenceLine(i){let e=this.userProfile?.measurementGoals?.[i];typeof e=="number"?this.referenceLines=[{name:"Goal",value:e}]:this.referenceLines=[]}updateChart(i){let e=i.target;this.prepareChartData(e.value)}initEntryForm(){this.entryForm=this.fb.group({date:["",f.required],weightKg:[null,[f.min(0)]],waistCm:[null,[f.min(0)]],neckCm:[null,[f.min(0)]],chestCm:[null,[f.min(0)]],hipsCm:[null,[f.min(0)]],rightArmCm:[null,[f.min(0)]],notes:[""]})}openAddEntryModal(){this.entryForm.reset({date:new Date().toISOString().split("T")[0]}),this.isAddEntryModalOpen=!0}saveEntry(){this.entryForm.invalid||(this.userProfileService.addOrUpdateMeasurementEntry(this.entryForm.value),this.isAddEntryModalOpen=!1,this.loadHistory(),this.toastService.success("Entry Saved!"))}updateNotes(i,e){let n=e.target.value;this.notesUpdate$.next({date:i,notes:n})}saveNotes(i,e){let n=this.measurementHistory.find(s=>s.date===i);if(n){let s=W(j({},n),{notes:e});delete s.photoUrl,this.userProfileService.addOrUpdateMeasurementEntry(s),this.toastService.info("Notes auto-saved.",1500)}}uploadPhoto(i,e){return C(this,null,function*(){let n=i.target;if(!n.files||n.files.length===0)return;let s=n.files[0];try{yield this.imageStorageService.saveImage(e,s);let m=this.measurementHistory.find(p=>p.date===e);m&&(m.photoUrl&&URL.revokeObjectURL(m.photoUrl),m.photoUrl=URL.createObjectURL(s)),this.toastService.success("Photo saved!")}catch(m){console.error("Failed to save photo:",m),this.toastService.error("Could not save photo.")}finally{n.value=""}})}openFullScreenImage(i){this.fullScreenImageUrl=i}closeFullScreenImage(){this.fullScreenImageUrl=null}onCompareFromChange(i){let e=i.target;this.compareFromDate=e.value}onCompareToChange(i){let e=i.target;this.compareToDate=e.value}closeCompareModal(){this.comparisonData=null,this.compareFromDate="",this.compareToDate=""}openCompareModal(i,e){if(!i||!e){this.toastService.error("Please select two dates to compare.");return}let n=this.measurementHistory.find(p=>p.date===i),s=this.measurementHistory.find(p=>p.date===e);if(!n||!s){this.toastService.error("Could not find the selected entries.");return}new Date(n.date)>new Date(s.date)&&([n,s]=[s,n]);let m=this.calculateComparisonRows(n,s);this.comparisonData={from:n,to:s,rows:m}}calculateComparisonRows(i,e){return[{key:"weightKg",label:"Weight",unit:"kg"},{key:"chestCm",label:"Chest",unit:"cm"},{key:"waistCm",label:"Waist",unit:"cm"},{key:"hipsCm",label:"Hips",unit:"cm"},{key:"neckCm",label:"Neck",unit:"cm"},{key:"rightArmCm",label:"Right Arm",unit:"cm"}].map(s=>{let m=i[s.key],p=e[s.key],x=null;return typeof m=="number"&&typeof p=="number"&&(x=parseFloat((p-m).toFixed(2))),{metricLabel:s.label,unit:s.unit,fromValue:m??"N/A",toValue:p??"N/A",difference:x}})}editEntry(i){let e=this.measurementHistory.find(n=>n.date===i);if(!e){this.toastService.error("Entry not found.");return}this.entryForm.setValue({date:e.date,weightKg:e.weightKg??null,waistCm:e.waistCm??null,neckCm:e.neckCm??null,chestCm:e.chestCm??null,hipsCm:e.hipsCm??null,rightArmCm:e.rightArmCm??null,notes:e.notes??""}),this.isAddEntryModalOpen=!0}confirmDeleteEntry(i){return C(this,null,function*(){let e=yield this.alertService.showConfirm("Delete Entry",`Are you sure you want to permanently delete all data for ${i}? This includes any associated photo and cannot be undone.`);if(e&&e.data)try{this.userProfileService.deleteMeasurementEntry(i),yield this.imageStorageService.deleteImage(i),this.toastService.success("Entry deleted successfully."),yield this.loadHistory()}catch(n){console.error("Failed to delete entry:",n),this.toastService.error("Could not delete the entry.")}})}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=O({type:a,selectors:[["app-measurement-history"]],decls:28,vars:9,consts:[["noData",""],[1,"container","mx-auto","p-2","sm:p-4","text-gray-800","dark:text-gray-200"],[1,"flex","justify-between","items-center","pb-4","border-b","border-gray-200","dark:border-gray-700","mb-4"],[1,"text-2xl","font-bold"],[1,"px-4","py-2","bg-primary","hover:bg-primary-dark","text-white","font-semibold","rounded-md","shadow-sm","transition-colors","inline-flex","items-center","text-sm",3,"click"],["name","plus-circle"],[1,"bg-white","dark:bg-gray-800","p-4","rounded-md","shadow-md","mb-6"],[1,"font-semibold","mb-2"],[1,"flex","flex-col","sm:flex-row","gap-4","items-center"],[1,"flex-1","p-2","border","dark:border-gray-600","rounded-md","dark:bg-gray-700",3,"change"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"px-4","py-2","bg-indigo-500","hover:bg-indigo-600","text-white","rounded-md","disabled:opacity-50","flex","items-center",3,"click","disabled"],["name","magnifier",1,"h-6","w-6","mr-1",3,"strokeWidth"],[4,"ngIf","ngIfElse"],["class","fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 p-4",3,"click",4,"ngIf"],["class","fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4 text-gray-800 dark:text-gray-200 backdrop-blur-sm animate-fade-in",4,"ngIf"],["class","fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 p-4 animate-fade-in text-gray-800 dark:text-gray-200",4,"ngIf"],[3,"value"],[1,"bg-white","dark:bg-gray-800","p-4","sm:p-6","rounded-md","shadow-md","mb-6"],[1,"text-xl","font-semibold","mb-4"],[1,"mb-4"],[1,"p-2","border","dark:border-gray-600","rounded-md","dark:bg-gray-700",3,"change"],[1,"w-full","h-[300px]"],[3,"results","scheme","xAxis","yAxis","legend","showXAxisLabel","showYAxisLabel","xAxisLabel","yAxisLabel","autoScale","referenceLines"],[1,"bg-white","dark:bg-gray-800","p-4","sm:p-6","rounded-md","shadow-md"],["class","border-b dark:border-gray-700 py-4 last:border-b-0",4,"ngFor","ngForOf"],[1,"border-b","dark:border-gray-700","py-4","last:border-b-0"],[1,"grid","grid-cols-1","sm:grid-cols-3","gap-4","items-start"],[1,"flex","flex-col","items-center"],[1,"font-medium","text-lg","mb-2"],["title","Delete Entry",1,"p-1","rounded-full","text-gray-400","hover:bg-red-100","hover:text-red-500","dark:hover:bg-red-900/50","transition-colors",3,"click"],["name","trash",1,"w-4","h-4"],["title","Edit Entry",1,"p-1","rounded-full","text-gray-400","hover:bg-red-100","hover:text-red-500","dark:hover:bg-red-900/50","transition-colors",3,"click"],["name","edit",1,"w-4","h-4"],["alt","Progress photo","class","w-24 h-24 object-cover rounded-md shadow-lg cursor-pointer hover:opacity-80 transition-opacity",3,"src","click",4,"ngIf"],[1,"cursor-pointer","text-sm","text-primary","dark:text-primary-dark","hover:underline","mt-2"],["type","file","accept","image/*",1,"hidden",3,"change"],[1,"text-sm","grid","grid-cols-2","gap-x-4","gap-y-1"],[1,"font-semibold","text-sm"],["placeholder","Add notes...",1,"w-full","p-2","mt-1","border","rounded-md","dark:bg-gray-700","dark:border-gray-600","h-24",3,"input","value"],["alt","Progress photo",1,"w-24","h-24","object-cover","rounded-md","shadow-lg","cursor-pointer","hover:opacity-80","transition-opacity",3,"click","src"],[1,"text-center","bg-white","dark:bg-gray-800","p-10","rounded-md","shadow-md"],[1,"text-lg"],[1,"text-gray-500","dark:text-gray-400","mt-2"],[1,"fixed","inset-0","bg-black","bg-opacity-80","flex","items-center","justify-center","z-50","p-4",3,"click"],[1,"max-w-full","max-h-full","object-contain",3,"src"],[1,"fixed","inset-0","bg-black","bg-opacity-60","flex","items-center","justify-center","z-50","p-4","text-gray-800","dark:text-gray-200","backdrop-blur-sm","animate-fade-in"],[1,"bg-white","dark:bg-gray-800","rounded-lg","shadow-xl","p-6","w-full","max-w-md"],[1,"text-xl","font-bold","mb-4"],[3,"ngSubmit","formGroup"],["for","date",1,"block","text-xs","font-medium","text-gray-600","dark:text-gray-400"],["type","date","formControlName","date","id","date",1,"w-full","p-2","border","rounded","mb-4","dark:bg-gray-700","dark:border-gray-600"],[1,"grid","grid-cols-2","gap-4","mb-4"],["for","weightKg",1,"block","text-xs","font-medium","text-gray-600","dark:text-gray-400"],["type","number","formControlName","weightKg","id","weightKg","placeholder","Weight (kg)",1,"p-2","border","rounded","dark:bg-gray-700","dark:border-gray-600"],["for","chestCm",1,"block","text-xs","font-medium","text-gray-600","dark:text-gray-400"],["type","number","formControlName","chestCm","id","chestCm","placeholder","Chest (cm)",1,"p-2","border","rounded","dark:bg-gray-700","dark:border-gray-600"],["for","waistCm",1,"block","text-xs","font-medium","text-gray-600","dark:text-gray-400"],["type","number","formControlName","waistCm","id","waistCm","placeholder","Waist (cm)",1,"p-2","border","rounded","dark:bg-gray-700","dark:border-gray-600"],["for","hipsCm",1,"block","text-xs","font-medium","text-gray-600","dark:text-gray-400"],["type","number","formControlName","hipsCm","id","hipsCm","placeholder","Hips (cm)",1,"p-2","border","rounded","dark:bg-gray-700","dark:border-gray-600"],["for","neckCm",1,"block","text-xs","font-medium","text-gray-600","dark:text-gray-400"],["type","number","formControlName","neckCm","id","neckCm","placeholder","Neck (cm)",1,"p-2","border","rounded","dark:bg-gray-700","dark:border-gray-600"],["for","rightArmCm",1,"block","text-xs","font-medium","text-gray-600","dark:text-gray-400"],["type","number","formControlName","rightArmCm","id","rightArmCm","placeholder","Right Arm (cm)",1,"p-2","border","rounded","dark:bg-gray-700","dark:border-gray-600"],["formControlName","notes","placeholder","Notes...",1,"w-full","p-2","border","rounded","mb-4","h-24","dark:bg-gray-700","dark:border-gray-600"],[1,"flex","justify-end","gap-4","text-white"],["type","button",1,"px-4","py-2","rounded","flex","items-center",3,"click"],["name","cancel",1,"h-6","w-6","text-white"],["type","submit",1,"px-4","py-2","bg-primary","text-white","rounded","disabled:opacity-50","flex","items-center",3,"disabled"],["name","save",1,"h-7","w-7","mr-1"],[1,"fixed","inset-0","bg-black","bg-opacity-70","flex","items-center","justify-center","z-50","p-4","animate-fade-in","text-gray-800","dark:text-gray-200"],[1,"bg-white","dark:bg-gray-800","rounded-lg","shadow-xl","p-4","sm:p-6","w-full","max-w-3xl","max-h-[90vh]","overflow-y-auto"],[1,"flex","justify-between","items-center","mb-4"],[1,"text-xl","sm:text-2xl","font-bold"],[1,"text-gray-500","hover:text-gray-800","dark:hover:text-gray-200",3,"click"],["name","cancel",1,"h-6","w-6"],[1,"grid","grid-cols-2","gap-4","mb-6"],[1,"text-center"],["alt","Start photo",1,"w-full","h-48","sm:h-64","object-cover","rounded-md","bg-gray-200","dark:bg-gray-700",3,"src"],[1,"mt-2","font-semibold","text-sm"],["alt","End photo",1,"w-full","h-48","sm:h-64","object-cover","rounded-md","bg-gray-200","dark:bg-gray-700",3,"src"],[1,"overflow-x-auto"],[1,"w-full","text-sm","text-left"],[1,"text-xs","text-gray-700","uppercase","bg-gray-50","dark:bg-gray-700","dark:text-gray-400","rounded-lg"],["scope","col",1,"px-4","py-3","rounded-l-lg"],["scope","col",1,"px-4","py-3","text-center"],["scope","col",1,"px-4","py-3","text-center","rounded-r-lg"],["class","border-b dark:border-gray-700",4,"ngFor","ngForOf"],[1,"flex","justify-end","mt-6"],[1,"px-5","py-2.5","rounded-lg","bg-gray-200","hover:bg-gray-300","dark:bg-gray-600","dark:hover:bg-gray-700","text-sm","font-medium","flex","items-center",3,"click"],["name","cancel"],[1,"border-b","dark:border-gray-700"],["scope","row",1,"px-4","py-4","font-medium","whitespace-nowrap"],[1,"px-4","py-4","text-center"],[4,"ngIf"],[1,"px-4","py-4","text-center","font-bold",3,"ngClass"]],template:function(e,n){if(e&1){let s=k();r(0,"div",1)(1,"header",2)(2,"h1",3),o(3,"Measurement History"),t(),r(4,"button",4),u("click",function(){return v(s),b(n.openAddEntryModal())}),c(5,"app-icon",5),o(6," ADD PAST ENTRY "),t()(),r(7,"section",6)(8,"h3",7),o(9,"Side-by-Side Comparison"),t(),r(10,"div",8)(11,"select",9),u("change",function(p){return v(s),b(n.onCompareFromChange(p))}),r(12,"option",10),o(13,"-- Select Start Date --"),t(),h(14,zt,3,5,"option",11),t(),r(15,"select",9),u("change",function(p){return v(s),b(n.onCompareToChange(p))}),r(16,"option",10),o(17,"-- Select End Date --"),t(),h(18,Kt,3,5,"option",11),t(),r(19,"button",12),u("click",function(){return v(s),b(n.openCompareModal(n.compareFromDate,n.compareToDate))}),c(20,"app-icon",13),o(21," COMPARE "),t()()(),h(22,Jt,13,13,"div",14)(23,Qt,5,0,"ng-template",null,0,z),t(),h(25,er,2,1,"div",15)(26,tr,41,2,"div",16)(27,sr,38,19,"div",17)}if(e&2){let s=B(24);l(14),d("ngForOf",n.measurementHistory),l(4),d("ngForOf",n.measurementHistory),l(),d("disabled",!n.compareFromDate||!n.compareToDate),l(),d("strokeWidth",2),l(2),d("ngIf",n.measurementHistory.length>0)("ngIfElse",s),l(3),d("ngIf",n.fullScreenImageUrl),l(),d("ngIf",n.isAddEntryModalOpen),l(),d("ngIf",n.comparisonData)}},dependencies:[U,re,L,R,ie,ot,nt,ye,de,ge,fe,se,pe,le,me,ce,ue,be],encapsulation:2})};var Bi=[{path:"",component:Ce,title:"Profile & Settings"},{path:"personal-bests",component:Ee,title:"Personal Bests"},{path:"measurements",component:Te,title:"Body Measurements"}];export{Bi as PROFILE_SETTINGS_ROUTES};
