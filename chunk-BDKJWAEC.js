import{a as Ge}from"./chunk-DPF4ESRZ.js";import{a as We}from"./chunk-P3EMJIT4.js";import{a as K}from"./chunk-RRGXXZFY.js";import"./chunk-6OI4XMPV.js";import{g as Re}from"./chunk-YTQMFPSR.js";import{a as z,b as Z,c as je}from"./chunk-47S3IQPL.js";import{c as Ue}from"./chunk-ALHJAEGL.js";import{a as He}from"./chunk-276N6JON.js";import{A as X,Aa as ce,Ba as m,Bb as ue,Bc as Te,Ca as t,Cb as R,Cc as Be,D as Q,Da as e,Db as U,Dc as Fe,E as de,Ea as u,Ec as Ae,Fc as Ie,Gc as Ve,Ia as k,Ib as fe,Ic as Me,Ja as p,Jb as he,K as ee,Ka as f,Kb as ve,Kc as De,Lb as be,Lc as Y,Mc as Le,Nb as G,Nc as Oe,Ob as V,Oc as $,Pc as Ne,Q as h,Ra as A,S as x,Sa as te,T as y,Ta as N,U as S,V as _,Va as o,Wa as P,Xa as w,Z as E,Za as ge,Zb as H,_b as xe,a as le,b as me,ca as L,dc as ae,ec as j,g as F,ga as pe,gb as re,gc as M,hc as D,ia as l,ic as W,kb as C,lb as I,mb as ie,nb as ne,nc as ye,ob as oe,oc as Se,pc as b,qa as O,qc as _e,rb as B,rc as we,va as v,vc as ke,wc as Pe,yc as Ce,zc as Ee}from"./chunk-SNKMYA46.js";var Ye=(s,n)=>({"bg-primary hover:bg-primary-dark text-white border-primary dark:border-primary":s,"border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700":n});function qe(s,n){if(s&1&&(t(0,"option",86),o(1),e()),s&2){let i=n.$implicit;m("value",i.value),l(),w("",i.label," ")}}function Je(s,n){s&1&&(t(0,"div",87),o(1," Must be a positive number (e.g., 2.5 or 5). Max 50. "),e())}function Xe(s,n){s&1&&(t(0,"div",87),o(1," Must be 1-20s. "),e())}function Qe(s,n){if(s&1){let i=k();t(0,"div",9)(1,"label",88),o(2,"Countdown From (seconds)"),e(),t(3,"input",89),p("change",function(){x(i);let a=f();return y(a.currentVibrator.vibrate(50))}),e(),v(4,Xe,2,0,"div",38),e()}if(s&2){let i,r=f();l(4),m("ngIf",((i=r.appSettingsForm.get("countdownSoundSeconds"))==null?null:i.invalid)&&((i=r.appSettingsForm.get("countdownSoundSeconds"))==null?null:i.touched))}}function et(s,n){s&1&&(t(0,"div",87),o(1," Must be 3-60s. "),e())}function tt(s,n){if(s&1){let i=k();t(0,"div",90)(1,"label",91),o(2,"Pre-Set Timer Duration (seconds)"),e(),t(3,"input",92),p("change",function(){x(i);let a=f();return y(a.currentVibrator.vibrate(50))}),e(),v(4,et,2,0,"div",38),e()}if(s&2){let i,r=f();l(4),m("ngIf",((i=r.appSettingsForm.get("presetTimerDurationSeconds"))==null?null:i.invalid)&&((i=r.appSettingsForm.get("presetTimerDurationSeconds"))==null?null:i.touched))}}function rt(s,n){if(s&1){let i=k();t(0,"div",90)(1,"div",48)(2,"div")(3,"h3",93),o(4,"Pre-Set Timer after Rest "),e(),t(5,"p",41),o(6,"Show countdown after each rest ends."),e()(),t(7,"label",94)(8,"span",50),o(9,"Toggle Pre-Set Timer after rest"),e(),t(10,"input",95),p("change",function(){x(i);let a=f();return y(a.currentVibrator.vibrate(50))}),e(),u(11,"div",44),t(12,"span",45),o(13),e()()()()}if(s&2){let i,r=f();l(13),w(" ",(i=r.appSettingsForm.get("enablePresetTimerAfterRest"))!=null&&i.value?"On":"Off"," ")}}var q=class s{fb=h(Me);router=h(H);workoutService=h(Ne);trackingService=h(Z);trainingProgramService=h(Ue);exerciseService=h(z);storageService=h(Oe);unitsService=h(K);alertService=h(Le);spinnerService=h(He);themeService=h(je);userProfileService=h(Ge);appSettingsService=h(We);platformId=h(L);toastService=h($);currentVibrator=navigator;profileForm;appSettingsForm;currentUnit=this.unitsService.currentUnit;genders=[{label:"Male",value:"male"},{label:"Female",value:"female"},{label:"Other",value:"other"},{label:"Prefer not to say",value:"prefer_not_to_say"}];BACKUP_VERSION=3;constructor(){this.profileForm=this.fb.group({username:[""],gender:[null],measurements:this.fb.group({heightCm:[null,[b.min(0)]],weightKg:[null,[b.min(0)]],age:[null,[b.min(0),b.max(150)]],chestCm:[null,[b.min(0)]],waistCm:[null,[b.min(0)]],hipsCm:[null,[b.min(0)]],rightArmCm:[null,[b.min(0)]]})}),this.appSettingsForm=this.fb.group({enableTimerCountdownSound:[!0],enableShowWIP:[!0],countdownSoundSeconds:[5,[b.required,b.min(1),b.max(60)]],enablePresetTimer:[!1],enablePresetTimerAfterRest:[!1],presetTimerDurationSeconds:[10,[b.required,b.min(3),b.max(60)]],weightStep:[2.5,[b.required,b.min(.01),b.max(50)]]})}ngOnInit(){V(this.platformId)&&window.scrollTo(0,0),this.loadProfileData(),this.loadAppSettingsData(),this.profileForm.valueChanges.pipe(Q(700),X(()=>this.profileForm.valid&&this.profileForm.dirty),ee(n=>{this.userProfileService.saveProfile(n),this.profileForm.markAsPristine({onlySelf:!1}),this.toastService.info("Profile auto-saved",1500)})).subscribe(),this.appSettingsForm.valueChanges.pipe(Q(700),X(()=>this.appSettingsForm.valid&&this.appSettingsForm.dirty),ee(n=>{this.appSettingsService.saveSettings(n),this.appSettingsForm.markAsPristine({onlySelf:!1}),this.toastService.info("App settings auto-saved",1500)})).subscribe()}loadProfileData(){let n=this.userProfileService.getProfile();n?this.profileForm.reset(n,{emitEvent:!1}):this.profileForm.reset({username:"",gender:null,measurements:{heightCm:null,weightKg:null,age:null,chestCm:null,waistCm:null,hipsCm:null,rightArmCm:null}},{emitEvent:!1})}loadAppSettingsData(){let n=this.appSettingsService.getSettings();this.appSettingsForm.reset(n,{emitEvent:!1})}saveProfileSettings(){if(this.profileForm.invalid){this.toastService.error("Please correct errors in the profile form",3e3,"Validation Error"),this.profileForm.markAllAsTouched();return}this.userProfileService.saveProfile(this.profileForm.value),this.profileForm.markAsPristine(),this.toastService.success("Profile saved successfully!",2e3)}saveAppSettings(){if(this.appSettingsForm.invalid){this.toastService.error("Please correct errors in the app settings form",3e3,"Validation Error"),this.appSettingsForm.markAllAsTouched();return}this.appSettingsService.saveSettings(this.appSettingsForm.value),this.appSettingsForm.markAsPristine(),this.toastService.success("App settings saved successfully!",2e3)}selectUnit(n){this.unitsService.setUnitPreference(n)}exportData(){this.spinnerService.show("Exporting data...");let n={version:this.BACKUP_VERSION,timestamp:new Date().toISOString(),profile:this.userProfileService.getDataForBackup(),appSettings:this.appSettingsService.getDataForBackup(),routines:this.workoutService.getDataForBackup(),programs:this.trainingProgramService.getDataForBackup(),exercises:this.exerciseService.getDataForBackup(),workoutLogs:this.trackingService.getLogsForBackup(),personalBests:this.trackingService.getPBsForBackup()},i=JSON.stringify(n,null,2),r=new Blob([i],{type:"application/json"}),a=URL.createObjectURL(r),d=document.createElement("a"),g=Re(new Date,"yyyyMMdd_HHmmss");d.download=`FitTrackPro_backup_v${this.BACKUP_VERSION}_${g}.json`,d.href=a,d.click(),URL.revokeObjectURL(a),this.spinnerService.hide(),this.toastService.success("Data export initiated",3e3)}importData(n){let i=n.target,r=i.files?.[0];if(!r)return;if(r.type!=="application/json"){this.alertService.showAlert("Error","Invalid file type. Please select a JSON file."),i.value="";return}let a=new FileReader;a.onload=d=>{try{let g=d.target?.result,c=JSON.parse(g);if(typeof c!="object"||c===null){this.alertService.showAlert("Error","Invalid backup file format. Expected an object."),i.value="";return}if(c.version===3){if(!c.exercises||!c.routines){this.alertService.showAlert("Error","Invalid V3 backup file content. Missing essential data sections"),i.value="";return}}else if(c.version===2){if(!c.routines||!c.workoutLogs||!c.personalBests||c.profile===void 0||c.appSettings===void 0){this.alertService.showAlert("Error","Invalid V2 backup file content. Missing essential data sections"),i.value="";return}}else if(c.version===1){if(!c.routines||!c.workoutLogs||!c.personalBests){this.alertService.showAlert("Error","Invalid V1 backup file content. Missing essential data sections"),i.value="";return}}else{this.alertService.showAlert("Error",`Unsupported backup file version. Expected 1,2 or 3, got ${c.version}`),i.value="";return}this.alertService.showConfirm("WARNING","Importing data will try to MERGE your current data with the IMPORTED one. Are you sure?").then(T=>{T&&T.data?(this.spinnerService.show("Importing data..."),this.workoutService.mergeData(c.routines),this.trackingService.replaceLogs(c.workoutLogs),this.trackingService.replacePBs(c.personalBests),c.version===3?(this.exerciseService.mergeData(c.exercises),this.trainingProgramService.mergeData(c.programs),this.userProfileService.replaceData(c.profile),this.appSettingsService.replaceData(c.appSettings)):c.version===2?(this.userProfileService.replaceData(c.profile),this.appSettingsService.replaceData(c.appSettings)):(this.userProfileService.replaceData(null),this.appSettingsService.replaceData(null)),this.loadProfileData(),this.loadAppSettingsData(),this.spinnerService.hide(),this.toastService.success("Data imported successfully!",5e3,"Import Complete")):this.toastService.info("Data import cancelled",2e3)})}catch(g){console.error("Error processing imported file:",g),this.alertService.showAlert("Error","Error processing backup file. Ensure it is valid JSON.")}finally{i.value=""}},a.onerror=()=>{this.alertService.showAlert("Error","Error reading file."),i.value=""},a.readAsText(r)}clearAllAppData(){return F(this,null,function*(){let n=yield this.alertService.showConfirmationDialog("WARNING","This will delete ALL your workout data, profile, and settings. This cannot be undone. Are you sure?");n&&n.data&&(this.trackingService.clearAllWorkoutLogs_DEV_ONLY&&(yield this.trackingService.clearAllWorkoutLogs_DEV_ONLY()),this.trackingService.clearAllPersonalBests_DEV_ONLY&&(yield this.trackingService.clearAllPersonalBests_DEV_ONLY()),this.workoutService.clearAllRoutines_DEV_ONLY&&(yield this.workoutService.clearAllRoutines_DEV_ONLY()),this.userProfileService.clearUserProfile_DEV_ONLY&&this.userProfileService.clearUserProfile_DEV_ONLY(),this.appSettingsService.clearAppSettings_DEV_ONLY&&this.appSettingsService.clearAppSettings_DEV_ONLY(),this.trainingProgramService.deactivateAllPrograms&&this.trainingProgramService.deactivateAllPrograms(),this.loadProfileData(),this.loadAppSettingsData(),yield this.alertService.showAlert("Info","All application data has been cleared"))})}get measForm(){return this.profileForm.get("measurements")}toggleWipDisclaimer(){let n=this.userProfileService.getHideWipDisclaimer();this.userProfileService.updateHideWipDisclaimer(!n)}navigateToExerciseLibrary(){this.router.navigate(["/library"])}navigateToPersonalBests(){this.router.navigate(["/profile/personal-bests"])}onSyncExerciseHistoryClick(){return F(this,null,function*(){let n=yield this.alertService.showConfirm("Sync Exercise History",'This will scan your workout logs to update the "Last Used" date for all exercises. This may take a moment. Proceed?');n&&n.data&&(yield this.trackingService.backfillLastUsedExerciseTimestamps())})}static \u0275fac=function(i){return new(i||s)};static \u0275cmp=O({type:s,selectors:[["app-profile-settings"]],decls:208,vars:30,consts:[[1,"container","mx-auto","p-2","sm:p-4"],[1,"flex","justify-between","items-center","pb-2"],[1,"text-2xl","font-bold","text-gray-800","dark:text-gray-200"],[1,"space-y-6","sm:space-y-8"],[1,"bg-white","dark:bg-gray-700","p-4","sm:p-6","rounded-md","shadow-md"],[1,"text-xl","font-semibold","text-gray-700","dark:text-gray-300","mb-4"],[1,"space-y-4","dark:text-gray-300",3,"formGroup"],["for","username",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["type","text","id","username","formControlName","username","placeholder","Your display name",1,"mt-1","block","w-full","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600",3,"change"],[1,"dark:text-gray-300"],["for","gender",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["id","gender","formControlName","gender",1,"mt-1","block","w-full","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600",3,"change"],[3,"ngValue"],[3,"value",4,"ngFor","ngForOf"],["formGroupName","measurements",1,"space-y-4","pt-4","border-t","border-gray-200","dark:border-gray-600"],[1,"text-lg","font-medium","text-gray-700","dark:text-gray-300"],[1,"grid","grid-cols-1","sm:grid-cols-2","md:grid-cols-3","gap-4"],["for","age",1,"block","text-xs","font-medium","text-gray-600","dark:text-gray-400"],["type","number","min","0","id","age","formControlName","age","placeholder","Years",1,"mt-1","w-full","p-1.5","text-sm","border-gray-300","dark:border-gray-600","rounded-md","dark:bg-gray-600"],["for","heightCm",1,"block","text-xs","font-medium","text-gray-600","dark:text-gray-400"],["type","number","min","0","id","heightCm","formControlName","heightCm","placeholder","cm",1,"mt-1","w-full","p-1.5","text-sm","border-gray-300","dark:border-gray-600","rounded-md","dark:bg-gray-600"],["for","weightKg",1,"block","text-xs","font-medium","text-gray-600","dark:text-gray-400"],["type","number","min","0","id","weightKg","formControlName","weightKg","placeholder","kg",1,"mt-1","w-full","p-1.5","text-sm","border-gray-300","dark:border-gray-600","rounded-md","dark:bg-gray-600"],["for","chestCm",1,"block","text-xs","font-medium","text-gray-600","dark:text-gray-400"],["type","number","min","0","id","chestCm","formControlName","chestCm","placeholder","cm",1,"mt-1","w-full","p-1.5","text-sm","border-gray-300","dark:border-gray-600","rounded-md","dark:bg-gray-600"],["for","waistCm",1,"block","text-xs","font-medium","text-gray-600","dark:text-gray-400"],["type","number","min","0","id","waistCm","formControlName","waistCm","placeholder","cm",1,"mt-1","w-full","p-1.5","text-sm","border-gray-300","dark:border-gray-600","rounded-md","dark:bg-gray-600"],["for","hipsCm",1,"block","text-xs","font-medium","text-gray-600","dark:text-gray-400"],["type","number","min","0","id","hipsCm","formControlName","hipsCm","placeholder","cm",1,"mt-1","w-full","p-1.5","text-sm","border-gray-300","dark:border-gray-600","rounded-md","dark:bg-gray-600"],["for","rightArmCm",1,"block","text-xs","font-medium","text-gray-600","dark:text-gray-400"],["type","number","min","0","id","rightArmCm","formControlName","rightArmCm","placeholder","cm",1,"mt-1","w-full","p-1.5","text-sm","border-gray-300","dark:border-gray-600","rounded-md","dark:bg-gray-600"],[1,"pt-3","text-right"],["type","button","appPress","",1,"px-4","py-2","bg-green-500","hover:bg-green-600","text-white","font-semibold","rounded-md","shadow-sm","text-sm","disabled:opacity-50","disabled:cursor-not-allowed",3,"shortPress","disabled"],[1,"space-y-4",3,"formGroup"],[1,"border-b","border-gray-200","dark:border-gray-600","pb-4"],["for","weightStep",1,"block","text-md","font-medium","text-gray-700","dark:text-gray-300"],[1,"text-sm","text-gray-500","dark:text-gray-400","mb-1"],["type","number","id","weightStep","formControlName","weightStep","min","0.01","step","any",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200",3,"change"],["class","text-red-500 dark:text-red-400 text-xs mt-1",4,"ngIf"],[1,"flex","items-center","justify-between","pt-4"],[1,"text-md","font-medium","text-gray-700","dark:text-gray-300"],[1,"text-sm","text-gray-500","dark:text-gray-400","mr-1"],["for","countdown-sound-toggle",1,"inline-flex","items-center","cursor-pointer"],["type","checkbox","id","countdown-sound-toggle","formControlName","enableTimerCountdownSound",1,"sr-only","peer",3,"change"],[1,"relative","w-11","h-6","bg-gray-200","peer-focus:outline-none","peer-focus:ring-4","peer-focus:ring-blue-300","dark:peer-focus:ring-blue-800","rounded-full","peer","dark:bg-gray-600","peer-checked:after:translate-x-full","rtl:peer-checked:after:-translate-x-full","peer-checked:after:border-white","after:content-['']","after:absolute","after:top-[2px]","after:start-[2px]","after:bg-white","after:border-gray-300","after:border","after:rounded-full","after:h-5","after:w-5","after:transition-all","dark:border-gray-600","peer-checked:bg-primary","dark:peer-checked:bg-primary-dark"],[1,"ms-3","text-sm","font-medium","text-gray-900","dark:text-gray-300"],["class"," dark:text-gray-300",4,"ngIf"],[1,"pt-4","border-t","border-gray-200","dark:border-gray-600"],[1,"flex","items-center","justify-between"],["for","preset-timer-toggle",1,"inline-flex","items-center","cursor-pointer"],[1,"sr-only"],["type","checkbox","id","preset-timer-toggle","formControlName","enablePresetTimer",1,"sr-only","peer",3,"change"],["class","text-gray-700 dark:text-gray-300",4,"ngIf"],[1,"space-y-4"],[1,"text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-2"],["appPress","",1,"px-4","py-2","bg-blue-500","hover:bg-blue-600","text-white","font-semibold","rounded-md","shadow-sm","transition-colors","text-sm",3,"shortPress"],["type","file","accept","application/json",1,"block","w-full","text-sm","text-gray-700","dark:text-gray-300","file:mr-4","file:py-2","file:px-4","file:rounded-md","file:border-0","file:text-sm","file:font-semibold","file:bg-gray-200","file:text-gray-700","hover:file:bg-gray-300","dark:file:bg-gray-600","dark:file:text-gray-200","dark:hover:file:bg-gray-700",3,"change"],[1,"text-xs","text-gray-500","dark:text-gray-400","mb-2"],["appPress","",1,"px-4","py-2","bg-indigo-500","hover:bg-indigo-600","text-white","font-semibold","rounded-md","shadow-sm","transition-colors","text-sm",3,"shortPress"],[1,"pt-4","border-t","border-gray-200","dark:border-gray-700"],[1,"text-lg","font-semibold","text-gray-700","dark:text-gray-300","mb-2"],[1,"text-sm","font-medium","text-red-600","dark:text-red-400","mb-2"],["appPress","",1,"px-4","py-2","bg-red-500","hover:bg-red-600","text-white","font-semibold","rounded-md","shadow-sm","transition-colors","text-sm",3,"shortPress"],["appPress","",1,"px-4","py-2","bg-primary","hover:bg-primary-dark","text-white","font-semibold","rounded-md","shadow-sm","transition-colors","inline-flex","items-center","text-sm",3,"shortPress"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-6","h-6","transition-all","mr-2"],["stroke-linecap","round","stroke-linejoin","round"],["viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg",1,"w-6","h-6","transition-all","mr-2"],["id","SVGRepo_bgCarrier","stroke-width","0"],["id","SVGRepo_tracerCarrier","stroke-linecap","round","stroke-linejoin","round"],["id","SVGRepo_iconCarrier"],["d","M12.0002 16C6.24021 16 5.21983 10.2595 5.03907 5.70647C4.98879 4.43998 4.96365 3.80673 5.43937 3.22083C5.91508 2.63494 6.48445 2.53887 7.62318 2.34674C8.74724 2.15709 10.2166 2 12.0002 2C13.7837 2 15.2531 2.15709 16.3771 2.34674C17.5159 2.53887 18.0852 2.63494 18.5609 3.22083C19.0367 3.80673 19.0115 4.43998 18.9612 5.70647C18.7805 10.2595 17.7601 16 12.0002 16Z","stroke","currentColor","stroke-width","1.5"],["d","M12 16V19","stroke","currentColor","stroke-width","1.5","stroke-linecap","round"],["d","M15.5 22H8.5L8.83922 20.3039C8.93271 19.8365 9.34312 19.5 9.8198 19.5H14.1802C14.6569 19.5 15.0673 19.8365 15.1608 20.3039L15.5 22Z","stroke","currentColor","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["d","M19 5L19.9486 5.31621C20.9387 5.64623 21.4337 5.81124 21.7168 6.20408C22 6.59692 22 7.11873 21.9999 8.16234L21.9999 8.23487C21.9999 9.09561 21.9999 9.52598 21.7927 9.87809C21.5855 10.2302 21.2093 10.4392 20.4569 10.8572L17.5 12.5","stroke","currentColor","stroke-width","1.5"],["d","M4.99994 5L4.05132 5.31621C3.06126 5.64623 2.56623 5.81124 2.2831 6.20408C1.99996 6.59692 1.99997 7.11873 2 8.16234L2 8.23487C2.00003 9.09561 2.00004 9.52598 2.20723 9.87809C2.41441 10.2302 2.79063 10.4392 3.54305 10.8572L6.49994 12.5","stroke","currentColor","stroke-width","1.5"],["d","M11.1459 6.02251C11.5259 5.34084 11.7159 5 12 5C12.2841 5 12.4741 5.34084 12.8541 6.02251L12.9524 6.19887C13.0603 6.39258 13.1143 6.48944 13.1985 6.55334C13.2827 6.61725 13.3875 6.64097 13.5972 6.68841L13.7881 6.73161C14.526 6.89857 14.895 6.98205 14.9828 7.26432C15.0706 7.54659 14.819 7.84072 14.316 8.42898L14.1858 8.58117C14.0429 8.74833 13.9714 8.83191 13.9392 8.93531C13.9071 9.03872 13.9179 9.15023 13.9395 9.37327L13.9592 9.57632C14.0352 10.3612 14.0733 10.7536 13.8435 10.9281C13.6136 11.1025 13.2682 10.9435 12.5773 10.6254L12.3986 10.5431C12.2022 10.4527 12.1041 10.4075 12 10.4075C11.8959 10.4075 11.7978 10.4527 11.6014 10.5431L11.4227 10.6254C10.7318 10.9435 10.3864 11.1025 10.1565 10.9281C9.92674 10.7536 9.96476 10.3612 10.0408 9.57632L10.0605 9.37327C10.0821 9.15023 10.0929 9.03872 10.0608 8.93531C10.0286 8.83191 9.95713 8.74833 9.81418 8.58117L9.68403 8.42898C9.18097 7.84072 8.92945 7.54659 9.01723 7.26432C9.10501 6.98205 9.47396 6.89857 10.2119 6.73161L10.4028 6.68841C10.6125 6.64097 10.7173 6.61725 10.8015 6.55334C10.8857 6.48944 10.9397 6.39258 11.0476 6.19887L11.1459 6.02251Z","stroke","currentColor","stroke-width","1.5"],["d","M18 22H6","stroke","currentColor","stroke-width","1.5","stroke-linecap","round"],[1,"flex","space-x-4"],["appPress","",1,"px-4","py-2","border","rounded-md","transition-colors","text-sm",3,"shortPress","ngClass"],["for","show-wip-message",1,"inline-flex","items-center","cursor-pointer"],["type","checkbox","id","show-wip-message",1,"sr-only","peer",3,"change","checked"],["for","theme-toggle",1,"inline-flex","items-center","cursor-pointer"],["type","checkbox","id","theme-toggle",1,"sr-only","peer",3,"change","checked"],[1,"flex","items-center","justify-between","mt-5"],["for","menu-mode-toggle",1,"inline-flex","items-center","cursor-pointer"],["type","checkbox","id","menu-mode-toggle",1,"sr-only","peer",3,"change","checked"],[3,"value"],[1,"text-red-500","dark:text-red-400","text-xs","mt-1"],["for","countdownSeconds",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["type","number","id","countdownSeconds","formControlName","countdownSoundSeconds","min","1","max","20",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600",3,"change"],[1,"text-gray-700","dark:text-gray-300"],["for","presetTimerDurationSeconds",1,"block","text-sm","font-medium"],["type","number","id","presetTimerDurationSeconds","formControlName","presetTimerDurationSeconds","min","3","max","60",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600",3,"change"],[1,"text-md","font-medium"],["for","preset-timer-toggle-after-rest",1,"inline-flex","items-center","cursor-pointer"],["type","checkbox","id","preset-timer-toggle-after-rest","formControlName","enablePresetTimerAfterRest",1,"sr-only","peer",3,"change"]],template:function(i,r){if(i&1&&(t(0,"div",0)(1,"header",1)(2,"h1",2),o(3,"Profile & Settings"),e()(),t(4,"div",3)(5,"section",4)(6,"h2",5),o(7,"User Profile"),e(),t(8,"form",6)(9,"div")(10,"label",7),o(11,"Username"),e(),t(12,"input",8),p("change",function(){return r.currentVibrator.vibrate(50)}),e()(),t(13,"div",9)(14,"label",10),o(15,"Gender"),e(),t(16,"select",11),p("change",function(){return r.currentVibrator.vibrate(50)}),t(17,"option",12),o(18,"Select Gender..."),e(),v(19,qe,2,2,"option",13),e()(),t(20,"div",14)(21,"h3",15),o(22,"Measurements"),e(),t(23,"div",16)(24,"div")(25,"label",17),o(26,"Age"),e(),u(27,"input",18),e(),t(28,"div")(29,"label",19),o(30,"Height (cm)"),e(),u(31,"input",20),e(),t(32,"div")(33,"label",21),o(34,"Weight (kg)"),e(),u(35,"input",22),e(),t(36,"div")(37,"label",23),o(38,"Chest (cm)"),e(),u(39,"input",24),e(),t(40,"div")(41,"label",25),o(42,"Waist (cm)"),e(),u(43,"input",26),e(),t(44,"div")(45,"label",27),o(46,"Hips (cm)"),e(),u(47,"input",28),e(),t(48,"div")(49,"label",29),o(50,"Right Arm (cm)"),e(),u(51,"input",30),e()()(),t(52,"div",31)(53,"button",32),p("shortPress",function(){return r.saveProfileSettings()}),o(54," SAVE PROFILE "),e()()()(),t(55,"section",4)(56,"h2",5),o(57,"Workout Player Settings"),e(),t(58,"form",33)(59,"div",34)(60,"label",35),o(61,"Weight Increment Step"),e(),t(62,"p",36),o(63),C(64,"uppercase"),e(),t(65,"input",37),p("change",function(){return r.currentVibrator.vibrate(50)}),e(),v(66,Je,2,0,"div",38),e(),t(67,"div",39)(68,"div")(69,"h3",40),o(70,"Timed Set Countdown Sound"),e(),t(71,"p",41),o(72,"Play sound X seconds before a timed set ends."),e()(),t(73,"label",42)(74,"input",43),p("change",function(){return r.currentVibrator.vibrate(50)}),e(),u(75,"div",44),t(76,"span",45),o(77),e()()(),v(78,Qe,5,1,"div",46),u(79,"div",47),t(80,"div",48)(81,"div")(82,"h3",40),o(83,"Pre-Set Timer"),e(),t(84,"p",41),o(85,"Show a countdown before each set starts."),e()(),t(86,"label",49)(87,"span",50),o(88,"Toggle Pre-Set Timer"),e(),t(89,"input",51),p("change",function(){return r.currentVibrator.vibrate(50)}),e(),u(90,"div",44),t(91,"span",45),o(92),e()()(),v(93,tt,5,1,"div",52)(94,rt,14,1,"div",52),t(95,"div",31)(96,"button",32),p("shortPress",function(){return r.saveAppSettings()}),o(97," SAVE PLAYER SETTINGS "),e()()()(),t(98,"section",4)(99,"h2",5),o(100,"Data Management"),e(),t(101,"div",53)(102,"div")(103,"p",54),o(104,"Backup your data to a JSON file"),e(),t(105,"button",55),p("shortPress",function(){return r.exportData()}),o(106,"EXPORT DATA"),e()(),t(107,"div")(108,"p",54),o(109,"Restore your data from a JSON backup file"),e(),t(110,"input",56),p("change",function(d){return r.importData(d),r.currentVibrator.vibrate(50)}),e()(),t(111,"div",47)(112,"p",54),o(113,"Sync Exercise History"),e(),t(114,"p",57),o(115,' This will scan all workout logs to update the "Last Used" date for every exercise in your library. Run this if the dates seem out of sync after an import or an update. '),e(),t(116,"button",58),p("shortPress",function(){return r.onSyncExerciseHistoryClick()}),o(117," SYNC HISTORY "),e()(),t(118,"div",59)(119,"h3",60),o(120,"Reset / Clear Data"),e(),t(121,"p",61),o(122,"WARNING: This action will delete ALL your saved data"),e(),t(123,"button",62),p("shortPress",function(){return r.clearAllAppData()}),o(124,"CLEAR ALL DATA"),e()()()(),t(125,"section",4)(126,"h2",5),o(127,"Exercise library"),e(),t(128,"div")(129,"p",54),o(130,"View all the available exercise and add your own ones."),e(),t(131,"button",63),p("shortPress",function(){return r.navigateToExerciseLibrary()}),S(),t(132,"svg",64),u(133,"path",65),e(),o(134,"EXERCISES "),e()()(),_(),t(135,"section",4)(136,"h2",5),o(137,"Your Achievements"),e(),t(138,"div")(139,"p",54),o(140,"View all your tracked Personal Bests."),e(),t(141,"button",63),p("shortPress",function(){return r.navigateToPersonalBests()}),S(),t(142,"svg",66),u(143,"g",67)(144,"g",68),t(145,"g",69),u(146,"path",70)(147,"path",71)(148,"path",72)(149,"path",73)(150,"path",74)(151,"path",75)(152,"path",76),e()(),o(153," VIEW PBs "),e()()(),_(),t(154,"section",4)(155,"h2",5),o(156,"General Settings"),e(),t(157,"div",53)(158,"div")(159,"p",54),o(160,"Weight Units"),e(),t(161,"div",77)(162,"button",78),p("shortPress",function(){return r.selectUnit("kg")}),o(163,"kg"),e(),t(164,"button",78),p("shortPress",function(){return r.selectUnit("lbs")}),o(165,"lbs"),e()()(),t(166,"div",48)(167,"div")(168,"h3",40),o(169,"WIP Message"),e(),t(170,"p",41),o(171,"Toggle between showing or hiding WIP message."),e()(),t(172,"label",79)(173,"span",50),o(174,"Show WIP Disclaimer"),e(),t(175,"input",80),p("change",function(){return r.toggleWipDisclaimer()}),e(),u(176,"div",44),t(177,"span",45),o(178),e()()()()(),t(179,"section",4)(180,"h2",5),o(181,"Appearance"),e(),t(182,"div",48)(183,"div")(184,"h3",40),o(185,"Dark Mode"),e(),t(186,"p",41),o(187,"Toggle between light and dark themes."),e()(),t(188,"label",81)(189,"span",50),o(190,"Toggle Dark Mode"),e(),t(191,"input",82),p("change",function(){return r.themeService.toggleTheme()}),e(),u(192,"div",44),t(193,"span",45),o(194),e()()(),t(195,"div",83)(196,"div")(197,"h3",40),o(198,"Compact menu mode"),e(),t(199,"p",41),o(200,"Toggle between window and compact mode"),e()(),t(201,"label",84)(202,"span",50),o(203,"Toggle Compact Mode"),e(),t(204,"input",85),p("change",function(){return r.themeService.toggleMenuMode()}),e(),u(205,"div",44),t(206,"span",45),o(207),e()()()()()()),i&2){let a,d,g,c,T,se;l(8),m("formGroup",r.profileForm),l(9),m("ngValue",null),l(2),m("ngForOf",r.genders),l(34),m("disabled",r.profileForm.pristine||r.profileForm.invalid),l(5),m("formGroup",r.appSettingsForm),l(5),w("Default step for +/- weight buttons in player (in ",I(64,22,r.unitsService.currentUnit()),")."),l(3),m("ngIf",((a=r.appSettingsForm.get("weightStep"))==null?null:a.invalid)&&((a=r.appSettingsForm.get("weightStep"))==null?null:a.touched)),l(11),w(" ",(d=r.appSettingsForm.get("enableTimerCountdownSound"))!=null&&d.value?"On":"Off"," "),l(),m("ngIf",(g=r.appSettingsForm.get("enableTimerCountdownSound"))==null?null:g.value),l(14),w(" ",(c=r.appSettingsForm.get("enablePresetTimer"))!=null&&c.value?"On":"Off"," "),l(),m("ngIf",(T=r.appSettingsForm.get("enablePresetTimer"))==null?null:T.value),l(),m("ngIf",(se=r.appSettingsForm.get("enablePresetTimer"))==null?null:se.value),l(2),m("disabled",r.appSettingsForm.pristine||r.appSettingsForm.invalid),l(37),ce("d","M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"),l(29),m("ngClass",re(24,Ye,r.currentUnit()==="kg",r.currentUnit()!=="kg")),l(2),m("ngClass",re(27,Ye,r.currentUnit()==="lbs",r.currentUnit()!=="lbs")),l(11),m("checked",!r.userProfileService.getHideWipDisclaimer()),l(3),P(r.userProfileService.getHideWipDisclaimer()?"Off":"On"),l(13),m("checked",r.themeService.isDarkTheme()),l(3),P(r.themeService.isDarkTheme()?"On":"Off"),l(10),m("checked",r.themeService.isMenuModeCompact()),l(3),P(r.themeService.isMenuModeCompact()?"On":"Off")}},dependencies:[G,ue,R,U,he,De,ke,Fe,Ae,Se,Pe,ye,Be,_e,we,Ve,Ie,Ce,Te,Ee,Y],encapsulation:2})};var $e=["bodyweight/calisthenics","dumbbells","kettlebells","barbells","machines","cables","bands","cardio","stretching","plyometrics","strongman","custom","other"];function it(s,n){if(s&1&&(t(0,"option",42),o(1),e()),s&2){let i=n.$implicit;m("value",i),l(),w(" ",i," ")}}function nt(s,n){if(s&1&&(t(0,"option",42),o(1),C(2,"titlecase"),e()),s&2){let i=n.$implicit;m("value",i),l(),w(" ",I(2,2,i)," ")}}function ot(s,n){if(s&1&&(t(0,"span"),o(1," of "),t(2,"strong",44),o(3),e()()),s&2){let i=f(2);l(3),P(i.combinedPersonalBests().length)}}function at(s,n){if(s&1&&(t(0,"div",43),o(1," Showing "),t(2,"strong",44),o(3),e(),v(4,ot,4,1,"span",45),o(5," PBs "),e()),s&2){let i=f();l(3),P(i.displayPersonalBests().length),l(),m("ngIf",i.exerciseNameFilter()||i.exerciseCategoryFilter()||i.pbTypeFilter())}}function st(s,n){if(s&1&&(t(0,"span"),o(1),C(2,"date"),C(3,"date"),e()),s&2){let i=n.$implicit,r=n.last,a=f(2).$implicit,d=f(2);l(),ge(" ",d.formatPbValue(i,a.pbType)," (",ne(3,6,ie(2,3,i.timestamp,"shortDate"),"dd-MM-yy","UTC"),")",r?"":", "," ")}}function lt(s,n){s&1&&(t(0,"span"),o(1," ..."),e())}function mt(s,n){if(s&1&&(t(0,"div",59)(1,"span",60),o(2,"Prev:"),e(),v(3,st,4,10,"span",61)(4,lt,2,0,"span",45),e()),s&2){let i=f().$implicit;l(3),m("ngForOf",i.history.slice(0,1)),l(),m("ngIf",i.history.length>1)}}function dt(s,n){if(s&1&&(t(0,"div",62)(1,"p",63),o(2),e()()),s&2){let i=f().$implicit;N("mt-2",i.history&&i.history.length>0)("mt-1",!(i.history&&i.history.length>0)),l(),m("title",i.notes),l(),w(" ",i.notes," ")}}function pt(s,n){if(s&1){let i=k();t(0,"div",64)(1,"button",65),p("shortPress",function(a){x(i);let d=f().$implicit,g=f(2);return y(g.navigateToLogDetail(d.workoutLogId,a))}),S(),t(2,"svg",66),u(3,"path",67)(4,"path",68),e(),o(5," VIEW LOG "),e(),_(),t(6,"button",69),p("shortPress",function(){x(i);let a=f().$implicit,d=f(2);return y(d.showPbTrend(a.exerciseId,a.pbType))}),S(),t(7,"svg",70),u(8,"path",71),e(),o(9," TREND "),e()()}}function ct(s,n){if(s&1&&(t(0,"div",48)(1,"div",49)(2,"div",50)(3,"div")(4,"h2",51),o(5),e(),t(6,"p",52),o(7),C(8,"titlecase"),e()()(),t(9,"div",53)(10,"span",54),o(11),e()(),t(12,"div",55)(13,"span"),o(14),e(),t(15,"span"),o(16),C(17,"date"),C(18,"date"),e()(),v(19,mt,5,2,"div",56)(20,dt,3,6,"div",57),e(),v(21,pt,10,0,"div",58),e()),s&2){let i=n.$implicit,r=f(2);te("z-index",r.filtersVisible()?50:"auto"),l(4),m("title",i.exerciseName),l(),w(" ",i.exerciseName," "),l(2),w(" (",I(8,11,i.primaryMuscleGroup),") "),l(4),P(r.formatPbValue(i)),l(3),P(i.pbType),l(2),P(ne(18,16,ie(17,13,i.timestamp,"shortDate"),"dd-MM-yy","UTC")),l(3),m("ngIf",i.history&&i.history.length>0),l(),m("ngIf",i.notes),l(),m("ngIf",i.pbType!=="1RM (Estimated)"&&i.workoutLogId)}}function gt(s,n){if(s&1&&(t(0,"div")(1,"div",46),v(2,ct,22,20,"div",47),e()()),s&2){let i=f();l(2),m("ngForOf",i.displayPersonalBests())}}function ut(s,n){s&1&&(t(0,"span"),o(1,"No Personal Bests Match Your Filters"),e())}function ft(s,n){s&1&&o(0,"No Personal Bests Yet!")}function ht(s,n){if(s&1){let i=k();t(0,"span"),o(1,"Try adjusting your filter criteria or "),t(2,"button",77),p("shortPress",function(){x(i);let a=f(2);return y(a.resetFiltersAndShow())}),o(3,"reset all filters"),e(),o(4,"."),e()}}function vt(s,n){s&1&&(t(0,"span"),o(1,"Keep logging your workouts to track your progress and achievements here"),e())}function bt(s,n){if(s&1){let i=k();t(0,"span"),o(1," Try clearing filters, or perhaps "),t(2,"button",77),p("shortPress",function(){x(i);let a=f(2);return y(a.triggerRecalculatePBs())}),o(3,"recalculate PBs"),e(),o(4," if you've recently imported data. "),e()}}function xt(s,n){if(s&1&&(t(0,"div",72),S(),t(1,"svg",73),u(2,"path",74),e(),_(),t(3,"h2",75),v(4,ut,2,0,"span",40)(5,ft,1,0,"ng-template",null,4,oe),e(),t(7,"p",76),v(8,ht,5,0,"span",45)(9,vt,2,0,"span",45)(10,bt,5,0,"span",45),e()()),s&2){let i=A(6),r=f();l(4),m("ngIf",r.hasActiveFilters())("ngIfElse",i),l(4),m("ngIf",r.hasActiveFilters()),l(),m("ngIf",!r.hasActiveFilters()&&r.allPersonalBestsSignalEmpty()),l(),m("ngIf",!r.allPersonalBestsSignalEmpty()&&r.displayPersonalBests().length===0&&!r.hasActiveFilters())}}function yt(s,n){if(s&1){let i=k();t(0,"button",78),p("shortPress",function(){x(i);let a=f();return y(a.scrollToTop())}),S(),t(1,"svg",79),u(2,"path",80),e(),_(),t(3,"span",15),o(4,"Back to Top"),e()()}}var J=class s{trackingService=h(Z);exerciseService=h(z);unitsService=h(K);router=h(H);toastService=h($);platformId=h(L);allPersonalBestsRaw=E({});allExercisesRaw=E([]);filtersVisible=E(!1);exerciseNameFilter=E("");pbTypeFilter=E("");exerciseCategoryFilter=E("");decimalPipe=new be("en-US");availableCategories=B(()=>[...$e].sort());availablePbTypes=B(()=>{let n=this.allPersonalBestsRaw(),i=new Set;return Object.values(n).forEach(r=>{r.forEach(a=>{a.pbType&&i.add(a.pbType)})}),Array.from(i).sort()});combinedPersonalBests=B(()=>{let n=this.allPersonalBestsRaw(),i=this.allExercisesRaw();if(Object.keys(n).length===0||i.length===0)return[];let r=new Map(i.map(d=>[d.id,d])),a=[];for(let d in n)if(n.hasOwnProperty(d)){let g=r.get(d),c=n[d];g&&c.forEach(T=>{a.push(me(le({},T),{exerciseName:g.name,exerciseCategory:g.category,primaryMuscleGroup:g.primaryMuscleGroup}))})}return a});displayPersonalBests=B(()=>{let n=this.combinedPersonalBests(),i=this.exerciseNameFilter().toLowerCase().trim(),r=this.exerciseCategoryFilter(),a=this.pbTypeFilter();if(!i&&!r&&!a)return this.sortPBs(n);let d=n.filter(g=>!(i&&!g.exerciseName.toLowerCase().includes(i)||r&&g.exerciseCategory!==r||a&&g.pbType!==a));return this.sortPBs(d)});hasActiveFilters=B(()=>this.exerciseNameFilter().trim()!==""||this.exerciseCategoryFilter()!==""||this.pbTypeFilter().trim()!=="");allPersonalBestsSignalEmpty=B(()=>Object.keys(this.allPersonalBestsRaw()).length===0);constructor(){}ngOnInit(){V(this.platformId)&&window.scrollTo(0,0),this.trackingService.personalBests$.subscribe(n=>{this.allPersonalBestsRaw.set(n)}),this.exerciseService.getExercises().pipe(de(1)).subscribe(n=>{this.allExercisesRaw.set(n)})}toggleFiltersVisibility(){this.filtersVisible.update(n=>!n)}resetFilters(){this.exerciseNameFilter.set(""),this.exerciseCategoryFilter.set("")}resetFiltersAndShow(){this.resetFilters(),this.filtersVisible.set(!0)}getPbTypeSortOrder(n){return n.includes("1RM (Actual)")?0:n.includes("1RM (Estimated)")?1:n.includes("3RM (Actual)")?2:n.includes("5RM (Actual)")?3:n.includes("Heaviest Lifted")?4:n.includes("Max Reps (Bodyweight)")?5:n.includes("Max Duration")?6:100}sortPBs(n){return[...n].sort((i,r)=>{let a=i.exerciseName.localeCompare(r.exerciseName);if(a!==0)return a;let d=this.getPbTypeSortOrder(i.pbType),g=this.getPbTypeSortOrder(r.pbType);return d!==g?d-g:i.weightUsed!==void 0&&r.weightUsed!==void 0?(r.weightUsed??0)-(i.weightUsed??0):i.repsAchieved!==void 0&&r.repsAchieved!==void 0&&i.pbType.includes("Max Reps")?(r.repsAchieved??0)-(i.repsAchieved??0):i.durationPerformed!==void 0&&r.durationPerformed!==void 0&&i.pbType.includes("Max Duration")?(r.durationPerformed??0)-(i.durationPerformed??0):new Date(r.timestamp).getTime()-new Date(i.timestamp).getTime()})}formatPbValue(n,i){let r="",a=n.pbType||i;if(n.weightUsed!==void 0&&n.weightUsed!==null){if(r+=`${this.decimalPipe.transform(n.weightUsed,"1.0-2")}${this.unitsService.getUnitSuffix()}`,n.repsAchieved>0){let d=!0;if(a&&a.includes("RM (Actual)")){let g=a.split("RM")[0],c=parseInt(g,10);!isNaN(c)&&n.repsAchieved===c&&(d=!1)}d&&(r+=` x ${n.repsAchieved}`)}}else n.repsAchieved>0&&a?.includes("Max Reps")?r=`${n.repsAchieved} reps`:n.durationPerformed&&n.durationPerformed>0&&a?.includes("Max Duration")?r=`${n.durationPerformed}s`:n.repsAchieved>0?r=`${n.repsAchieved} reps`:n.durationPerformed&&n.durationPerformed>0&&(r=`${n.durationPerformed}s`);return r||"N/A"}navigateToLogDetail(n,i){i?.stopPropagation(),n?this.router.navigate(["/workout/summary",n]):(this.toastService.error("Could not find the associated workout log for this personal best. It's possible that the related workout session has been removed.",0,"Navigation Error"),console.warn("Attempted to navigate to log detail, but workoutLogId is undefined for PB:",i))}triggerRecalculatePBs(){return F(this,null,function*(){try{yield this.trackingService.recalculateAllPersonalBests(),this.filtersVisible.set(!1)}catch(n){console.error("Error initiating PB recalculation:",n),this.toastService.error("An error occurred while trying to recalculate personal bests.")}})}resetPBs(){return F(this,null,function*(){try{yield this.trackingService.clearAllPersonalBests_DEV_ONLY()}catch(n){console.error("Error clearAllPersonalBests_DEV_ONLY:",n),this.toastService.error("An error occurred while trying to reset personal bests.")}})}showPbTrend(n,i){if(!n||!i){this.toastService.error("Cannot show trend: Missing exercise ID or PB type.",0,"Error");return}let r=encodeURIComponent(i);this.router.navigate(["/profile/pb-trend",n,r]),console.log(`Requesting trend for Exercise ID: ${n}, PB Type: ${i}`)}showBackToTopButton=E(!1);onWindowScroll(){let n=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;this.showBackToTopButton.set(n>400)}scrollToTop(){V(this.platformId)&&window.scrollTo({top:0,behavior:"smooth"})}static \u0275fac=function(i){return new(i||s)};static \u0275cmp=O({type:s,selectors:[["app-personal-bests"]],hostBindings:function(i,r){i&1&&p("scroll",function(){return r.onWindowScroll()},pe)},decls:59,vars:15,consts:[["nameFilterInput",""],["pbTypeFilterInput",""],["categoryFilterInput",""],["noPBsOrFilters",""],["noPBsMessage",""],[1,"container","mx-auto","p-2","sm:p-4"],[1,"mb-6","flex","items-center"],["routerLink","/profile",1,"text-gray-600","dark:text-gray-300","hover:text-primary","dark:hover:text-primary-light","p-2","-ml-2","rounded-full","focus:outline-none","focus:ring-2","focus:ring-primary-focus"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 19l-7-7 7-7"],[1,"flex","flex-grow","justify-between","items-center","pb-2"],[1,"text-2xl","font-bold","text-gray-800","dark:text-gray-200"],["type","button",1,"rounded-md","text-gray-600","dark:text-gray-300","hover:bg-gray-200","dark:hover:bg-gray-700","focus:outline-none","focus:ring-2","focus:ring-primary","dark:focus:ring-primary-light","transition-all","duration-300","ease-in-out",3,"click"],["stroke","currentColor","viewBox","0 0 24 24","stroke-width","0.02","fill","currentColor","xmlns","http://www.w3.org/2000/svg",1,"w-10","h-10","transition-transform","duration-300"],["stroke-linecap","round","stroke-linejoin","round","d","M9 5a1 1 0 1 0 0 2 1 1 0 0 0 0-2zM6.17 5a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 0 1 0-2h1.17zM15 11a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-1.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h7.17zM9 17a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h1.17z"],[1,"sr-only"],[1,"overflow-hidden","transition-all","duration-500","ease-in-out"],[1,"p-4","bg-white","dark:bg-gray-700","rounded-md","shadow-md","border","dark:border-gray-600"],[1,"text-xl","font-semibold","text-gray-700","dark:text-gray-300","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","mb-4"],["for","exerciseNameFilter",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-1"],["type","text","id","exerciseNameFilter","placeholder","e.g., Bench Press",1,"mt-1","block","w-full","px-3","py-2","bg-white","dark:bg-gray-800","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:outline-none","focus:ring-primary","focus:border-primary","sm:text-sm","text-gray-900","dark:text-gray-100","placeholder-gray-400","dark:placeholder-gray-500",3,"input","value"],["for","pbTypeFilter",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-1"],["id","pbTypeFilter",1,"mt-1","block","w-full","px-3","py-2","bg-white","dark:bg-gray-800","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:outline-none","focus:ring-primary","focus:border-primary","sm:text-sm","text-gray-900","dark:text-gray-100",3,"change","value"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","categoryFilter",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-1"],["id","categoryFilter",1,"mt-1","block","w-full","px-3","py-2","bg-white","dark:bg-gray-800","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:outline-none","focus:ring-primary","focus:border-primary","sm:text-sm","text-gray-900","dark:text-gray-100",3,"change","value"],[1,"mt-4","flex","justify-between","items-center"],["appPress","",1,"flex","px-4","py-2","bg-yellow-200","dark:bg-yellow-700","text-gray-700","dark:text-gray-200","rounded-md","hover:bg-yellow-300","dark:hover:bg-yellow-500","text-sm","items-center",3,"shortPress"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"size-5","mr-2"],["stroke-linecap","round","stroke-linejoin","round","d","m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"],["appPress","","title","Recalculate all Personal Bests from your workout history",1,"ml-2","p-2","text-sm","text-gray-500","dark:text-gray-400","hover:text-primary","dark:hover:text-primary-light","rounded-md","border","border-gray-300","dark:border-gray-600","hover:bg-gray-100","dark:hover:bg-gray-700","transition-colors","flex","items-center",3,"shortPress"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-10","h-10","transition-transform","duration-300"],["stroke-linecap","round","stroke-linejoin","round","d","M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"],[1,"hidden","sm:inline-block","ml-1"],["appPress","","title","Reset all PBs",1,"ml-2","p-2","text-sm","text-gray-500","dark:text-gray-400","hover:text-red-600","dark:hover:text-red-500","rounded-md","border","border-gray-300","dark:border-gray-600","hover:bg-red-100","dark:hover:bg-red-900/50","transition-colors","flex","items-center",3,"shortPress"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"w-10","h-10","transition-transform","duration-300"],["fill-rule","evenodd","d","M8.75 1A2.75 2.75 0 006 3.75v.443c-.795.077-1.58.177-2.365.298a.75.75 0 10.23 1.482l.149-.022.841 10.518A2.75 2.75 0 007.596 19h4.807a2.75 2.75 0 002.742-2.53l.841-10.52.149.023a.75.75 0 00.23-1.482A41.03 41.03 0 0014 4.193V3.75A2.75 2.75 0 0011.25 1h-2.5ZM10 4c.84 0 1.673.025 2.5.075V3.75c0-.69-.56-1.25-1.25-1.25h-2.5c-.69 0-1.25.56-1.25 1.25v.325C8.327 4.025 9.16 4 10 4ZM8.58 7.72a.75.75 0 00-1.5.06l.3 7.5a.75.75 0 101.5-.06l-.3-7.5Zm4.34.06a.75.75 0 10-1.5-.06l-.3 7.5a.75.75 0 101.5.06l.3-7.5Z","clip-rule","evenodd"],["class","text-sm text-gray-600 dark:text-gray-400",4,"ngIf"],[4,"ngIf","ngIfElse"],["appPress","","type","button","class","fixed bottom-20 right-4 z-40 bg-primary dark:bg-primary-dark text-white rounded-full p-3 shadow-lg hover:bg-primary-dark dark:hover:bg-primary-light focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-focus dark:focus:ring-offset-gray-900 transition-opacity animate-fade-in",3,"shortPress",4,"ngIf"],[3,"value"],[1,"text-sm","text-gray-600","dark:text-gray-400"],[1,"text-gray-800","dark:text-gray-200"],[4,"ngIf"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-3","xl:grid-cols-4","gap-4"],["class","flex flex-col bg-white dark:bg-gray-700 rounded-md shadow-md hover:shadow-lg transition-shadow duration-200 relative group transform hover:-translate-y-1",3,"zIndex",4,"ngFor","ngForOf"],[1,"flex","flex-col","bg-white","dark:bg-gray-700","rounded-md","shadow-md","hover:shadow-lg","transition-shadow","duration-200","relative","group","transform","hover:-translate-y-1"],[1,"p-3","flex-grow"],[1,"flex","justify-between","items-start","mb-1"],[1,"text-md","font-semibold","text-primary","dark:text-primary-light","truncate",3,"title"],[1,"text-xs","text-gray-500","dark:text-gray-400"],[1,"mb-2"],[1,"text-xl","font-bold","text-gray-900","dark:text-white"],[1,"flex","justify-between","items-center","text-xs","text-gray-500","dark:text-gray-400","mb-2"],["class","mt-2 pt-1 border-t border-gray-200 dark:border-gray-600 text-xs text-gray-500 dark:text-gray-400",4,"ngIf"],["class","pt-1 border-t border-gray-200 dark:border-gray-600",3,"mt-2","mt-1",4,"ngIf"],["class","flex flex-col items-center justify-center px-8 py-2 bg-gray-50 dark:bg-gray-800 border-t border-gray-200 rounded-b dark:border-gray-600 space-y-2",4,"ngIf"],[1,"mt-2","pt-1","border-t","border-gray-200","dark:border-gray-600","text-xs","text-gray-500","dark:text-gray-400"],[1,"font-medium"],[4,"ngFor","ngForOf"],[1,"pt-1","border-t","border-gray-200","dark:border-gray-600"],[1,"text-xs","text-gray-600","dark:text-gray-400","italic","max-h-16","overflow-y-auto","custom-scrollbar","pr-1",3,"title"],[1,"flex","flex-col","items-center","justify-center","px-8","py-2","bg-gray-50","dark:bg-gray-800","border-t","border-gray-200","rounded-b","dark:border-gray-600","space-y-2"],["appPress","","title","View Workout Log",1,"flex","w-full","items-center","justify-center","px-2","py-1","border","border-transparent","rounded-md","shadow-sm","text-xs","font-medium","text-white","bg-indigo-600","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500","dark:bg-indigo-500","dark:hover:bg-indigo-600","dark:focus:ring-offset-gray-800","transition-colors","duration-150",3,"shortPress"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"w-4","h-4","mr-1"],["d","M10 12.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Z"],["fill-rule","evenodd","d","M.664 10.59a1.651 1.651 0 0 1 0-1.186A10.004 10.004 0 0 1 10 3c4.257 0 7.893 2.66 9.336 6.41.147.381.146.804 0 1.186A10.004 10.004 0 0 1 10 17c-4.257 0-7.893-2.66-9.336-6.41ZM14 10a4 4 0 1 1-8 0 4 4 0 0 1 8 0Z","clip-rule","evenodd"],["appPress","","title","Show Trend for this PB","title","View trend Log",1,"flex","w-full","items-center","justify-center","px-2","py-1","border","border-transparent","rounded-md","shadow-sm","text-xs","font-medium","text-white","bg-primary","hover:bg-primary-light","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-primary","dark:bg-primary","dark:hover:bg-primary-light","dark:focus:ring-offset-gray-800","transition-colors","duration-150",3,"shortPress"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-5","h-5","mr-2"],["stroke-linecap","round","stroke-linejoin","round","d","M2.25 18 9 11.25l4.306 4.306a11.95 11.95 0 0 1 5.814-5.518l2.74-1.22m0 0-5.94-2.281m5.94 2.28-2.28 5.941"],[1,"text-center","py-10","bg-white","dark:bg-gray-700","rounded-xl","shadow-lg"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-16","h-16","mx-auto","text-gray-400","dark:text-gray-500","mb-4"],["stroke-linecap","round","stroke-linejoin","round","d","M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607zM13.5 10.5h-6"],[1,"text-xl","font-semibold","text-gray-700","dark:text-gray-300","mb-2"],[1,"text-gray-500","dark:text-gray-400","px-4"],["appPress","",1,"text-primary","dark:text-primary-light","hover:underline",3,"shortPress"],["appPress","","type","button",1,"fixed","bottom-20","right-4","z-40","bg-primary","dark:bg-primary-dark","text-white","rounded-full","p-3","shadow-lg","hover:bg-primary-dark","dark:hover:bg-primary-light","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-primary-focus","dark:focus:ring-offset-gray-900","transition-opacity","animate-fade-in",3,"shortPress"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","2.5","stroke","currentColor",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","d","M4.5 15.75l7.5-7.5 7.5 7.5"]],template:function(i,r){if(i&1){let a=k();t(0,"div",5)(1,"div",6)(2,"button",7),S(),t(3,"svg",8),u(4,"path",9),e()(),_(),t(5,"header",10)(6,"h1",11),o(7,"Personal Bests"),e(),t(8,"button",12),p("click",function(){return x(a),y(r.toggleFiltersVisibility())}),S(),t(9,"svg",13),u(10,"path",14),e(),_(),t(11,"span",15),o(12,"Toggle Filters"),e()()()(),t(13,"div",16)(14,"div",17)(15,"h2",18),o(16,"Filter PBs"),e(),t(17,"div",19)(18,"div")(19,"label",20),o(20," Filter by Exercise Name "),e(),t(21,"input",21,0),p("input",function(){x(a);let g=A(22);return y(r.exerciseNameFilter.set(g.value))}),e()(),t(23,"div")(24,"label",22),o(25," Filter by PB Type "),e(),t(26,"select",23,1),p("change",function(){x(a);let g=A(27);return y(r.pbTypeFilter.set(g.value))}),t(28,"option",24),o(29,"All PB Types"),e(),v(30,it,2,2,"option",25),e()(),t(31,"div")(32,"label",26),o(33," Filter by Category "),e(),t(34,"select",27,2),p("change",function(){x(a);let g=A(35);return y(r.exerciseCategoryFilter.set(g.value))}),t(36,"option",24),o(37,"All Categories"),e(),v(38,nt,3,4,"option",25),e()()(),t(39,"div",28)(40,"button",29),p("shortPress",function(){return x(a),y(r.resetFilters())}),S(),t(41,"svg",30),u(42,"path",31),e(),o(43," CLEAR FILTERS "),e(),_(),t(44,"button",32),p("shortPress",function(){return x(a),y(r.triggerRecalculatePBs())}),S(),t(45,"svg",33),u(46,"path",34),e(),_(),t(47,"span",35),o(48,"RECALCULATE"),e()(),t(49,"button",36),p("shortPress",function(){return x(a),y(r.resetPBs())}),S(),t(50,"svg",37),u(51,"path",38),e(),_(),t(52,"span",35),o(53,"RESET PBs"),e()(),v(54,at,6,2,"div",39),e()()(),v(55,gt,3,1,"div",40)(56,xt,11,5,"ng-template",null,3,oe)(58,yt,5,0,"button",41),e()}if(i&2){let a=A(57);l(9),N("rotate-180",r.filtersVisible()),l(4),te("max-height",r.filtersVisible()?"1000px":"0px"),N("mb-6",r.filtersVisible()),l(8),m("value",r.exerciseNameFilter()),l(5),m("value",r.pbTypeFilter()),l(4),m("ngForOf",r.availablePbTypes()),l(4),m("value",r.exerciseCategoryFilter()),l(4),m("ngForOf",r.availableCategories()),l(16),m("ngIf",r.combinedPersonalBests().length>0),l(),m("ngIf",r.displayPersonalBests().length>0)("ngIfElse",a),l(3),m("ngIf",r.showBackToTopButton())}},dependencies:[G,R,U,fe,ve,xe,Y],styles:[".custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent;border-radius:3px}.custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#9ca3af;border-radius:3px}.custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#6b7280}.dark[_ngcontent-%COMP%]   .custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#4b5563}.dark[_ngcontent-%COMP%]   .custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#6b7280}"],data:{animation:[ae("slideInOutActions",[D("void",M({height:"0px",opacity:0,overflow:"hidden",paddingTop:"0",paddingBottom:"0",marginTop:"0",marginBottom:"0"})),D("*",M({height:"*",opacity:1,overflow:"hidden",paddingTop:"0.5rem",paddingBottom:"0.5rem"})),W("void <=> *",j("200ms ease-in-out"))]),ae("dropdownMenu",[D("void",M({opacity:0,transform:"scale(0.75) translateY(-10px)",transformOrigin:"top right"})),D("*",M({opacity:1,transform:"scale(1) translateY(0)",transformOrigin:"top right"})),W("void => *",[j("150ms cubic-bezier(0.25, 0.8, 0.25, 1)")]),W("* => void",[j("100ms cubic-bezier(0.25, 0.8, 0.25, 1)")])])]}})};var yr=[{path:"",component:q,title:"Profile & Settings"},{path:"personal-bests",component:J,title:"Personal Bests"}];export{yr as PROFILE_SETTINGS_ROUTES};
