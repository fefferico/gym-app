import{M as S,Mc as d,Q as u,Z as s,a as n,k as a}from"./chunk-UOFYJVZ3.js";var i={enableTimerCountdownSound:!0,countdownSoundSeconds:5,enablePresetTimer:!1,enablePresetTimerAfterRest:!1,presetTimerDurationSeconds:10,weightStep:1},c=class o{storageService=u(d);APP_SETTINGS_KEY="fitTrackPro_appSettings";appSettingsSubject;appSettings$;enableTimerCountdownSound=s(i.enableTimerCountdownSound);countdownSoundSeconds=s(i.countdownSoundSeconds);enablePresetTimer=s(i.enablePresetTimer);enablePresetTimerAfterRest=s(i.enablePresetTimerAfterRest);presetTimerDurationSeconds=s(i.presetTimerDurationSeconds);constructor(){let e=this.storageService.getItem(this.APP_SETTINGS_KEY),t=n(n({},i),e);this.appSettingsSubject=new a(t),this.appSettings$=this.appSettingsSubject.asObservable(),this.enableTimerCountdownSound.set(t.enableTimerCountdownSound),this.countdownSoundSeconds.set(t.countdownSoundSeconds),this.enablePresetTimer.set(t.enablePresetTimer),this.enablePresetTimerAfterRest.set(t.enablePresetTimerAfterRest),this.presetTimerDurationSeconds.set(t.presetTimerDurationSeconds)}getSettings(){return this.appSettingsSubject.getValue()}saveSettings(e){let t=this.getSettings(),r=n(n({},t),e);this.storageService.setItem(this.APP_SETTINGS_KEY,r),this.appSettingsSubject.next(r),e.enableTimerCountdownSound!==void 0&&this.enableTimerCountdownSound.set(e.enableTimerCountdownSound),e.countdownSoundSeconds!==void 0&&this.countdownSoundSeconds.set(e.countdownSoundSeconds),e.enablePresetTimer!==void 0&&this.enablePresetTimer.set(e.enablePresetTimer),e.enablePresetTimerAfterRest!==void 0&&this.enablePresetTimerAfterRest.set(e.enablePresetTimerAfterRest),e.presetTimerDurationSeconds!==void 0&&this.presetTimerDurationSeconds.set(e.presetTimerDurationSeconds)}setEnableTimerCountdownSound(e){this.saveSettings({enableTimerCountdownSound:e})}setCountdownSoundSeconds(e){this.saveSettings({countdownSoundSeconds:e})}getDataForBackup(){return this.getSettings()}replaceData(e){let t=e?n(n({},i),e):n({},i);this.storageService.setItem(this.APP_SETTINGS_KEY,t),this.appSettingsSubject.next(t),this.enableTimerCountdownSound.set(t.enableTimerCountdownSound),this.countdownSoundSeconds.set(t.countdownSoundSeconds),this.enablePresetTimer.set(t.enablePresetTimer),this.enablePresetTimerAfterRest.set(t.enablePresetTimerAfterRest),this.presetTimerDurationSeconds.set(t.presetTimerDurationSeconds)}clearAppSettings_DEV_ONLY(){this.replaceData(null),console.log("App settings reset to defaults.")}setEnablePresetTimer(e){this.saveSettings({enablePresetTimer:e})}setPresetTimerDurationSeconds(e){this.saveSettings({presetTimerDurationSeconds:e})}setEnablePresetTimerAfterRest(e){this.saveSettings({enablePresetTimerAfterRest:e})}static \u0275fac=function(t){return new(t||o)};static \u0275prov=S({token:o,factory:o.\u0275fac,providedIn:"root"})};export{c as a};
