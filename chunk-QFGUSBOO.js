import{a as ke}from"./chunk-MD36E7VX.js";import"./chunk-SH5QXSWM.js";import{a as q}from"./chunk-YEFQXCEM.js";import{b as we}from"./chunk-FYV3FSJB.js";import"./chunk-CG7U6JHD.js";import{a as Ee}from"./chunk-CIKAXDBN.js";import{$b as U,Ba as m,Bc as ge,Ca as i,Cb as se,Cc as xe,Da as r,Db as B,Dc as fe,E as J,Ea as p,Eb as D,Ec as ve,Fc as _e,I as K,Ia as E,Ib as ae,Ja as u,Jb as H,Jc as ye,Ka as d,Lc as he,Mc as $,Ob as P,Oc as be,Pb as W,Q as y,Ra as Z,S as x,Sa as re,T as f,Ta as O,U as _,V as h,Va as s,Wa as w,Xa as L,Yb as le,Z as b,_b as j,a as I,b as X,ca as ee,ec as R,fa as te,fb as ne,fc as F,g as G,ga as ie,ia as l,ic as S,jc as V,kc as M,lb as k,mb as C,p as Q,pb as Y,qa as N,rc as ce,sb as oe,sc as T,tc as me,uc as de,va as g,xc as pe,zc as ue}from"./chunk-CLMKBKRP.js";var Fe=o=>({"filter dark:invert":o});function Me(o,t){if(o&1&&(i(0,"option",34),s(1),k(2,"titlecase"),r()),o&2){let e=t.$implicit;m("value",e),l(),w(C(2,2,e))}}function Ie(o,t){if(o&1&&(i(0,"option",34),s(1),k(2,"titlecase"),r()),o&2){let e=t.$implicit;m("value",e),l(),w(C(2,2,e))}}function Le(o,t){if(o&1&&(i(0,"span"),s(1," of "),i(2,"strong",36),s(3),r()()),o&2){let e=d(2);l(3),w(e.allExercises().length)}}function Ve(o,t){if(o&1&&(i(0,"div",35),s(1," Showing "),i(2,"strong",36),s(3),r(),g(4,Le,4,1,"span",37),s(5," exercises "),r()),o&2){let e=d();l(3),w(e.filteredExercises().length),l(),m("ngIf",e.searchTerm()||e.selectedCategory()||e.selectedMuscleGroup())}}function Ae(o,t){if(o&1&&p(0,"img",57),o&2){let e=d().$implicit,n=d(3);m("src",n.getIconPath(e.iconName),te)("alt",e.name+" icon")("ngClass",ne(3,Fe,e.iconName!=="default-exercise"))}}function Ge(o,t){if(o&1&&(i(0,"p",46),s(1),k(2,"titlecase"),r()),o&2){let e=d().$implicit;l(),L(" Equipment: ",C(2,1,(e.equipmentNeeded==null?null:e.equipmentNeeded.join(", "))||"None")," ")}}function Ne(o,t){if(o&1&&(i(0,"p",58),s(1),r()),o&2){let e=d().$implicit;m("title",e.description),l(),w(e.description)}}function Oe(o,t){if(o&1){let e=E();i(0,"div",59)(1,"button",60),u("click",function(a){x(e);let c=d().$implicit,v=d(3);return f(v.goToExerciseDetails(c.id,a))}),_(),i(2,"svg",61),p(3,"path",62)(4,"path",63),r(),s(5,"VIEW "),r(),h(),i(6,"button",60),u("click",function(a){x(e);let c=d().$implicit,v=d(3);return f(v.editExercise(c.id,a))}),_(),i(7,"svg",61),p(8,"path",64),r(),s(9,"EDIT "),r(),h(),p(10,"div",65),i(11,"button",66),u("click",function(a){x(e);let c=d().$implicit,v=d(3);return f(v.deleteExercise(c.id,a))}),_(),i(12,"svg",61),p(13,"path",67),r(),s(14,"DELETE "),r()()}o&2&&m("@dropdownMenu",void 0)}function Be(o,t){if(o&1){let e=E();i(0,"div",68)(1,"button",69),u("click",function(a){x(e);let c=d().$implicit,v=d(3);return f(v.goToExerciseDetails(c.id,a))}),_(),i(2,"svg",70),p(3,"path",71)(4,"path",72),r(),s(5,"DETAILS "),r(),h(),i(6,"button",73),u("click",function(a){x(e);let c=d().$implicit,v=d(3);return f(v.editExercise(c.id,a))}),_(),i(7,"svg",70),p(8,"path",74),r(),s(9,"EDIT "),r(),h(),i(10,"button",75),u("click",function(a){x(e);let c=d().$implicit,v=d(3);return f(v.deleteExercise(c.id,a))}),_(),i(11,"svg",70),p(12,"path",24),r(),s(13,"DELETE "),r()()}o&2&&m("@slideInOutActions",void 0)}function De(o,t){if(o&1){let e=E();i(0,"div",41),u("click",function(a){let c=x(e).$implicit,v=d(3);return f(v.goToExerciseDetails(c.id,a))}),i(1,"div",42)(2,"div",43),g(3,Ae,1,5,"img",44),i(4,"h2",45),s(5),r()(),i(6,"p",46),s(7),k(8,"titlecase"),r(),g(9,Ge,3,3,"p",47),i(10,"p",48),s(11),k(12,"titlecase"),r(),g(13,Ne,2,2,"p",49),r(),i(14,"div",50)(15,"div",51)(16,"button",52),u("click",function(a){let c=x(e).$implicit,v=d(3);return f(v.toggleActions(c.id,a))}),_(),i(17,"svg",53),p(18,"path",54),r()(),g(19,Oe,15,1,"div",55),r()(),g(20,Be,14,1,"div",56),r()}if(o&2){let e=t.$implicit,n=d(3);l(3),m("ngIf",e),l(),m("title",e.name),l(),w(e.name),l(2),w(C(8,9,e.category)),l(2),m("ngIf",e.equipmentNeeded),l(2),L("Primary: ",C(12,11,e.primaryMuscleGroup)),l(2),m("ngIf",e.description),l(6),m("ngIf",n.actionsVisibleId()===e.id&&!n.menuModeCompact),l(),m("ngIf",n.actionsVisibleId()===e.id&&n.menuModeCompact)}}function He(o,t){if(o&1&&(i(0,"div",39),g(1,De,21,13,"div",40),r()),o&2){let e=d(2);l(),m("ngForOf",e.filteredExercises())}}function Pe(o,t){o&1&&(i(0,"div",76)(1,"p",77),s(2,"No exercises found matching your criteria"),r(),i(3,"p",78),s(4,"Try adjusting your filters or search term."),r()())}function je(o,t){if(o&1&&(i(0,"div"),g(1,He,2,1,"div",38)(2,Pe,5,0,"ng-template",null,1,Y),r()),o&2){let e=Z(3),n=d();l(),m("ngIf",n.filteredExercises().length>0)("ngIfElse",e)}}function Ue(o,t){o&1&&(i(0,"div",76),_(),i(1,"svg",81),p(2,"circle",82)(3,"path",83),r(),h(),i(4,"p",84),s(5,"Loading exercises..."),r()())}function Re(o,t){o&1&&(i(0,"div",85),_(),i(1,"svg",86),p(2,"path",87),r(),h(),i(3,"h3",88),s(4,"Your Exercise Library is Empty"),r(),i(5,"p",89),s(6,"Start building your collection by adding your first exercise "),r(),i(7,"button",90),s(8," Add Your First Exercise "),r()())}function $e(o,t){if(o&1&&(i(0,"div",76),g(1,Ue,6,0,"div",79),k(2,"async"),g(3,Re,9,0,"div",80),k(4,"async"),r()),o&2){let e=d(2);l(),m("ngIf",C(2,2,e.exerciseService.isLoadingExercises$)),l(2),m("ngIf",!C(4,4,e.exerciseService.isLoadingExercises$)&&(!e.allExercises()||e.allExercises().length===0))}}function qe(o,t){if(o&1&&g(0,$e,5,6,"div",79),o&2){let e=d();m("ngIf",!e.allExercises()||e.allExercises().length===0)}}function ze(o,t){if(o&1){let e=E();i(0,"button",91),u("click",function(){x(e);let a=d();return f(a.scrollToTop())}),_(),i(1,"svg",92),p(2,"path",93),r(),h(),i(3,"span",8),s(4,"Back to Top"),r()()}}function Ze(o,t){if(o&1){let e=E();i(0,"div",94)(1,"div",95)(2,"span",96),s(3," CREATE EXERCISE "),r(),i(4,"button",97),u("click",function(){x(e);let a=d();return f(a.navigateToCreateExercise())}),_(),i(5,"svg",98),p(6,"path",99),r(),h(),i(7,"span",8),s(8,"CREATE EXERCISE"),r()()()()}o&2&&m("@fabSlideUp",void 0)}var z=class o{exerciseService=y(q);router=y(j);alertService=y($);toastService=y(be);spinnerService=y(Ee);themeService=y(we);platformId=y(ee);categories$;primaryMuscleGroups$;selectedCategory=b(null);selectedMuscleGroup=b(null);searchTerm=b("");allExercises=b([]);actionsVisibleId=b(null);menuModeCompact=!1;isFilterAccordionOpen=b(!1);filteredExercises=oe(()=>{let t=this.allExercises(),e=this.selectedCategory();e&&(t=t.filter(c=>c.category===e));let n=this.selectedMuscleGroup();n&&(t=t.filter(c=>c.primaryMuscleGroup===n));let a=this.searchTerm();return a&&(t=t.filter(c=>c.name.toLowerCase().includes(a)||c.description&&c.description.toLowerCase().includes(a))),t.map(c=>X(I({},c),{iconName:this.exerciseService.determineExerciseIcon(c,c?.name)}))});constructor(){}showBackToTopButton=b(!1);onWindowScroll(){let t=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;this.showBackToTopButton.set(t>400)}isFabActionsOpen=b(!1);isTouchDevice=!1;ngOnInit(){W(this.platformId)&&(window.scrollTo(0,0),this.isTouchDevice="ontouchstart"in window||navigator.maxTouchPoints>0),this.categories$=this.exerciseService.getUniqueCategories(),this.primaryMuscleGroups$=this.exerciseService.getUniquePrimaryMuscleGroups(),this.menuModeCompact=this.themeService.isMenuModeCompact(),this.exerciseService.getExercises().subscribe(t=>{this.allExercises.set(t)})}onCategoryChange(t){let e=t.target;this.selectedCategory.set(e.value||null)}onMuscleGroupChange(t){let e=t.target;this.selectedMuscleGroup.set(e.value||null)}onSearchTermChange(t){let e=t.target;this.searchTerm.set(e.value.toLowerCase())}clearFilters(){this.selectedCategory.set(null),this.selectedMuscleGroup.set(null),this.searchTerm.set("");let t=document.getElementById("category-filter");t&&(t.value="");let e=document.getElementById("muscle-group-filter");e&&(e.value="");let n=document.getElementById("search-term");n&&(n.value="")}goToExerciseDetails(t,e){e?.stopPropagation(),this.router.navigate(["/library",t]),this.actionsVisibleId.set(null)}getIconPath(t){return this.exerciseService.getIconPath(t)}toggleActions(t,e){e.stopPropagation(),this.actionsVisibleId.update(n=>n===t?null:t)}editExercise(t,e){e.stopPropagation(),this.router.navigate(["/library/edit",t]),this.actionsVisibleId.set(null)}deleteExercise(t,e){return G(this,null,function*(){e.stopPropagation(),this.actionsVisibleId.set(null);let n=this.allExercises().find(c=>c.id===t);if(!n){this.toastService.error("Exercise not found.",0);return}let a=yield this.alertService.showConfirm("Delete Exercise",`Are you sure you want to delete the exercise "${n.name}"? This action cannot be undone.`,"Delete");if(a&&a.data)try{this.spinnerService.show("Deleting exercise..."),yield this.exerciseService.deleteExercise(t),this.toastService.success(`Exercise "${n.name}" deleted successfully.`,3e3,"Deleted")}catch(c){console.error("Error deleting exercise:",c),this.toastService.error("Failed to delete exercise. It might be in use.",0,"Error")}finally{this.spinnerService.hide()}})}toggleFilterAccordion(){this.isFilterAccordionOpen.update(t=>!t)}scrollToTop(){W(this.platformId)&&window.scrollTo({top:0,behavior:"smooth"})}handleFabClick(){this.isFabActionsOpen.update(t=>!t)}handleFabMouseEnter(){this.isTouchDevice||this.isFabActionsOpen.set(!0)}handleFabMouseLeave(){this.isTouchDevice||this.isFabActionsOpen.set(!1)}navigateToCreateExercise(){this.router.navigate(["/library/new"])}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=N({type:o,selectors:[["app-exercise-list"]],hostBindings:function(e,n){e&1&&u("scroll",function(){return n.onWindowScroll()},ie)},decls:52,vars:22,consts:[["loadingOrInitial",""],["noExercisesAfterFilter",""],[1,"container","mx-auto","p-2","sm:p-4"],[1,"flex","justify-between","items-center","pb-2"],[1,"text-2xl","font-bold","text-gray-800","dark:text-gray-200"],["type","button",1,"rounded-md","text-gray-600","dark:text-gray-300","hover:bg-gray-200","dark:hover:bg-gray-700","focus:outline-none","focus:ring-2","focus:ring-primary","dark:focus:ring-primary-light","transition-all","duration-300","ease-in-out",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-8","h-8","transition-transform","duration-300"],["stroke-linecap","round","stroke-linejoin","round","d","M10.5 6h9.75M10.5 6a1.5 1.5 0 1 1-3 0m3 0a1.5 1.5 0 1 0-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0M3.75 18H7.5m3-6h9.75m-9.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0M3.75 12H7.5"],[1,"sr-only"],[1,"overflow-hidden","transition-all","duration-500","ease-in-out"],[1,"p-4","bg-white","dark:bg-gray-700","rounded-md","shadow-md","border","dark:border-gray-600"],[1,"text-xl","font-semibold","text-gray-700","dark:text-gray-300","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-4","items-end"],["for","category-filter",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-1"],["id","category-filter",1,"block","w-full","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200",3,"change","value"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","muscle-group-filter",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-1"],["id","muscle-group-filter",1,"block","w-full","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200",3,"change","value"],["for","search-term",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-1"],["type","text","id","search-term","placeholder","Search by name or description...",1,"block","w-full","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200",3,"input","value"],[1,"mt-4","flex","justify-between","items-center"],[1,"flex","px-4","py-2","bg-yellow-200","dark:bg-yellow-700","text-gray-700","dark:text-gray-200","rounded-md","hover:bg-yellow-300","dark:hover:bg-yellow-500","text-sm","items-center",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"size-5","mr-2"],["stroke-linecap","round","stroke-linejoin","round","d","m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"],["class","text-sm text-gray-600 dark:text-gray-400",4,"ngIf"],[4,"ngIf","ngIfElse"],[1,"fixed","bottom-20","right-6","z-40","flex","flex-col","items-center","gap-4"],["type","button","class","bg-primary dark:bg-primary-dark text-white rounded-full p-3 shadow-lg hover:bg-primary-dark dark:hover:bg-primary-light focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-focus dark:focus:ring-offset-gray-900 transition-opacity animate-fade-in",3,"click",4,"ngIf"],[1,"flex","flex-col-reverse","items-center","gap-4",3,"mouseenter","mouseleave"],["type","button",1,"flex","h-14","w-14","items-center","justify-center","rounded-full","bg-primary","text-white","shadow-xl","transition-all","duration-300","hover:bg-primary-dark","hover:scale-105","focus:outline-none","focus:ring-2","focus:ring-primary-focus","focus:ring-offset-2","dark:ring-offset-gray-900",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2.5",1,"h-8","w-8","transition-transform","duration-300"],["stroke-linecap","round","stroke-linejoin","round","d","M12 6v6m0 0v6m0-6h6m-6 0H6"],["class","flex flex-col items-center gap-4",4,"ngIf"],[3,"value"],[1,"text-sm","text-gray-600","dark:text-gray-400"],[1,"text-gray-800","dark:text-gray-200"],[4,"ngIf"],["class","grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",4,"ngIf","ngIfElse"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-3","gap-4","sm:gap-6"],["class","bg-white dark:bg-gray-700 rounded-md shadow-lg hover:shadow-xl transition-shadow duration-300 flex flex-col relative transform hover:-translate-y-1",3,"click",4,"ngFor","ngForOf"],[1,"bg-white","dark:bg-gray-700","rounded-md","shadow-lg","hover:shadow-xl","transition-shadow","duration-300","flex","flex-col","relative","transform","hover:-translate-y-1",3,"click"],[1,"p-4","sm:p-5","flex-grow","cursor-pointer"],[1,"flex","items-start","mb-1.5"],["class","w-7 h-7 sm:w-8 sm:h-8 object-contain mr-2 mt-0.5 sm:mt-1",3,"src","alt","ngClass",4,"ngIf"],[1,"text-lg","sm:text-xl","font-semibold","text-primary","dark:text-primary-light","flex-grow","pr-8",3,"title"],[1,"text-xs","sm:text-sm","text-gray-500","dark:text-gray-400","mb-1","capitalize"],["class","text-xs sm:text-sm text-gray-500 dark:text-gray-400 mb-1 capitalize",4,"ngIf"],[1,"text-xs","sm:text-sm","text-gray-700","dark:text-gray-300","mb-2","sm:mb-3"],["class","text-gray-600 dark:text-gray-400 text-xs sm:text-sm mb-3 sm:mb-4 line-clamp-2 sm:line-clamp-3",3,"title",4,"ngIf"],[1,"absolute","top-2","right-2","z-20"],[1,"relative"],[1,"p-1.5","text-gray-500","dark:text-gray-400","hover:bg-gray-200","dark:hover:bg-gray-700","rounded-full","focus:outline-none",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"h-4","w-4","sm:h-5","sm:w-5"],["d","M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"],["class","origin-top-right absolute right-0 top-full mt-1 sm:mt-2 w-40 sm:w-48 rounded-md shadow-lg bg-white dark:bg-gray-800 ring-1 ring-black dark:ring-gray-600 ring-opacity-5 focus:outline-none py-1 z-50",4,"ngIf"],["class",`absolute inset-x-0 bottom-0 p-2 bg-gray-100 dark:bg-gray-700 border-t border-gray-200 dark:border-gray-700
                     flex flex-wrap gap-1.5 justify-center z-10 rounded-b-lg`,4,"ngIf"],[1,"w-7","h-7","sm:w-8","sm:h-8","object-contain","mr-2","mt-0.5","sm:mt-1",3,"src","alt","ngClass"],[1,"text-gray-600","dark:text-gray-400","text-xs","sm:text-sm","mb-3","sm:mb-4","line-clamp-2","sm:line-clamp-3",3,"title"],[1,"origin-top-right","absolute","right-0","top-full","mt-1","sm:mt-2","w-40","sm:w-48","rounded-md","shadow-lg","bg-white","dark:bg-gray-800","ring-1","ring-black","dark:ring-gray-600","ring-opacity-5","focus:outline-none","py-1","z-50"],[1,"w-full","text-left","px-3","py-1.5","sm:px-4","sm:py-2","text-gray-700","dark:text-gray-200","hover:bg-gray-100","dark:hover:bg-gray-500","flex","items-center",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"w-5","h-5","mr-2"],["d","M10 12.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5Z"],["fill-rule","evenodd","d","M.664 10.59a1.651 1.651 0 010-1.186A10.004 10.004 0 0110 3c4.257 0 7.893 2.66 9.336 6.41.147.381.146.804 0 1.186A10.004 10.004 0 0110 17c-4.257 0-7.893-2.66-9.336-6.41ZM14 10a4 4 0 11-8 0 4 4 0 018 0Z","clip-rule","evenodd"],["d","m13.83 3.393 2.777 2.777-9.333 9.333H4.5v-2.777l9.33-9.333Zm0 0L12.5 2.06M6 13.5V15h1.5l7.5-7.5-1.5-1.5L6 13.5Z"],[1,"my-0.5","sm:my-1","border-t","border-gray-200","dark:border-gray-600"],[1,"w-full","text-left","px-3","py-1.5","sm:px-4","sm:py-2","text-red-600","dark:text-red-400","hover:bg-red-50","dark:hover:bg-red-600/50","flex","items-center",3,"click"],["fill-rule","evenodd","d","M8.75 1A2.75 2.75 0 006 3.75v.443c-.795.077-1.58.177-2.365.298a.75.75 0 10.23 1.482l.149-.022.841 10.518A2.75 2.75 0 007.596 19h4.807a2.75 2.75 0 002.742-2.53l.841-10.52.149.023a.75.75 0 00.23-1.482A41.03 41.03 0 0014 4.193V3.75A2.75 2.75 0 0011.25 1h-2.5ZM10 4c.84 0 1.673.025 2.5.075V3.75c0-.69-.56-1.25-1.25-1.25h-2.5c-.69 0-1.25.56-1.25 1.25v.325C8.327 4.025 9.16 4 10 4ZM8.58 7.72a.75.75 0 00-1.5.06l.3 7.5a.75.75 0 101.5-.06l-.3-7.5Zm4.34.06a.75.75 0 10-1.5-.06l-.3 7.5a.75.75 0 101.5.06l.3-7.5Z","clip-rule","evenodd"],[1,"absolute","inset-x-0","bottom-0","p-2","bg-gray-100","dark:bg-gray-700","border-t","border-gray-200","dark:border-gray-700","flex","flex-wrap","gap-1.5","justify-center","z-10","rounded-b-lg"],["title","View Details",1,"flex-1","text-xs","min-w-[70px]","flex","items-center","justify-center","p-1.5","bg-cyan-500","text-white","rounded-md","hover:bg-cyan-600","transition-colors",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","2","stroke","currentColor",1,"size-4","mr-1"],["stroke-linecap","round","stroke-linejoin","round","d","M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"],["stroke-linecap","round","stroke-linejoin","round","d","M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"],["title","EDIT Exercise",1,"flex-1","text-xs","min-w-[70px]","flex","items-center","justify-center","p-1.5","bg-yellow-500","text-white","rounded-md","hover:bg-yellow-600","transition-colors",3,"click"],["stroke-linecap","round","stroke-linejoin","round","d","m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"],["title","DELETE Exercise",1,"flex-1","text-xs","min-w-[70px]","flex","items-center","justify-center","p-1.5","bg-red-500","text-white","rounded-md","hover:bg-red-600","transition-colors",3,"click"],[1,"text-center","py-10"],[1,"text-xl","text-gray-600","dark:text-gray-400"],[1,"text-sm","text-gray-500","dark:text-gray-400","mt-2"],["class","text-center py-10",4,"ngIf"],["class","text-center py-12 px-6 bg-white dark:bg-gray-700 rounded-md shadow-md",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","h-8","w-8","text-primary","dark:text-primary-light","mx-auto"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],[1,"text-lg","text-gray-600","dark:text-gray-400","mt-3"],[1,"text-center","py-12","px-6","bg-white","dark:bg-gray-700","rounded-md","shadow-md"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-16","h-16","mx-auto","text-gray-400","dark:text-gray-200","mb-4"],["stroke-linecap","round","stroke-linejoin","round","d","M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"],[1,"text-xl","font-semibold","text-gray-700","dark:text-gray-300","mb-2"],[1,"text-gray-500","dark:text-gray-400","mb-6"],["routerLink","/library/new",1,"bg-primary","hover:bg-primary-dark","text-white","font-semibold","py-2.5","px-6","rounded-md","shadow-md","hover:shadow-lg","transition-all","duration-300","focus:outline-none","focus:ring-2","focus:ring-primary-light","focus:ring-opacity-75"],["type","button",1,"bg-primary","dark:bg-primary-dark","text-white","rounded-full","p-3","shadow-lg","hover:bg-primary-dark","dark:hover:bg-primary-light","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-primary-focus","dark:focus:ring-offset-gray-900","transition-opacity","animate-fade-in",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","2.5","stroke","currentColor",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","d","M4.5 15.75l7.5-7.5 7.5 7.5"],[1,"flex","flex-col","items-center","gap-4"],[1,"group","relative","flex","items-center"],[1,"absolute","right-full","md:hidden","whitespace-nowrap","rounded-md","bg-blue-500","px-3","py-2","text-sm","font-semibold","text-white","group-hover:block",2,"margin-right","-10px"],["type","button",1,"flex","h-14","w-14","items-center","justify-center","rounded-full","bg-blue-500","text-white","shadow-lg","transition-transform","hover:scale-110","focus:outline-none","focus:ring-2","focus:ring-blue-400","focus:ring-offset-2","dark:ring-offset-gray-900",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"h-7","w-7"],["d","M10.75 4.75a.75.75 0 0 0-1.5 0v4.5h-4.5a.75.75 0 0 0 0 1.5h4.5v4.5a.75.75 0 0 0 1.5 0v-4.5h4.5a.75.75 0 0 0 0-1.5h-4.5v-4.5Z"]],template:function(e,n){if(e&1){let a=E();i(0,"div",2)(1,"header",3)(2,"h1",4),s(3,"Exercise Library"),r(),i(4,"button",5),u("click",function(){return x(a),f(n.toggleFilterAccordion())}),_(),i(5,"svg",6),p(6,"path",7),r(),h(),i(7,"span",8),s(8,"Toggle Filters"),r()()(),i(9,"div",9)(10,"div",10)(11,"h2",11),s(12,"Filter Exercises"),r(),i(13,"div",12)(14,"div")(15,"label",13),s(16,"Category"),r(),i(17,"select",14),u("change",function(v){return x(a),f(n.onCategoryChange(v))}),i(18,"option",15),s(19,"All Categories"),r(),g(20,Me,3,4,"option",16),k(21,"async"),r()(),i(22,"div")(23,"label",17),s(24,"Primary Muscle Group"),r(),i(25,"select",18),u("change",function(v){return x(a),f(n.onMuscleGroupChange(v))}),i(26,"option",15),s(27,"All Muscle Groups"),r(),g(28,Ie,3,4,"option",16),k(29,"async"),r()(),i(30,"div")(31,"label",19),s(32,"Search"),r(),i(33,"input",20),u("input",function(v){return x(a),f(n.onSearchTermChange(v))}),r()()(),i(34,"div",21)(35,"button",22),u("click",function(){return x(a),f(n.clearFilters())}),_(),i(36,"svg",23),p(37,"path",24),r(),s(38," CLEAR FILTERS "),r(),g(39,Ve,6,2,"div",25),r()()(),g(40,je,4,2,"div",26)(41,qe,1,1,"ng-template",null,0,Y),r(),h(),i(43,"div",27),g(44,ze,5,0,"button",28),i(45,"div",29),u("mouseenter",function(){return x(a),f(n.handleFabMouseEnter())})("mouseleave",function(){return x(a),f(n.handleFabMouseLeave())}),i(46,"button",30),u("click",function(){return x(a),f(n.handleFabClick())}),_(),i(47,"svg",31),p(48,"path",32),r(),h(),i(49,"span",8),s(50,"Open creation menu"),r()(),g(51,Ze,9,1,"div",33),r()()}if(e&2){let a=Z(42);l(5),O("rotate-180",n.isFilterAccordionOpen()),l(4),re("max-height",n.isFilterAccordionOpen()?"1000px":"0px"),O("mb-8",n.isFilterAccordionOpen()),l(8),m("value",n.selectedCategory()||""),l(3),m("ngForOf",C(21,18,n.categories$)),l(5),m("value",n.selectedMuscleGroup()||""),l(3),m("ngForOf",C(29,20,n.primaryMuscleGroups$)),l(5),m("value",n.searchTerm()),l(6),m("ngIf",n.allExercises().length>0),l(),m("ngIf",n.allExercises().length>0)("ngIfElse",a),l(4),m("ngIf",n.showBackToTopButton()),l(3),O("rotate-45",n.isFabActionsOpen()),l(4),m("ngIf",n.isFabActionsOpen())}},dependencies:[P,se,B,D,ae,H,U],encapsulation:2,data:{animation:[R("fabSlideUp",[M(":enter",[S({opacity:0,transform:"translateY(200%)"}),F("250ms ease-out",S({opacity:1,transform:"translateY(0)"}))]),M(":leave",[F("200ms ease-in",S({opacity:0,transform:"translateY(100%)"}))])]),R("slideInOutActions",[V("void",S({height:"0px",opacity:0,overflow:"hidden",paddingTop:"0",paddingBottom:"0",marginTop:"0",marginBottom:"0"})),V("*",S({height:"*",opacity:1,paddingTop:"0.5rem",paddingBottom:"0.5rem"})),M("void <=> *",F("200ms ease-in-out"))]),R("dropdownMenu",[V("void",S({opacity:0,transform:"scale(0.75) translateY(-10px)",transformOrigin:"top right"})),V("*",S({opacity:1,transform:"scale(1) translateY(0)",transformOrigin:"top right"})),M("void => *",[F("150ms cubic-bezier(0.25, 0.8, 0.25, 1)")]),M("* => void",[F("100ms cubic-bezier(0.25, 0.8, 0.25, 1)")])])]}})};function Ye(o,t){if(o&1&&(i(0,"option",32),s(1),k(2,"titlecase"),r()),o&2){let e=t.$implicit;m("value",e),l(),w(C(2,2,e))}}function We(o,t){if(o&1&&(i(0,"option",32),s(1),r()),o&2){let e=t.$implicit;m("value",e),l(),w(e)}}function Xe(o,t){if(o&1){let e=E();i(0,"div",33),p(1,"input",34),i(2,"button",35),u("click",function(){let a=x(e).index,c=d();return f(c.removeControlFromFormArray("muscleGroups",a))}),s(3,"Remove"),r()()}if(o&2){let e=t.index;l(),m("formControlName",e)}}function Qe(o,t){if(o&1){let e=E();i(0,"div",33),p(1,"input",34),i(2,"button",35),u("click",function(){let a=x(e).index,c=d();return f(c.removeControlFromFormArray("equipmentNeeded",a))}),s(3,"Remove"),r()()}if(o&2){let e=t.index;l(),m("formControlName",e)}}function Je(o,t){if(o&1){let e=E();i(0,"div",33),p(1,"input",38),i(2,"button",35),u("click",function(){let a=x(e).index,c=d(2);return f(c.removeControlFromFormArray("imageUrls",a))}),s(3,"Remove"),r()()}if(o&2){let e=t.index;l(),m("formControlName",e)}}function Ke(o,t){if(o&1){let e=E();i(0,"div",36)(1,"h3",37),s(2,"Image URLs (one per line)"),r(),g(3,Je,4,1,"div",21),i(4,"button",22),u("click",function(){x(e);let a=d();return f(a.addControlToFormArray("imageUrls"))}),s(5,"+ Add Image URL"),r()()}if(o&2){let e=d();l(3),m("ngForOf",e.getFormArray("imageUrls").controls)}}var A=class o{fb=y(ye);router=y(j);route=y(le);exerciseService=y(q);alertService=y($);exerciseForm;isEditMode=b(!1);editingExerciseId=null;pageTitle=b("Add New Exercise");categories=["barbells","dumbbells","bodyweight/calisthenics","machines","cables","kettlebells","bands","other"];availableMuscleGroups=["Chest","Back","Legs","Shoulders","Biceps","Triceps","Abs","Calves","Forearms","Glutes","Hamstrings","Lats","Quads","Traps"];constructor(){this.exerciseForm=this.fb.group({name:["",T.required],description:["",T.required],category:["bodyweight/calisthenics",T.required],primaryMuscleGroup:["",T.required],muscleGroups:this.fb.array([]),equipmentNeeded:this.fb.array([]),imageUrls:this.fb.array([]),videoUrl:[""],notes:[""]})}ngOnInit(){this.route.paramMap.pipe(K(t=>(this.editingExerciseId=t.get("id"),this.editingExerciseId?(this.isEditMode.set(!0),this.pageTitle.set("Edit Exercise"),this.exerciseService.getExerciseById(this.editingExerciseId)):Q(null))),J(1)).subscribe(t=>{t&&this.isEditMode()&&this.patchFormForEditing(t)})}patchFormForEditing(t){this.exerciseForm.patchValue({name:t.name,description:t.description,category:t.category,primaryMuscleGroup:t.primaryMuscleGroup,videoUrl:t.videoUrl||"",notes:t.notes||""}),this.setFormArrayControls("muscleGroups",t.muscleGroups),this.setFormArrayControls("equipmentNeeded",t.equipmentNeeded||[]),this.setFormArrayControls("imageUrls",t.imageUrls)}getFormArray(t){return this.exerciseForm.get(t)}setFormArrayControls(t,e){let n=this.getFormArray(t);n.clear(),e.forEach(a=>n.push(this.fb.control(a,T.required)))}addControlToFormArray(t){this.getFormArray(t).push(this.fb.control("",T.required))}removeControlFromFormArray(t,e){this.getFormArray(t).removeAt(e)}onSubmit(){return G(this,null,function*(){if(this.exerciseForm.invalid){this.exerciseForm.markAllAsTouched(),this.alertService.showAlert("Error","Please fill in all required fields.");return}let t=this.exerciseForm.value,e=I({},t);try{if(this.isEditMode()&&this.editingExerciseId)yield this.exerciseService.updateExercise(I({id:this.editingExerciseId},e)).toPromise(),this.alertService.showAlert("Success","Exercise updated successfully!"),this.router.navigate(["/library",this.editingExerciseId]);else{let n=yield this.exerciseService.addExercise(e).toPromise();n?(this.alertService.showAlert("Success","Exercise added successfully!"),this.router.navigate(["/library",n.id])):(console.error("Failed to add exercise, newExercise is undefined."),this.alertService.showAlert("Error","Failed to add exercise. Please try again."))}}catch(n){console.error("Error saving exercise:",n),this.alertService.showAlert("Error",`Failed to save exercise: ${n.message}`)}})}get f(){return this.exerciseForm.controls}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=N({type:o,selectors:[["app-exercise-form"]],decls:56,vars:10,consts:[[1,"container","mx-auto","p-2","sm:p-4"],[1,"flex","items-center","justify-start","p-2"],[1,"flex","justify-between","items-center"],[1,"text-gray-600","dark:text-gray-300","hover:text-primary","dark:hover:text-primary-light","p-2","-ml-1",3,"routerLink"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 19l-7-7 7-7"],[1,"w-10","h-10"],[1,"text-2xl","font-bold","text-gray-800","dark:text-gray-200"],[1,"space-y-6","bg-white","dark:bg-gray-700","p-6","rounded-md","shadow-md",3,"ngSubmit","formGroup"],["for","name",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["type","text","id","name","formControlName","name",1,"mt-1","block","w-full","p-2","border","rounded-md"],["for","description",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["id","description","formControlName","description","rows","3",1,"mt-1","block","w-full","p-2","border","rounded-md"],["for","category",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["id","category","formControlName","category",1,"mt-1","block","w-full","p-2","border","rounded-md"],[3,"value",4,"ngFor","ngForOf"],["for","primaryMuscleGroup",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["id","primaryMuscleGroup","formControlName","primaryMuscleGroup",1,"mt-1","block","w-full","p-2","border","rounded-md"],["value",""],["formArrayName","muscleGroups"],[1,"text-lg","font-medium","dark:text-gray-300"],["class","flex items-center space-x-2 mb-2",4,"ngFor","ngForOf"],["type","button",1,"text-sm","text-blue-600",3,"click"],["formArrayName","equipmentNeeded"],["formArrayName","imageUrls",4,"ngIf"],["for","videoUrl",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["type","url","id","videoUrl","formControlName","videoUrl",1,"mt-1","block","w-full","p-2","border","rounded-md"],["for","notes",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["id","notes","formControlName","notes","rows","3",1,"mt-1","block","w-full","p-2","border","rounded-md"],[1,"pt-6","flex","justify-end","space-x-3"],["routerLink","/library",1,"px-4","py-2","border","rounded-md","dark:bg-gray-400"],["type","submit",1,"px-4","py-2","bg-primary","text-white","rounded-md","disabled:opacity-50",3,"disabled"],[3,"value"],[1,"flex","items-center","space-x-2","mb-2"],["type","text",1,"block","w-full","p-2","border","rounded-md",3,"formControlName"],["type","button",1,"text-red-500",3,"click"],["formArrayName","imageUrls"],[1,"text-lg","font-medium"],["type","url","placeholder","https://example.com/image.jpg",1,"block","w-full","p-2","border","rounded-md",3,"formControlName"]],template:function(e,n){e&1&&(i(0,"div",0)(1,"header",1)(2,"div",2)(3,"button",3),_(),i(4,"svg",4),p(5,"path",5),r()(),h(),p(6,"div",6),r(),i(7,"h1",7),s(8),r()(),i(9,"form",8),u("ngSubmit",function(){return n.onSubmit()}),i(10,"div")(11,"label",9),s(12,"Name"),r(),p(13,"input",10),r(),i(14,"div")(15,"label",11),s(16,"Description"),r(),p(17,"textarea",12),r(),i(18,"div")(19,"label",13),s(20,"Category"),r(),i(21,"select",14),g(22,Ye,3,4,"option",15),r()(),i(23,"div")(24,"label",16),s(25,"Primary Muscle Group"),r(),i(26,"select",17)(27,"option",18),s(28,"Select Primary Muscle"),r(),g(29,We,2,2,"option",15),r()(),i(30,"div",19)(31,"h3",20),s(32,"Other Muscle Groups"),r(),g(33,Xe,4,1,"div",21),i(34,"button",22),u("click",function(){return n.addControlToFormArray("muscleGroups")}),s(35,"+ Add Muscle Group"),r()(),i(36,"div",23)(37,"h3",20),s(38,"Equipment Needed"),r(),g(39,Qe,4,1,"div",21),i(40,"button",22),u("click",function(){return n.addControlToFormArray("equipmentNeeded")}),s(41,"+ Add Equipment"),r()(),g(42,Ke,6,1,"div",24),i(43,"div")(44,"label",25),s(45,"Video URL (Optional)"),r(),p(46,"input",26),r(),i(47,"div")(48,"label",27),s(49,"Notes & Tips (Optional)"),r(),p(50,"textarea",28),r(),i(51,"div",29)(52,"a",30),s(53,"Cancel"),r(),i(54,"button",31),s(55),r()()()()),e&2&&(l(3),m("routerLink","/library"),l(5),w(n.pageTitle()),l(),m("formGroup",n.exerciseForm),l(13),m("ngForOf",n.categories),l(7),m("ngForOf",n.availableMuscleGroups),l(4),m("ngForOf",n.getFormArray("muscleGroups").controls),l(6),m("ngForOf",n.getFormArray("equipmentNeeded").controls),l(3),m("ngIf",!1),l(12),m("disabled",n.exerciseForm.invalid),l(),L(" ",n.isEditMode()?"Update Exercise":"Add Exercise"," "))},dependencies:[P,B,D,H,he,pe,ve,_e,ce,fe,me,de,ue,xe,ge,U],encapsulation:2})};var Ot=[{path:"",component:z,title:"Exercise Library"},{path:"new",component:A,title:"Add New Exercise"},{path:"edit/:id",component:A,title:"Edit Exercise"},{path:":id",component:ke,title:"Exercise Details"}];export{Ot as EXERCISE_LIBRARY_ROUTES};
