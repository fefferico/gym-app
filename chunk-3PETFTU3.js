import{a as _t}from"./chunk-MADDM52Q.js";import{a as Xt}from"./chunk-UTZ6CIJT.js";import{a as jt}from"./chunk-5FKKK24F.js";import{a as Ke}from"./chunk-UFTROFKP.js";import{b as Yt}from"./chunk-SPMGMOAQ.js";import{a as Gt}from"./chunk-BTXEIDV4.js";import{a as Xe}from"./chunk-MJFAEJSG.js";import"./chunk-XUKO74W7.js";import{a as Kt}from"./chunk-K7PYWODS.js";import{e as qt,f as zt}from"./chunk-RPR23QBK.js";import{a as $t}from"./chunk-OF5U6FQR.js";import{A as pe,B as Ye,G as At,H as qe,I as Y,P as me,U as ze,V as ce,W as Wt,r as Dt,u as le,v as $e,x as Ot}from"./chunk-CL4SGJP3.js";import{a as Ut,b as Lt,c as Vt,u as Nt,v as de,w as Ht,x as Rt}from"./chunk-46SYQLJ7.js";import{$a as G,$b as Me,$c as Ct,Bb as X,Bc as he,Cc as be,Dc as Fe,Hb as ft,I as we,Ja as m,K as Ee,Ka as a,Kc as kt,La as n,Lb as Ce,Lc as De,Ma as f,Mb as ie,Mc as b,Na as it,Nb as re,Nc as Oe,O as S,Oa as rt,Oc as Ae,Qa as D,Qc as wt,Ra as y,Rb as yt,Sa as _,Sc as Ue,T as B,Tc as Le,U as C,Ub as ht,V as fe,Vb as bt,W as ye,Wb as Pe,Wc as Et,Xb as xt,Xc as Ve,Yc as Bt,Za as V,Zb as ne,_ as W,_a as ut,_c as Ne,a as dt,ad as He,bb as s,bd as Re,c as mt,cb as u,cd as Pt,da as Be,db as g,dd as Mt,eb as N,ed as It,fb as gt,ga as K,gd as We,id as Ge,ja as i,jd as Tt,l as Z,ld as ae,md as j,nb as T,ob as M,od as $,pb as vt,pd as se,qd as oe,rc as Ie,rd as je,sc as St,sd as Ft,tb as o,ua as ee,ub as d,v as ke,vb as E,wb as nt,xb as te,xc as at,y as z,yc as Te,z as ct,za as k}from"./chunk-ZOH75SFF.js";import{a as H,b as R,g as P}from"./chunk-GAL4ENT6.js";var ue=class l{STORE_NAME="progress_photos";dbService=S(_t);saveImage(r,t){return P(this,null,function*(){return Z(this.dbService.update(this.STORE_NAME,{date:r,image:t}))})}getImage(r){return P(this,null,function*(){if(!r)return Promise.resolve(void 0);let t=yield Z(this.dbService.getByKey(this.STORE_NAME,r));return t?t.image:void 0})}deleteImage(r){return P(this,null,function*(){return r?Z(this.dbService.delete(this.STORE_NAME,r)):Promise.resolve()})}getAllImagesForBackup(){return P(this,null,function*(){let r=yield Z(this.dbService.getAll(this.STORE_NAME)),t=[];for(let e of r)if(e.image instanceof Blob){let p=yield this.blobToBase64(e.image);t.push({date:e.date,type:e.image.type,data:p})}return t})}importImages(r){return P(this,null,function*(){if(!r||r.length===0)return Promise.resolve();let t=r.map(e=>{let p=this.base64ToBlob(e.data,e.type);return{date:e.date,image:p}});return Z(this.dbService.bulkPut(this.STORE_NAME,t))})}blobToBase64(r){return new Promise((t,e)=>{let p=new FileReader;p.onloadend=()=>t(p.result),p.onerror=e,p.readAsDataURL(r)})}base64ToBlob(r,t=""){let e=atob(r.split(",")[1]),p=[];for(let c=0;c<e.length;c+=512){let v=e.slice(c,c+512),h=new Array(v.length);for(let x=0;x<v.length;x++)h[x]=v.charCodeAt(x);let w=new Uint8Array(h);p.push(w)}return new Blob(p,{type:t})}static \u0275fac=function(t){return new(t||l)};static \u0275prov=Ee({token:l,factory:l.\u0275fac,providedIn:"root"})};var Qe=class l{unitsService=S(Y);trackingService=S(me);workoutService=S(ce);userProfileService=S(de);personalGymService=S(Ke);progressiveOverloadService=S(qe);spinnerService=S(Xe);toastService=S(j);translate=S($);constructor(){}convertAllWeightData(r,t){return P(this,null,function*(){this.spinnerService.show(this.translate.instant("dataConversionService.spinner.convertingWeight"));let e=this.trackingService.getDataForBackup();e.forEach(x=>{x.exercises.forEach(I=>{I.sets.forEach(F=>{F.weightLogged!=null&&(F.weightLogged=$e(this.unitsService.convertWeight(le(F.weightLogged),r,t))),F.targetWeight!=null&&(F.targetWeight=$e(this.unitsService.convertWeight(le(F.targetWeight),r,t)))})})}),yield this.trackingService.replaceLogs(e);let p=this.workoutService.getDataForBackup();p.forEach(x=>{x.exercises.forEach(I=>{I.sets.forEach(F=>{F.targetWeight!=null&&(F.targetWeight=$e(this.unitsService.convertWeight(le(F.targetWeight),r,t)))})})}),this.workoutService.mergeData(p);let c=this.personalGymService.getDataForBackup();c.forEach(x=>{switch(x.category){case"Dumbbell":case"Kettlebell":case"Macebell":case"Club":x.weightType==="fixed"&&x.weight!=null?x.weight=this.unitsService.convertWeight(x.weight,r,t):x.weightType==="adjustable"&&(x.minweight!=null&&(x.minweight=this.unitsService.convertWeight(x.minweight,r,t)),x.maxweight!=null&&(x.maxweight=this.unitsService.convertWeight(x.maxweight,r,t)),x.increment!=null&&(x.increment=this.unitsService.convertWeight(x.increment,r,t)));break;case"Plate":case"Barbell":x.weight!=null&&(x.weight=this.unitsService.convertWeight(x.weight,r,t));break;case"Bag":x.maxweight!=null&&(x.maxweight=this.unitsService.convertWeight(x.maxweight,r,t)),x.currentWeightKg!=null&&(x.currentWeightKg=this.unitsService.convertWeight(x.currentWeightKg,r,t));break;case"Band":x.resistance!=null&&(x.resistance=this.unitsService.convertWeight(x.resistance,r,t));break;case"Machine":x.maxLoad!=null&&(x.maxLoad=this.unitsService.convertWeight(x.maxLoad,r,t));break}}),this.personalGymService.mergeData(c);let v=this.progressiveOverloadService.getDataForBackup();v.weightIncrement!=null&&(v.weightIncrement=this.unitsService.convertWeight(v.weightIncrement,r,t),this.progressiveOverloadService.replaceData(v)),this.spinnerService.hide();let h=this.translate.instant("dataConversionService.toast.conversionCompleteTitle"),w=this.translate.instant("dataConversionService.toast.weightSuccess");this.toastService.success(w,3e3,h)})}convertAllBodyWeightData(r,t){return P(this,null,function*(){this.spinnerService.show(this.translate.instant("dataConversionService.spinner.convertingBodyWeight"));let e=this.userProfileService.getDataForBackup();e&&(e.measurementHistory&&e.measurementHistory.forEach(v=>{v.weight!=null&&(v.weight=this.unitsService.convertWeight(v.weight,r,t))}),e.measurementGoals?.weight!=null&&(e.measurementGoals.weight=this.unitsService.convertWeight(e.measurementGoals.weight,r,t)),this.userProfileService.replaceData(e)),this.spinnerService.hide();let p=this.translate.instant("dataConversionService.toast.conversionCompleteTitle"),c=this.translate.instant("dataConversionService.toast.bodyWeightSuccess");this.toastService.success(c,3e3,p)})}convertAllBodyMeasureData(r,t){return P(this,null,function*(){this.spinnerService.show(this.translate.instant("dataConversionService.spinner.convertingBodyMeasure"));let e=this.userProfileService.getDataForBackup();if(e){let v=["height","chest","neck","waist","hips","rightArm"];e.measurementHistory&&e.measurementHistory.forEach(h=>{v.forEach(w=>{h[w]!=null&&(h[w]=this.unitsService.convertMeasure(h[w],r,t))})}),e.measurementGoals&&v.forEach(h=>{let w=h;e.measurementGoals[w]!=null&&(e.measurementGoals[w]=this.unitsService.convertMeasure(e.measurementGoals[w],r,t))}),this.userProfileService.replaceData(e)}this.spinnerService.hide();let p=this.translate.instant("dataConversionService.toast.conversionCompleteTitle"),c=this.translate.instant("dataConversionService.toast.bodyMeasureSuccess");this.toastService.success(c,3e3,p)})}convertAllMeasureData(r,t){return P(this,null,function*(){this.spinnerService.show(this.translate.instant("dataConversionService.spinner.convertingMeasure"));let e=this.personalGymService.getDataForBackup();e.forEach(v=>{v.category==="Band"&&v.length!=null&&(v.length=this.unitsService.convertMeasure(v.length,r,t))}),this.personalGymService.mergeData(e),this.spinnerService.hide();let p=this.translate.instant("dataConversionService.toast.conversionCompleteTitle"),c=this.translate.instant("dataConversionService.toast.measureSuccess");this.toastService.success(c,3e3,p)})}convertAllDistanceMeasureData(r,t){return P(this,null,function*(){this.spinnerService.show(this.translate.instant("dataConversionService.spinner.convertingDistance"));let e=this.trackingService.getDataForBackup();e.forEach(w=>{w.exercises.forEach(x=>{x.sets.forEach(I=>{I.distanceLogged!=null&&(I.distanceLogged=Ye(this.unitsService.convertDistance(pe(I.distanceLogged),r,t))),I.targetDistance!=null&&(I.targetDistance=Ye(this.unitsService.convertDistance(pe(I.targetDistance),r,t)))})})}),yield this.trackingService.replaceLogs(e);let p=this.workoutService.getDataForBackup();p.forEach(w=>{w.exercises.forEach(x=>{x.sets.forEach(I=>{I.targetDistance!=null&&(I.targetDistance=Ye(this.unitsService.convertDistance(pe(I.targetDistance),r,t)))})})}),this.workoutService.mergeData(p);let c=this.progressiveOverloadService.getDataForBackup();c.distanceIncrement!=null&&(c.distanceIncrement=this.unitsService.convertDistance(c.distanceIncrement,r,t),this.progressiveOverloadService.replaceData(c)),this.spinnerService.hide();let v=this.translate.instant("dataConversionService.toast.conversionCompleteTitle"),h=this.translate.instant("dataConversionService.toast.distanceSuccess");this.toastService.success(h,3e3,v)})}static \u0275fac=function(t){return new(t||l)};static \u0275prov=Ee({token:l,factory:l.\u0275fac,providedIn:"root"})};var A=l=>({unit:l}),J=(l,r)=>({"left-1 right-1/2":l,"left-1/2 right-1":r}),O=(l,r)=>({"text-white":l,"text-gray-700 dark:text-gray-300":r}),ri=(l,r,t)=>({"translate-x-1":l,"translate-x-full":r,"translate-x-[195%]":t});function ni(l,r){if(l&1&&(a(0,"option",132),s(1),o(2,"translate"),n()),l&2){let t=r.$implicit;m("value",t.value),i(),g("",d(2,2,t.label)," ")}}function ai(l,r){l&1&&(a(0,"span",133),f(1,"app-icon",134),s(2),o(3,"translate"),n()),l&2&&(i(2),g(" ",d(3,1,"common.premium")," "))}function si(l,r){l&1&&(a(0,"div",135),s(1),o(2,"translate"),n()),l&2&&(i(),g(" ",d(2,1,"settings.player.weightIncrementError")," "))}function oi(l,r){l&1&&(a(0,"div",135),s(1),o(2,"translate"),n()),l&2&&(i(),g(" ",d(2,1,"settings.player.durationIncrementError")," "))}function li(l,r){l&1&&(a(0,"div",135),s(1),o(2,"translate"),n()),l&2&&(i(),g(" ",d(2,1,"settings.player.distanceIncrementError")," "))}function pi(l,r){l&1&&(a(0,"div",135),s(1),o(2,"translate"),n()),l&2&&(i(),g(" ",d(2,1,"settings.player.restIncrementError")," "))}function di(l,r){l&1&&(a(0,"div",135),s(1),o(2,"translate"),n()),l&2&&(i(),g(" ",d(2,1,"settings.player.countdownSoundError")," "))}function mi(l,r){if(l&1){let t=D();a(0,"div",16)(1,"label",136),s(2),o(3,"translate"),n(),a(4,"input",137),y("change",function(){B(t);let p=_();return C(p.currentVibrator.vibrate(50))}),n(),k(5,di,3,3,"div",75),n()}if(l&2){let t,e=_();i(2),u(d(3,2,"settings.player.countdownSoundSecondsLabel")),i(3),m("ngIf",((t=e.appSettingsForm.get("countdownSoundSeconds"))==null?null:t.invalid)&&((t=e.appSettingsForm.get("countdownSoundSeconds"))==null?null:t.touched))}}function ci(l,r){l&1&&(a(0,"span",133),f(1,"app-icon",134),s(2),o(3,"translate"),n()),l&2&&(i(2),g(" ",d(3,1,"common.premium")," "))}function ui(l,r){if(l&1){let t=D();a(0,"div",147)(1,"input",148),y("change",function(p){B(t);let c=_(2);return C(c.onStrategyChange(p))}),n(),a(2,"label",149),s(3),o(4,"translate"),n()()}if(l&2){let t=r.$implicit,e=_(2);i(),m("id","strategy-"+t.value)("value",t.value)("checked",e.isStrategySelected(t.value)),i(),m("for","strategy-"+t.value),i(),g(" ",d(4,5,t.label)," ")}}function gi(l,r){l&1&&(a(0,"div",135),s(1),o(2,"translate"),n()),l&2&&(i(),g(" ",d(2,1,"settings.progressiveOverload.strategyError")," "))}function vi(l,r){l&1&&(a(0,"div",135),s(1),o(2,"translate"),n()),l&2&&(i(),g(" ",d(2,1,"settings.progressiveOverload.weightIncrementError")," "))}function fi(l,r){if(l&1&&(a(0,"div")(1,"label",150),s(2),o(3,"uppercase"),o(4,"translate"),n(),f(5,"input",151),o(6,"translate"),k(7,vi,3,3,"div",75),n()),l&2){let t,e=_(2);i(2),g(" ",E(4,5,"settings.progressiveOverload.weightIncrementLabel",T(10,A,d(3,3,e.unitsService.currentWeightUnit())))," "),i(3),m("placeholder",d(6,8,"settings.progressiveOverload.weightIncrementPlaceholder")),i(2),m("ngIf",((t=e.progressiveOverloadForm.get("weightIncrement"))==null?null:t.invalid)&&((t=e.progressiveOverloadForm.get("weightIncrement"))==null?null:t.touched))}}function yi(l,r){l&1&&(a(0,"div",135),s(1),o(2,"translate"),n()),l&2&&(i(),g(" ",d(2,1,"settings.progressiveOverload.repsIncrementError")," "))}function hi(l,r){if(l&1&&(a(0,"div")(1,"label",152),s(2),o(3,"translate"),n(),f(4,"input",153),o(5,"translate"),k(6,yi,3,3,"div",75),n()),l&2){let t,e=_(2);i(2),g(" ",d(3,3,"settings.progressiveOverload.repsIncrementLabel")," "),i(2),m("placeholder",d(5,5,"settings.progressiveOverload.repsIncrementPlaceholder")),i(2),m("ngIf",((t=e.progressiveOverloadForm.get("repsIncrement"))==null?null:t.invalid)&&((t=e.progressiveOverloadForm.get("repsIncrement"))==null?null:t.touched))}}function bi(l,r){l&1&&(a(0,"div",135),s(1),o(2,"translate"),n()),l&2&&(i(),g(" ",d(2,1,"settings.progressiveOverload.distanceIncrementError")," "))}function xi(l,r){if(l&1&&(a(0,"div")(1,"label",154),s(2),o(3,"uppercase"),o(4,"translate"),n(),f(5,"input",155),o(6,"translate"),k(7,bi,3,3,"div",75),n()),l&2){let t,e=_(2);i(2),g(" ",E(4,5,"settings.progressiveOverload.distanceIncrementLabel",T(10,A,d(3,3,e.unitsService.currentDistanceMeasureUnit())))," "),i(3),m("placeholder",d(6,8,"settings.progressiveOverload.distanceIncrementPlaceholder")),i(2),m("ngIf",((t=e.progressiveOverloadForm.get("distanceIncrement"))==null?null:t.invalid)&&((t=e.progressiveOverloadForm.get("distanceIncrement"))==null?null:t.touched))}}function Si(l,r){l&1&&(a(0,"div",135),s(1),o(2,"translate"),n()),l&2&&(i(),g(" ",d(2,1,"settings.progressiveOverload.durationIncrementError")," "))}function _i(l,r){if(l&1&&(a(0,"div")(1,"label",156),s(2),o(3,"translate"),n(),f(4,"input",157),o(5,"translate"),k(6,Si,3,3,"div",75),n()),l&2){let t,e=_(2);i(2),g(" ",d(3,3,"settings.progressiveOverload.durationIncrementLabel")," "),i(2),m("placeholder",d(5,5,"settings.progressiveOverload.durationIncrementPlaceholder")),i(2),m("ngIf",((t=e.progressiveOverloadForm.get("durationIncrement"))==null?null:t.invalid)&&((t=e.progressiveOverloadForm.get("durationIncrement"))==null?null:t.touched))}}function ki(l,r){l&1&&(a(0,"div",135),s(1),o(2,"translate"),n()),l&2&&(i(),g(" ",d(2,1,"settings.progressiveOverload.sessionsToIncrementError")," "))}function wi(l,r){if(l&1&&(a(0,"div",138)(1,"div")(2,"label",139),s(3),o(4,"translate"),n(),a(5,"p",140),s(6),o(7,"translate"),n(),a(8,"div",141),k(9,ui,5,7,"div",142),n(),k(10,gi,3,3,"div",75),n(),a(11,"div",143),k(12,fi,8,12,"div",144)(13,hi,7,7,"div",144)(14,xi,8,12,"div",144)(15,_i,7,7,"div",144),n(),a(16,"div")(17,"label",145),s(18),o(19,"translate"),n(),a(20,"p",73),s(21),o(22,"translate"),n(),f(23,"input",146),k(24,ki,3,3,"div",75),n()()),l&2){let t,e,p=_();i(3),u(d(4,11,"settings.progressiveOverload.strategyLabel")),i(3),u(d(7,13,"settings.progressiveOverload.strategyDescription")),i(3),m("ngForOf",p.progressiveOverloadStrategies),i(),m("ngIf",((t=p.progressiveOverloadForm.get("enabled"))==null?null:t.value)&&p.strategiesFormArray.length===0&&p.progressiveOverloadForm.dirty),i(2),m("ngIf",p.isStrategySelected(p.ProgressiveOverloadStrategy.WEIGHT)),i(),m("ngIf",p.isStrategySelected(p.ProgressiveOverloadStrategy.REPS)),i(),m("ngIf",p.isStrategySelected(p.ProgressiveOverloadStrategy.DISTANCE)),i(),m("ngIf",p.isStrategySelected(p.ProgressiveOverloadStrategy.DURATION)),i(3),u(d(19,15,"settings.progressiveOverload.sessionsToIncrementLabel")),i(3),u(d(22,17,"settings.progressiveOverload.sessionsToIncrementDescription")),i(3),m("ngIf",((e=p.progressiveOverloadForm.get("sessionsToIncrement"))==null?null:e.invalid)&&((e=p.progressiveOverloadForm.get("sessionsToIncrement"))==null?null:e.touched))}}function Ei(l,r){l&1&&(a(0,"span",158),f(1,"app-icon",134),s(2),o(3,"translate"),n()),l&2&&(i(2),g(" ",d(3,1,"common.premium")," "))}function Bi(l,r){if(l&1&&(a(0,"option",132),s(1),o(2,"translate"),n()),l&2){let t=r.$implicit,e=_();m("value",t),i(),g(" ",d(2,2,e.languageDisplayNames[t])," ")}}function Ci(l,r){l&1&&(a(0,"span",133),f(1,"app-icon",134),s(2),o(3,"translate"),n()),l&2&&(i(2),g(" ",d(3,1,"common.premium")," "))}var Ze=class l{fb=S(We);router=S(Ie);workoutService=S(ce);trackingService=S(me);activityService=S(Xt);personalGymService=S(Ke);trainingProgramService=S(Wt);exerciseService=S(ze);storageService=S(Ft);unitsService=S(Y);alertService=S(je);spinnerService=S(Xe);themeService=S($t);userProfileService=S(de);appSettingsService=S(Vt);progressiveOverloadService=S(qe);platformId=S(Be);toastService=S(j);imageStorageService=S(ue);dataConversionService=S(Qe);subscriptionService=S(Rt);languageService=S(jt);cdr=S(ft);translate=S($);languageDisplayNames={en:"settings.languageSelector.english",es:"settings.languageSelector.spanish",it:"settings.languageSelector.italian",de:"settings.languageSelector.german",fr:"settings.languageSelector.french",ru:"settings.languageSelector.russian",ja:"settings.languageSelector.japanese",zh:"settings.languageSelector.chinese",pt:"settings.languageSelector.portuguese",ar:"settings.languageSelector.arabic"};subscriptions=new dt;PremiumFeature=Ht;currentVibrator=navigator;syncHistoryTooltipString=this.translate.instant("settings.dataManagement.syncTooltip");goalsForm;profileForm;appSettingsForm;progressiveOverloadForm;handleUpgradeClick(){this.subscriptionService.togglePremium_DEV_ONLY();let r=this.subscriptionService.isPremium(),t=r?this.translate.instant("settings.subscription.premiumMember"):this.translate.instant("settings.subscription.freeTier");if(this.toastService.success(this.translate.instant("toasts.upgradeSuccess",{status:t}),3e3,this.translate.instant("toasts.statusUpdated")),r)this.toastService.veryImportant(this.translate.instant("toasts.upgradeGratitude"),1e4,this.translate.instant("toasts.thankYou")),this.workoutService.enableAllRoutines_DEV_ONLY();else{let e=this.workoutService.getCurrentRoutines();e.forEach((p,c)=>{p.isDisabled=c>3}),this.workoutService.saveRoutinesToStorage(e),this.toastService.veryImportant(this.translate.instant("toasts.routinesDisabledOnDowngrade",{count:e.length>4?e.length-4:0}),1e4,this.translate.instant("toasts.routinesDisabledTitle"))}}handlePremiumFeatureOrNavigate(r,t,e){this.workoutService.vibrate(),this.subscriptionService.canAccess(r)?e&&this.router.navigate(e):(t.preventDefault(),t.stopPropagation(),this.subscriptionService.showUpgradeModal())}genders=[{label:"settings.userProfile.genders.male",value:"male"},{label:"settings.userProfile.genders.female",value:"female"},{label:"settings.userProfile.genders.other",value:"other"},{label:"settings.userProfile.genders.preferNotToSay",value:"prefer_not_to_say"}];progressiveOverloadStrategies=[{label:"settings.progressiveOverload.strategies.increaseWeight",value:"weight"},{label:"settings.progressiveOverload.strategies.increaseReps",value:"reps"},{label:"settings.progressiveOverload.strategies.increaseDistance",value:"distance"},{label:"settings.progressiveOverload.strategies.increaseDuration",value:"duration"}];BACKUP_VERSION=6;restTimerModeEnum=Ut;summaryDisplayModeEnum=Lt;constructor(){this.profileForm=this.fb.group({general:this.fb.group({username:[""],gender:[null],age:[null,[b.min(0),b.max(150),b.required]]}),measurements:this.fb.group({height:[null,[b.min(0),b.required]],weight:[null,[b.min(0),b.required]],chest:[null,[b.min(0)]],neck:[null,[b.min(0)]],waist:[null,[b.min(0)]],hips:[null,[b.min(0)]],rightArm:[null,[b.min(0)]]})}),this.goalsForm=this.fb.group({weight:[null,[b.min(0)]],waist:[null,[b.min(0)]]}),this.appSettingsForm=this.fb.group({enableTimerCountdownSound:[!0],playerMode:["compact"],countdownSoundSeconds:[5,[b.required,b.min(1),b.max(60)]],enablePresetTimer:[!1],presetTimerDurationSeconds:[10,[b.required,b.min(3),b.max(60)]],weightStep:[2.5,[b.required,b.min(.01),b.max(50)]],enableTrueGymMode:[!1],durationStep:[5,[b.required,b.min(1),b.pattern("^[0-9]*$")]],distanceStep:[.1,[b.required,b.min(.01)]],restStep:[5,[b.required,b.min(1),b.pattern("^[0-9]*$")]],showMetricTarget:[!1],restTimerMode:["fullscreen"],summaryDisplayMode:["icons"]}),this.progressiveOverloadForm=this.fb.group({enabled:[!1],strategies:this.fb.array([]),weightIncrement:[null,[b.min(.1)]],repsIncrement:[null,[b.min(1),b.pattern("^[0-9]*$")]],distanceIncrement:[null,[b.min(.01)]],durationIncrement:[null,[b.min(1),b.pattern("^[0-9]*$")]],sessionsToIncrement:[1,[b.required,b.min(1)]]})}toggleTrueGymMode(r){this.workoutService.vibrate();let t=r.target,e=t.checked;this.workoutService.isPausedSession()?(t.checked=!e,this.appSettingsForm.get("enableTrueGymMode")?.setValue(!e,{emitEvent:!1}),this.alertService.showAlert(this.translate.instant("settings.player.trueGymMode.disabledTitle"),this.translate.instant("settings.player.trueGymMode.disabledMessage")),this.cdr.detectChanges()):(this.appSettingsForm.get("enableTrueGymMode")?.setValue(e),this.appSettingsService.saveSettings({enableTrueGymMode:e}))}toggleMetricTarget(r){this.workoutService.vibrate();let e=r.target.checked;this.appSettingsForm.get("showMetricTarget")?.setValue(e),this.appSettingsService.saveSettings({showMetricTarget:e})}togglePlayerMode(r){this.workoutService.vibrate();let t=r.target,e=t.checked,p=e?"focus":"compact";this.workoutService.isPausedSession()?(this.alertService.showAlert(this.translate.instant("alerts.playerModeChangeDisabledTitle"),this.translate.instant("alerts.playerModeChangeDisabledMessage")),t.checked=!e,this.cdr.detectChanges()):(this.appSettingsForm.get("playerMode")?.setValue(p),this.appSettingsService.saveSettings({playerMode:p}))}selectWeightUnit(r){return P(this,null,function*(){let t=this.unitsService.currentWeightUnit();r!==t&&(yield this.dataConversionService.convertAllWeightData(t,r),this.unitsService.setWeightUnitPreference(r))})}selectMeasureUnit(r){return P(this,null,function*(){let t=this.unitsService.currentMeasureUnit();r!==t&&(yield this.dataConversionService.convertAllMeasureData(t,r),this.unitsService.setMeasureUnitPreference(r))})}selectDistanceMeasureUnit(r){return P(this,null,function*(){let t=this.unitsService.currentDistanceMeasureUnit();r!==t&&(yield this.dataConversionService.convertAllDistanceMeasureData(t,r),this.unitsService.setDistanceMeasureUnitPreference(r))})}selectBodyWeightUnit(r){return P(this,null,function*(){let t=this.unitsService.currentBodyWeightUnit();r!==t&&(yield this.dataConversionService.convertAllBodyWeightData(t,r),this.unitsService.setBodyWeightUnitPreference(r))})}selectBodyMeasureUnit(r){return P(this,null,function*(){let t=this.unitsService.currentBodyMeasureUnit();r!==t&&(yield this.dataConversionService.convertAllBodyMeasureData(t,r),this.unitsService.setBodyMeasureUnitPreference(r))})}ngOnInit(){Me(this.platformId)&&window.scrollTo(0,0),this.loadProfileData(),this.loadProgressiveOverloadSettings(),this.loadGoalsData(),this.languageControl=new wt(this.languageService.currentLang(),{nonNullable:!0}),this.subscriptions.add(this.languageControl.valueChanges.subscribe(r=>{if(r&&r!==this.languageService.currentLang()){this.workoutService.vibrate(),this.languageService.setLanguage(r);let t=this.translate.instant(this.languageDisplayNames[r]||r);this.toastService.success(this.translate.instant("toasts.languageSet",{language:t}),2e3)}})),this.subscriptions.add(this.appSettingsService.appSettings$.subscribe(r=>{r&&(this.appSettingsForm.reset(r,{emitEvent:!1}),this.cdr.detectChanges())})),this.subscriptions.add(this.appSettingsForm.valueChanges.pipe(z(700),ke(()=>this.appSettingsForm.valid&&this.appSettingsForm.dirty),we(r=>{this.appSettingsService.saveSettings(r),this.appSettingsForm.markAsPristine({onlySelf:!1}),this.toastService.info(this.translate.instant("toasts.appSettingsSaved"),1500)})).subscribe()),this.listenForProgressiveOverloadChanges(),this.subscriptions.add(this.profileForm.get("general")?.valueChanges.pipe(z(700)).subscribe(()=>this.saveGeneralData())),this.subscriptions.add(this.goalsForm.valueChanges.pipe(z(700),ke(()=>this.goalsForm.valid&&this.goalsForm.dirty),we(r=>{this.userProfileService.saveGoals(r),this.goalsForm.markAsPristine(),this.toastService.info(this.translate.instant("toasts.goalsSaved"),1500)})).subscribe())}ngOnDestroy(){this.subscriptions.unsubscribe()}loadGoalsData(){let r=this.userProfileService.getProfile()?.measurementGoals;r&&this.goalsForm.reset(r,{emitEvent:!1})}saveMeasurements(){let r=this.profileForm?.get("measurements");if(!this.profileForm||!r||r.invalid){this.toastService.error(this.translate.instant("alerts.invalidFields"));return}let t=this.profileForm.get("measurements")?.value;this.userProfileService.addOrUpdateMeasurementEntry(t),this.profileForm.get("measurements").markAsPristine(),this.toastService.info(this.translate.instant("toasts.measurementsSaved"),1500)}saveGeneralData(){let r={username:this.profileForm.get("general.username")?.value,gender:this.profileForm.get("general.gender")?.value,age:this.profileForm.get("general.age")?.value};this.userProfileService.saveProfile(r),this.toastService.info(this.translate.instant("toasts.profileSaved"),1500),this.profileForm.markAsPristine()}listenForProgressiveOverloadChanges(){this.subscriptions.add(this.progressiveOverloadForm.valueChanges.pipe(z(700),ke(()=>this.progressiveOverloadForm.valid&&this.progressiveOverloadForm.dirty),we(e=>{this.progressiveOverloadService.saveSettings(e),this.progressiveOverloadForm.markAsPristine({onlySelf:!1}),this.toastService.info(this.translate.instant("toasts.progressiveOverloadSaved"),1500)})).subscribe());let r=this.progressiveOverloadForm.get("enabled"),t=e=>{let p=this.progressiveOverloadForm.get("weightIncrement"),c=this.progressiveOverloadForm.get("repsIncrement"),v=this.progressiveOverloadForm.get("distanceIncrement"),h=this.progressiveOverloadForm.get("durationIncrement"),w=(x,I,F)=>{I?x?.setValidators(F):(x?.clearValidators(),x?.setValue(null,{emitEvent:!1})),x?.updateValueAndValidity()};w(p,e.includes("weight"),[b.required,b.min(.1)]),w(c,e.includes("reps"),[b.required,b.min(1),b.pattern("^[0-9]*$")]),w(v,e.includes("distance"),[b.required,b.min(.01)]),w(h,e.includes("duration"),[b.required,b.min(1),b.pattern("^[0-9]*$")])};this.subscriptions.add(this.strategiesFormArray.valueChanges.subscribe(e=>t(e))),this.subscriptions.add(r?.valueChanges.subscribe(e=>t(e?this.strategiesFormArray.value:[])))}loadProfileData(){let r=this.userProfileService.getProfile();if(r){let t=this.userProfileService.getMeasurements();this.profileForm.reset({general:{username:r.username||"",gender:r.gender||null,age:r.age||null},measurements:t||{}},{emitEvent:!1})}else this.profileForm.reset({general:{username:null,gender:null,age:null},measurements:{height:null,weight:null,age:null,chest:null,waist:null,hips:null,rightArm:null}},{emitEvent:!1})}loadProgressiveOverloadSettings(){let r=this.progressiveOverloadService.getSettings();this.strategiesFormArray.clear(),r.strategies&&r.strategies.length>0&&r.strategies.forEach(t=>{this.strategiesFormArray.push(this.fb.control(t),{emitEvent:!1})}),this.progressiveOverloadForm.reset(R(H({},r),{strategies:this.strategiesFormArray.value}),{emitEvent:!1})}exportData(){return P(this,null,function*(){this.spinnerService.show(this.translate.instant("spinners.exporting"));let r=yield this.imageStorageService.getAllImagesForBackup(),t={version:this.BACKUP_VERSION,timestamp:new Date().toISOString(),profile:this.userProfileService.getDataForBackup(),progressPhotos:r,appSettings:this.appSettingsService.getDataForBackup(),progressiveOverload:this.progressiveOverloadService.getDataForBackup(),routines:this.workoutService.getDataForBackup(),programs:this.trainingProgramService.getDataForBackup(),exercises:this.exerciseService.getDataForBackup(),workoutLogs:this.trackingService.getDataForBackup(),activityLogs:this.activityService.getLogsForBackup(),personalBests:this.trackingService.getPBsForBackup(),personalGym:this.personalGymService.getDataForBackup()},e=JSON.stringify(t,null,2),p=new Blob([e],{type:"application/json"}),c=URL.createObjectURL(p),v=document.createElement("a"),h=Nt(new Date,"yyyyMMdd_HHmmss");v.download=`FitTrackPro_backup_v${this.BACKUP_VERSION}_${h}.json`,v.href=c,v.click(),URL.revokeObjectURL(c),this.spinnerService.hide(),this.toastService.success(this.translate.instant("toasts.exportInitiated"),3e3)})}importData(r){let t=r.target,e=t.files?.[0];if(!e)return;if(e.type!=="application/json"){this.alertService.showAlert(this.translate.instant("common.error"),this.translate.instant("alerts.invalidFileType")),t.value="";return}let p=new FileReader;p.onload=c=>{try{let v=c.target?.result,h=JSON.parse(v);if(typeof h!="object"||h===null){this.alertService.showAlert(this.translate.instant("common.error"),this.translate.instant("alerts.invalidBackupFormat")),t.value="";return}let w=h.version;if(w>this.BACKUP_VERSION){this.alertService.showAlert(this.translate.instant("common.error"),this.translate.instant("alerts.backupVersionTooNew",{version:w,appVersion:this.BACKUP_VERSION})),t.value="";return}this.alertService.showConfirm(this.translate.instant("common.warning"),this.translate.instant("alerts.importWarning")).then(x=>P(this,null,function*(){if(x&&x.data){if(this.spinnerService.show(this.translate.instant("spinners.importing")),w>=6&&h.progressPhotos&&(yield this.imageStorageService.importImages(h.progressPhotos)),w>=5?this.userProfileService.mergeData(h.profile):w>=2?this.userProfileService.replaceData(h.profile):this.userProfileService.replaceData(null),this.subscriptionService.isPremium())this.workoutService.mergeData(h.routines);else{let F=this.workoutService.getCurrentRoutines().filter(L=>!L.isDisabled),U=Array.isArray(h.routines)?h.routines:[],q=U.filter(L=>!L.isDisabled);F.length+q.length>4&&(U.forEach((L,Q)=>L.isDisabled=Q>3),this.toastService.veryImportant(this.translate.instant("toasts.routinesDisabledOnImport",{count:q.length}),1e4,this.translate.instant("toasts.routinesDisabledTitle")),this.workoutService.mergeData(U))}h.workoutLogs&&(this.trackingService.replaceLogs(h.workoutLogs||[]),this.trackingService.replacePBs(h.personalBests||{}));let I=h.activityLogs||h.activitiyLogs;Array.isArray(I)&&this.activityService.mergeData(I),h.personalGym&&this.personalGymService.mergeData(h.personalGym),w>=4&&this.progressiveOverloadService.replaceData(h.progressiveOverload),w>=3&&(this.exerciseService.mergeData(h.exercises),this.trainingProgramService.mergeData(h.programs)),w>=2&&this.appSettingsService.replaceData(h.appSettings),this.loadProfileData(),this.loadProgressiveOverloadSettings(),this.loadGoalsData(),this.spinnerService.hide(),this.toastService.success(this.translate.instant("toasts.importSuccess"),5e3,this.translate.instant("toasts.importComplete"))}else this.toastService.info(this.translate.instant("toasts.importCancelled"),2e3)}))}catch(v){console.error("Error processing imported file:",v),this.alertService.showAlert(this.translate.instant("common.error"),this.translate.instant("alerts.errorProcessingFile"))}finally{t.value=""}},p.onerror=()=>{this.alertService.showAlert(this.translate.instant("common.error"),this.translate.instant("alerts.errorReadingFile")),t.value=""},p.readAsText(e)}clearAllAppData(){return P(this,null,function*(){let r=yield this.alertService.showConfirmationDialog(this.translate.instant("alerts.clearAllDataWarningTitle"),this.translate.instant("alerts.clearAllDataWarningMessage"),[{text:this.translate.instant("common.cancel"),role:"cancel",data:!1,icon:"cancel"},{text:this.translate.instant("settings.dataManagement.resetButton"),role:"confirm",data:!0,cssClass:"bg-red-600",icon:"trash"}]);if(r&&r.data){let t=yield this.alertService.showPromptDialog(this.translate.instant("alerts.clearAllDataConfirmationTitle"),this.translate.instant("alerts.clearAllDataConfirmationMessage"),[{name:"confirmDialogInput",type:"text",placeholder:this.translate.instant("alerts.clearAllDataConfirmationPlaceholder"),value:"",autofocus:!0}],this.translate.instant("alerts.clearAllDataButton")),e=t&&typeof t.confirmDialogInput=="string"?t.confirmDialogInput:null;if(!e||e.toUpperCase()!=="DELETE"){this.alertService.showAlert(this.translate.instant("common.cancelled"),this.translate.instant("alerts.clearAllDataCancelledMessage"));return}this.trackingService.clearAllWorkoutLogs_DEV_ONLY&&(yield this.trackingService.clearAllWorkoutLogs_DEV_ONLY()),this.trackingService.clearAllPersonalBests_DEV_ONLY&&(yield this.trackingService.clearAllPersonalBests_DEV_ONLY()),this.workoutService.clearAllRoutines_DEV_ONLY&&(yield this.workoutService.clearAllRoutines_DEV_ONLY()),this.activityService.clearAllActivities_DEV_ONLY&&(yield this.activityService.clearAllActivities_DEV_ONLY()),this.userProfileService.clearUserProfile_DEV_ONLY&&this.userProfileService.clearUserProfile_DEV_ONLY(),this.appSettingsService.clearAppSettings_DEV_ONLY&&this.appSettingsService.clearAppSettings_DEV_ONLY(),this.progressiveOverloadService.clearSettings_DEV_ONLY&&this.progressiveOverloadService.clearSettings_DEV_ONLY(),this.trainingProgramService.deactivateAllPrograms&&this.trainingProgramService.deactivateAllPrograms(),this.loadProfileData(),this.loadProgressiveOverloadSettings(),yield this.alertService.showAlert(this.translate.instant("common.info"),this.translate.instant("alerts.clearAllDataSuccessMessage"))}})}selectUnit(r){this.unitsService.setWeightUnitPreference(r)}toggleWipDisclaimer(){let r=this.userProfileService.getHideWipDisclaimer();this.userProfileService.updateHideWipDisclaimer(!r)}navigateToExerciseLibrary(){this.router.navigate(["/library"])}navigateToPersonalGym(r){if(this.workoutService.vibrate(),!this.subscriptionService.canAccess("personal_gym")){this.subscriptionService.showUpgradeModal();return}this.router.navigate(["/personal-gym"])}navigateToPersonalBests(){this.router.navigate(["/profile/personal-bests"])}navigateToBodyMeasurements(){this.router.navigate(["/profile/measurements"])}showSyncHistoryTooltip(){if(this.platformId==="browser"&&window.innerWidth<=768){this.workoutService.vibrate(),this.alertService.showAlert(this.translate.instant("alerts.syncHistoryTitle"),this.syncHistoryTooltipString);return}}selectMenuMode(r){if(this.workoutService.vibrate(),!this.subscriptionService.canAccess("menu_mode")){this.subscriptionService.showUpgradeModal();return}this.appSettingsService.setMenuMode(r)}onSyncHistoryClick(){return P(this,null,function*(){let r=yield this.alertService.showConfirm(this.translate.instant("alerts.syncFullHistoryTitle"),this.translate.instant("alerts.syncFullHistoryMessage"));r&&r.data&&(yield this.trackingService.syncAllHistory())})}get strategiesFormArray(){return this.progressiveOverloadForm.get("strategies")}onStrategyChange(r){let t=r.target,e=t.value;if(t.checked)this.strategiesFormArray.push(this.fb.control(e));else{let p=this.strategiesFormArray.controls.findIndex(c=>c.value===e);p!==-1&&this.strategiesFormArray.removeAt(p)}this.progressiveOverloadForm.markAsDirty()}isStrategySelected(r){return this.strategiesFormArray.value.includes(r)}ProgressiveOverloadStrategy=At;onLanguageChange(r){let e=r.target.value;if(e){this.workoutService.vibrate(),this.languageService.setLanguage(e);let p=this.translate.instant(this.languageDisplayNames[e]||e);this.toastService.success(this.translate.instant("toasts.languageSet",{language:p}),2e3)}}languageControl;static \u0275fac=function(t){return new(t||l)};static \u0275cmp=ee({type:l,selectors:[["app-profile-settings"]],decls:474,vars:479,consts:[[1,"container","mx-auto","p-2","sm:p-4"],[1,"flex","justify-between","items-center","pb-2"],[1,"text-2xl","font-bold","text-gray-800","dark:text-gray-200"],[1,"space-y-6","sm:space-y-8"],[1,"bg-gradient-to-r","from-primary","to-indigo-600","dark:from-primary-dark","dark:to-indigo-700","p-4","sm:p-6","rounded-md","shadow-lg","text-white"],[1,"text-xl","font-semibold","mb-2"],[1,"flex","items-center","justify-between"],[1,"text-lg","font-bold"],[1,"text-sm","opacity-90"],[1,"px-4","py-2","bg-white","text-primary-dark","font-semibold","rounded-md","shadow-md","hover:bg-gray-200","transition-colors",3,"click"],[1,"bg-white","dark:bg-gray-700","p-4","sm:p-6","rounded-md","shadow-md"],[1,"text-xl","font-semibold","text-gray-700","dark:text-gray-300","mb-4"],[1,"space-y-4","dark:text-gray-300",3,"formGroup"],["formGroupName","general",1,"space-y-4","pt-4","border-t","border-gray-200","dark:border-gray-600"],["for","username",1,"block","text-md","font-medium","text-gray-700","dark:text-gray-300"],["type","text","id","username","formControlName","username",1,"mt-1","block","w-full","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","text-lg",3,"change","placeholder"],[1,"dark:text-gray-300"],["for","gender",1,"block","text-md","font-medium","text-gray-700","dark:text-gray-300"],["id","gender","formControlName","gender",1,"mt-1","block","w-full","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","text-lg",3,"change"],[3,"ngValue"],[3,"value",4,"ngFor","ngForOf"],["for","age",1,"block","text-md","font-medium","text-gray-700","dark:text-gray-300"],["type","number","min","0","id","age","formControlName","age","required","",1,"mt-1","block","w-full","sm:w-1/2","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200","text-lg",3,"placeholder"],["formGroupName","measurements",1,"space-y-4","pt-4","border-t","border-gray-200","dark:border-gray-600"],[1,"text-lg","font-medium","text-gray-700","dark:text-gray-300"],[1,"grid","grid-cols-2","md:grid-cols-4","gap-4"],["for","height",1,"block","text-md","font-medium","text-gray-600","dark:text-gray-400"],[1,"text-red-500"],["type","number","min","0","id","height","formControlName","height",1,"mt-1","block","w-full","sm:w-1/2","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200","text-lg",3,"placeholder"],["for","weight",1,"block","text-md","font-medium","text-gray-600","dark:text-gray-400"],["type","number","min","0","id","weight","formControlName","weight",1,"mt-1","block","w-full","sm:w-1/2","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200","text-lg",3,"placeholder"],["for","chest",1,"block","text-md","font-medium","text-gray-600","dark:text-gray-400"],["type","number","min","0","id","chest","formControlName","chest",1,"mt-1","block","w-full","sm:w-1/2","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200","text-lg",3,"placeholder"],["for","neck",1,"block","text-md","font-medium","text-gray-600","dark:text-gray-400"],["type","number","min","0","id","neck","formControlName","neck",1,"mt-1","block","w-full","sm:w-1/2","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200","text-lg",3,"placeholder"],["for","waist",1,"block","text-md","font-medium","text-gray-600","dark:text-gray-400"],["type","number","min","0","id","waist","formControlName","waist",1,"mt-1","block","w-full","sm:w-1/2","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200","text-lg",3,"placeholder"],["for","hips",1,"block","text-md","font-medium","text-gray-600","dark:text-gray-400"],["type","number","min","0","id","hips","formControlName","hips",1,"mt-1","block","w-full","sm:w-1/2","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200","text-lg",3,"placeholder"],["for","rightArm",1,"block","text-md","font-medium","text-gray-600","dark:text-gray-400"],["type","number","min","0","id","rightArm","formControlName","rightArm",1,"mt-1","block","w-full","sm:w-1/2","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200","text-lg",3,"placeholder"],[1,"flex","flex-col","sm:flex-row","justify-center","items-center","space-y-4","sm:space-y-0","sm:space-x-4","pt-4"],["type","button",1,"flex","justify-center","items-center","w-full","sm:w-auto","px-6","py-3","bg-green-500","hover:bg-green-600","text-white","font-semibold","rounded-md","shadow-sm","text-lg","disabled:opacity-50","disabled:cursor-not-allowed",3,"click"],["name","save",1,"w-8","h-8","mr-1"],["type","button",1,"flex","justify-center","items-center","w-full","sm:w-auto","px-6","py-3","bg-blue-500","hover:bg-blue-600","text-white","font-semibold","rounded-md","shadow-sm","text-lg","disabled:opacity-50","disabled:cursor-not-allowed",3,"click"],["name","chart2",1,"w-8","h-8","mr-1"],[1,"space-y-4",3,"formGroup"],[1,"grid","grid-cols-1","sm:grid-cols-2","md:grid-cols-3","gap-4"],["for","goalweight",1,"block","text-md","font-medium","text-gray-600","dark:text-gray-400"],["type","number","min","0","id","goalweight","formControlName","weight",1,"mt-1","block","w-full","sm:w-1/2","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200","text-lg",3,"placeholder"],["for","goalwaist",1,"block","text-md","font-medium","text-gray-600","dark:text-gray-400"],["type","number","min","0","id","goalwaist","formControlName","waist",1,"mt-1","block","w-full","sm:w-1/2","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200","text-lg",3,"placeholder"],[1,"flex","items-center","justify-between","py-2","rounded-md","transition-colors",3,"click"],[1,"text-md","font-medium","text-gray-700","dark:text-gray-300","flex","items-center"],["class","ml-2 px-2 py-0.5 text-xs font-semibold rounded-full bg-yellow-400 text-yellow-900 flex items-center justify-center ",4,"ngIf"],[1,"text-sm","text-gray-500","dark:text-gray-400","mr-1"],[1,"inline-flex","items-center"],[1,"sr-only"],["type","checkbox",1,"sr-only","peer",3,"change","checked","disabled"],[1,"relative","w-11","h-6","bg-gray-200","peer-focus:outline-none","peer-focus:ring-4","peer-focus:ring-blue-300","dark:peer-focus:ring-blue-800","rounded-full","peer","dark:bg-gray-600","peer-checked:after:translate-x-full","peer-checked:after:border-white","after:content-['']","after:absolute","after:top-[2px]","after:start-[2px]","after:bg-white","after:border-gray-300","after:border","after:rounded-full","after:h-5","after:w-5","after:transition-all","dark:border-gray-600","peer-checked:bg-primary","dark:peer-checked:bg-primary-dark","peer-disabled:opacity-50"],[1,"ms-3","text-sm","font-medium","text-gray-900","dark:text-gray-300"],[1,"flex","items-center","justify-between","py-2","rounded-md"],[1,"text-md","font-medium","text-gray-700","dark:text-gray-300"],[1,"inline-flex","items-center","cursor-pointer"],["type","checkbox",1,"sr-only","peer",3,"change","checked"],[1,"flex","items-center","justify-between","py-2"],[1,"text-sm","text-gray-500","dark:text-gray-400"],[1,"relative","w-44","flex","rounded-lg","bg-gray-200","dark:bg-gray-600","p-1"],[1,"absolute","top-1","bottom-1","bg-primary","rounded-md","shadow","transition-all","duration-300","ease-in-out",3,"ngClass"],["type","button",1,"relative","z-10","flex-1","px-4","py-2","text-sm","font-bold","text-center","transition-colors","duration-300",3,"click","ngClass"],[1,"flex","items-center","justify-between","py-2","border-b","border-gray-200","dark:border-gray-600","pb-4"],[1,"border-b","border-gray-200","dark:border-gray-600","pb-4"],["for","weightStep",1,"block","text-md","font-medium","text-gray-700","dark:text-gray-300"],[1,"text-sm","text-gray-500","dark:text-gray-400","mb-1"],["type","number","id","weightStep","formControlName","weightStep","min","0.01","step","any",1,"mt-1","block","w-full","sm:w-1/2","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200","text-lg",3,"change"],["class","text-red-500 dark:text-red-400 text-xs mt-1",4,"ngIf"],["for","durationStep",1,"block","text-md","font-medium","text-gray-700","dark:text-gray-300"],["type","number","id","durationStep","formControlName","durationStep","min","1","step","1",1,"mt-1","block","w-full","sm:w-1/2","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200","text-lg",3,"change"],["for","distanceStep",1,"block","text-md","font-medium","text-gray-700","dark:text-gray-300"],["type","number","id","distanceStep","formControlName","distanceStep","min","0.01","step","any",1,"mt-1","block","w-full","sm:w-1/2","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200","text-lg",3,"change"],["for","restStep",1,"block","text-md","font-medium","text-gray-700","dark:text-gray-300"],["type","number","id","restStep","formControlName","restStep","min","1","step","1",1,"mt-1","block","w-full","sm:w-1/2","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200","text-lg",3,"change"],[1,"flex","items-center","justify-between","pt-4"],["for","countdown-sound-toggle",1,"inline-flex","items-center","cursor-pointer"],["type","checkbox","id","countdown-sound-toggle","formControlName","enableTimerCountdownSound",1,"sr-only","peer",3,"change"],[1,"relative","w-11","h-6","bg-gray-200","peer-focus:outline-none","peer-focus:ring-4","peer-focus:ring-blue-300","dark:peer-focus:ring-blue-800","rounded-full","peer","dark:bg-gray-600","peer-checked:after:translate-x-full","rtl:peer-checked:after:-translate-x-full","peer-checked:after:border-white","after:content-['']","after:absolute","after:top-[2px]","after:start-[2px]","after:bg-white","after:border-gray-300","after:border","after:rounded-full","after:h-5","after:w-5","after:transition-all","dark:border-gray-600","peer-checked:bg-primary","dark:peer-checked:bg-primary-dark"],["class"," dark:text-gray-300",4,"ngIf"],[1,"text-xl","font-medium","text-gray-700","dark:text-gray-300","flex","items-center"],["for","po-enabled-toggle",1,"inline-flex","items-center","cursor-pointer"],["type","checkbox","id","po-enabled-toggle","formControlName","enabled",1,"sr-only","peer",3,"change"],["class","space-y-4 pt-4",4,"ngIf"],[1,"divide-y","divide-gray-200","dark:divide-gray-600"],[1,"py-3","flex","flex-col","sm:flex-row","sm:items-center","sm:justify-between"],[1,"text-sm","font-medium","text-gray-700","dark:text-gray-300"],[1,"text-xs","text-gray-500","dark:text-gray-400"],[1,"mt-2","sm:mt-0","flex-shrink-0","flex","items-center","justify-center","px-4","py-2","bg-blue-500","hover:bg-blue-600","text-white","font-semibold","rounded-md","shadow-sm","transition-colors","text-sm",3,"click"],["name","export",1,"w-5","h-5","mr-2"],["type","file","accept","application/json",1,"mt-2","sm:mt-0","inline-block","w-auto","text-sm","text-gray-700","dark:text-gray-300","file:mr-4","file:py-2","file:px-4","file:rounded-md","file:border-0","file:text-sm","file:font-semibold","file:bg-gray-200","file:text-gray-700","hover:file:bg-gray-300","dark:file:bg-gray-600","dark:file:text-gray-200","dark:hover:file:bg-gray-700",3,"change"],[1,"text-sm","font-medium","text-gray-700","dark:text-gray-300","flex","items-center"],["name","info",1,"ml-1","h-4","w-4","text-gray-400","dark:text-gray-300","cursor-help",3,"click","appTooltip"],[1,"mt-2","sm:mt-0","flex-shrink-0","flex","items-center","justify-center","px-4","py-2","bg-indigo-500","hover:bg-indigo-600","text-white","font-semibold","rounded-md","shadow-sm","transition-colors","text-sm",3,"click"],["name","change",1,"w-5","h-5","mr-2"],[1,"text-sm","font-medium","text-red-600","dark:text-red-400"],[1,"mt-2","sm:mt-0","flex-shrink-0","flex","items-center","justify-center","px-4","py-2","bg-red-500","hover:bg-red-600","text-white","font-semibold","rounded-md","shadow-sm","transition-colors","text-sm",3,"click"],["name","trash",1,"w-5","h-5","mr-2"],[1,"grid","grid-cols-2","gap-2"],["class","ml-2 px-2 py-0.5 text-xs font-semibold rounded-full bg-yellow-400 text-yellow-900 flex items-center justify-center w-fit",4,"ngIf"],[1,"text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-2"],[1,"px-4","py-2","bg-indigo-500","hover:bg-indigo-700","text-white","font-semibold","rounded-md","shadow-sm","transition-colors","inline-flex","items-center","text-sm","text-left",3,"click"],["name","dumbbell",1,"w-6","h-6","mr-1"],[1,"px-4","py-2","bg-primary","hover:bg-primary-dark","text-white","font-semibold","rounded-md","shadow-sm","transition-colors","inline-flex","items-center","text-sm",3,"click"],["name","exercise-list",1,"w-6","h-6","mr-1"],["name","pb",1,"w-6","h-6","mr-1"],[1,"space-y-5"],[1,"flex","items-center","justify-between","pb-4","border-b","border-gray-200","dark:border-gray-600"],[1,"block","w-40","p-2","border","border-gray-300","dark:border-gray-500","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","text-sm","dark:text-gray-200",3,"formControl"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-x-8","gap-y-4"],[1,"relative","w-28","flex","rounded-lg","bg-gray-200","dark:bg-gray-600","p-1"],[1,"space-y-4","pt-4","border-t","border-gray-200","dark:border-gray-600"],[1,"grid","grid-cols-2","items-center"],["for","theme-toggle",1,"inline-flex","items-center","cursor-pointer","justify-self-end"],["type","checkbox","id","theme-toggle",1,"sr-only","peer",3,"change","checked"],[1,"relative","w-11","h-6","bg-gray-200","rounded-full","peer","dark:bg-gray-600","peer-checked:after:translate-x-full","peer-checked:after:border-white","after:content-['']","after:absolute","after:top-[2px]","after:start-[2px]","after:bg-white","after:border-gray-300","after:border","after:rounded-full","after:h-5","after:w-5","after:transition-all","dark:border-gray-500","peer-checked:bg-primary","dark:peer-checked:bg-primary-dark"],["for","show-wip-message",1,"inline-flex","items-center","cursor-pointer","justify-self-end"],["type","checkbox","id","show-wip-message",1,"sr-only","peer",3,"change","checked"],[1,"pt-4","border-t","border-gray-200","dark:border-gray-600"],[1,"flex","flex-col","sm:flex-row","items-start","sm:items-center","justify-between"],[1,"mb-2","sm:mb-0"],["class","ml-2 px-2 py-0.5 text-xs font-semibold rounded-full bg-yellow-400 text-yellow-900 flex items-center justify-center",4,"ngIf"],[1,"relative","grid","grid-cols-3","w-full","sm:w-auto","rounded-lg","bg-gray-200","dark:bg-gray-600","p-1"],[1,"absolute","top-1","bottom-1","w-1/3","bg-primary","rounded-md","shadow","transition-transform","duration-300","ease-in-out",3,"ngClass"],[1,"relative","z-10","px-3","py-1.5","text-xs","font-semibold","transition-colors","duration-300",3,"click","ngClass"],[3,"value"],[1,"ml-2","px-2","py-0.5","text-xs","font-semibold","rounded-full","bg-yellow-400","text-yellow-900","flex","items-center","justify-center"],["name","crown",1,"h-5","w-5","mr-1"],[1,"text-red-500","dark:text-red-400","text-xs","mt-1"],["for","countdownSeconds",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["type","number","id","countdownSeconds","formControlName","countdownSoundSeconds","min","1","max","20",1,"mt-1","block","w-full","sm:w-1/2","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","text-lg",3,"change"],[1,"space-y-4","pt-4"],[1,"block","text-md","font-medium","text-gray-700","dark:text-gray-300"],[1,"text-sm","text-gray-500","dark:text-gray-400","mb-2"],[1,"grid","grid-cols-2","gap-x-8","gap-y-2"],["class","flex items-center",4,"ngFor","ngForOf"],[1,"mt-4","grid","grid-cols-1","sm:grid-cols-2","gap-x-8","gap-y-4"],[4,"ngIf"],["for","sessionsToIncrement",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["type","number","id","sessionsToIncrement","formControlName","sessionsToIncrement","min","1","step","1",1,"mt-1","block","w-full","sm:w-1/2","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200","text-lg"],[1,"flex","items-center"],["type","checkbox",1,"focus:ring-primary","h-4","w-4","text-primary","border-gray-300","rounded","dark:border-gray-600","dark:bg-gray-700",3,"change","id","value","checked"],[1,"ml-3","block","text-sm","font-medium","text-gray-700","dark:text-gray-300",3,"for"],["for","weightIncrement",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["type","number","id","weightIncrement","formControlName","weightIncrement","min","0.1","step","any",1,"mt-1","block","w-full","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200","text-lg",3,"placeholder"],["for","repsIncrement",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["type","number","id","repsIncrement","formControlName","repsIncrement","min","1","step","1",1,"mt-1","block","w-full","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200","text-lg",3,"placeholder"],["for","distanceIncrement",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["type","number","id","distanceIncrement","formControlName","distanceIncrement","min","0.01","step","any",1,"mt-1","block","w-full","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200","text-lg",3,"placeholder"],["for","durationIncrement",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["type","number","id","durationIncrement","formControlName","durationIncrement","min","1","step","1",1,"mt-1","block","w-full","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200","text-lg",3,"placeholder"],[1,"ml-2","px-2","py-0.5","text-xs","font-semibold","rounded-full","bg-yellow-400","text-yellow-900","flex","items-center","justify-center","w-fit"]],template:function(t,e){if(t&1&&(a(0,"div",0)(1,"header",1)(2,"h1",2),s(3),o(4,"translate"),n()(),a(5,"div",3)(6,"section",4)(7,"h2",5),s(8),o(9,"translate"),n(),a(10,"div",6)(11,"div")(12,"p",7),s(13),o(14,"translate"),n(),a(15,"p",8),s(16),o(17,"translate"),n()(),a(18,"button",9),y("click",function(){return e.handleUpgradeClick()}),s(19),o(20,"translate"),n()()(),a(21,"section",10)(22,"h2",11),s(23),o(24,"translate"),n(),a(25,"form",12)(26,"div",13)(27,"div")(28,"label",14),s(29),o(30,"translate"),n(),a(31,"input",15),o(32,"translate"),y("change",function(){return e.currentVibrator.vibrate(50)}),n()(),a(33,"div",16)(34,"label",17),s(35),o(36,"translate"),n(),a(37,"select",18),y("change",function(){return e.currentVibrator.vibrate(50)}),a(38,"option",19),s(39),o(40,"translate"),n(),k(41,ni,3,4,"option",20),n()(),a(42,"div",16)(43,"label",21),s(44),o(45,"translate"),n(),f(46,"input",22),o(47,"translate"),n()(),a(48,"div",23)(49,"h3",24),s(50),o(51,"translate"),n(),a(52,"div",25)(53,"div")(54,"label",26),s(55),o(56,"translate"),a(57,"span",27),s(58,"*"),n()(),f(59,"input",28),n(),a(60,"div")(61,"label",29),s(62),o(63,"translate"),a(64,"span",27),s(65,"*"),n()(),f(66,"input",30),n(),a(67,"div")(68,"label",31),s(69),o(70,"translate"),n(),f(71,"input",32),n(),a(72,"div")(73,"label",33),s(74),o(75,"translate"),n(),f(76,"input",34),n(),a(77,"div")(78,"label",35),s(79),o(80,"translate"),n(),f(81,"input",36),n(),a(82,"div")(83,"label",37),s(84),o(85,"translate"),n(),f(86,"input",38),n(),a(87,"div")(88,"label",39),s(89),o(90,"translate"),n(),f(91,"input",40),n()(),a(92,"div",41)(93,"button",42),y("click",function(){return e.saveMeasurements()}),f(94,"app-icon",43),a(95,"span"),s(96),o(97,"translate"),n()(),a(98,"button",44),y("click",function(){return e.navigateToBodyMeasurements()}),f(99,"app-icon",45),a(100,"span"),s(101),o(102,"translate"),n()()()()()(),a(103,"section",10)(104,"h2",11),s(105),o(106,"translate"),n(),a(107,"form",46)(108,"div",47)(109,"div")(110,"label",48),s(111),o(112,"translate"),n(),f(113,"input",49),n(),a(114,"div")(115,"label",50),s(116),o(117,"translate"),n(),f(118,"input",51),n()()()(),a(119,"section",10)(120,"h2",11),s(121),o(122,"translate"),n(),a(123,"form",46)(124,"div",52),y("click",function(c){return e.handlePremiumFeatureOrNavigate(e.PremiumFeature.FOCUS_PLAYER,c)}),a(125,"div")(126,"h3",53),s(127),o(128,"translate"),k(129,ai,4,3,"span",54),n(),a(130,"p",55),s(131),o(132,"translate"),n()(),a(133,"label",56)(134,"span",57),s(135,"Toggle Player Mode"),n(),a(136,"input",58),y("change",function(c){return e.togglePlayerMode(c)}),n(),f(137,"div",59),a(138,"span",60),s(139),o(140,"translate"),o(141,"translate"),n()()(),a(142,"div",61)(143,"div")(144,"h3",62),s(145),o(146,"translate"),n(),a(147,"p",55),s(148),o(149,"translate"),n()(),a(150,"label",63)(151,"span",57),s(152,"Toggle True GYM Mode"),n(),a(153,"input",64),y("change",function(c){return e.toggleTrueGymMode(c)}),n(),f(154,"div",59),a(155,"span",60),s(156),o(157,"translate"),o(158,"translate"),n()()(),a(159,"div",61)(160,"div")(161,"h3",62),s(162),o(163,"translate"),n(),a(164,"p",55),s(165),o(166,"translate"),n()(),a(167,"label",63)(168,"span",57),s(169,"Toggle Show Metric Target"),n(),a(170,"input",64),y("change",function(c){return e.toggleMetricTarget(c)}),n(),f(171,"div",59),a(172,"span",60),s(173),o(174,"translate"),o(175,"translate"),n()()(),a(176,"div",65)(177,"div")(178,"h3",62),s(179),o(180,"translate"),n(),a(181,"p",66),s(182),o(183,"translate"),n()(),a(184,"div",67),f(185,"div",68),a(186,"button",69),y("click",function(){let c;return(c=e.appSettingsForm.get("restTimerMode"))==null||c.setValue("fullscreen"),e.appSettingsService.setRestTimerMode(e.restTimerModeEnum.Fullscreen)}),s(187),o(188,"translate"),n(),a(189,"button",69),y("click",function(){let c;return(c=e.appSettingsForm.get("restTimerMode"))==null||c.setValue("compact"),e.appSettingsService.setRestTimerMode(e.restTimerModeEnum.Compact)}),s(190),o(191,"translate"),n()()(),a(192,"div",70)(193,"div")(194,"h3",62),s(195),o(196,"translate"),n(),a(197,"p",66),s(198),o(199,"translate"),n()(),a(200,"div",67),f(201,"div",68),a(202,"button",69),y("click",function(){let c;return(c=e.appSettingsForm.get("summaryDisplayMode"))==null||c.setValue("icons"),e.appSettingsService.setSummaryDisplayMode(e.summaryDisplayModeEnum.Icons)}),s(203),o(204,"translate"),n(),a(205,"button",69),y("click",function(){let c;return(c=e.appSettingsForm.get("summaryDisplayMode"))==null||c.setValue("text"),e.appSettingsService.setSummaryDisplayMode(e.summaryDisplayModeEnum.Text)}),s(206),o(207,"translate"),n()()(),a(208,"div",71)(209,"label",72),s(210),o(211,"translate"),n(),a(212,"p",73),s(213),o(214,"uppercase"),o(215,"translate"),n(),a(216,"input",74),y("change",function(){return e.currentVibrator.vibrate(50)}),n(),k(217,si,3,3,"div",75),n(),a(218,"div")(219,"label",76),s(220),o(221,"translate"),n(),a(222,"p",73),s(223),o(224,"translate"),n(),a(225,"input",77),y("change",function(){return e.currentVibrator.vibrate(50)}),n(),k(226,oi,3,3,"div",75),n(),a(227,"div")(228,"label",78),s(229),o(230,"translate"),n(),a(231,"p",73),s(232),o(233,"uppercase"),o(234,"translate"),n(),a(235,"input",79),y("change",function(){return e.currentVibrator.vibrate(50)}),n(),k(236,li,3,3,"div",75),n(),a(237,"div",71)(238,"label",80),s(239),o(240,"translate"),n(),a(241,"p",73),s(242),o(243,"translate"),n(),a(244,"input",81),y("change",function(){return e.currentVibrator.vibrate(50)}),n(),k(245,pi,3,3,"div",75),n(),a(246,"div",82)(247,"div")(248,"h3",62),s(249),o(250,"translate"),n(),a(251,"p",55),s(252),o(253,"translate"),n()(),a(254,"label",83)(255,"input",84),y("change",function(){return e.currentVibrator.vibrate(50)}),n(),f(256,"div",85),a(257,"span",60),s(258),o(259,"translate"),o(260,"translate"),n()()(),k(261,mi,6,4,"div",86),n()(),a(262,"section",10)(263,"div")(264,"h2",87),s(265),o(266,"translate"),k(267,ci,4,3,"span",54),n()(),a(268,"form",46)(269,"div",52),y("click",function(c){return e.handlePremiumFeatureOrNavigate(e.PremiumFeature.PROGRESSIVE_OVERLOAD,c)}),a(270,"div")(271,"h3",62),s(272),o(273,"translate"),n(),a(274,"p",55),s(275),o(276,"translate"),n()(),a(277,"label",88)(278,"input",89),y("change",function(){return e.currentVibrator.vibrate(50)}),n(),f(279,"div",85),a(280,"span",60),s(281),o(282,"translate"),o(283,"translate"),n()()(),k(284,wi,25,19,"div",90),n()(),a(285,"section",10)(286,"h2",11),s(287),o(288,"translate"),n(),a(289,"div",91)(290,"div",92)(291,"div")(292,"p",93),s(293),o(294,"translate"),n(),a(295,"p",94),s(296),o(297,"translate"),n()(),a(298,"button",95),y("click",function(){return e.exportData()}),f(299,"app-icon",96),s(300),o(301,"translate"),n()(),a(302,"div",92)(303,"div")(304,"p",93),s(305),o(306,"translate"),n(),a(307,"p",94),s(308),o(309,"translate"),n()(),a(310,"input",97),y("change",function(c){return e.importData(c),e.currentVibrator.vibrate(50)}),n()(),a(311,"div",92)(312,"div")(313,"p",98),s(314),o(315,"translate"),a(316,"app-icon",99),y("click",function(){return e.showSyncHistoryTooltip()}),n()(),a(317,"p",94),s(318),o(319,"translate"),n()(),a(320,"button",100),y("click",function(){return e.onSyncHistoryClick()}),f(321,"app-icon",101),s(322),o(323,"translate"),n()(),a(324,"div",92)(325,"div")(326,"p",102),s(327),o(328,"translate"),n(),a(329,"p",94),s(330),o(331,"translate"),n()(),a(332,"button",103),y("click",function(){return e.clearAllAppData()}),f(333,"app-icon",104),s(334),o(335,"translate"),n()()()(),a(336,"div",105)(337,"section",10)(338,"div")(339,"h2",11),s(340),o(341,"translate"),k(342,Ei,4,3,"span",106),n()(),a(343,"div")(344,"p",107),s(345),o(346,"translate"),n(),a(347,"button",108),y("click",function(c){return e.handlePremiumFeatureOrNavigate(e.PremiumFeature.PERSONAL_GYM,c,["/personal-gym"])}),f(348,"app-icon",109),s(349),o(350,"translate"),n()()(),a(351,"section",10)(352,"h2",11),s(353),o(354,"translate"),n(),a(355,"div")(356,"p",107),s(357),o(358,"translate"),n(),a(359,"button",110),y("click",function(){return e.navigateToExerciseLibrary()}),f(360,"app-icon",111),s(361),o(362,"translate"),n()()()(),a(363,"section",10)(364,"h2",11),s(365),o(366,"translate"),n(),a(367,"div")(368,"p",107),s(369),o(370,"translate"),n(),a(371,"button",110),y("click",function(){return e.navigateToPersonalBests()}),f(372,"app-icon",112),s(373),o(374,"translate"),n()()(),a(375,"section",10)(376,"h2",11),s(377),o(378,"translate"),n(),a(379,"div",113)(380,"div",114)(381,"div")(382,"h3",93),s(383),o(384,"translate"),n(),a(385,"p",94),s(386),o(387,"translate"),n()(),a(388,"select",115),k(389,Bi,3,4,"option",20),n()(),a(390,"div",116)(391,"div",6)(392,"p",93),s(393),o(394,"translate"),n(),a(395,"div",117),f(396,"div",68),a(397,"button",69),y("click",function(){return e.selectWeightUnit("kg")}),s(398,"kg"),n(),a(399,"button",69),y("click",function(){return e.selectWeightUnit("lbs")}),s(400,"lbs"),n()()(),a(401,"div",6)(402,"p",93),s(403),o(404,"translate"),n(),a(405,"div",117),f(406,"div",68),a(407,"button",69),y("click",function(){return e.selectMeasureUnit("cm")}),s(408,"cm"),n(),a(409,"button",69),y("click",function(){return e.selectMeasureUnit("in")}),s(410,"in"),n()()(),a(411,"div",6)(412,"p",93),s(413),o(414,"translate"),n(),a(415,"div",117),f(416,"div",68),a(417,"button",69),y("click",function(){return e.selectDistanceMeasureUnit("km")}),s(418,"km"),n(),a(419,"button",69),y("click",function(){return e.selectDistanceMeasureUnit("mi")}),s(420,"mi"),n()()(),a(421,"div",6)(422,"p",93),s(423),o(424,"translate"),n(),a(425,"div",117),f(426,"div",68),a(427,"button",69),y("click",function(){return e.selectBodyWeightUnit("kg")}),s(428,"kg"),n(),a(429,"button",69),y("click",function(){return e.selectBodyWeightUnit("lbs")}),s(430,"lbs"),n()()(),a(431,"div",6)(432,"p",93),s(433),o(434,"translate"),n(),a(435,"div",117),f(436,"div",68),a(437,"button",69),y("click",function(){return e.selectBodyMeasureUnit("cm")}),s(438,"cm"),n(),a(439,"button",69),y("click",function(){return e.selectBodyMeasureUnit("in")}),s(440,"in"),n()()()(),a(441,"div",118)(442,"div",119)(443,"h3",93),s(444),o(445,"translate"),n(),a(446,"label",120)(447,"input",121),y("change",function(){return e.themeService.toggleTheme()}),n(),f(448,"div",122),n()(),a(449,"div",119)(450,"h3",93),s(451),o(452,"translate"),n(),a(453,"label",123)(454,"input",124),y("change",function(){return e.toggleWipDisclaimer()}),n(),f(455,"div",122),n()()(),a(456,"div",125)(457,"div",126)(458,"div",127)(459,"h3",53),s(460),o(461,"translate"),k(462,Ci,4,3,"span",128),n()(),a(463,"div",129),f(464,"div",130),a(465,"button",131),y("click",function(){return e.selectMenuMode("dropdown")}),s(466),o(467,"translate"),n(),a(468,"button",131),y("click",function(){return e.selectMenuMode("compact")}),s(469),o(470,"translate"),n(),a(471,"button",131),y("click",function(){return e.selectMenuMode("modal")}),s(472),o(473,"translate"),n()()()()()()()()),t&2){let p,c,v,h,w,x,I,F,U,q,ve,L,Q,xe,Se,_e,st,ot,lt,pt;i(3),u(d(4,170,"settings.title")),i(5),u(d(9,172,"settings.subscription.title")),i(5),g(" ",d(14,174,e.subscriptionService.isPremium()?"settings.subscription.premiumMember":"settings.subscription.freeTier")," "),i(3),g(" ",d(17,176,e.subscriptionService.isPremium()?"settings.subscription.allFeaturesUnlocked":"settings.subscription.upgradeMessage")," "),i(3),g(" ",d(20,178,e.subscriptionService.isPremium()?"settings.subscription.manageButton":"settings.subscription.upgradeButton")," "),i(4),u(d(24,180,"settings.userProfile.title")),i(2),m("formGroup",e.profileForm),i(4),u(d(30,182,"settings.userProfile.usernameLabel")),i(2),m("placeholder",d(32,184,"settings.userProfile.usernamePlaceholder")),i(4),u(d(36,186,"settings.userProfile.genderLabel")),i(3),m("ngValue",null),i(),u(d(40,188,"settings.userProfile.genderPlaceholder")),i(2),m("ngForOf",e.genders),i(3),u(d(45,190,"settings.userProfile.ageLabel")),i(2),m("placeholder",d(47,192,"settings.userProfile.agePlaceholder")),i(4),u(d(51,194,"settings.measurements.title")),i(5),g(" ",E(56,196,"settings.measurements.heightLabel",T(381,A,e.unitsService.getBodyMeasureUnitSuffix()))),i(4),m("placeholder",e.unitsService.getBodyMeasureUnitSuffix()),i(3),g(" ",E(63,199,"settings.measurements.weightLabel",T(383,A,e.unitsService.getBodyWeightUnitSuffix()))),i(4),m("placeholder",e.unitsService.getBodyWeightUnitSuffix()),i(3),u(E(70,202,"settings.measurements.chestLabel",T(385,A,e.unitsService.getBodyMeasureUnitSuffix()))),i(2),m("placeholder",e.unitsService.getBodyMeasureUnitSuffix()),i(3),u(E(75,205,"settings.measurements.neckLabel",T(387,A,e.unitsService.getBodyMeasureUnitSuffix()))),i(2),m("placeholder",e.unitsService.getBodyMeasureUnitSuffix()),i(3),u(E(80,208,"settings.measurements.waistLabel",T(389,A,e.unitsService.getBodyMeasureUnitSuffix()))),i(2),m("placeholder",e.unitsService.getBodyMeasureUnitSuffix()),i(3),u(E(85,211,"settings.measurements.hipsLabel",T(391,A,e.unitsService.getBodyMeasureUnitSuffix()))),i(2),m("placeholder",e.unitsService.getBodyMeasureUnitSuffix()),i(3),u(E(90,214,"settings.measurements.rightArmLabel",T(393,A,e.unitsService.getBodyMeasureUnitSuffix()))),i(2),m("placeholder",e.unitsService.getBodyMeasureUnitSuffix()),i(5),u(d(97,217,"settings.measurements.saveButton")),i(5),u(d(102,219,"settings.measurements.historyButton")),i(4),u(d(106,221,"settings.goals.title")),i(2),m("formGroup",e.goalsForm),i(4),u(E(112,223,"settings.goals.targetWeightLabel",T(395,A,e.unitsService.getBodyWeightUnitSuffix()))),i(2),m("placeholder",e.unitsService.getBodyWeightUnitSuffix()),i(3),u(E(117,226,"settings.goals.targetWaistLabel",T(397,A,e.unitsService.getBodyMeasureUnitSuffix()))),i(2),m("placeholder",e.unitsService.getBodyMeasureUnitSuffix()),i(3),u(d(122,229,"settings.player.title")),i(2),m("formGroup",e.appSettingsForm),i(),G("hover:bg-gray-100",e.subscriptionService.isPremium())("dark:hover:bg-gray-600/50",e.subscriptionService.isPremium())("cursor-pointer",e.subscriptionService.isPremium())("cursor-not-allowed",!e.subscriptionService.isPremium()),i(3),g(" ",d(128,231,"settings.player.playerModeLabel")," "),i(2),m("ngIf",!e.subscriptionService.isPremium()),i(2),g("",d(132,233,"settings.player.playerModeDescription")," "),i(2),G("cursor-not-allowed",!e.subscriptionService.isPremium()),i(3),m("checked",((p=e.appSettingsForm.get("playerMode"))==null?null:p.value)==="focus")("disabled",!e.subscriptionService.isPremium()),i(3),g(" ",((c=e.appSettingsForm.get("playerMode"))==null?null:c.value)==="focus"?d(140,235,"settings.player.playerModeFocus"):d(141,237,"settings.player.playerModeCompact")," "),i(6),u(d(146,239,"settings.player.trueGymMode.label")),i(3),u(d(149,241,"settings.player.trueGymMode.description")),i(5),m("checked",((v=e.appSettingsForm.get("enableTrueGymMode"))==null?null:v.value)===!0),i(3),g(" ",(h=e.appSettingsForm.get("enableTrueGymMode"))!=null&&h.value?d(157,243,"common.on"):d(158,245,"common.off")," "),i(6),u(d(163,247,"settings.player.showMetricTarget.label")),i(3),u(d(166,249,"settings.player.showMetricTarget.description")),i(5),m("checked",((w=e.appSettingsForm.get("showMetricTarget"))==null?null:w.value)===!0),i(3),g(" ",(x=e.appSettingsForm.get("showMetricTarget"))!=null&&x.value?d(174,251,"common.on"):d(175,253,"common.off")," "),i(6),g(" ",d(180,255,"settings.player.restTimerMode.label")," "),i(3),g(" ",d(183,257,"settings.player.restTimerMode.description")," "),i(3),m("ngClass",M(399,J,((I=e.appSettingsForm.get("restTimerMode"))==null?null:I.value)==="fullscreen",((I=e.appSettingsForm.get("restTimerMode"))==null?null:I.value)==="compact")),i(),m("ngClass",M(402,O,((F=e.appSettingsForm.get("restTimerMode"))==null?null:F.value)==="fullscreen",((F=e.appSettingsForm.get("restTimerMode"))==null?null:F.value)!=="fullscreen")),i(),g(" ",d(188,259,"settings.player.restTimerMode.fullscreen")," "),i(2),m("ngClass",M(405,O,((U=e.appSettingsForm.get("restTimerMode"))==null?null:U.value)==="compact",((U=e.appSettingsForm.get("restTimerMode"))==null?null:U.value)!=="compact")),i(),g(" ",d(191,261,"settings.player.restTimerMode.compact")," "),i(5),g(" ",d(196,263,"settings.player.summaryDisplayMode.label")," "),i(3),g(" ",d(199,265,"settings.player.summaryDisplayMode.description")," "),i(3),m("ngClass",M(408,J,((q=e.appSettingsForm.get("summaryDisplayMode"))==null?null:q.value)==="icons",((q=e.appSettingsForm.get("summaryDisplayMode"))==null?null:q.value)==="text")),i(),m("ngClass",M(411,O,((ve=e.appSettingsForm.get("summaryDisplayMode"))==null?null:ve.value)==="icons",((ve=e.appSettingsForm.get("summaryDisplayMode"))==null?null:ve.value)!=="icons")),i(),g(" ",d(204,267,"settings.player.summaryDisplayMode.icons")," "),i(2),m("ngClass",M(414,O,((L=e.appSettingsForm.get("summaryDisplayMode"))==null?null:L.value)==="text",((L=e.appSettingsForm.get("summaryDisplayMode"))==null?null:L.value)!=="text")),i(),g(" ",d(207,269,"settings.player.summaryDisplayMode.text")," "),i(4),u(d(211,271,"settings.player.weightIncrementLabel")),i(3),u(E(215,275,"settings.player.weightIncrementDescription",T(417,A,d(214,273,e.unitsService.currentWeightUnit())))),i(4),m("ngIf",((Q=e.appSettingsForm.get("weightStep"))==null?null:Q.invalid)&&((Q=e.appSettingsForm.get("weightStep"))==null?null:Q.touched)),i(3),u(d(221,278,"settings.player.durationIncrementLabel")),i(3),u(d(224,280,"settings.player.durationIncrementDescription")),i(3),m("ngIf",((xe=e.appSettingsForm.get("durationStep"))==null?null:xe.invalid)&&((xe=e.appSettingsForm.get("durationStep"))==null?null:xe.touched)),i(3),u(d(230,282,"settings.player.distanceIncrementLabel")),i(3),u(E(234,286,"settings.player.distanceIncrementDescription",T(419,A,d(233,284,e.unitsService.currentDistanceMeasureUnit())))),i(4),m("ngIf",((Se=e.appSettingsForm.get("distanceStep"))==null?null:Se.invalid)&&((Se=e.appSettingsForm.get("distanceStep"))==null?null:Se.touched)),i(3),u(d(240,289,"settings.player.restIncrementLabel")),i(3),u(d(243,291,"settings.player.restIncrementDescription")),i(3),m("ngIf",((_e=e.appSettingsForm.get("restStep"))==null?null:_e.invalid)&&((_e=e.appSettingsForm.get("restStep"))==null?null:_e.touched)),i(4),u(d(250,293,"settings.player.countdownSoundLabel")),i(3),u(d(253,295,"settings.player.countdownSoundDescription")),i(6),g(" ",(st=e.appSettingsForm.get("enableTimerCountdownSound"))!=null&&st.value?d(259,297,"common.on"):d(260,299,"common.off")," "),i(3),m("ngIf",(ot=e.appSettingsForm.get("enableTimerCountdownSound"))==null?null:ot.value),i(4),g(" ",d(266,301,"settings.progressiveOverload.title")," "),i(2),m("ngIf",!e.subscriptionService.isPremium()),i(),m("formGroup",e.progressiveOverloadForm),i(),G("hover:bg-gray-100",e.subscriptionService.isPremium())("dark:hover:bg-gray-600/50",e.subscriptionService.isPremium())("cursor-pointer",e.subscriptionService.isPremium())("cursor-not-allowed",!e.subscriptionService.isPremium()),i(3),g("",d(273,303,"settings.progressiveOverload.enableLabel")," "),i(3),u(d(276,305,"settings.progressiveOverload.enableDescription")),i(6),g(" ",(lt=e.progressiveOverloadForm.get("enabled"))!=null&&lt.value?d(282,307,"common.on"):d(283,309,"common.off")," "),i(3),m("ngIf",(pt=e.progressiveOverloadForm.get("enabled"))==null?null:pt.value),i(3),u(d(288,311,"settings.dataManagement.title")),i(6),u(d(294,313,"settings.dataManagement.exportTitle")),i(3),u(d(297,315,"settings.dataManagement.exportDescription")),i(4),g(" ",d(301,317,"settings.dataManagement.exportButton")," "),i(5),u(d(306,319,"settings.dataManagement.importTitle")),i(3),u(d(309,321,"settings.dataManagement.importDescription")),i(6),g(" ",d(315,323,"settings.dataManagement.syncTitle")," "),i(2),m("appTooltip",e.syncHistoryTooltipString),i(2),u(d(319,325,"settings.dataManagement.syncDescription")),i(4),g(" ",d(323,327,"settings.dataManagement.syncButton")," "),i(5),u(d(328,329,"settings.dataManagement.resetTitle")),i(3),u(d(331,331,"settings.dataManagement.resetDescription")),i(4),g(" ",d(335,333,"settings.dataManagement.resetButton")," "),i(6),g(" ",d(341,335,"settings.personalGym.title")," "),i(2),m("ngIf",!e.subscriptionService.isPremium()),i(3),u(d(346,337,"settings.personalGym.description")),i(4),g(" ",d(350,339,"settings.personalGym.button")," "),i(4),u(d(354,341,"settings.exerciseLibrary.title")),i(4),u(d(358,343,"settings.exerciseLibrary.description")),i(4),g(" ",d(362,345,"settings.exerciseLibrary.button")," "),i(4),u(d(366,347,"settings.achievements.title")),i(4),u(d(370,349,"settings.achievements.description")),i(4),g(" ",d(374,351,"settings.achievements.button")," "),i(4),u(d(378,353,"settings.general.title")),i(6),g(" ",d(384,355,"settings.general.language")," "),i(3),g(" ",d(387,357,"settings.general.languageDescription")," "),i(2),m("formControl",e.languageControl),i(),m("ngForOf",e.languageService.supportedLanguages),i(4),u(d(394,359,"settings.general.weightUnits")),i(3),m("ngClass",M(421,J,e.unitsService.currentWeightUnit()==="kg",e.unitsService.currentWeightUnit()==="lbs")),i(),m("ngClass",M(424,O,e.unitsService.currentWeightUnit()==="kg",e.unitsService.currentWeightUnit()!=="kg")),i(2),m("ngClass",M(427,O,e.unitsService.currentWeightUnit()==="lbs",e.unitsService.currentWeightUnit()!=="lbs")),i(4),u(d(404,361,"settings.general.measureUnits")),i(3),m("ngClass",M(430,J,e.unitsService.currentMeasureUnit()==="cm",e.unitsService.currentMeasureUnit()==="in")),i(),m("ngClass",M(433,O,e.unitsService.currentMeasureUnit()==="cm",e.unitsService.currentMeasureUnit()!=="cm")),i(2),m("ngClass",M(436,O,e.unitsService.currentMeasureUnit()==="in",e.unitsService.currentMeasureUnit()!=="in")),i(4),u(d(414,363,"settings.general.distanceUnits")),i(3),m("ngClass",M(439,J,e.unitsService.currentDistanceMeasureUnit()==="km",e.unitsService.currentDistanceMeasureUnit()==="mi")),i(),m("ngClass",M(442,O,e.unitsService.currentDistanceMeasureUnit()==="km",e.unitsService.currentDistanceMeasureUnit()!=="km")),i(2),m("ngClass",M(445,O,e.unitsService.currentDistanceMeasureUnit()==="mi",e.unitsService.currentDistanceMeasureUnit()!=="mi")),i(4),u(d(424,365,"settings.general.bodyWeightUnits")),i(3),m("ngClass",M(448,J,e.unitsService.currentBodyWeightUnit()==="kg",e.unitsService.currentBodyWeightUnit()==="lbs")),i(),m("ngClass",M(451,O,e.unitsService.currentBodyWeightUnit()==="kg",e.unitsService.currentBodyWeightUnit()!=="kg")),i(2),m("ngClass",M(454,O,e.unitsService.currentBodyWeightUnit()==="lbs",e.unitsService.currentBodyWeightUnit()!=="lbs")),i(4),u(d(434,367,"settings.general.bodyMeasureUnits")),i(3),m("ngClass",M(457,J,e.unitsService.currentBodyMeasureUnit()==="cm",e.unitsService.currentBodyMeasureUnit()==="in")),i(),m("ngClass",M(460,O,e.unitsService.currentBodyMeasureUnit()==="cm",e.unitsService.currentBodyMeasureUnit()!=="cm")),i(2),m("ngClass",M(463,O,e.unitsService.currentBodyMeasureUnit()==="in",e.unitsService.currentBodyMeasureUnit()!=="in")),i(5),u(d(445,369,"settings.general.darkMode")),i(3),m("checked",e.themeService.isDarkTheme()),i(4),u(d(452,371,"settings.general.wipMessage")),i(3),m("checked",!e.userProfileService.getHideWipDisclaimer()),i(6),g(" ",d(461,373,"settings.general.menuMode")," "),i(2),m("ngIf",!e.subscriptionService.isPremium()),i(2),m("ngClass",vt(466,ri,e.appSettingsService.menuMode()==="dropdown",e.appSettingsService.menuMode()==="compact",e.appSettingsService.menuMode()==="modal")),i(),m("ngClass",M(470,O,e.appSettingsService.menuMode()==="dropdown",e.appSettingsService.menuMode()!=="dropdown")),i(),u(d(467,375,"settings.general.menuModes.dropdown")),i(2),m("ngClass",M(473,O,e.appSettingsService.menuMode()==="compact",e.appSettingsService.menuMode()!=="compact")),i(),u(d(470,377,"settings.general.menuModes.compact")),i(2),m("ngClass",M(476,O,e.appSettingsService.menuMode()==="modal",e.appSettingsService.menuMode()!=="modal")),i(),u(d(473,379,"settings.general.menuModes.modal"))}},dependencies:[ne,Ce,ie,re,Ge,Ue,He,Re,De,Le,kt,Ct,Oe,Ae,It,Mt,Pt,Et,Ve,Ne,Bt,ae,Gt,oe,bt,se],encapsulation:2})};var ei=["bodyweightCalisthenics","rehabilitationMobility","yogaPilates","powerlifting","olympicWeightlifting","crossfit","dumbbells","kettlebells","strength","barbells","machines","cables","bands","cardio","stretching","plyometrics","strongman","custom","other"];var Pi=(l,r)=>({count:l,total:r}),Mi=l=>({count:l});function Ii(l,r){if(l&1&&(a(0,"option",44),s(1),n()),l&2){let t=r.$implicit;m("value",t),i(),g(" ",t," ")}}function Ti(l,r){if(l&1&&(a(0,"option",44),s(1),o(2,"titlecase"),n()),l&2){let t=r.$implicit;m("value",t),i(),g(" ",d(2,2,t)," ")}}function Fi(l,r){if(l&1&&(a(0,"span"),s(1),o(2,"translate"),n()),l&2){let t=_(2);i(),g(" ",E(2,1,"personalBests.filters.showingResultOf",M(4,Pi,t.displayPersonalBests().length,t.combinedPersonalBests().length))," ")}}function Di(l,r){if(l&1&&(s(0),o(1,"translate")),l&2){let t=_(2);g(" ",E(1,1,"personalBests.filters.showingResult",T(4,Mi,t.displayPersonalBests().length))," ")}}function Oi(l,r){if(l&1&&(a(0,"div",45),k(1,Fi,3,7,"span",42)(2,Di,2,6,"ng-template",null,5,te),n()),l&2){let t=V(3),e=_();i(),m("ngIf",e.exerciseNameFilter()||e.exerciseCategoryFilter()||e.pbTypeFilter())("ngIfElse",t)}}function Ai(l,r){l&1&&(a(0,"span"),s(1," ..."),n())}function Ui(l,r){if(l&1&&(a(0,"div",61)(1,"span",62),s(2),o(3,"translate"),n(),a(4,"span"),s(5),o(6,"date"),n(),k(7,Ai,2,0,"span",63),n()),l&2){let t=r.ngIf,e=_().$implicit,p=_(2);i(2),g("",d(3,4,"personalBests.card.previous"),": "),i(3),N(" ",p.formatPbValue(t,e.pbType)," (",E(6,6,t.timestamp,"dd/MM/yy"),") "),i(2),m("ngIf",p.countPreviousPbs(e)>1)}}function Li(l,r){if(l&1&&(a(0,"div",64)(1,"p",65),s(2),n()()),l&2){let t=_().$implicit;G("mt-2",t.history&&t.history.length>0)("mt-1",!(t.history&&t.history.length>0)),i(),m("title",t.notes),i(),g(" ",t.notes," ")}}function Vi(l,r){if(l&1){let t=D();a(0,"div",66)(1,"button",67),y("click",function(p){B(t);let c=_().$implicit,v=_(2);return C(v.navigateToLogDetail(c.workoutLogId,p))}),f(2,"app-icon",68),a(3,"span"),s(4),o(5,"translate"),n()(),a(6,"button",69),o(7,"translate"),y("click",function(){B(t);let p=_().$implicit,c=_(2);return C(c.showPbTrend(p.exerciseId,p.pbType))}),f(8,"app-icon",70),a(9,"span"),s(10),o(11,"translate"),n()()()}l&2&&(i(4),u(d(5,3,"personalBests.card.viewLog")),i(2),m("title",d(7,5,"personalBests.card.showTrendTooltip")),i(4),u(d(11,7,"personalBests.card.trend")))}function Ni(l,r){if(l&1&&(a(0,"div",48)(1,"div",49)(2,"div",50)(3,"div")(4,"h2",51),s(5),n(),a(6,"p",52),s(7),o(8,"titlecase"),n()()(),a(9,"div",53)(10,"p",54),s(11),n()(),a(12,"div",55)(13,"span",56),s(14),n()(),a(15,"div",57)(16,"span"),s(17),o(18,"date"),n()(),k(19,Ui,8,9,"div",58)(20,Li,3,6,"div",59),n(),k(21,Vi,12,9,"div",60),n()),l&2){let t=r.$implicit,e=_(2);i(4),m("title",t.exerciseName),i(),g(" ",t.exerciseName," "),i(2),g(" (",d(8,9,t.primaryMuscleGroup),") "),i(4),u(t.pbType),i(3),u(e.formatPbValue(e.formatPbForDisplay(t))),i(3),u(E(18,11,t.timestamp,"dd/MM/yy")),i(2),m("ngIf",e.getPreviousPb(t)),i(),m("ngIf",t.notes),i(),m("ngIf",t.pbType!=="1RM (Estimated)"&&t.workoutLogId)}}function Hi(l,r){if(l&1&&(a(0,"div")(1,"div",46),k(2,Ni,22,14,"div",47),n()()),l&2){let t=_();i(2),m("ngForOf",t.displayPersonalBests())}}function Ri(l,r){l&1&&(a(0,"span"),s(1),o(2,"translate"),n()),l&2&&(i(),u(d(2,1,"personalBests.noPBs.noMatchTitle")))}function Wi(l,r){l&1&&(s(0),o(1,"translate")),l&2&&u(d(1,1,"personalBests.noPBs.noPBsTitle"))}function Gi(l,r){if(l&1){let t=D();a(0,"span"),s(1),o(2,"translate"),a(3,"button",76),y("shortPress",function(){B(t);let p=_(2);return C(p.resetFiltersAndShow())}),s(4),o(5,"translate"),n()()}l&2&&(i(),g("",d(2,2,"personalBests.noPBs.noMatchMessage")," "),i(3),u(d(5,4,"personalBests.noPBs.resetFiltersLink")))}function ji(l,r){l&1&&(a(0,"span"),s(1),o(2,"translate"),n()),l&2&&(i(),u(d(2,1,"personalBests.noPBs.noPBsMessage")))}function $i(l,r){if(l&1){let t=D();a(0,"span"),s(1),o(2,"translate"),a(3,"button",76),y("shortPress",function(){B(t);let p=_(2);return C(p.triggerRecalculatePBs())}),s(4),o(5,"translate"),n(),s(6),o(7,"translate"),n()}l&2&&(i(),g(" ",d(2,3,"personalBests.noPBs.recalculatePrompt")),i(3),u(d(5,5,"personalBests.noPBs.recalculateLink")),i(2),g("",d(7,7,"personalBests.noPBs.recalculateSuggestion")," "))}function Yi(l,r){if(l&1&&(a(0,"div",71),fe(),a(1,"svg",72),f(2,"path",73),n(),ye(),a(3,"h2",74),k(4,Ri,3,3,"span",42)(5,Wi,2,3,"ng-template",null,6,te),n(),a(7,"p",75),k(8,Gi,6,6,"span",63)(9,ji,3,3,"span",63)(10,$i,8,9,"span",63),n()()),l&2){let t=V(6),e=_();i(4),m("ngIf",e.hasActiveFilters())("ngIfElse",t),i(4),m("ngIf",e.hasActiveFilters()),i(),m("ngIf",!e.hasActiveFilters()&&e.allPersonalBestsSignalEmpty()),i(),m("ngIf",!e.allPersonalBestsSignalEmpty()&&e.displayPersonalBests().length===0&&!e.hasActiveFilters())}}var et=class l{trackingService=S(me);exerciseService=S(ze);unitsService=S(Y);router=S(Ie);toastService=S(j);platformId=S(Be);workoutService=S(ce);workoutUtilsService=S(Kt);translate=S($);allPersonalBestsRaw=W({});allExercisesRaw=W([]);filtersVisible=W(!1);exerciseNameFilter=W("");pbTypeFilter=W("");exerciseCategoryFilter=W("");sortBy=W("latest");decimalPipe=new xt("en-US");availableCategories=X(()=>[...ei].sort());availablePbTypes=X(()=>{let r=this.allPersonalBestsRaw(),t=new Set;return Object.values(r).forEach(e=>{e.forEach(p=>{p.pbType&&t.add(p.pbType)})}),Array.from(t).sort()});combinedPersonalBests=X(()=>{let r=this.allPersonalBestsRaw(),t=this.allExercisesRaw();if(Object.keys(r).length===0||t.length===0)return[];let e=new Map(t.map(c=>[c.id,c])),p=[];for(let c in r)if(r.hasOwnProperty(c)){let v=e.get(c),h=r[c];v&&h.forEach(w=>{p.push(R(H({},w),{exerciseName:v.name,exerciseCategory:v.category,primaryMuscleGroup:v.primaryMuscleGroup}))})}return p});displayPersonalBests=X(()=>{let r=this.combinedPersonalBests(),t=this.exerciseNameFilter().toLowerCase().trim(),e=this.exerciseCategoryFilter(),p=this.pbTypeFilter(),c=this.sortBy();if(!t&&!e&&!p)return this.sortPBs(r,c);let v=r.filter(h=>!(t&&!h.exerciseName.toLowerCase().includes(t)||e&&h.exerciseCategory!==e||p&&h.pbType!==p));return this.sortPBs(v,c)});hasActiveFilters=X(()=>this.exerciseNameFilter().trim()!==""||this.exerciseCategoryFilter()!==""||this.pbTypeFilter().trim()!=="");allPersonalBestsSignalEmpty=X(()=>Object.keys(this.allPersonalBestsRaw()).length===0);constructor(){}ngOnInit(){Me(this.platformId)&&window.scrollTo(0,0),this.trackingService.personalBests$.subscribe(r=>{this.allPersonalBestsRaw.set(r)}),this.exerciseService.getExercises().pipe(ct(1)).subscribe(r=>{this.allExercisesRaw.set(r)})}toggleFiltersVisibility(){this.filtersVisible.update(r=>!r)}resetFilters(){this.exerciseNameFilter.set(""),this.exerciseCategoryFilter.set(""),this.pbTypeFilter.set(""),this.sortBy.set("latest")}resetFiltersAndShow(){this.resetFilters(),this.filtersVisible.set(!0)}getPbTypeSortOrder(r){return r.includes("1RM (Actual)")?0:r.includes("1RM (Estimated)")?1:r.includes("3RM (Actual)")?2:r.includes("5RM (Actual)")?3:r.includes("Heaviest Lifted")?4:r.includes("Max Reps (Bodyweight)")?5:r.includes("Max Duration")?6:r.includes("Max Distance")?7:100}sortPBs(r,t){let e=[...r];switch(t){case"exerciseName":e.sort((p,c)=>{let v=p.exerciseName.localeCompare(c.exerciseName);return v!==0?v:this.getPbTypeSortOrder(p.pbType)-this.getPbTypeSortOrder(c.pbType)});break;case"pbType":e.sort((p,c)=>{let v=this.getPbTypeSortOrder(p.pbType),h=this.getPbTypeSortOrder(c.pbType);return v!==h?v-h:new Date(c.timestamp).getTime()-new Date(p.timestamp).getTime()});break;case"latest":default:e.sort((p,c)=>new Date(c.timestamp).getTime()-new Date(p.timestamp).getTime());break}return e}formatPbValue(r,t){if(!r)return"N/A";let e=r.pbType||t;if(e){if((e.includes("RM")||e.includes("Heaviest"))&&r.weightLogged!=null){let p=`${this.decimalPipe.transform(r.weightLogged,"1.0-2")}${this.unitsService.getWeightUnitSuffix()}`;return r.repsLogged!=null&&r.repsLogged>1&&(p+=` x ${r.repsLogged}`),p}if(e.includes("Max Reps")&&r.repsLogged!=null)return`${r.repsLogged} ${this.translate.instant("personalBests.units.reps")}`;if(e.includes("Max Duration")&&r.durationLogged!=null)return this.workoutUtilsService.formatSecondsToTime(r.durationLogged);if(e.includes("Max Distance")&&r.distanceLogged!=null)return`${r.distanceLogged} ${this.unitsService.getDistanceMeasureUnitSuffix()}`}if(r.weightLogged!=null&&r.weightLogged>0){let p=`${this.decimalPipe.transform(r.weightLogged,"1.0-2")}${this.unitsService.getWeightUnitSuffix()}`;return r.repsLogged!=null&&r.repsLogged>0&&(p+=` x ${r.repsLogged}`),p}return r.repsLogged!=null&&r.repsLogged>0?`${r.repsLogged} ${this.translate.instant("personalBests.units.reps")}`:r.durationLogged!=null&&r.durationLogged>0?this.workoutUtilsService.formatSecondsToTime(r.durationLogged):r.distanceLogged!=null&&r.distanceLogged>0?`${r.distanceLogged} ${this.unitsService.getDistanceMeasureUnitSuffix()}`:"N/A"}navigateToLogDetail(r,t){t?.stopPropagation(),r?(this.workoutService.vibrate(),this.router.navigate(["/history/log",r])):(this.toastService.error(this.translate.instant("personalBests.toasts.logNotFound"),0,this.translate.instant("personalBests.toasts.navigationError")),console.warn("Attempted to navigate to log detail, but workoutLogId is undefined for PB:",t))}triggerRecalculatePBs(){return P(this,null,function*(){try{yield this.trackingService.recalculateAllPersonalBests(),this.filtersVisible.set(!1)}catch(r){console.error("Error initiating PB recalculation:",r),this.toastService.error(this.translate.instant("personalBests.toasts.recalcError"))}})}resetPBs(){return P(this,null,function*(){try{yield this.trackingService.clearAllPersonalBests_DEV_ONLY()}catch(r){console.error("Error clearAllPersonalBests_DEV_ONLY:",r),this.toastService.error(this.translate.instant("personalBests.toasts.resetError"))}})}showPbTrend(r,t){if(!r||!t){this.toastService.error(this.translate.instant("personalBests.toasts.trendError"),0,"Error");return}let e=encodeURIComponent(t);this.workoutService.vibrate(),this.router.navigate(["/profile/pb-trend",r,e]),console.log(`Requesting trend for Exercise ID: ${r}, PB Type: ${t}`)}fabMenuItems=[];getPreviousPb(r){if(!(!r.history||r.history.length===0))return r.history.find(t=>t.pbType===r.pbType)}countPreviousPbs(r){return!r.history||r.history.length===0?0:r.history.filter(t=>t.pbType===r.pbType).length}formatPbForDisplay(r){return R(H({},r),{repsLogged:Dt(r.repsLogged)??void 0,weightLogged:le(r.weightLogged)??void 0,distanceLogged:pe(r.distanceLogged)??void 0,durationLogged:Ot(r.durationLogged)??void 0})}static \u0275fac=function(t){return new(t||l)};static \u0275cmp=ee({type:l,selectors:[["app-personal-bests"]],decls:84,vars:72,consts:[["nameFilterInput",""],["pbTypeFilterInput",""],["categoryFilterInput",""],["sortByInput",""],["noPBsOrFilters",""],["totalOnly",""],["noPBsMessage",""],[1,"container","mx-auto","p-2","sm:p-4"],[1,"mb-6","flex","items-center"],["routerLink","/profile",1,"text-gray-600","dark:text-gray-300","hover:text-primary","dark:hover:text-primary-light","p-2","-ml-2","rounded-full","focus:outline-none","focus:ring-2","focus:ring-primary-focus"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 19l-7-7 7-7"],[1,"flex","flex-grow","justify-between","items-center","pb-2"],[1,"text-2xl","font-bold","text-gray-800","dark:text-gray-200"],["type","button",1,"rounded-md","text-gray-600","dark:text-gray-300","hover:bg-gray-200","dark:hover:bg-gray-700","focus:outline-none","focus:ring-2","focus:ring-primary","dark:focus:ring-primary-light","transition-all","duration-300","ease-in-out",3,"click"],["name","filter",1,"w-10","h-10","transition-transform","duration-300"],[1,"sr-only"],[1,"overflow-hidden","transition-all","duration-500","ease-in-out"],[1,"p-4","bg-white","dark:bg-gray-700","rounded-md","shadow-md","border","dark:border-gray-600"],[1,"text-xl","font-semibold","text-gray-700","dark:text-gray-300","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","mb-4"],["for","exerciseNameFilter",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-1"],["type","text","id","exerciseNameFilter",1,"mt-1","block","w-full","px-3","py-2","bg-white","dark:bg-gray-800","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:outline-none","focus:ring-primary","focus:border-primary","sm:text-sm","text-gray-900","dark:text-gray-100","placeholder-gray-400","dark:placeholder-gray-500",3,"input","value","placeholder"],["for","pbTypeFilter",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-1"],["id","pbTypeFilter",1,"mt-1","block","w-full","px-3","py-2","bg-white","dark:bg-gray-800","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:outline-none","focus:ring-primary","focus:border-primary","sm:text-sm","text-gray-900","dark:text-gray-100",3,"change","value"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","categoryFilter",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-1"],["id","categoryFilter",1,"mt-1","block","w-full","px-3","py-2","bg-white","dark:bg-gray-800","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:outline-none","focus:ring-primary","focus:border-primary","sm:text-sm","text-gray-900","dark:text-gray-100",3,"change","value"],["for","sortBy",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-1"],["id","sortBy",1,"mt-1","block","w-full","px-3","py-2","bg-white","dark:bg-gray-800","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:outline-none","focus:ring-primary","focus:border-primary","sm:text-sm","text-gray-900","dark:text-gray-100",3,"change","value"],["value","latest"],["value","exerciseName"],["value","pbType"],[1,"mt-4","flex","justify-between","items-center"],["appPress","",1,"flex","px-4","py-2","bg-yellow-200","dark:bg-yellow-700","text-gray-700","dark:text-gray-200","rounded-md","hover:bg-yellow-300","dark:hover:bg-yellow-500","text-sm","items-center",3,"shortPress"],["name","trash"],["appPress","",1,"ml-2","p-2","text-sm","text-gray-500","dark:text-gray-400","hover:text-primary","dark:hover:text-primary-light","rounded-md","border","border-gray-300","dark:border-gray-600","hover:bg-gray-100","dark:hover:bg-gray-700","transition-colors","flex","items-center",3,"shortPress","title"],["name","change"],[1,"hidden","sm:inline-block","ml-1"],["appPress","",1,"ml-2","p-2","text-sm","text-gray-500","dark:text-gray-400","hover:text-red-600","dark:hover:text-red-500","rounded-md","border","border-gray-300","dark:border-gray-600","hover:bg-red-100","dark:hover:bg-red-900/50","transition-colors","flex","items-center",3,"shortPress","title"],["class","text-sm text-gray-600 dark:text-gray-400",4,"ngIf"],[4,"ngIf","ngIfElse"],[3,"actions","checkForPausedSession","showMainButton"],[3,"value"],[1,"text-sm","text-gray-600","dark:text-gray-400"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-3","xl:grid-cols-4","gap-4"],["class","flex flex-col border dark:border-none bg-white dark:bg-gray-700 rounded-md shadow-md hover:shadow-lg transition-shadow duration-200 relative group transform hover:-translate-y-1",4,"ngFor","ngForOf"],[1,"flex","flex-col","border","dark:border-none","bg-white","dark:bg-gray-700","rounded-md","shadow-md","hover:shadow-lg","transition-shadow","duration-200","relative","group","transform","hover:-translate-y-1"],[1,"p-3","flex-grow"],[1,"flex","justify-between","items-start"],[1,"text-md","font-semibold","text-primary","dark:text-primary-light","truncate",3,"title"],[1,"text-xs","text-gray-500","dark:text-gray-400"],[1,"mt-2"],[1,"text-sm","font-medium","text-gray-600","dark:text-gray-300"],[1,"mb-2"],[1,"text-2xl","font-bold","text-gray-900","dark:text-white"],[1,"flex","justify-end","items-center","text-xs","text-gray-500","dark:text-gray-400","mb-2"],["class","mt-2 pt-1 border-t border-gray-200 dark:border-gray-600 text-xs text-gray-500 dark:text-gray-400",4,"ngIf"],["class","pt-1 border-t border-gray-200 dark:border-gray-600",3,"mt-2","mt-1",4,"ngIf"],["class","grid grid-cols-1 sm:grid-cols-2 gap-4 pt-4 bg-gray-50 dark:bg-gray-800 border-gray-200 rounded-b dark:border-gray-600 p-2",4,"ngIf"],[1,"mt-2","pt-1","border-t","border-gray-200","dark:border-gray-600","text-xs","text-gray-500","dark:text-gray-400"],[1,"font-medium"],[4,"ngIf"],[1,"pt-1","border-t","border-gray-200","dark:border-gray-600"],[1,"text-xs","text-gray-600","dark:text-gray-400","italic","max-h-16","overflow-y-auto","custom-scrollbar","pr-1",3,"title"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-4","pt-4","bg-gray-50","dark:bg-gray-800","border-gray-200","rounded-b","dark:border-gray-600","p-2"],[1,"flex","justify-center","items-center","px-63","py-3","bg-indigo-500","hover:bg-indigo-600","text-white","font-semibold","rounded-md","shadow-sm","text-md","disabled:opacity-50","disabled:cursor-not-allowed",3,"click"],["name","eye",1,"w-8","h-8","mr-1"],[1,"flex","justify-center","items-center","px-3","py-3","bg-primary","hover:bg-primary-light","text-white","font-semibold","rounded-md","shadow-sm","text-md","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","title"],["name","trend",1,"w-8","h-8","mr-1"],[1,"text-center","py-10","bg-white","dark:bg-gray-700","rounded-xl","shadow-lg"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-16","h-16","mx-auto","text-gray-400","dark:text-gray-500","mb-4"],["stroke-linecap","round","stroke-linejoin","round","d","M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607zM13.5 10.5h-6"],[1,"text-xl","font-semibold","text-gray-700","dark:text-gray-300","mb-2"],[1,"text-gray-500","dark:text-gray-400","px-4"],["appPress","",1,"text-primary","dark:text-primary-light","hover:underline",3,"shortPress"]],template:function(t,e){if(t&1){let p=D();a(0,"div",7)(1,"div",8)(2,"button",9),fe(),a(3,"svg",10),f(4,"path",11),n()(),ye(),a(5,"header",12)(6,"h1",13),s(7),o(8,"translate"),n(),a(9,"button",14),y("click",function(){return B(p),C(e.toggleFiltersVisibility())}),f(10,"app-icon",15),a(11,"span",16),s(12),o(13,"translate"),n()()()(),a(14,"div",17)(15,"div",18)(16,"h2",19),s(17),o(18,"translate"),n(),a(19,"div",20)(20,"div")(21,"label",21),s(22),o(23,"translate"),n(),a(24,"input",22,0),o(26,"translate"),y("input",function(){B(p);let v=V(25);return C(e.exerciseNameFilter.set(v.value))}),n()(),a(27,"div")(28,"label",23),s(29),o(30,"translate"),n(),a(31,"select",24,1),y("change",function(){B(p);let v=V(32);return C(e.pbTypeFilter.set(v.value))}),a(33,"option",25),s(34),o(35,"translate"),n(),k(36,Ii,2,2,"option",26),n()(),a(37,"div")(38,"label",27),s(39),o(40,"translate"),n(),a(41,"select",28,2),y("change",function(){B(p);let v=V(42);return C(e.exerciseCategoryFilter.set(v.value))}),a(43,"option",25),s(44),o(45,"translate"),n(),k(46,Ti,3,4,"option",26),n()(),a(47,"div")(48,"label",29),s(49),o(50,"translate"),n(),a(51,"select",30,3),y("change",function(){B(p);let v=V(52);return C(e.sortBy.set(v.value))}),a(53,"option",31),s(54),o(55,"translate"),n(),a(56,"option",32),s(57),o(58,"translate"),n(),a(59,"option",33),s(60),o(61,"translate"),n()()()(),a(62,"div",34)(63,"button",35),y("shortPress",function(){return B(p),C(e.resetFilters())}),f(64,"app-icon",36),s(65),o(66,"translate"),n(),a(67,"button",37),o(68,"translate"),y("shortPress",function(){return B(p),C(e.triggerRecalculatePBs())}),f(69,"app-icon",38),a(70,"span",39),s(71),o(72,"translate"),n()(),a(73,"button",40),o(74,"translate"),y("shortPress",function(){return B(p),C(e.resetPBs())}),f(75,"app-icon",36),a(76,"span",39),s(77),o(78,"translate"),n()(),k(79,Oi,4,2,"div",41),n()()(),k(80,Hi,3,1,"div",42)(81,Yi,11,5,"ng-template",null,4,te),n(),f(83,"app-fab-menu",43)}if(t&2){let p=V(82);i(7),u(d(8,36,"personalBests.title")),i(3),G("rotate-180",e.filtersVisible()===!0),i(2),u(d(13,38,"personalBests.toggleFilters")),i(2),ut("max-height",e.filtersVisible()?"1000px":"0px"),G("mb-6",e.filtersVisible()),i(3),u(d(18,40,"personalBests.filters.title")),i(5),g(" ",d(23,42,"personalBests.filters.byNameLabel")," "),i(2),m("value",e.exerciseNameFilter())("placeholder",d(26,44,"personalBests.filters.byNamePlaceholder")),i(5),g(" ",d(30,46,"personalBests.filters.byTypeLabel")," "),i(2),m("value",e.pbTypeFilter()),i(3),u(d(35,48,"personalBests.filters.allTypes")),i(2),m("ngForOf",e.availablePbTypes()),i(3),g(" ",d(40,50,"personalBests.filters.byCategoryLabel")," "),i(2),m("value",e.exerciseCategoryFilter()),i(3),u(d(45,52,"personalBests.filters.allCategories")),i(2),m("ngForOf",e.availableCategories()),i(3),g(" ",d(50,54,"personalBests.filters.sortByLabel")," "),i(2),m("value",e.sortBy()),i(3),u(d(55,56,"personalBests.filters.sort.latest")),i(3),g("",d(58,58,"personalBests.filters.sort.exerciseName")," "),i(3),u(d(61,60,"personalBests.filters.sort.pbType")),i(5),g(" ",d(66,62,"personalBests.filters.clearButton")," "),i(2),m("title",d(68,64,"personalBests.filters.recalculateTooltip")),i(4),u(d(72,66,"personalBests.filters.recalculateButton")),i(2),m("title",d(74,68,"personalBests.filters.resetTooltip")),i(4),u(d(78,70,"personalBests.filters.resetButton")),i(2),m("ngIf",e.combinedPersonalBests().length>0),i(),m("ngIf",e.displayPersonalBests().length>0)("ngIfElse",p),i(3),m("actions",e.fabMenuItems)("checkForPausedSession",!1)("showMainButton",!1)}},dependencies:[ne,ie,re,St,Tt,ae,oe,Yt,ht,Pe,se],styles:[".custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent;border-radius:3px}.custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#9ca3af;border-radius:3px}.custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#6b7280}.dark[_ngcontent-%COMP%]   .custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#4b5563}.dark[_ngcontent-%COMP%]   .custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#6b7280}"],data:{animation:[at("slideInOutActions",[be("void",he({height:"0px",opacity:0,overflow:"hidden",paddingTop:"0",paddingBottom:"0",marginTop:"0",marginBottom:"0"})),be("*",he({height:"*",opacity:1,overflow:"hidden",paddingTop:"0.5rem",paddingBottom:"0.5rem"})),Fe("void <=> *",Te("200ms ease-in-out"))]),at("dropdownMenu",[be("void",he({opacity:0,transform:"scale(0.75) translateY(-10px)",transformOrigin:"top right"})),be("*",he({opacity:1,transform:"scale(1) translateY(0)",transformOrigin:"top right"})),Fe("void => *",[Te("150ms cubic-bezier(0.25, 0.8, 0.25, 1)")]),Fe("* => void",[Te("100ms cubic-bezier(0.25, 0.8, 0.25, 1)")])])]}})};var ge=l=>({unit:l}),ti=l=>({date:l}),qi=l=>({"clip-path":l}),zi=l=>({left:l}),Ki=(l,r)=>({"text-yellow-500":l,"text-gray-500":r});function Xi(l,r){if(l&1&&(a(0,"option",18),s(1),o(2,"date"),n()),l&2){let t=r.$implicit;m("value",t.date),i(),g("",E(2,2,t.date,"mediumDate")," ")}}function Ji(l,r){if(l&1&&(a(0,"option",18),s(1),o(2,"date"),n()),l&2){let t=r.$implicit;m("value",t.date),i(),g("",E(2,2,t.date,"mediumDate")," ")}}function Qi(l,r){if(l&1&&(a(0,"option",18),s(1),n()),l&2){let t=r.$implicit;m("value",t.key),i(),u(t.label)}}function Zi(l,r){if(l&1){let t=D();a(0,"img",40),y("click",function(){B(t);let p=_().$implicit,c=_(2);return C(c.openFullScreenImage(p.photoUrl))}),n()}if(l&2){let t=_().$implicit;m("src",t.photoUrl,K)}}function er(l,r){if(l&1){let t=D();a(0,"div",27)(1,"div",28)(2,"div",29)(3,"p",30),s(4),o(5,"date"),n(),k(6,Zi,1,1,"img",31),a(7,"label",32),s(8),o(9,"translate"),a(10,"input",33),y("change",function(p){let c=B(t).$implicit,v=_(2);return C(v.uploadPhoto(p,c.date))}),n()(),a(11,"div")(12,"button",34),o(13,"translate"),y("click",function(){let p=B(t).$implicit,c=_(2);return C(c.confirmDeleteEntry(p.date))}),f(14,"app-icon",35),n(),a(15,"button",34),o(16,"translate"),y("click",function(){let p=B(t).$implicit,c=_(2);return C(c.editEntry(p.date))}),f(17,"app-icon",36),n()()(),a(18,"div",37)(19,"p")(20,"strong"),s(21),o(22,"translate"),n(),s(23),n(),a(24,"p")(25,"strong"),s(26),o(27,"translate"),n(),s(28),n(),a(29,"p")(30,"strong"),s(31),o(32,"translate"),n(),s(33),n(),a(34,"p")(35,"strong"),s(36),o(37,"translate"),n(),s(38),n(),a(39,"p")(40,"strong"),s(41),o(42,"translate"),n(),s(43),n(),a(44,"p")(45,"strong"),s(46),o(47,"translate"),n(),s(48),n()(),a(49,"div")(50,"label",38),s(51),o(52,"translate"),n(),a(53,"textarea",39),o(54,"translate"),y("input",function(p){let c=B(t).$implicit,v=_(2);return C(v.updateNotes(c.date,p))}),n()()()()}if(l&2){let t=r.$implicit,e=_(2);i(4),u(E(5,26,t.date,"fullDate")),i(2),m("ngIf",t.photoUrl),i(2),g(" ",d(9,29,t.photoUrl?"measurementHistory.changePhoto":"measurementHistory.addPhoto")," "),i(4),m("title",d(13,31,"measurementHistory.deleteEntry")),i(3),m("title",d(16,33,"measurementHistory.editEntry")),i(6),u(d(22,35,"measurementHistory.weight")),i(2),N(" ",t.weight||"N/A"," ",e.unitsService.getBodyWeightUnitSuffix()),i(3),u(d(27,37,"measurementHistory.chest")),i(2),N(" ",t.chest||"N/A"," ",e.unitsService.getBodyMeasureUnitSuffix()),i(3),u(d(32,39,"measurementHistory.waist")),i(2),N(" ",t.waist||"N/A"," ",e.unitsService.getBodyMeasureUnitSuffix()),i(3),u(d(37,41,"measurementHistory.hips")),i(2),N(" ",t.hips||"N/A"," ",e.unitsService.getBodyMeasureUnitSuffix()),i(3),u(d(42,43,"measurementHistory.neck")),i(2),N(" ",t.neck||"N/A"," ",e.unitsService.getBodyMeasureUnitSuffix()),i(3),u(d(47,45,"measurementHistory.rightArm")),i(2),N(" ",t.rightArm||"N/A"," ",e.unitsService.getBodyMeasureUnitSuffix()),i(3),g("",d(52,47,"measurementHistory.notes"),":"),i(2),m("value",t.notes||"")("placeholder",d(54,49,"measurementHistory.notesPlaceholder"))}}function tr(l,r){if(l&1){let t=D();a(0,"div")(1,"section",19)(2,"h2",20),s(3),o(4,"translate"),n(),a(5,"div",21)(6,"select",22),y("change",function(p){B(t);let c=_();return C(c.updateChart(p))}),k(7,Qi,2,2,"option",11),n()(),a(8,"div",23),f(9,"ngx-charts-line-chart",24),n()(),a(10,"section",25)(11,"h2",20),s(12),o(13,"translate"),n(),k(14,er,55,51,"div",26),n()()}if(l&2){let t=_();i(3),u(d(4,15,"measurementHistory.chartTitle")),i(4),m("ngForOf",t.availableMetrics),i(2),m("results",t.chartData)("scheme",t.colorScheme)("xAxis",!0)("yAxis",!0)("legend",!0)("showXAxisLabel",!0)("showYAxisLabel",!0)("xAxisLabel","Date")("yAxisLabel",t.yAxisLabel)("autoScale",!0)("referenceLines",t.referenceLines),i(3),u(d(13,17,"measurementHistory.logHistoryTitle")),i(2),m("ngForOf",t.measurementHistory)}}function ir(l,r){l&1&&(a(0,"div",41)(1,"p",42),s(2),o(3,"translate"),n(),a(4,"p",43),s(5),o(6,"translate"),n()()),l&2&&(i(2),u(d(3,2,"measurementHistory.noDataTitle")),i(3),u(d(6,4,"measurementHistory.noDataMessage")))}function rr(l,r){if(l&1){let t=D();a(0,"div",44),y("click",function(){B(t);let p=_();return C(p.closeFullScreenImage())}),f(1,"img",45),n()}if(l&2){let t=_();i(),m("src",t.fullScreenImageUrl,K)}}function nr(l,r){if(l&1){let t=D();a(0,"div",46)(1,"div",47)(2,"h2",48),s(3),o(4,"translate"),n(),a(5,"form",49),y("ngSubmit",function(){B(t);let p=_();return C(p.saveEntry())}),a(6,"label",50),s(7),o(8,"translate"),n(),f(9,"input",51),a(10,"div",52)(11,"div")(12,"label",53),s(13),o(14,"translate"),n(),f(15,"input",54),n(),a(16,"div")(17,"label",55),s(18),o(19,"translate"),n(),f(20,"input",56),n(),a(21,"div")(22,"label",57),s(23),o(24,"translate"),n(),f(25,"input",58),n(),a(26,"div")(27,"label",59),s(28),o(29,"translate"),n(),f(30,"input",60),n(),a(31,"div")(32,"label",61),s(33),o(34,"translate"),n(),f(35,"input",62),n(),a(36,"div")(37,"label",63),s(38),o(39,"translate"),n(),f(40,"input",64),n()(),f(41,"textarea",65),o(42,"translate"),a(43,"div",66)(44,"button",67),y("click",function(){B(t);let p=_();return C(p.isAddEntryModalOpen=!1)}),f(45,"app-icon",68),s(46),o(47,"translate"),n(),a(48,"button",69),f(49,"app-icon",70),s(50),o(51,"translate"),n()()()()()}if(l&2){let t=_();i(3),u(d(4,19,"measurementHistory.addEntryModal.title")),i(2),m("formGroup",t.entryForm),i(2),u(d(8,21,"measurementHistory.addEntryModal.dateLabel")),i(6),u(E(14,23,"measurementHistory.addEntryModal.weightLabel",T(47,ge,t.unitsService.getBodyWeightUnitSuffix()))),i(2),m("placeholder","Weight "+t.unitsService.getBodyWeightUnitSuffix()),i(3),u(E(19,26,"measurementHistory.addEntryModal.chestLabel",T(49,ge,t.unitsService.getBodyMeasureUnitSuffix()))),i(2),m("placeholder","Chest "+t.unitsService.getBodyMeasureUnitSuffix()),i(3),u(E(24,29,"measurementHistory.addEntryModal.waistLabel",T(51,ge,t.unitsService.getBodyMeasureUnitSuffix()))),i(2),m("placeholder","Waist "+t.unitsService.getBodyMeasureUnitSuffix()),i(3),u(E(29,32,"measurementHistory.addEntryModal.hipsLabel",T(53,ge,t.unitsService.getBodyMeasureUnitSuffix()))),i(2),m("placeholder","Hips "+t.unitsService.getBodyMeasureUnitSuffix()),i(3),u(E(34,35,"measurementHistory.addEntryModal.neckLabel",T(55,ge,t.unitsService.getBodyMeasureUnitSuffix()))),i(2),m("placeholder","Neck "+t.unitsService.getBodyMeasureUnitSuffix()),i(3),u(E(39,38,"measurementHistory.addEntryModal.rightArmLabel",T(57,ge,t.unitsService.getBodyMeasureUnitSuffix()))),i(2),m("placeholder","Right Arm "+t.unitsService.getBodyMeasureUnitSuffix()),i(),m("placeholder",d(42,41,"measurementHistory.addEntryModal.notesPlaceholder")),i(5),g(" ",d(47,43,"measurementHistory.addEntryModal.cancel")),i(2),m("disabled",t.entryForm.invalid),i(2),u(d(51,45,"measurementHistory.addEntryModal.save"))}}function ar(l,r){l&1&&(a(0,"span"),s(1),o(2,"translate"),n()),l&2&&(i(),u(d(2,1,"measurementHistory.comparisonModal.sideBySideView")))}function sr(l,r){l&1&&(a(0,"span"),s(1),o(2,"translate"),n()),l&2&&(i(),u(d(2,1,"measurementHistory.comparisonModal.sliderView")))}function or(l,r){if(l&1&&(a(0,"div",94)(1,"div",95),f(2,"img",96),a(3,"p",97),s(4),o(5,"date"),n()(),a(6,"div",95),f(7,"img",98),a(8,"p",97),s(9),o(10,"date"),n()()()),l&2){let t=_(2);i(2),m("src",t.comparisonData.from.photoUrl||"./assets/images/no_data.png",K),i(2),u(E(5,4,t.comparisonData.from.date,"fullDate")),i(3),m("src",t.comparisonData.to.photoUrl||"./assets/images/no_data.png",K),i(2),u(E(10,7,t.comparisonData.to.date,"fullDate"))}}function lr(l,r){if(l&1){let t=D();a(0,"div",99)(1,"h3",100),s(2),o(3,"translate"),n(),a(4,"div",101)(5,"div",102),f(6,"img",103),a(7,"span",104),s(8),o(9,"date"),o(10,"translate"),n()(),a(11,"div",105),f(12,"img",106),a(13,"span",107),s(14),o(15,"date"),o(16,"translate"),n()(),a(17,"div",108)(18,"div",109),fe(),a(19,"svg",110),f(20,"path",111),n()()(),ye(),a(21,"input",112),y("input",function(p){B(t);let c=_(2);return C(c.onSliderChange(p))}),n()()()}if(l&2){let t=_(2);i(2),u(d(3,8,"measurementHistory.comparisonModal.sliderTitle")),i(4),m("src",t.comparisonData.from.photoUrl||"./assets/images/no_data.png",K),i(2),g(" ",E(10,14,"measurementHistory.comparisonModal.before",T(24,ti,nt(9,10,t.comparisonData.from.date,"dd-MM-yy","UTC")))," "),i(3),m("ngStyle",T(26,qi,"inset(0 "+(100-t.comparisonSliderValue)+"% 0 0)")),i(),m("src",t.comparisonData.to.photoUrl||"./assets/images/no_data.png",K),i(2),g(" ",E(16,21,"measurementHistory.comparisonModal.after",T(28,ti,nt(15,17,t.comparisonData.to.date,"dd-MM-yy","UTC")))," "),i(3),m("ngStyle",T(30,zi,"calc("+t.comparisonSliderValue+"% - 1px)")),i(4),m("value",t.comparisonSliderValue)}}function pr(l,r){if(l&1&&(a(0,"span"),s(1),n()),l&2){let t=_().$implicit;i(),u(t.unit)}}function dr(l,r){if(l&1&&(a(0,"span"),s(1),n()),l&2){let t=_().$implicit;i(),u(t.unit)}}function mr(l,r){if(l&1&&(it(0),s(1),rt()),l&2){let t=_().$implicit;i(),gt(" ",t.difference>0?"+":"","",t.difference," ",t.unit," ")}}function cr(l,r){l&1&&(it(0),s(1,"N/A"),rt())}function ur(l,r){if(l&1&&(a(0,"tr",113)(1,"th",114),s(2),n(),a(3,"td",115),s(4),k(5,pr,2,1,"span",81),n(),a(6,"td",115),s(7),k(8,dr,2,1,"span",81),n(),a(9,"td",116),k(10,mr,2,3,"ng-container",81)(11,cr,2,0,"ng-container",81),n()()),l&2){let t=r.$implicit;i(2),u(t.metricLabel),i(2),g("",t.fromValue," "),i(),m("ngIf",t.fromValue!=="N/A"),i(2),g("",t.toValue," "),i(),m("ngIf",t.toValue!=="N/A"),i(),m("ngClass",M(8,Ki,t.difference!==null&&t.difference!==null,t.difference===0||t.difference===null)),i(),m("ngIf",t.difference!==null),i(),m("ngIf",t.difference===null)}}function gr(l,r){if(l&1){let t=D();a(0,"div",71)(1,"div",72)(2,"div",73)(3,"div",74)(4,"h2",75),s(5),o(6,"translate"),n(),a(7,"button",76),y("click",function(){B(t);let p=_();return C(p.comparisonData=null)}),f(8,"app-icon",77),n()(),a(9,"div",78)(10,"button",79),y("click",function(){B(t);let p=_();return C(p.toggleComparisonMode())}),f(11,"app-icon",80),k(12,ar,3,3,"span",81)(13,sr,3,3,"span",81),n()()(),k(14,or,11,10,"div",82)(15,lr,22,32,"div",83),a(16,"div",84)(17,"table",85)(18,"thead",86)(19,"tr")(20,"th",87),s(21),o(22,"translate"),n(),a(23,"th",88),s(24),o(25,"date"),n(),a(26,"th",88),s(27),o(28,"date"),n(),a(29,"th",89),s(30),o(31,"translate"),n()()(),a(32,"tbody"),k(33,ur,12,11,"tr",90),n()()(),a(34,"div",91)(35,"button",92),y("click",function(){B(t);let p=_();return C(p.comparisonData=null)}),f(36,"app-icon",93),s(37),o(38,"translate"),n()()()()}if(l&2){let t=_();i(5),u(d(6,11,"measurementHistory.comparisonModal.title")),i(7),m("ngIf",t.comparisonMode==="slider"),i(),m("ngIf",t.comparisonMode==="side-by-side"),i(),m("ngIf",t.comparisonMode==="side-by-side"),i(),m("ngIf",t.comparisonMode==="slider"),i(6),u(d(22,13,"measurementHistory.comparisonModal.metric")),i(3),g("",E(25,15,t.comparisonData.from.date,"shortDate")," "),i(3),g("",E(28,18,t.comparisonData.to.date,"shortDate")," "),i(3),u(d(31,21,"measurementHistory.comparisonModal.change")),i(3),m("ngForOf",t.comparisonData.rows),i(4),g(" ",d(38,23,"measurementHistory.comparisonModal.close"))}}var tt=class l{userProfileService=S(de);imageStorageService=S(ue);toastService=S(j);fb=S(We);alertService=S(je);unitsService=S(Y);translate=S($);compareFromDate="";compareToDate="";userProfile=null;measurementHistory=[];fullScreenImageUrl=null;isAddEntryModalOpen=!1;comparisonData=null;entryForm;chartData=[];yAxisLabel="Value";referenceLines=[];colorScheme="vivid";availableMetrics=[];notesUpdate$=new mt;ngOnInit(){this.userProfile=this.userProfileService.getProfile(),this.setupAvailableMetrics(),this.loadHistory(),this.initEntryForm(),this.notesUpdate$.pipe(z(1e3)).subscribe(r=>this.saveNotes(r.date,r.notes))}setupAvailableMetrics(){this.availableMetrics=[{key:"weight",label:this.translate.instant("measurementHistory.metrics.weight",{unit:this.unitsService.getBodyWeightUnitSuffix()})},{key:"bmi",label:this.translate.instant("measurementHistory.metrics.bmi")},{key:"bodyFat",label:this.translate.instant("measurementHistory.metrics.bodyFat")},{key:"chest",label:this.translate.instant("measurementHistory.metrics.chest",{unit:this.unitsService.getBodyMeasureUnitSuffix()})},{key:"waist",label:this.translate.instant("measurementHistory.metrics.waist",{unit:this.unitsService.getBodyMeasureUnitSuffix()})},{key:"hips",label:this.translate.instant("measurementHistory.metrics.hips",{unit:this.unitsService.getBodyMeasureUnitSuffix()})},{key:"neck",label:this.translate.instant("measurementHistory.metrics.neck",{unit:this.unitsService.getBodyMeasureUnitSuffix()})},{key:"rightArm",label:this.translate.instant("measurementHistory.metrics.rightArm",{unit:this.unitsService.getBodyMeasureUnitSuffix()})}]}loadHistory(){return P(this,null,function*(){this.userProfile=this.userProfileService.getProfile();let r=this.userProfile?.measurementHistory?.slice().sort((t,e)=>new Date(e.date).getTime()-new Date(t.date).getTime())||[];if(this.measurementHistory=yield Promise.all(r.map(t=>P(this,null,function*(){if(!t.date)return null;let e=yield this.imageStorageService.getImage(t.date),p=e?URL.createObjectURL(e):void 0;return R(H({},t),{photoUrl:p})}))).then(t=>t.filter(Boolean)),this.measurementHistory.length>0){let t=document.getElementById("metric-select");this.prepareChartData(t?.value||"weight")}else this.chartData=[]})}prepareChartData(r){let t=this.availableMetrics.find(c=>c.key===r);this.yAxisLabel=t?t.label:"Value";let p=this.measurementHistory.slice().reverse().map(c=>{let v=null;if(r==="bmi")c.weight&&this.userProfile?.height&&this.userProfile.height>0&&(v=this.userProfileService.calculateBMI(c.weight,this.userProfile.height));else if(r==="bodyFat"){let{gender:h,height:w}=this.userProfile||{},{waist:x,neck:I,hips:F}=c;if(h&&w&&x&&I){let U={waist:x,neck:I,height:w,hips:F??void 0};v=this.userProfileService.calculateBodyFatNavy(h,U)}}else{let h=c[r];typeof h=="number"&&(v=h)}return{name:c.date,value:v}}).filter(c=>c.value!==null&&c.value!==void 0&&!isNaN(c.value));this.chartData=[{name:this.yAxisLabel,series:p}],this.updateReferenceLine(r)}updateReferenceLine(r){let t=this.userProfile?.measurementGoals?.[r];typeof t=="number"?this.referenceLines=[{name:"Goal",value:t}]:this.referenceLines=[]}updateChart(r){let t=r.target;this.prepareChartData(t.value)}initEntryForm(){this.entryForm=this.fb.group({date:["",b.required],weight:[null,[b.min(0)]],waist:[null,[b.min(0)]],neck:[null,[b.min(0)]],chest:[null,[b.min(0)]],hips:[null,[b.min(0)]],rightArm:[null,[b.min(0)]],notes:[""]})}openAddEntryModal(){this.entryForm.reset({date:new Date().toISOString().split("T")[0]}),this.isAddEntryModalOpen=!0}saveEntry(){this.entryForm.invalid||(this.userProfileService.addOrUpdateMeasurementEntry(this.entryForm.value),this.isAddEntryModalOpen=!1,this.loadHistory(),this.toastService.success(this.translate.instant("measurementHistory.toasts.entrySaved")))}updateNotes(r,t){let e=t.target.value;this.notesUpdate$.next({date:r,notes:e})}saveNotes(r,t){let e=this.measurementHistory.find(p=>p.date===r);if(e){let p=R(H({},e),{notes:t});delete p.photoUrl,this.userProfileService.addOrUpdateMeasurementEntry(p),this.toastService.info(this.translate.instant("measurementHistory.toasts.notesSaved"),1500)}}uploadPhoto(r,t){return P(this,null,function*(){let e=r.target;if(!e.files||e.files.length===0)return;let p=e.files[0];try{yield this.imageStorageService.saveImage(t,p);let c=this.measurementHistory.find(v=>v.date===t);c&&(c.photoUrl&&URL.revokeObjectURL(c.photoUrl),c.photoUrl=URL.createObjectURL(p)),this.toastService.success(this.translate.instant("measurementHistory.toasts.photoSaved"))}catch(c){console.error("Failed to save photo:",c),this.toastService.error(this.translate.instant("measurementHistory.toasts.photoSaveError"))}finally{e.value=""}})}openFullScreenImage(r){this.fullScreenImageUrl=r}closeFullScreenImage(){this.fullScreenImageUrl=null}onCompareFromChange(r){let t=r.target;this.compareFromDate=t.value}onCompareToChange(r){let t=r.target;this.compareToDate=t.value}closeCompareModal(){this.comparisonData=null,this.compareFromDate="",this.compareToDate=""}openCompareModal(r,t){if(this.comparisonMode="slider",this.comparisonSliderValue=50,!r||!t){this.toastService.error(this.translate.instant("measurementHistory.toasts.selectDatesError"));return}let e=this.measurementHistory.find(v=>v.date===r),p=this.measurementHistory.find(v=>v.date===t);if(!e||!p){this.toastService.error(this.translate.instant("measurementHistory.toasts.findEntriesError"));return}new Date(e.date)>new Date(p.date)&&([e,p]=[p,e]);let c=this.calculateComparisonRows(e,p);this.comparisonData={from:e,to:p,rows:c}}calculateComparisonRows(r,t){return[{key:"weight",label:"Weight",unit:this.unitsService.getBodyWeightUnitSuffix()},{key:"chest",label:"Chest",unit:this.unitsService.getBodyMeasureUnitSuffix()},{key:"waist",label:"Waist",unit:this.unitsService.getBodyMeasureUnitSuffix()},{key:"hips",label:"Hips",unit:this.unitsService.getBodyMeasureUnitSuffix()},{key:"neck",label:"Neck",unit:this.unitsService.getBodyMeasureUnitSuffix()},{key:"rightArm",label:"Right Arm",unit:this.unitsService.getBodyMeasureUnitSuffix()}].map(p=>{let c=r[p.key],v=t[p.key],h=null;return typeof c=="number"&&typeof v=="number"&&(h=parseFloat((v-c).toFixed(2))),{metricLabel:p.label,unit:p.unit,fromValue:c??"N/A",toValue:v??"N/A",difference:h}})}editEntry(r){let t=this.measurementHistory.find(e=>e.date===r);if(!t){this.toastService.error(this.translate.instant("measurementHistory.toasts.entryNotFound"));return}this.entryForm.setValue({date:t.date,weight:t.weight??null,waist:t.waist??null,neck:t.neck??null,chest:t.chest??null,hips:t.hips??null,rightArm:t.rightArm??null,notes:t.notes??""}),this.isAddEntryModalOpen=!0}confirmDeleteEntry(r){return P(this,null,function*(){let t=yield this.alertService.showConfirm(this.translate.instant("measurementHistory.alerts.deleteTitle"),this.translate.instant("measurementHistory.alerts.deleteMessage",{date:r}));if(t&&t.data)try{this.userProfileService.deleteMeasurementEntry(r),yield this.imageStorageService.deleteImage(r),this.toastService.success(this.translate.instant("measurementHistory.toasts.entryDeleted")),yield this.loadHistory()}catch(e){console.error("Failed to delete entry:",e),this.toastService.error(this.translate.instant("measurementHistory.toasts.deleteError"))}})}comparisonSliderValue=50;comparisonMode="slider";onSliderChange(r){let t=r.target.value;this.comparisonSliderValue=Number(t)}toggleComparisonMode(){this.comparisonMode=this.comparisonMode==="slider"?"side-by-side":"slider"}static \u0275fac=function(t){return new(t||l)};static \u0275cmp=ee({type:l,selectors:[["app-measurement-history"]],decls:34,vars:27,consts:[["noData",""],[1,"container","mx-auto","text-gray-800","dark:text-gray-200"],[1,"flex","justify-between","items-center","pb-4","border-b","border-gray-200","dark:border-gray-700","mb-4"],[1,"text-2xl","font-bold"],[1,"px-4","py-2","bg-primary","hover:bg-primary-dark","text-white","font-semibold","rounded-md","shadow-sm","transition-colors","inline-flex","items-center","text-sm",3,"click"],["name","plus-circle"],[1,"bg-white","dark:bg-gray-800","p-4","rounded-md","shadow-md","mb-6"],[1,"font-semibold","mb-2"],[1,"flex","flex-col","sm:flex-row","gap-4","items-center"],[1,"flex-1","p-2","border","dark:border-gray-600","rounded-md","dark:bg-gray-700",3,"change"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"px-4","py-2","bg-indigo-500","hover:bg-indigo-600","text-white","rounded-md","disabled:opacity-50","flex","items-center",3,"click","disabled"],["name","magnifier",1,"h-6","w-6","mr-1",3,"strokeWidth"],[4,"ngIf","ngIfElse"],["class","fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 p-4",3,"click",4,"ngIf"],["class","fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4 text-gray-800 dark:text-gray-200 backdrop-blur-sm animate-fade-in",4,"ngIf"],["class","fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 p-4 animate-fade-in text-gray-800 dark:text-gray-200",4,"ngIf"],[3,"value"],[1,"bg-white","dark:bg-gray-800","p-4","sm:p-6","rounded-md","shadow-md","mb-6"],[1,"text-xl","font-semibold","mb-4"],[1,"mb-4"],[1,"p-2","border","dark:border-gray-600","rounded-md","dark:bg-gray-700",3,"change"],[1,"w-full","h-[300px]"],[3,"results","scheme","xAxis","yAxis","legend","showXAxisLabel","showYAxisLabel","xAxisLabel","yAxisLabel","autoScale","referenceLines"],[1,"bg-white","dark:bg-gray-800","p-4","sm:p-6","rounded-md","shadow-md"],["class","border-b dark:border-gray-700 py-4 last:border-b-0",4,"ngFor","ngForOf"],[1,"border-b","dark:border-gray-700","py-4","last:border-b-0"],[1,"grid","grid-cols-1","sm:grid-cols-3","gap-4","items-start"],[1,"flex","flex-col","items-center"],[1,"font-medium","text-lg","mb-2"],["alt","Progress photo","class","w-24 h-24 object-cover rounded-md shadow-lg cursor-pointer hover:opacity-80 transition-opacity",3,"src","click",4,"ngIf"],[1,"cursor-pointer","text-sm","text-primary","dark:text-primary-dark","hover:underline","mt-2"],["type","file","accept","image/*",1,"hidden",3,"change"],[1,"p-1","rounded-full","text-gray-400","hover:bg-red-100","hover:text-red-500","dark:hover:bg-red-900/50","transition-colors",3,"click","title"],["name","trash",1,"w-4","h-4"],["name","edit",1,"w-4","h-4"],[1,"text-sm","grid","grid-cols-2","gap-x-4","gap-y-1"],[1,"font-semibold","text-sm"],[1,"w-full","p-2","mt-1","border","rounded-md","dark:bg-gray-700","dark:border-gray-600","h-24",3,"input","value","placeholder"],["alt","Progress photo",1,"w-24","h-24","object-cover","rounded-md","shadow-lg","cursor-pointer","hover:opacity-80","transition-opacity",3,"click","src"],[1,"text-center","bg-white","dark:bg-gray-800","p-10","rounded-md","shadow-md"],[1,"text-lg"],[1,"text-gray-500","dark:text-gray-400","mt-2"],[1,"fixed","inset-0","bg-black","bg-opacity-80","flex","items-center","justify-center","z-50","p-4",3,"click"],[1,"max-w-full","max-h-full","object-contain",3,"src"],[1,"fixed","inset-0","bg-black","bg-opacity-60","flex","items-center","justify-center","z-50","p-4","text-gray-800","dark:text-gray-200","backdrop-blur-sm","animate-fade-in"],[1,"bg-white","dark:bg-gray-800","rounded-lg","shadow-xl","p-6","w-full","max-w-md"],[1,"text-xl","font-bold","mb-4"],[3,"ngSubmit","formGroup"],["for","date",1,"block","text-xs","font-medium","text-gray-600","dark:text-gray-400"],["type","date","formControlName","date","id","date",1,"w-full","p-2","border","rounded","mb-4","dark:bg-gray-700","dark:border-gray-600"],[1,"grid","grid-cols-2","gap-4","mb-4"],["for","weight",1,"block","text-xs","font-medium","text-gray-600","dark:text-gray-400"],["type","number","formControlName","weight","id","weight",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200","text-lg",3,"placeholder"],["for","chest",1,"block","text-xs","font-medium","text-gray-600","dark:text-gray-400"],["type","number","formControlName","chest","id","chest",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200","text-lg",3,"placeholder"],["for","waist",1,"block","text-xs","font-medium","text-gray-600","dark:text-gray-400"],["type","number","formControlName","waist","id","waist",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200","text-lg",3,"placeholder"],["for","hips",1,"block","text-xs","font-medium","text-gray-600","dark:text-gray-400"],["type","number","formControlName","hips","id","hips",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200","text-lg",3,"placeholder"],["for","neck",1,"block","text-xs","font-medium","text-gray-600","dark:text-gray-400"],["type","number","formControlName","neck","id","neck",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200","text-lg",3,"placeholder"],["for","rightArm",1,"block","text-xs","font-medium","text-gray-600","dark:text-gray-400"],["type","number","formControlName","rightArm","id","rightArm",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200","text-lg",3,"placeholder"],["formControlName","notes",1,"w-full","p-2","border","rounded","mb-4","h-24","dark:bg-gray-700","dark:border-gray-600",3,"placeholder"],[1,"flex","justify-end","gap-4","text-white"],["type","button",1,"px-4","py-2","rounded","flex","items-center",3,"click"],["name","cancel",1,"h-6","w-6","text-white"],["type","submit",1,"px-4","py-2","bg-primary","text-white","rounded","disabled:opacity-50","flex","items-center",3,"disabled"],["name","save",1,"h-7","w-7","mr-1"],[1,"fixed","inset-0","bg-black","bg-opacity-70","flex","items-center","justify-center","z-50","p-4","animate-fade-in","text-gray-800","dark:text-gray-200"],[1,"bg-white","dark:bg-gray-800","rounded-lg","shadow-xl","p-4","sm:p-6","w-full","max-w-3xl","max-h-[90vh]","overflow-y-auto"],[1,"flex","flex-col","sm:flex-row","justify-between","items-start","sm:items-center","mb-4"],[1,"flex","items-center","justify-between","w-full","sm:w-auto","mb-2","sm:mb-0"],[1,"text-xl","sm:text-2xl","font-bold","mb-2","sm:mb-0"],[1,"text-gray-500","hover:text-gray-800","dark:hover:text-gray-200",3,"click"],["name","cancel",1,"h-6","w-6"],[1,"flex","items-center","gap-4"],[1,"px-3","py-1.5","text-xs","font-medium","text-gray-600","dark:text-gray-300","bg-gray-100","dark:bg-gray-700","rounded-md","hover:bg-gray-200","dark:hover:bg-gray-600","transition-colors","flex","items-center",3,"click"],["name","change",1,"w-4","h-4","mr-1"],[4,"ngIf"],["class","grid grid-cols-2 gap-4 mb-6",4,"ngIf"],["class","mb-6",4,"ngIf"],[1,"overflow-x-auto"],[1,"w-full","text-sm","text-left"],[1,"text-xs","text-gray-700","uppercase","bg-gray-50","dark:bg-gray-700","dark:text-gray-400","rounded-lg"],["scope","col",1,"px-2","py-3","rounded-l-lg"],["scope","col",1,"px-2","py-3","text-center"],["scope","col",1,"px-2","py-3","text-center","rounded-r-lg"],["class","border-b dark:border-gray-700",4,"ngFor","ngForOf"],[1,"flex","justify-end","mt-6"],[1,"px-5","py-2.5","rounded-lg","bg-gray-200","hover:bg-gray-300","dark:bg-gray-600","dark:hover:bg-gray-700","text-sm","font-medium","flex","items-center",3,"click"],["name","cancel"],[1,"grid","grid-cols-2","gap-4","mb-6"],[1,"text-center"],["alt","Start photo",1,"w-full","h-48","sm:h-64","object-cover","rounded-md","bg-gray-200","dark:bg-gray-700",3,"src"],[1,"mt-2","font-semibold","text-sm"],["alt","End photo",1,"w-full","h-48","sm:h-64","object-cover","rounded-md","bg-gray-200","dark:bg-gray-700",3,"src"],[1,"mb-6"],[1,"font-semibold","text-center","mb-2"],[1,"relative","w-full","aspect-[4/3]","rounded-md","overflow-hidden","select-none","bg-gray-200","dark:bg-gray-700"],[1,"absolute","inset-0","z-10"],["alt","Start photo",1,"w-full","h-full","object-cover","max-w-none",3,"src"],[1,"absolute","top-2","left-2","bg-black/50","text-white","text-xs","font-bold","py-1","px-2","rounded-full","z-10"],[1,"absolute","inset-0","z-20",3,"ngStyle"],["alt","End photo",1,"w-full","h-full","object-cover","max-w-none",3,"src"],[1,"absolute","top-2","right-2","bg-black/50","text-white","text-xs","font-bold","py-1","px-2","rounded-full","z-10"],[1,"absolute","top-0","bottom-0","bg-white","w-1","pointer-events-none","z-30",3,"ngStyle"],[1,"absolute","top-1/2","-translate-y-1/2","-translate-x-1/2","bg-white","border-2","border-primary","rounded-full","h-8","w-8","flex","items-center","justify-center","shadow-lg"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-primary"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","3","d","M8 9l4-4 4 4m0 6l-4 4-4-4"],["type","range","min","0","max","100",1,"absolute","inset-0","w-full","h-full","cursor-ew-resize","appearance-none","bg-transparent","z-40",2,"--thumb-color","transparent",3,"input","value"],[1,"border-b","dark:border-gray-700"],["scope","row",1,"px-2","py-4","font-medium","whitespace-nowrap"],[1,"px-2","py-4","text-center"],[1,"px-2","py-4","text-center","font-bold",3,"ngClass"]],template:function(t,e){if(t&1){let p=D();a(0,"div",1)(1,"header",2)(2,"h1",3),s(3),o(4,"translate"),n(),a(5,"button",4),y("click",function(){return B(p),C(e.openAddEntryModal())}),f(6,"app-icon",5),s(7),o(8,"translate"),n()(),a(9,"section",6)(10,"h3",7),s(11),o(12,"translate"),n(),a(13,"div",8)(14,"select",9),y("change",function(v){return B(p),C(e.onCompareFromChange(v))}),a(15,"option",10),s(16),o(17,"translate"),n(),k(18,Xi,3,5,"option",11),n(),a(19,"select",9),y("change",function(v){return B(p),C(e.onCompareToChange(v))}),a(20,"option",10),s(21),o(22,"translate"),n(),k(23,Ji,3,5,"option",11),n(),a(24,"button",12),y("click",function(){return B(p),C(e.openCompareModal(e.compareFromDate,e.compareToDate))}),f(25,"app-icon",13),s(26),o(27,"translate"),n()()(),k(28,tr,15,19,"div",14)(29,ir,7,6,"ng-template",null,0,te),n(),k(31,rr,2,1,"div",15)(32,nr,52,59,"div",16)(33,gr,39,25,"div",17)}if(t&2){let p=V(30);i(3),u(d(4,15,"measurementHistory.title")),i(4),g(" ",d(8,17,"measurementHistory.addPastEntry")," "),i(4),u(d(12,19,"measurementHistory.comparisonTitle")),i(5),u(d(17,21,"measurementHistory.selectStartDate")),i(2),m("ngForOf",e.measurementHistory),i(3),u(d(22,23,"measurementHistory.selectEndDate")),i(2),m("ngForOf",e.measurementHistory),i(),m("disabled",!e.compareFromDate||!e.compareToDate),i(),m("strokeWidth",2),i(),g(" ",d(27,25,"measurementHistory.compare")," "),i(2),m("ngIf",e.measurementHistory.length>0)("ngIfElse",p),i(3),m("ngIf",e.fullScreenImageUrl),i(),m("ngIf",e.isAddEntryModalOpen),i(),m("ngIf",e.comparisonData)}},dependencies:[ne,Ce,ie,re,yt,zt,qt,Ge,Ue,He,Re,De,Le,Oe,Ae,Ve,Ne,ae,oe,Pe,se],encapsulation:2})};var Ma=[{path:"",component:Ze,title:"Profile & Settings"},{path:"personal-bests",component:et,title:"Personal Bests"},{path:"measurements",component:tt,title:"Body Measurements"}];export{Ma as PROFILE_SETTINGS_ROUTES};
