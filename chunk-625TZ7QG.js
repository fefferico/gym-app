import{L as a,Q as d,W as p,Y as c,Z as l,l as f,pb as b,qb as g,rb as m}from"./chunk-GNSBRKUC.js";function O(s,e){let r=e?.injector??d(p),o=new f(1),u=m(()=>{let t;try{t=s()}catch(i){b(()=>o.error(i));return}b(()=>o.next(t))},{injector:r,manualCleanup:!0});return r.get(c).onDestroy(()=>{u.destroy(),o.complete()}),o.asObservable()}function E(s,e){let o=!e?.manualCleanup?e?.injector?.get(c)??d(c):null,u=y(e?.equal),t;e?.requireSync?t=l({kind:0},{equal:u}):t=l({kind:1,value:e?.initialValue},{equal:u});let i,v=s.subscribe({next:n=>t.set({kind:1,value:n}),error:n=>{t.set({kind:2,error:n}),i?.()},complete:()=>{i?.()}});if(e?.requireSync&&t().kind===0)throw new a(601,!1);return i=o?.onDestroy(v.unsubscribe.bind(v)),g(()=>{let n=t();switch(n.kind){case 1:return n.value;case 2:throw n.error;case 0:throw new a(601,!1)}},{equal:e?.equal})}function y(s=Object.is){return(e,r)=>e.kind===1&&r.kind===1&&s(e.value,r.value)}export{O as a,E as b};
