import{B as Ae,D as Ve,F as Ne,w as Ie,x as Le}from"./chunk-342RNUMN.js";import{a as H}from"./chunk-LFJLIMZG.js";import{a as Ge}from"./chunk-2CORT7B5.js";import{a as $}from"./chunk-VDZHUSPJ.js";import{a as Me,q as qe}from"./chunk-N53IRCP5.js";import{$b as ue,Ac as be,Ca as m,Cb as O,Da as o,Db as W,Dc as _e,Ea as i,Eb as me,Ec as he,F as ie,Fa as p,Fb as se,Fc as Ce,Ga as S,Gc as ke,Ha as T,Hc as we,Ic as Ee,Ja as _,Jb as de,Jc as Se,Ka as x,La as d,N as b,Ob as D,Oc as Te,Pb as pe,Qc as Fe,S as y,Sa as K,T as f,Tc as U,U as A,Ua as oe,Uc as Pe,V,Wa as l,Xa as h,Ya as v,Yb as ce,Z as k,Za as z,_a as ae,_b as R,a as X,ca as ne,db as le,ec as j,fb as Q,fc as P,ga as re,i as ee,ia as a,ic as F,jc as I,kb as q,kc as M,lb as G,ob as Z,qa as N,rb as B,rc as ge,sc as c,tc as ye,uc as fe,va as g,yc as xe,z as te,zc as ve}from"./chunk-SYEUE52G.js";import{a as w,b as E,g as J}from"./chunk-GAL4ENT6.js";function Re(r,t){if(r&1&&(o(0,"option",24),l(1),i()),r&2){let e=t.$implicit;m("value",e),a(),h(e)}}function je(r,t){if(r&1&&(o(0,"div")(1,"p")(2,"strong"),l(3,"Weight:"),i(),l(4),i()()),r&2){let e=d().$implicit,n=d(3);a(4),z(" ",e.weight," ",n.unitService.getWeightUnitSuffix())}}function Ue(r,t){if(r&1&&(o(0,"div")(1,"p")(2,"strong"),l(3,"Range:"),i(),l(4),i()()),r&2){let e=d().$implicit,n=d(3);a(4),ae(" ",e.minweight," - ",e.maxweight," ",n.unitService.getWeightUnitSuffix())}}function $e(r,t){if(r&1&&(o(0,"div")(1,"p")(2,"strong"),l(3,"Weight:"),i(),l(4),i()()),r&2){let e=d().$implicit,n=d(3);a(4),z(" ",e.weight," ",n.unitService.getWeightUnitSuffix())}}function He(r,t){if(r&1&&(o(0,"div")(1,"p")(2,"strong"),l(3,"Type:"),i(),l(4),i()()),r&2){let e=d().$implicit;a(4),v(" ",e.bandType)}}function Ye(r,t){if(r&1&&(o(0,"div")(1,"p")(2,"strong"),l(3),i(),l(4),i()()),r&2){let e=t.$implicit;a(3),v("",e.key,":"),a(),v(" ",e.value)}}function Ke(r,t){if(r&1&&(o(0,"div"),g(1,Ye,5,2,"div",39),i()),r&2){let e=d().$implicit;a(),m("ngForOf",e.properties)}}function ze(r,t){if(r&1){let e=_();o(0,"app-action-menu",40),x("itemClick",function(s){y(e);let u=d(4);return f(u.handleActionMenuItemClick(s))})("closeMenu",function(){y(e);let s=d(4);return f(s.onCloseActionMenu())}),i()}if(r&2){let e=d().$implicit,n=d(3);m("modalTitle","")("displayMode",n.menuModeDropdown?"dropdown":"modal")("gridClass"," grid grid-cols-2 ")("items",n.getGymActionItems(e.id,n.menuModeDropdown?"dropdown":"modal"))("isVisible",n.areActionsVisible(e.id))}}function Qe(r,t){if(r&1){let e=_();o(0,"app-action-menu",41),x("itemClick",function(s){y(e);let u=d(4);return f(u.handleActionMenuItemClick(s))})("closeMenu",function(){y(e);let s=d(4);return f(s.onCloseActionMenu())}),i()}if(r&2){let e=d().$implicit,n=d(3);m("items",n.getGymActionItems(e.id,"compact"))("isVisible",n.areActionsVisible(e.id))}}function Ze(r,t){if(r&1){let e=_();o(0,"div",28),x("click",function(){let s=y(e).$implicit,u=d(3);return f(u.navigateToForm(s.id))}),o(1,"div")(2,"h2",29),l(3),i(),o(4,"p",30),l(5),i(),o(6,"div",31)(7,"p")(8,"strong"),l(9,"Quantity:"),i(),l(10),i(),g(11,je,5,2,"div",32)(12,Ue,5,3,"div",32)(13,$e,5,2,"div",32)(14,He,5,1,"div",32)(15,Ke,2,1,"div",32),i()(),o(16,"div",33)(17,"div",34)(18,"button",35),x("click",function(s){let u=y(e).$implicit,C=d(3);return f(C.toggleActions(u.id,s))}),p(19,"app-icon",36),i(),g(20,ze,1,5,"app-action-menu",37),i()(),g(21,Qe,1,2,"app-action-menu",38),i()}if(r&2){let e=t.$implicit,n=d(3);a(3),h(e.name),a(2),v(" ",n.isCustom(e)?e.customCategoryName:e.category," "),a(5),v(" ",e.quantity),a(),m("ngIf",n.isFixedWeight(e)),a(),m("ngIf",n.isAdjustableWeight(e)),a(),m("ngIf",n.isWeightPlate(e)),a(),m("ngIf",n.isBand(e)),a(),m("ngIf",n.isCustom(e)),a(5),m("ngIf",n.areActionsVisible(e.id)&&(n.menuModeDropdown||n.menuModeModal)),a(),m("ngIf",n.areActionsVisible(e.id)&&n.menuModeCompact)}}function Je(r,t){if(r&1&&(o(0,"div",26),g(1,Ze,22,10,"div",27),i()),r&2){let e=d(2);a(),m("ngForOf",e.filteredEquipment())("ngForTrackBy",e.trackById)}}function Xe(r,t){if(r&1&&(o(0,"div"),g(1,Je,2,2,"div",25),i()),r&2){let e=d(),n=K(21);a(),m("ngIf",e.filteredEquipment().length>0)("ngIfElse",n)}}function et(r,t){if(r&1){let e=_();o(0,"div",42)(1,"h3",43),l(2,"Your Gym is Empty!"),i(),o(3,"p",44),l(4,"Start by adding the first piece of your equipment."),i(),o(5,"button",45),x("click",function(){y(e);let s=d();return f(s.navigateToForm())}),p(6,"app-icon",6),l(7," Add First Item "),i()()}}function tt(r,t){r&1&&(o(0,"div",46)(1,"h3",43),l(2,"No Matches Found"),i(),o(3,"p",47),l(4,"Try adjusting your filters to find your equipment."),i()())}function it(r,t){if(r&1){let e=_();o(0,"button",48),x("shortPress",function(){y(e);let s=d();return f(s.scrollToTop())}),A(),o(1,"svg",49),p(2,"path",50),i(),V(),o(3,"span",22),l(4,"Back to Top"),i()()}}function nt(r,t){if(r&1){let e=_();o(0,"div",51)(1,"div",52)(2,"span",53),l(3," CREATE EQUIPMENT "),i(),o(4,"button",54),x("click",function(){y(e);let s=d();return f(s.navigateToForm())}),A(),o(5,"svg",55),p(6,"path",56),i(),V(),o(7,"span",22),l(8,"CREATE EQUIPMENT"),i()()()()}r&2&&m("@fabSlideUp",void 0)}var Y=class r{router=b(R);personalGymService=b(H);unitService=b($);subscriptionService=b(qe);platformId=b(ne);appSettingsService=b(Me);allEquipment=k([]);menuModeDropdown=!1;menuModeCompact=!1;menuModeModal=!1;searchTerm=k("");selectedCategory=k(null);categories=["Dumbbell","Kettlebell","Plate","Barbell","Band","Machine","Accessory","Bag","Macebell","Club","Cardio","Custom"];filteredEquipment=B(()=>{let t=this.allEquipment(),e=this.searchTerm().toLowerCase(),n=this.selectedCategory();return n&&(t=t.filter(s=>s.category===n)),e&&(t=t.filter(s=>s.name.toLowerCase().includes(e)||s.brand&&s.brand.toLowerCase().includes(e))),t});ngOnInit(){this.personalGymService.getAllEquipment().subscribe(t=>{this.allEquipment.set(t)}),this.subscriptionService.canAccess("personal_gym")||this.subscriptionService.showUpgradeModal().then(()=>{this.router.navigate(["profile"])}),this.menuModeDropdown=this.appSettingsService.isMenuModeDropdown(),this.menuModeCompact=this.appSettingsService.isMenuModeCompact(),this.menuModeModal=this.appSettingsService.isMenuModeModal()}onSearchChange(t){this.searchTerm.set(t.target.value)}onCategoryChange(t){let e=t.target.value;this.selectedCategory.set(e)}clearFilters(){this.searchTerm.set(""),this.selectedCategory.set(null);let t=document.getElementById("search-term");t&&(t.value="");let e=document.getElementById("category-filter");e&&(e.value="")}trackById(t,e){return e.id}navigateToForm(t){let e=t?["/personal-gym/edit",t]:["/personal-gym/new"];this.router.navigate(e)}deleteEquipment(t,e){return J(this,null,function*(){e?.stopPropagation(),yield this.personalGymService.deleteEquipment(t)})}isFixedWeight(t){return"weightType"in t&&t.weightType==="fixed"}isAdjustableWeight(t){return"weightType"in t&&t.weightType==="adjustable"}isWeightPlate(t){return t.category==="Plate"}isBand(t){return t.category==="Band"}isCustom(t){return t.category==="Custom"}scrollToTop(){pe(this.platformId)&&window.scrollTo({top:0,behavior:"smooth"})}isFabActionsOpen=k(!1);isTouchDevice=!1;handleFabClick(){this.isFabActionsOpen.update(t=>!t)}handleFabMouseEnter(){this.isTouchDevice||this.isFabActionsOpen.set(!0)}handleFabMouseLeave(){this.isTouchDevice||this.isFabActionsOpen.set(!1)}showBackToTopButton=k(!1);onWindowScroll(){let t=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;this.showBackToTopButton.set(t>400)}activeEquipmentIdActions=k(null);toggleActions(t,e){e.stopPropagation(),this.activeEquipmentIdActions.update(n=>n===t?null:t)}areActionsVisible(t){return this.activeEquipmentIdActions()===t}onCloseActionMenu(){this.activeEquipmentIdActions.set(null)}getGymActionItems(t,e){let n="rounded text-left px-3 py-1.5 sm:px-4 sm:py-2 font-medium text-gray-600 dark:text-gray-300 hover:bg-primary flex items-center text-sm hover:text-white dark:hover:text-gray-100 dark:hover:text-white",s="rounded text-left px-3 py-1.5 sm:px-4 sm:py-2 font-medium text-gray-600 dark:text-gray-300 hover:bg-red-600 flex items-center text-sm hover:text-gray-100 hover:animate-pulse",u=this.allEquipment().find(Be=>Be.id===t),C=[E(w({},Ae),{data:{equipmentId:t}}),E(w({},Ve),{data:{equipmentId:t}})];return u?.isHidden?C.push(E(w({},Le),{data:{equipmentId:t}})):C.push(E(w({},Ie),{data:{equipmentId:t}})),C.push(E(w({},Ne),{data:{equipmentId:t}})),C}handleActionMenuItemClick(t,e){let n=t.data?.equipmentId;if(n){switch(t.actionKey){case"view":this.navigateToForm(n);break;case"edit":this.navigateToForm(n);break;case"delete":this.deleteEquipment(n);break;case"hide":this.hideEquipment(n);break;case"unhide":this.unhideEquipment(n);break}this.activeEquipmentIdActions.set(null)}}hideEquipment(t){this.personalGymService.hideEquipment(t).subscribe(),this.activeEquipmentIdActions.set(null)}unhideEquipment(t){this.personalGymService.unhideEquipment(t).subscribe(),this.activeEquipmentIdActions.set(null)}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=N({type:r,selectors:[["app-personal-gym-list"]],hostBindings:function(e,n){e&1&&x("scroll",function(){return n.onWindowScroll()},re)},decls:31,vars:9,consts:[["noEquipmentState",""],["noFilterResultsState",""],[1,"container","mx-auto","p-2","sm:p-4"],[1,"flex","justify-between","items-center","pb-4","border-b","dark:border-gray-700","mb-4"],[1,"text-2xl","font-bold","text-gray-800","dark:text-gray-200"],[1,"flex","items-center","bg-primary","hover:bg-primary-dark","text-white","font-semibold","py-2","px-4","rounded-md","shadow-sm",3,"click"],["name","plus-circle",1,"w-6","h-6","mr-1"],[1,"mb-6","p-4","bg-white","dark:bg-gray-700","rounded-md","shadow"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-4"],["type","text","id","search-term","placeholder","Search by name or brand...",1,"block","w-full","p-2","border","rounded-md","dark:bg-gray-600","dark:border-gray-500","dark:text-gray-200",3,"input","value"],["id","category-filter",1,"block","w-full","p-2","border","rounded-md","dark:bg-gray-600","dark:border-gray-500","dark:text-gray-200",3,"change","value"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"px-4","py-2","bg-gray-200","dark:bg-gray-600","text-gray-700","dark:text-gray-200","rounded-md","hover:bg-gray-300","dark:hover:bg-gray-500","inline-flex","items-center","justify-center",3,"click"],["name","trash",1,"h-6","w-6","mr-1"],[4,"ngIf","ngIfElse"],[1,"fixed","bottom-20","right-6","z-40","flex","flex-col","items-center","gap-4"],["appPress","","type","button","class","bg-primary dark:bg-primary text-white rounded-full p-3 shadow-lg hover:bg-primary-dark dark:hover:bg-primary-light focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-focus dark:focus:ring-offset-gray-900 transition-opacity animate-fade-in",3,"shortPress",4,"ngIf"],[1,"flex","flex-col-reverse","items-center","gap-4",3,"mouseenter","mouseleave"],["appPress","","type","button",1,"flex","h-14","w-14","items-center","justify-center","rounded-full","bg-primary","text-white","shadow-xl","transition-all","duration-300","hover:bg-primary-dark","hover:scale-105","focus:outline-none","focus:ring-2","focus:ring-primary-focus","focus:ring-offset-2","dark:ring-offset-gray-900",3,"shortPress"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2.5",1,"h-8","w-8","transition-transform","duration-300"],["stroke-linecap","round","stroke-linejoin","round","d","M12 6v6m0 0v6m0-6h6m-6 0H6"],[1,"sr-only"],["class","flex flex-col items-center gap-4",4,"ngIf"],[3,"value"],["class","grid grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-4",4,"ngIf","ngIfElse"],[1,"grid","grid-cols-2","md:grid-cols-2","lg:grid-cols-3","gap-4"],["class","bg-white dark:bg-gray-800 rounded-lg shadow-md hover:shadow-xl transition-shadow cursor-pointer p-4 flex flex-col justify-between relative",3,"click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"bg-white","dark:bg-gray-800","rounded-lg","shadow-md","hover:shadow-xl","transition-shadow","cursor-pointer","p-4","flex","flex-col","justify-between","relative",3,"click"],[1,"text-lg","font-bold","text-primary","dark:text-primary-light"],[1,"text-sm","text-gray-500","dark:text-gray-400"],[1,"text-sm","text-gray-600","dark:text-gray-300","mt-2"],[4,"ngIf"],[1,"absolute","top-2","right-2"],[1,"relative"],[1,"text-gray-500","dark:text-gray-400","hover:bg-gray-200","dark:hover:bg-gray-500","rounded-full","focus:outline-none","flex","items-center",3,"click"],["name","menu-action",1,"h-10","w-10"],["class","action-menu-container",3,"modalTitle","displayMode","gridClass","items","isVisible","itemClick","closeMenu",4,"ngIf"],["displayMode","compact",3,"items","isVisible","itemClick","closeMenu",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"action-menu-container",3,"itemClick","closeMenu","modalTitle","displayMode","gridClass","items","isVisible"],["displayMode","compact",3,"itemClick","closeMenu","items","isVisible"],[1,"text-center","py-12","px-6","bg-white","dark:bg-gray-700","rounded-md","shadow-md","justify-center"],[1,"text-xl","font-semibold","text-gray-700","dark:text-gray-300"],[1,"text-gray-500","dark:text-gray-400","mt-2","mb-6"],[1,"bg-primary","hover:bg-primary-dark","text-white","font-semibold","py-2","px-6","rounded-md","inline-flex","items-center",3,"click"],[1,"text-center","py-12","px-6","bg-white","dark:bg-gray-700","rounded-md","shadow-md"],[1,"text-gray-500","dark:text-gray-400","mt-2"],["appPress","","type","button",1,"bg-primary","dark:bg-primary","text-white","rounded-full","p-3","shadow-lg","hover:bg-primary-dark","dark:hover:bg-primary-light","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-primary-focus","dark:focus:ring-offset-gray-900","transition-opacity","animate-fade-in",3,"shortPress"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","2.5","stroke","currentColor",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","d","M4.5 15.75l7.5-7.5 7.5 7.5"],[1,"flex","flex-col","items-center","gap-4"],[1,"group","relative","flex","items-center"],[1,"absolute","right-full","md:hidden","whitespace-nowrap","rounded-md","bg-blue-500","px-3","py-2","text-sm","font-semibold","text-white","group-hover:block",2,"margin-right","-10px"],["type","button",1,"flex","h-14","w-14","items-center","justify-center","rounded-full","bg-blue-500","text-white","shadow-lg","transition-transform","hover:scale-110","focus:outline-none","focus:ring-2","focus:ring-blue-400","focus:ring-offset-2","dark:ring-offset-gray-900",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"h-7","w-7"],["d","M10.75 4.75a.75.75 0 0 0-1.5 0v4.5h-4.5a.75.75 0 0 0 0 1.5h4.5v4.5a.75.75 0 0 0 1.5 0v-4.5h4.5a.75.75 0 0 0 0-1.5h-4.5v-4.5Z"]],template:function(e,n){if(e&1){let s=_();o(0,"div",2)(1,"header",3)(2,"h1",4),l(3,"My Personal Gym"),i(),o(4,"button",5),x("click",function(){return y(s),f(n.navigateToForm())}),p(5,"app-icon",6),l(6," Add Equipment "),i()(),o(7,"section",7)(8,"div",8)(9,"input",9),x("input",function(C){return y(s),f(n.onSearchChange(C))}),i(),o(10,"select",10),x("change",function(C){return y(s),f(n.onCategoryChange(C))}),o(11,"option",11),l(12,"All Categories"),i(),g(13,Re,2,2,"option",12),i(),o(14,"button",13),x("click",function(){return y(s),f(n.clearFilters())}),p(15,"app-icon",14),l(16," Clear Filters "),i()()(),g(17,Xe,2,2,"div",15)(18,et,8,0,"ng-template",null,0,Z)(20,tt,5,0,"ng-template",null,1,Z),i(),o(22,"div",16),g(23,it,5,0,"button",17),o(24,"div",18),x("mouseenter",function(){return y(s),f(n.handleFabMouseEnter())})("mouseleave",function(){return y(s),f(n.handleFabMouseLeave())}),o(25,"button",19),x("shortPress",function(){return y(s),f(n.handleFabClick())}),A(),o(26,"svg",20),p(27,"path",21),i(),V(),o(28,"span",22),l(29,"Open creation menu"),i()(),g(30,nt,9,1,"div",23),i()()}if(e&2){let s=K(19);a(9),m("value",n.searchTerm()),a(),m("value",n.selectedCategory()||""),a(3),m("ngForOf",n.categories),a(4),m("ngIf",n.allEquipment().length>0)("ngIfElse",s),a(6),m("ngIf",n.showBackToTopButton()),a(3),oe("rotate-45",n.isFabActionsOpen()),a(4),m("ngIf",n.isFabActionsOpen())}},dependencies:[D,O,W,U,Ge],encapsulation:2,data:{animation:[j("fabSlideUp",[M(":enter",[F({opacity:0,transform:"translateY(200%)"}),P("250ms ease-out",F({opacity:1,transform:"translateY(0)"}))]),M(":leave",[P("200ms ease-in",F({opacity:0,transform:"translateY(100%)"}))])]),j("slideInOutActions",[I("void",F({height:"0px",opacity:0,overflow:"hidden",paddingTop:"0",paddingBottom:"0",marginTop:"0",marginBottom:"0"})),I("*",F({height:"*",opacity:1,paddingTop:"0.5rem",paddingBottom:"0.5rem"})),M("void <=> *",P("200ms ease-in-out"))]),j("dropdownMenu",[I("void",F({opacity:0,transform:"scale(0.75) translateY(-10px)",transformOrigin:"top right"})),I("*",F({opacity:1,transform:"scale(1) translateY(0)",transformOrigin:"top right"})),M("void => *",[P("150ms cubic-bezier(0.25, 0.8, 0.25, 1)")]),M("* => void",[P("100ms cubic-bezier(0.25, 0.8, 0.25, 1)")])])]}})};var rt=()=>["/personal-gym"],ot=()=>["Dumbbell","Kettlebell","Macebell","Club"];function at(r,t){if(r&1&&(o(0,"option",26),l(1),i()),r&2){let e=t.$implicit;m("value",e),a(),h(e)}}function lt(r,t){if(r&1&&(o(0,"label",32),p(1,"input",33),o(2,"span",34),l(3),i()()),r&2){let e=t.$implicit;a(),m("value",e),a(2),h(e)}}function mt(r,t){if(r&1&&(o(0,"div")(1,"label",35),l(2),i(),p(3,"input",36),i()),r&2){let e=d(2);a(2),v("Weight (",e.unitService.getWeightUnitSuffix(),")")}}function st(r,t){if(r&1&&(o(0,"div",37)(1,"div")(2,"label",38),l(3),i(),p(4,"input",39),i(),o(5,"div")(6,"label",40),l(7),i(),p(8,"input",41),i(),o(9,"div")(10,"label",42),l(11),i(),p(12,"input",43),i()()),r&2){let e=d(2);a(3),v("Min (",e.unitService.getWeightUnitSuffix(),")"),a(4),v("Max (",e.unitService.getWeightUnitSuffix(),")"),a(4),v("Step (",e.unitService.getWeightUnitSuffix(),")")}}function dt(r,t){if(r&1&&(S(0),o(1,"div",27)(2,"label",28),l(3,"Weight Type"),i(),o(4,"div",29),g(5,lt,4,2,"label",30),i(),g(6,mt,4,1,"div",19)(7,st,13,3,"div",31),i(),T()),r&2){let e,n,s=d();a(5),m("ngForOf",s.weightTypes),a(),m("ngIf",((e=s.equipmentForm.get("weightType"))==null?null:e.value)==="fixed"),a(),m("ngIf",((n=s.equipmentForm.get("weightType"))==null?null:n.value)==="adjustable")}}function pt(r,t){if(r&1&&(S(0),o(1,"div",44)(2,"label",35),l(3),i(),p(4,"input",36),i(),T()),r&2){let e=d();a(3),v("Weight (",e.unitService.getWeightUnitSuffix(),")")}}function ct(r,t){if(r&1&&(o(0,"option",26),l(1),q(2,"titlecase"),i()),r&2){let e=t.$implicit;m("value",e),a(),h(G(2,2,e))}}function ut(r,t){if(r&1&&(S(0),o(1,"div",45)(2,"div")(3,"label",35),l(4),i(),p(5,"input",36),i(),o(6,"div")(7,"label",46),l(8,"Bar Type"),i(),o(9,"select",47),g(10,ct,3,4,"option",10),i()()(),T()),r&2){let e=d();a(4),v("Bar Weight (",e.unitService.getWeightUnitSuffix(),")"),a(6),m("ngForOf",e.barTypes)}}function gt(r,t){if(r&1&&(o(0,"option",26),l(1),q(2,"titlecase"),i()),r&2){let e=t.$implicit;m("value",e),a(),h(G(2,2,e))}}function yt(r,t){if(r&1&&(o(0,"option",26),l(1),q(2,"titlecase"),i()),r&2){let e=t.$implicit;m("value",e),a(),h(G(2,2,e))}}function ft(r,t){if(r&1&&(S(0),o(1,"div",48)(2,"div")(3,"label",49),l(4,"Band Type"),i(),o(5,"select",50),g(6,gt,3,4,"option",10),i()(),o(7,"div")(8,"label",51),l(9,"Resistance Level"),i(),o(10,"select",52),g(11,yt,3,4,"option",10),i()(),o(12,"div")(13,"label",53),l(14),i(),p(15,"input",54),i(),o(16,"div")(17,"label",55),l(18,"Color (Optional)"),i(),p(19,"input",56),i(),o(20,"div")(21,"label",57),l(22),i(),p(23,"input",58),i()(),T()),r&2){let e=d();a(6),m("ngForOf",e.bandTypes),a(5),m("ngForOf",e.resistanceLevels),a(3),v("Resistance (",e.unitService.getWeightUnitSuffix(),", Optional)"),a(8),v("Length (",e.unitService.getMeasureUnitSuffix(),", Optional)")}}function xt(r,t){if(r&1&&(o(0,"option",26),l(1),q(2,"titlecase"),i()),r&2){let e=t.$implicit;m("value",e),a(),h(G(2,2,e))}}function vt(r,t){if(r&1&&(S(0),o(1,"div",45)(2,"div")(3,"label",59),l(4,"Load Type"),i(),o(5,"select",60),g(6,xt,3,4,"option",10),i()(),o(7,"div")(8,"label",61),l(9),i(),p(10,"input",62),i()(),T()),r&2){let e=d();a(6),m("ngForOf",e.machineLoadTypes),a(3),v("Max Load (",e.unitService.getWeightUnitSuffix(),", Optional)")}}function bt(r,t){if(r&1){let e=_();o(0,"div",69),p(1,"input",70)(2,"input",71),o(3,"button",72),x("click",function(){let s=y(e).index,u=d(2);return f(u.removeCustomProperty(s))}),p(4,"app-icon",73),i()()}if(r&2){let e=t.index,n=d(2);m("formGroupName",e),a(2),m("placeholder",le("Value (e.g., 10",n.unitService.getWeightUnitSuffix(),")"))}}function _t(r,t){if(r&1){let e=_();S(0),o(1,"div",27)(2,"div")(3,"label",63),l(4,"Custom Type Name"),i(),p(5,"input",64),i(),o(6,"div",65)(7,"h3",66),l(8,"Custom Properties"),i(),g(9,bt,5,3,"div",67),o(10,"button",68),x("click",function(){y(e);let s=d();return f(s.addCustomProperty())}),l(11,"+ Add Property"),i()()(),T()}if(r&2){let e=d();a(9),m("ngForOf",e.customProperties.controls)}}var L=class r{fb=b(Te);router=b(R);route=b(ce);personalGymService=b(H);toastService=b(Pe);unitService=b($);equipmentForm;isEditMode=k(!1);editingEquipmentId=null;pageTitle=B(()=>this.isEditMode()?"Edit Equipment":"Add New Equipment");subscriptions=new X;categories=["Dumbbell","Kettlebell","Plate","Barbell","Band","Machine","Accessory","Bag","Macebell","Club","Cardio","Custom"];weightTypes=["fixed","adjustable"];bandTypes=["loop","mini-loop","handled","therapy"];machineLoadTypes=["stack","plate-loaded","bodyweight"];barTypes=["olympic","standard","ez-curl","hex","swiss","custom"];resistanceLevels=["extra-light","light","medium","heavy","extra-heavy"];constructor(){this.equipmentForm=this.fb.group({name:["",c.required],category:[null,c.required],quantity:[1,[c.required,c.min(1)]],brand:[""],notes:[""]})}ngOnInit(){let t=this.route.paramMap.pipe(ie(n=>(this.editingEquipmentId=n.get("id"),this.editingEquipmentId?(this.isEditMode.set(!0),this.personalGymService.getEquipmentById(this.editingEquipmentId)):ee(null))),te(1)).subscribe(n=>{n&&this.patchFormForEditing(n)});this.subscriptions.add(t);let e=this.equipmentForm.get("category")?.valueChanges.subscribe(n=>{this.updateFormForCategory(n)});this.subscriptions.add(e)}ngOnDestroy(){this.subscriptions.unsubscribe()}updateFormForCategory(t){switch(["weightType","weight","minweight","maxweight","increment","barType","bandType","resistanceLevel","resistance","color","length","loadType","maxLoad","customCategoryName","properties"].forEach(n=>this.removeControl(n)),t){case"Dumbbell":case"Kettlebell":case"Macebell":case"Club":if(this.addControl("weightType","fixed",c.required),!this.subscriptions.closed){let n=this.equipmentForm.get("weightType")?.valueChanges.subscribe(s=>{this.updateFormForWeightType(s)});n&&this.subscriptions.add(n)}this.updateFormForWeightType("fixed");break;case"Plate":case"Barbell":this.addControl("weight",null,[c.required,c.min(0)]),t==="Barbell"&&this.addControl("barType","olympic");break;case"Band":this.addControl("bandType","loop",c.required),this.addControl("resistanceLevel","medium"),this.addControl("resistance",null,[c.min(0)]),this.addControl("color",""),this.addControl("length",null,[c.min(0)]);break;case"Machine":this.addControl("loadType","stack",c.required),this.addControl("maxLoad",null,c.min(0));break;case"Custom":this.addControl("customCategoryName","",c.required),this.addControl("properties",this.fb.array([]));break}}updateFormForWeightType(t){this.removeControl("weight"),this.removeControl("minweight"),this.removeControl("maxweight"),this.removeControl("increment"),t==="fixed"?this.addControl("weight",null,[c.required,c.min(0)]):t==="adjustable"&&(this.addControl("minweight",null,[c.required,c.min(0)]),this.addControl("maxweight",null,[c.required,c.min(0)]),this.addControl("increment",null,[c.required,c.min(.1)]))}patchFormForEditing(t){if(this.updateFormForCategory(t.category),this.equipmentForm.patchValue(t),t.category==="Custom"){let e=this.equipmentForm.get("properties");e.clear(),t.properties.forEach(n=>{e.push(this.fb.group({key:[n.key,c.required],value:[n.value,c.required]}))})}}addControl(t,e,n){this.equipmentForm.addControl(t,this.fb.control(e,n))}removeControl(t){this.equipmentForm.get(t)&&this.equipmentForm.removeControl(t)}get customProperties(){return this.equipmentForm.get("properties")}addCustomProperty(){this.customProperties.push(this.fb.group({key:["",c.required],value:["",c.required]}))}removeCustomProperty(t){this.customProperties.removeAt(t)}onSubmit(){if(this.equipmentForm.invalid){this.toastService.error("Please fill out all required fields.",0,"Invalid Form"),this.equipmentForm.markAllAsTouched();return}let t=this.equipmentForm.getRawValue();if(this.isEditMode()&&this.editingEquipmentId){let e=E(w({},t),{id:this.editingEquipmentId});this.personalGymService.updateEquipment(e)}else this.personalGymService.addEquipment(t);this.router.navigate(["/personal-gym"])}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=N({type:r,selectors:[["app-personal-gym-form"]],decls:43,vars:16,consts:[[1,"container","mx-auto","max-w-2xl","p-4","sm:p-6"],[1,"mb-6","flex","items-center"],[1,"text-gray-600","dark:text-gray-300","hover:text-primary","p-2","-ml-2",3,"routerLink"],["name","back",1,"w-6","h-6"],[1,"text-2xl","font-bold","text-gray-800","dark:text-gray-200","ml-4"],[1,"space-y-6","bg-white","dark:bg-gray-800","p-6","rounded-lg","shadow-md",3,"ngSubmit","formGroup"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-4"],["for","category",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["id","category","formControlName","category",1,"mt-1","block","w-full","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","text-lg","dark:text-gray-200"],["disabled","",3,"ngValue"],[3,"value",4,"ngFor","ngForOf"],["for","name",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["type","text","id","name","formControlName","name","placeholder","e.g., Competition Kettlebell",1,"mt-1","block","w-full","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","text-lg","dark:text-gray-200"],[1,"grid","grid-cols-2","gap-4"],["for","quantity",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["type","number","id","quantity","formControlName","quantity",1,"mt-1","block","w-full","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","text-lg","dark:text-gray-200"],["for","brand",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["type","text","id","brand","formControlName","brand",1,"mt-1","block","w-full","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","text-lg","dark:text-gray-200"],[3,"ngSwitch"],[4,"ngIf"],[4,"ngSwitchCase"],["for","notes",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["id","notes","formControlName","notes","rows","3",1,"mt-1","block","w-full","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","text-lg","dark:text-gray-200"],[1,"pt-4","border-t","border-gray-200","dark:border-gray-600","flex","justify-end"],["type","submit",1,"flex","items-center","bg-primary","text-white","hover:bg-primary-dark","font-semibold","py-2","px-4","rounded-md","disabled:opacity-50",3,"disabled"],["name","save",1,"h-6","w-6","mr-1"],[3,"value"],[1,"space-y-4","pt-4","border-t","dark:border-gray-600"],[1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],[1,"flex","space-x-4"],["class","flex items-center",4,"ngFor","ngForOf"],["class","grid grid-cols-3 gap-4",4,"ngIf"],[1,"flex","items-center"],["type","radio","formControlName","weightType",1,"form-radio",3,"value"],[1,"text-gray-700","dark:text-gray-300","ml-2"],["for","weight",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["type","number","id","weight","formControlName","weight",1,"mt-1","block","w-full","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","text-lg","dark:text-gray-200"],[1,"grid","grid-cols-3","gap-4"],["for","minweight",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["type","number","id","minweight","formControlName","minweight",1,"mt-1","block","w-full","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","text-lg","dark:text-gray-200"],["for","maxweight",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["type","number","id","maxweight","formControlName","maxweight",1,"mt-1","block","w-full","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","text-lg","dark:text-gray-200"],["for","increment",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["type","number","id","increment","formControlName","increment",1,"mt-1","block","w-full","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","text-lg","dark:text-gray-200"],[1,"pt-4","border-t","dark:border-gray-600"],[1,"grid","grid-cols-2","gap-4","pt-4","border-t","dark:border-gray-600"],["for","barType",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["id","barType","formControlName","barType",1,"mt-1","block","w-full","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","text-lg","dark:text-gray-200"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-4","pt-4","border-t","dark:border-gray-600"],["for","bandType",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["id","bandType","formControlName","bandType",1,"mt-1","block","w-full","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","text-lg","dark:text-gray-200"],["for","resistanceLevel",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["id","resistanceLevel","formControlName","resistanceLevel",1,"mt-1","block","w-full","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","text-lg","dark:text-gray-200"],["for","resistance",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["type","number","id","resistance","formControlName","resistance",1,"mt-1","block","w-full","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","text-lg","dark:text-gray-200"],["for","color",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["type","text","id","color","formControlName","color",1,"mt-1","block","w-full","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","text-lg","dark:text-gray-200"],["for","length",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["type","number","id","length","formControlName","length",1,"mt-1","block","w-full","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","text-lg","dark:text-gray-200"],["for","loadType",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["id","loadType","formControlName","loadType",1,"mt-1","block","w-full","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","text-lg","dark:text-gray-200"],["for","maxLoad",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["type","number","id","maxLoad","formControlName","maxLoad",1,"mt-1","block","w-full","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","text-lg","dark:text-gray-200"],["for","customCategoryName",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["type","text","id","customCategoryName","formControlName","customCategoryName","placeholder","e.g., Sledgehammer",1,"mt-1","block","w-full","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","text-lg","dark:text-gray-200"],["formArrayName","properties",1,"space-y-3"],[1,"text-sm","font-medium","text-gray-700","dark:text-gray-300"],["class","flex items-center space-x-2",3,"formGroupName",4,"ngFor","ngForOf"],["type","button",1,"text-sm","text-primary","hover:underline",3,"click"],[1,"flex","items-center","space-x-2",3,"formGroupName"],["type","text","formControlName","key","placeholder","Property (e.g., Weight)",1,"input-field","flex-1"],["type","text","formControlName","value",1,"input-field","flex-1",3,"placeholder"],["type","button",1,"p-2","text-red-500","hover:bg-red-100","rounded-full",3,"click"],["name","trash",1,"w-5","h-5"]],template:function(e,n){if(e&1&&(o(0,"div",0)(1,"header",1)(2,"button",2),p(3,"app-icon",3),i(),o(4,"h1",4),l(5),i()(),o(6,"form",5),x("ngSubmit",function(){return n.onSubmit()}),o(7,"div",6)(8,"div")(9,"label",7),l(10,"Category"),i(),o(11,"select",8)(12,"option",9),l(13,"-- Select a Category --"),i(),g(14,at,2,2,"option",10),i()(),o(15,"div")(16,"label",11),l(17,"Equipment Name"),i(),p(18,"input",12),i()(),o(19,"div",13)(20,"div")(21,"label",14),l(22,"Quantity"),i(),p(23,"input",15),i(),o(24,"div")(25,"label",16),l(26,"Brand (Optional)"),i(),p(27,"input",17),i()(),S(28,18),g(29,dt,8,3,"ng-container",19)(30,pt,5,1,"ng-container",20)(31,ut,11,2,"ng-container",20)(32,ft,24,4,"ng-container",20)(33,vt,11,2,"ng-container",20)(34,_t,12,1,"ng-container",20),T(),o(35,"div")(36,"label",21),l(37,"Notes (Optional)"),i(),p(38,"textarea",22),i(),o(39,"div",23)(40,"button",24),p(41,"app-icon",25),l(42),i()()()()),e&2){let s,u;a(2),m("routerLink",Q(14,rt)),a(3),h(n.pageTitle()),a(),m("formGroup",n.equipmentForm),a(6),m("ngValue",null),a(2),m("ngForOf",n.categories),a(14),m("ngSwitch",(s=n.equipmentForm.get("category"))==null?null:s.value),a(),m("ngIf",Q(15,ot).includes((u=n.equipmentForm.get("category"))==null?null:u.value)),a(),m("ngSwitchCase","Plate"),a(),m("ngSwitchCase","Barbell"),a(),m("ngSwitchCase","Band"),a(),m("ngSwitchCase","Machine"),a(),m("ngSwitchCase","Custom"),a(6),m("disabled",n.equipmentForm.invalid),a(2),v(" ",n.isEditMode()?"SAVE CHANGES":"ADD TO GYM"," ")}},dependencies:[D,O,W,me,se,Fe,xe,Ee,Se,ge,ve,we,be,ye,fe,_e,ke,he,Ce,U,ue,de],encapsulation:2})};var ri=[{path:"",component:Y,title:"My Personal Gym"},{path:"new",component:L,title:"Add New Equipment"},{path:"edit/:id",component:L,title:"Edit Equipment"}];export{ri as PERSONAL_GYM_ROUTES};
