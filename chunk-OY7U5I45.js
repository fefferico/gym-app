import{a as Ie}from"./chunk-ISSPUPCJ.js";import{a as Ve,b as Ae,c as Oe,d as Be,e as Ne}from"./chunk-DQIU3ZRI.js";import{a as Fe}from"./chunk-SAM3IFKY.js";import{c as Me}from"./chunk-UIT2SRJE.js";import{a as Ee}from"./chunk-GTY4RQK3.js";import{Ab as Q,Ac as he,Ba as d,Bb as X,Bc as ye,Ca as a,Cb as ee,Cc as xe,Da as o,Dc as be,E as L,Ea as p,Fc as _e,Hb as te,Hc as we,I as W,Ia as _,Ic as ke,Ja as y,Jc as Ce,K as H,Ka as s,Kc as Se,Lc as Pe,Mb as re,Nb as ie,Nc as Te,Oc as De,Q as x,S as f,T as h,U as b,Ub as ne,V as I,Va as u,Wa as E,Wb as oe,Xa as S,Ya as K,Yb as ae,Z as C,Zb as le,ca as z,ea as $,eb as R,fb as F,g as M,gb as Y,ia as l,jb as V,kb as G,lb as U,lc as O,nc as de,oc as P,p as N,pc as se,qa as q,qb as A,qc as me,r as j,ta as Z,tc as ce,uc as ue,va as g,vc as ge,wb as J,xc as pe,yc as ve,zc as fe}from"./chunk-HNNTSENB.js";var B=class r{transform(t,e=!1){if(t==null)return"";let i=Number(t);return e?`Day ${i}`:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][i]||`Day ${i}`}static \u0275fac=function(e){return new(e||r)};static \u0275pipe=Z({name:"dayOfWeek",type:r,pure:!0})};var Ge=(r,t)=>({"border-red-500 dark:border-red-400":r,"border-gray-300 dark:border-gray-500":t}),je=(r,t)=>({"bg-primary text-white focus:ring-primary-dark":r,"bg-gray-200 text-gray-700 hover:bg-gray-300 dark:bg-gray-600 dark:text-gray-200 dark:hover:bg-gray-500 focus:ring-gray-400":t}),We=r=>({"mt-5":r}),He=r=>({"ring-2 ring-offset-1 ring-red-500 dark:ring-red-400":r}),ze=(r,t)=>({"bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-300 placeholder-red-400":r,"rounded-r-md":t}),$e=(r,t,e)=>({"border-blue-300 dark:border-blue-500 bg-blue-50 dark:bg-blue-500 text-white hover:bg-blue-100 dark:hover:bg-blue-400":r,"border-green-500 dark:border-green-400 bg-green-50 dark:bg-green-700 text-green-700 dark:text-green-100 hover:bg-green-100 dark:hover:bg-green-600":t,"border-red-500 dark:border-red-400 bg-red-100 dark:bg-red-600 text-red-700 dark:text-red-200 hover:bg-red-200 dark:hover:bg-red-500":e});function qe(r,t){if(r&1){let e=_();a(0,"app-action-menu",27),y("itemClick",function(n){f(e);let m=s(2);return h(m.handleActionMenuItemClick(n))})("closeMenu",function(){f(e);let n=s(2);return h(n.onCloseActionMenu())}),o()}if(r&2){let e=s().ngIf,i=s();d("items",i.getProgramDropdownActionItems(e.id,"dropdown"))("isVisible",i.areActionsVisible(e.id))}}function Ze(r,t){if(r&1){let e=_();a(0,"div",21)(1,"div",22)(2,"button",23),y("click",function(n){let m=f(e).ngIf,w=s();return h(w.toggleActions(m.id,n))}),b(),a(3,"svg",24),p(4,"path",25),o()(),g(5,qe,1,2,"app-action-menu",26),o()()}if(r&2){let e=t.ngIf,i=s();l(5),d("ngIf",i.areActionsVisible(e.id))}}function Ke(r,t){if(r&1&&(a(0,"div")(1,"label",28),u(2),o()()),r&2){let e,i=s();l(2),E((e=i.programForm.get("name"))==null?null:e.value)}}function Ye(r,t){r&1&&(a(0,"span"),u(1,"Program name is required"),o())}function Ue(r,t){if(r&1&&(a(0,"div",32),g(1,Ye,2,0,"span",11),o()),r&2){let e,i=s(2);l(),d("ngIf",(e=i.programForm.get("name"))==null||e.errors==null?null:e.errors.required)}}function Je(r,t){if(r&1&&(a(0,"div")(1,"label",29),u(2,"Program Name"),o(),p(3,"input",30),g(4,Ue,2,1,"div",31),o()),r&2){let e,i,n=s();l(3),d("ngClass",F(2,Ge,((e=n.programForm.get("name"))==null?null:e.invalid)&&((e=n.programForm.get("name"))==null?null:e.touched),!((e=n.programForm.get("name"))!=null&&e.invalid&&((e=n.programForm.get("name"))!=null&&e.touched)))),l(),d("ngIf",((i=n.programForm.get("name"))==null?null:i.invalid)&&(((i=n.programForm.get("name"))==null?null:i.dirty)||((i=n.programForm.get("name"))==null?null:i.touched)))}}function Qe(r,t){if(r&1&&(a(0,"div"),p(1,"p",33),o()),r&2){let e=s();l(),d("innerHTML",e.sanitizedDescription,$)}}function Xe(r,t){r&1&&(a(0,"div")(1,"label",34),u(2,"Description (Optional)"),o(),p(3,"textarea",35),o())}function et(r,t){if(r&1){let e=_();a(0,"button",40),y("click",function(){let n=f(e).$implicit,m=s(2);return h(m.toggleGoal(n))}),u(1),V(2,"titlecase"),o()}if(r&2){let e=t.$implicit,i=s(2);d("disabled",i.isViewMode)("ngClass",F(5,je,e&&e.value!==void 0&&i.selectedGoals().includes(e.value),e&&e.value!==void 0&&!i.selectedGoals().includes(e.value))),l(),S(" ",G(2,3,e.label)," ")}}function tt(r,t){if(r&1&&(a(0,"div",36)(1,"label",37),u(2,"Goals"),o(),a(3,"div",38),g(4,et,3,8,"button",39),o()()),r&2){let e=s();l(4),d("ngForOf",e.programGoals)}}function rt(r,t){r&1&&(a(0,"div")(1,"label",41),u(2,"Start Date"),o(),p(3,"input",42),o())}function it(r,t){if(r&1&&(a(0,"div")(1,"label",43),u(2," Cycle Length (Optional) "),a(3,"span",44),b(),a(4,"svg",45),p(5,"path",46),o()()(),I(),p(6,"input",47),o()),r&2){let e=s();l(4),d("appTooltip",e.infoTooltipString)}}function nt(r,t){r&1&&(a(0,"div")(1,"label",48),u(2,"General Program Notes (Optional)"),o(),p(3,"textarea",49),o())}function ot(r,t){r&1&&(b(),a(0,"svg",52),p(1,"circle",53)(2,"line",54)(3,"line",55),o())}function at(r,t){if(r&1){let e=_();a(0,"button",50),y("shortPress",function(){f(e);let n=s();return h(n.addScheduledDay())}),g(1,ot,4,0,"svg",51),u(2,"ADD DAY TO SCHEDULE "),o()}if(r&2){let e=s();l(),d("ngIf",e.isNewMode)}}function lt(r,t){r&1&&(a(0,"div",71),b(),a(1,"svg",72),p(2,"path",73),o()())}function dt(r,t){if(r&1){let e=_();a(0,"button",74),y("shortPress",function(){f(e);let n=s().index,m=s(2);return h(m.removeScheduledDay(n))}),b(),a(1,"svg",75),p(2,"path",76),o(),u(3," REMOVE DAY "),o()}}function st(r,t){if(r&1&&(a(0,"option",77),u(1),o()),r&2){let e=t.$implicit;d("value",e.value),l(),E(e.label)}}function mt(r,t){r&1&&(a(0,"div",32),u(1," Day is required. "),o())}function ct(r,t){if(r&1){let e=_();a(0,"button",78),y("shortPress",function(){f(e);let n=s().index,m=s(2);return h(m.openRoutineSelectionModal(n))}),b(),a(1,"svg",79),p(2,"polyline",80)(3,"polyline",81)(4,"path",82)(5,"path",83),o(),u(6),o()}if(r&2){let e,i,n=s().index,m=s(2);d("ngClass",Y(2,$e,!((e=m.getScheduleDayControl(n).get("routineId"))!=null&&e.value)&&!((e=m.getScheduleDayControl(n).get("routineId"))!=null&&e.invalid&&((e=m.getScheduleDayControl(n).get("routineId"))!=null&&e.touched||m.submitted)),(e=m.getScheduleDayControl(n).get("routineId"))==null?null:e.value,((e=m.getScheduleDayControl(n).get("routineId"))==null?null:e.invalid)&&(((e=m.getScheduleDayControl(n).get("routineId"))==null?null:e.touched)||m.submitted))),l(6),S(" ",(i=m.getScheduleDayControl(n).get("routineId"))!=null&&i.value?"CHANGE":"SELECT"," ")}}function ut(r,t){r&1&&(a(0,"div",32),u(1," Routine selection is required. "),o())}function gt(r,t){if(r&1&&(a(0,"div",84)(1,"label",64),u(2,"Time (Optional)"),o(),p(3,"input",85),o()),r&2){let e=s().index;l(),d("for","timeOfDay-"+e),l(2),d("id","timeOfDay-"+e)}}function pt(r,t){if(r&1&&(a(0,"div",84)(1,"label",64),u(2,"Notes for this Day (Optional)"),o(),p(3,"textarea",86),o()),r&2){let e=s().index;l(),d("for","dayNotes-"+e),l(2),d("id","dayNotes-"+e)}}function vt(r,t){if(r&1&&(a(0,"div",58),g(1,lt,3,0,"div",59),a(2,"div",60)(3,"h4",61),u(4),V(5,"dayOfWeek"),o(),g(6,dt,4,0,"button",62),o(),a(7,"div",63)(8,"div")(9,"label",64),u(10),o(),a(11,"select",65),g(12,st,2,2,"option",66),o(),g(13,mt,2,0,"div",31),o(),a(14,"div")(15,"label",64),u(16,"Routine"),o(),a(17,"div",67),p(18,"input",68),g(19,ct,7,6,"button",69),o(),g(20,ut,2,0,"div",31),o(),g(21,gt,4,2,"div",70)(22,pt,4,2,"div",70),o()()),r&2){let e,i,n,m,w,k,T,D,v=t.index,c=s(2);d("formGroupName",v)("cdkDragDisabled",c.isViewMode),l(),d("ngIf",!c.isViewMode),l(),d("ngClass",R(23,We,c.isEditMode)),l(2),S(" ",U(5,20,(e=c.getScheduleDayControl(v).get("dayOfWeek"))==null?null:e.value,c.f.cycleLength.value>0)||"Scheduled Day "+(v+1)," "),l(2),d("ngIf",!c.isViewMode),l(3),d("for","dayOfWeek-"+v),l(),S(" ",c.f.cycleLength.value>0?"Cycle Day Number":"Day of Week"," "),l(),d("id","dayOfWeek-"+v),l(),d("ngForOf",c.currentDayOptions()),l(),d("ngIf",((i=c.getScheduleDayControl(v).get("dayOfWeek"))==null?null:i.invalid)&&((i=c.getScheduleDayControl(v).get("dayOfWeek"))==null?null:i.touched)),l(2),d("for","routineName-"+v),l(2),d("ngClass",R(25,He,((n=c.getScheduleDayControl(v).get("routineId"))==null?null:n.invalid)&&(((n=c.getScheduleDayControl(v).get("routineId"))==null?null:n.touched)||c.submitted))),l(),d("id","routineName-"+v)("value",((m=c.getScheduleDayControl(v).get("routineName"))==null?null:m.value)||((m=c.getScheduleDayControl(v).get("routineId"))!=null&&m.value?"Loading routine...":"No Routine Selected"))("ngClass",F(27,ze,((w=c.getScheduleDayControl(v).get("routineId"))==null?null:w.invalid)&&(((w=c.getScheduleDayControl(v).get("routineId"))==null?null:w.touched)||c.submitted),c.isViewMode)),l(),d("ngIf",!c.isViewMode),l(),d("ngIf",((k=c.getScheduleDayControl(v).get("routineId"))==null?null:k.invalid)&&(((k=c.getScheduleDayControl(v).get("routineId"))==null?null:k.touched)||c.submitted)),l(),d("ngIf",((T=c.programForm.get("timeOfDay"))==null?null:T.value)||c.isEditMode),l(),d("ngIf",((D=c.programForm.get("notes"))==null?null:D.value)||c.isEditMode)}}function ft(r,t){if(r&1){let e=_();a(0,"div",56),y("cdkDropListDropped",function(n){f(e);let m=s();return h(m.onScheduleDrop(n))}),g(1,vt,23,30,"div",57),o()}if(r&2){let e=s();d("cdkDropListData",e.scheduleFormGroups),l(),d("ngForOf",e.scheduleFormArray.controls)}}function ht(r,t){if(r&1){let e=_();a(0,"button",89),y("click",function(){f(e);let n=s(2);return h(n.addScheduledDay())}),u(1," Add the first scheduled day "),o()}}function yt(r,t){if(r&1&&(a(0,"div",87)(1,"p"),u(2,"No days scheduled for this program yet"),o(),g(3,ht,2,0,"button",88),o()),r&2){let e=s();l(3),d("ngIf",!e.isViewMode)}}function xt(r,t){r&1&&(b(),a(0,"svg",52),p(1,"circle",53)(2,"line",54)(3,"line",55),o())}function bt(r,t){r&1&&(b(),a(0,"svg",52),p(1,"path",93)(2,"path",94)(3,"path",95)(4,"path",96),o())}function _t(r,t){if(r&1){let e=_();a(0,"div",90)(1,"button",91),y("shortPress",function(){f(e);let n=s();return h(n.navigateToPrograms())}),u(2," CANCEL "),o(),a(3,"button",92),y("shortPress",function(){f(e);let n=s();return h(n.onSubmit())}),g(4,xt,4,0,"svg",51)(5,bt,5,0,"svg",51),u(6),o()()}if(r&2){let e=s();l(3),d("disabled",e.programForm.invalid&&(e.programForm.touched||e.programForm.dirty)),l(),d("ngIf",e.isNewMode),l(),d("ngIf",!e.isNewMode),l(),S(" ",e.isNewMode?"CREATE PROGRAM":"SAVE CHANGES"," ")}}function wt(r,t){if(r&1){let e=_();a(0,"li",115),y("click",function(){let n=f(e).$implicit,m=s(2);return h(m.selectRoutineForDay(n))}),a(1,"div")(2,"span",116),u(3),o(),a(4,"span",117),u(5),V(6,"titlecase"),o()(),b(),a(7,"svg",118),p(8,"path",119),o()()}if(r&2){let e=t.$implicit;l(3),E(e.name),l(2),K("",G(6,3,e.goal)," - ",e.exercises.length," exercises")}}function kt(r,t){r&1&&(a(0,"li",120),u(1,"No routines match your search"),o())}function Ct(r,t){r&1&&(a(0,"li",120),u(1,"No routines available to select. Create some routines first!"),o())}function St(r,t){if(r&1){let e=_();a(0,"div",97),y("click",function(){f(e);let n=s();return h(n.closeRoutineSelectionModal())}),a(1,"div",98),y("click",function(n){return f(e),h(n.stopPropagation())}),a(2,"div",99)(3,"div",100)(4,"div",101)(5,"div",102)(6,"h3",103),u(7,"Select a Routine"),o(),a(8,"button",104),y("click",function(){f(e);let n=s();return h(n.closeRoutineSelectionModal())}),b(),a(9,"svg",105),p(10,"path",106),o()()(),I(),a(11,"div",107)(12,"input",108),y("ngModelChange",function(n){f(e);let m=s();return h(m.modalSearchTerm.set(n))}),o()(),a(13,"div",109)(14,"ul",110),g(15,wt,9,5,"li",111)(16,kt,2,0,"li",112)(17,Ct,2,0,"li",112),o()()()()(),a(18,"div",113)(19,"button",114),y("click",function(){f(e);let n=s();return h(n.closeRoutineSelectionModal())}),u(20," Cancel "),o()()()()}if(r&2){let e=s();l(12),d("ngModel",e.modalSearchTerm()),l(3),d("ngForOf",e.filteredAvailableRoutines()),l(),d("ngIf",e.filteredAvailableRoutines().length===0&&e.availableRoutines.length>0),l(),d("ngIf",e.availableRoutines.length===0)}}var Le=class r{fb=x(we);router=x(ae);route=x(oe);trainingProgramService=x(Me);workoutService=x(De);spinnerService=x(Ee);alertService=x(Pe);toastService=x(Te);cdr=x(J);programForm;submitted=!1;isEditMode=!1;isNewMode=!1;isViewMode=!1;currentProgramId=null;currentProgram=null;isCurrentProgramActive=C(!1);routeSub;sanitizer=x(ne);sanitizedDescription="";infoTooltipString="Leave blank for a weekly (7-day) schedule. Enter a number (e.g., 3) for a custom N-day cycle. 'Day of Week' selectors will update accordingly.";isRoutineModalOpen=C(!1);availableRoutines=[];modalSearchTerm=C("");targetScheduleIndexForRoutine=null;dayOfWeekOptions=[{value:1,label:"Monday"},{value:2,label:"Tuesday"},{value:3,label:"Wednesday"},{value:4,label:"Thursday"},{value:5,label:"Friday"},{value:6,label:"Saturday"},{value:0,label:"Sunday"}];cycleDayOptions=A(()=>{let t=this.programForm.get("cycleLength")?.value;return typeof t=="number"&&t>0?Array.from({length:t},(e,i)=>({value:i+1,label:`Day ${i+1}`})):[]});currentDayOptions=A(()=>this.programForm.get("cycleLength")?.value>0?this.cycleDayOptions():this.dayOfWeekOptions);filteredAvailableRoutines=A(()=>{let t=this.modalSearchTerm().toLowerCase();return t?this.availableRoutines.filter(e=>e.name.toLowerCase().includes(t)):this.availableRoutines});selectedGoals=C([]);programGoals=[{value:"hypertrophy",label:"Hypertrophy"},{value:"strength",label:"Strength"},{value:"tabata",label:"Tabata"},{value:"muscular endurance",label:"Muscular endurance"},{value:"cardiovascular endurance",label:"Cardiovascular endurance"},{value:"fat loss / body composition",label:"Fat loss / body composition"},{value:"mobility & flexibility",label:"Mobility & flexibility"},{value:"power / explosiveness",label:"Power / explosiveness"},{value:"speed & agility",label:"Speed & agility"},{value:"balance & coordination",label:"Balance & coordination"},{value:"skill acquisition",label:"Skill acquisition"},{value:"rehabilitation / injury prevention",label:"Rehabilitation / injury prevention"},{value:"mental health / stress relief",label:"Mental health"},{value:"general health & longevity",label:"General health & longevity"},{value:"sport-specific performance",label:"Sport-specific performance"},{value:"maintenance",label:"Maintenance"},{value:"rest",label:"Rest"},{value:"custom",label:"Custom"}];constructor(){this.programForm=this.fb.group({name:["",P.required],goals:[""],description:[""],programNotes:[""],startDate:["",P.required],cycleLength:[null,[P.min(1)]],schedule:this.fb.array([])})}platformId=x(z);ngOnInit(){ie(this.platformId)&&window.scrollTo(0,0),this.loadAvailableRoutines(),this.routeSub=this.route.data.pipe(W(t=>{let e=t.mode;return this.currentProgramId=this.route.snapshot.paramMap.get("programId"),this.submitted=!1,this.isNewMode=e==="new",this.isViewMode=e==="view"&&!!this.currentProgramId,this.isEditMode=e==="edit"&&!!this.currentProgramId,this.isNewMode?(this.programForm.reset({cycleLength:null,schedule:[]}),this.updateFormEnabledState(),N(null)):this.currentProgramId?this.trainingProgramService.getProgramById(this.currentProgramId):N(null)}),H(t=>{t?this.patchFormWithProgramData(t):!this.isNewMode&&this.currentProgramId&&(this.toastService.error(`Program with ID ${this.currentProgramId} not found.`,0,"Error"),this.router.navigate(["/training-programs"])),this.currentProgram=t,this.updateFormEnabledState();let e=t?.isActive??!1;this.isCurrentProgramActive.set(e)})).subscribe(),this.programForm.get("cycleLength")?.valueChanges.subscribe(t=>{this.scheduleFormArray.controls.forEach(e=>{e.get("dayOfWeek")?.setValue(this.currentDayOptions()[0]?.value||1)})})}get scheduleFormArray(){return this.programForm.get("schedule")}loadAvailableRoutines(){this.workoutService.routines$.pipe(L(1)).subscribe(t=>{this.availableRoutines=t.sort((e,i)=>e.name.localeCompare(i.name))})}patchFormWithProgramData(t){if(this.programForm.patchValue({name:t.name,description:t.description?this.updateSanitizedDescription(t.description):"",programNotes:t.programNotes,startDate:t.startDate?new Date(t.startDate).toISOString().split("T")[0]:null,cycleLength:t.cycleLength??null}),this.scheduleFormArray.clear(),t.schedule.forEach(e=>{this.scheduleFormArray.push(this.createScheduledDayGroup(e))}),this.updateFormEnabledState(),t.goals?.length){let e=new Set(t.goals.filter(i=>i!=null));this.programGoals.filter(i=>i.value!=null&&e.has(i.value)).forEach(i=>{this.toggleGoal(i)})}}createScheduledDayGroup(t){let e=this.currentDayOptions()[0]?.value||1;return this.fb.group({id:[t?.id||O()],dayOfWeek:[t?.dayOfWeek??e,P.required],routineId:[t?.routineId??"",P.required],routineName:[t?.routineName??""],notes:[t?.notes??""],timeOfDay:[t?.timeOfDay??""]})}addScheduledDay(){this.isViewMode||(this.scheduleFormArray.push(this.createScheduledDayGroup()),this.cdr.detectChanges(),setTimeout(()=>{let t=document.querySelectorAll(".scheduled-day-card");t.length>0&&t[t.length-1].scrollIntoView({behavior:"smooth",block:"center"})},0))}removeScheduledDay(t){this.isViewMode||this.scheduleFormArray.removeAt(t)}get scheduleFormGroups(){return this.scheduleFormArray.controls}onScheduleDrop(t){this.isViewMode||(Ve(this.scheduleFormArray.controls,t.previousIndex,t.currentIndex),this.scheduleFormArray.updateValueAndValidity())}openRoutineSelectionModal(t){this.isViewMode||(this.targetScheduleIndexForRoutine=t,this.modalSearchTerm.set(""),this.isRoutineModalOpen.set(!0))}closeRoutineSelectionModal(){this.isRoutineModalOpen.set(!1),this.targetScheduleIndexForRoutine=null}selectRoutineForDay(t){this.targetScheduleIndexForRoutine!==null&&this.scheduleFormArray.at(this.targetScheduleIndexForRoutine).patchValue({routineId:t.id,routineName:t.name}),this.closeRoutineSelectionModal()}updateFormEnabledState(){this.isViewMode?this.programForm.disable():this.programForm.enable()}enableEditModeFromView(){this.isViewMode&&this.currentProgramId&&this.router.navigate(["/training-programs/edit",this.currentProgramId])}onSubmit(){return M(this,null,function*(){if(this.submitted=!0,this.isViewMode)return;if(this.programForm.invalid){this.programForm.markAllAsTouched(),this.toastService.error("Please fill all required fields and ensure each scheduled day has a routine selected",0,"Validation Error"),console.log("Form errors:",this.programForm.errors,this.scheduleFormArray.errors),this.scheduleFormArray.controls.forEach((n,m)=>{n.invalid&&console.log(`Schedule Day ${m+1} errors:`,n.errors)});return}let t=this.programForm.getRawValue(),e=this.currentProgramId||O(),i={id:e,name:t.name,goals:this.selectedGoals(),description:t.description,programNotes:t.programNotes,startDate:t.startDate||new Date,cycleLength:t.cycleLength||null,schedule:t.schedule.map(n=>({id:n.id||O(),dayOfWeek:Number(n.dayOfWeek),routineId:n.routineId,routineName:n.routineName,programId:e,notes:n.notes,timeOfDay:n.timeOfDay})),isActive:!1};try{if(this.spinnerService.show("Saving program..."),this.isNewMode)yield this.trainingProgramService.addProgram(i);else if(this.isEditMode&&this.currentProgramId){let n=yield j(this.trainingProgramService.getProgramById(this.currentProgramId).pipe(L(1)));i.isActive=n?.isActive??!1,yield this.trainingProgramService.updateProgram(i)}this.router.navigate(["/training-programs"])}catch(n){console.error("Error saving program:",n),this.toastService.error("Failed to save program",0,"Save Error")}finally{this.spinnerService.hide()}})}deleteProgram(){return M(this,null,function*(){if(!this.currentProgramId){this.toastService.error("No program selected for deletion",0,"Deletion Error");return}try{this.spinnerService.show("Deleting program..."),yield this.trainingProgramService.deleteProgram(this.currentProgramId),(this.router.url.includes(`/training-programs/edit/${this.currentProgramId}`)||this.router.url.includes(`/training-programs/view/${this.currentProgramId}`))&&this.router.navigate(["/training-programs"])}catch(t){console.error("Error during program deletion process in component:",t),this.toastService.error("An unexpected error occurred while deleting the program",0,"Deletion Error")}finally{this.spinnerService.hide()}})}ngOnDestroy(){this.routeSub&&this.routeSub.unsubscribe()}get f(){return this.programForm.controls}getScheduleDayControl(t){return this.scheduleFormArray.at(t)}toggleActiveProgram(){return M(this,null,function*(){if(this.currentProgramId){if(this.isCurrentProgramActive()){let t=yield this.alertService.showConfirm("Deactivate Program?","Do you want to deactivate this program? No program will be active","Deactivate");if(t&&t.data)try{this.spinnerService.show("Deactivating program..."),yield this.trainingProgramService.deactivateProgram(this.currentProgramId)}catch{this.toastService.error("Failed to deactivate",0,"Error")}finally{this.spinnerService.hide()}return}try{this.spinnerService.show("Setting active program..."),yield this.trainingProgramService.toggleProgramActivation(this.currentProgramId)}catch{this.toastService.error("Failed to set active program",0,"Error")}finally{this.spinnerService.hide()}}})}updateSanitizedDescription(t){this.sanitizedDescription=this.sanitizer.bypassSecurityTrustHtml(t)}toggleGoal(t){this.selectedGoals.update(e=>{let i=new Set(e);return t!==void 0&&t.value!==void 0&&(i.has(t.value)?i.delete(t.value):i.add(t.value)),Array.from(i)})}getProgramDropdownActionItems(t,e){let i="rounded text-left px-3 py-1.5 sm:px-4 sm:py-2 font-medium text-gray-600 dark:text-gray-300 hover:bg-primary flex items-center text-sm hover:text-white dark:hover:text-gray-100 dark:hover:text-white",n="rounded text-left px-3 py-1.5 sm:px-4 sm:py-2 font-medium text-gray-600 dark:text-gray-300 hover:bg-red-600 flex items-center text-sm hover:text-gray-100 hover:animate-pulse",m="rounded text-left px-3 py-1.5 sm:px-4 sm:py-2 font-medium text-gray-600 dark:text-gray-300 hover:bg-green-600 flex items-center text-sm hover:text-gray-100",w="rounded text-left px-3 py-1.5 sm:px-4 sm:py-2 font-medium text-gray-600 dark:text-gray-300 hover:bg-gray-500 flex items-center text-sm hover:text-gray-100",k=this.currentProgram,T={label:"EDIT",actionKey:"edit",iconSvg:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10" /></svg>',iconClass:"w-8 h-8 mr-2",buttonClass:(e==="dropdown"?"w-full ":"")+i,data:{programId:t}},D={label:"ACTIVATE",actionKey:"activate",iconSvg:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"
                        fill="currentColor" class="w-8 h-8 mr-1">
                        <path fill-rule="evenodd"
                          d="M16.403 12.652a3 3 0 000-5.304 3 3 0 00-3.75-3.751 3 3 0 00-5.305 0 3 3 0 00-3.751 3.75 3 3 0 000 5.305 3 3 0 003.75 3.751 3 3 0 005.305 0 3 3 0 003.751-3.75Zm-2.546-4.46a.75.75 0 00-1.214-.883l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5Z"
                          clip-rule="evenodd" />
                      </svg>`,iconClass:"w-8 h-8 mr-2",buttonClass:(e==="dropdown"?"w-full ":"")+m,data:{programId:t}},v={label:"DEACTIVATE",actionKey:"deactivate",iconSvg:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"
                        fill="currentColor" class="text-red-500">
                        <path fill-rule="evenodd"
                          d="M10 18a8 8 0 100-16 8 8 0 000 16Zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5Z"
                          clip-rule="evenodd" />
                      </svg>`,iconClass:"w-8 h-8 mr-2",buttonClass:(e==="dropdown"?"w-full ":"")+w,data:{programId:t}},c=[];return k?.isActive?c.push(v):c.push(D),this.isViewMode&&c.push(T),c}handleActionMenuItemClick(t,e){if(t.data?.programId)switch(t.actionKey){case"activate":this.toggleActiveProgram();break;case"deactivate":this.toggleActiveProgram();break;case"edit":this.enableEditModeFromView();break}}activeRoutineIdActions=C(null);toggleActions(t,e){e.stopPropagation(),this.activeRoutineIdActions.update(i=>i===t?null:t)}areActionsVisible(t){return this.activeRoutineIdActions()===t}onCloseActionMenu(){this.activeRoutineIdActions.set(null)}navigateToPrograms(){this.router.navigate(["/training-programs"])}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=q({type:r,selectors:[["app-training-program-builder"]],decls:29,vars:16,consts:[[1,"container","mx-auto","p-2","sm:p-4"],[1,"flex","items-center","justify-between","p-2"],[1,"flex","justify-between","items-center"],[1,"text-gray-600","dark:text-gray-300","hover:text-primary","dark:hover:text-primary-light","p-2","-ml-1",3,"routerLink"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 19l-7-7 7-7"],[1,"w-10","h-10"],[1,"flex","items-center","space-x-2","flex-shrink-0"],["class","",4,"ngIf"],[1,"space-y-6","mb-6",3,"ngSubmit","formGroup"],[1,"space-y-4","p-2","rounded-md"],[4,"ngIf"],["class","mt-4",4,"ngIf"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"flex","justify-between","items-center","mb-1"],[1,"text-xl","font-semibold","text-gray-700","dark:text-gray-300"],["type","button","appPress","","class","flex items-center justify-center bg-blue-500 hover:bg-blue-600 text-white text-sm font-medium py-1.5 px-3 rounded-md shadow-sm",3,"shortPress",4,"ngIf"],["cdkDropList","","formArrayName","schedule","class","space-y-4",3,"cdkDropListData","cdkDropListDropped",4,"ngIf"],["class","text-center py-6 text-gray-500 dark:text-gray-400 border border-dashed dark:border-gray-700 rounded-md",4,"ngIf"],["class","pt-6 flex justify-end space-x-3",4,"ngIf"],["class","fixed inset-0 bg-gray-700 bg-opacity-75 transition-opacity overflow-y-auto h-full w-full z-[70] flex items-center justify-center p-4",3,"click",4,"ngIf"],[1,""],[1,"relative"],[1,"p-1.5","text-gray-500","dark:text-gray-400","hover:bg-gray-200","dark:hover:bg-gray-700","rounded-full","focus:outline-none",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"h-5","w-5"],["stroke-linecap","round","stroke-linejoin","round","d","M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"],["displayMode","dropdown",3,"items","isVisible","itemClick","closeMenu",4,"ngIf"],["displayMode","dropdown",3,"itemClick","closeMenu","items","isVisible"],[1,"block","text-xl","font-black","text-gray-700","dark:text-gray-300"],["for","programName",1,"block","text-m","font-medium","text-gray-700","dark:text-gray-300"],["type","text","id","programName","formControlName","name","placeholder","Program name",1,"mt-1","block","w-full","p-2","border","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:border-gray-500","dark:text-gray-200",3,"ngClass"],["class","text-red-500 dark:text-red-400 text-xs mt-1",4,"ngIf"],[1,"text-red-500","dark:text-red-400","text-xs","mt-1"],[1,"mt-1","block","w-full","dark:text-gray-200",3,"innerHTML"],["for","description",1,"block","text-m","font-medium","text-gray-700","dark:text-gray-300"],["id","description","formControlName","description","rows","3","placeholder","Description (optional)",1,"mt-1","block","w-full","p-2","border","border-gray-300","dark:border-gray-500","rounded-md","shadow-sm","dark:bg-gray-600","dark:text-gray-200"],[1,"mt-4"],[1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-2"],[1,"flex","flex-wrap","gap-2"],["type","button","class","px-3 py-1.5 text-xs font-semibold rounded-full transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-gray-800",3,"disabled","ngClass","click",4,"ngFor","ngForOf"],["type","button",1,"px-3","py-1.5","text-xs","font-semibold","rounded-full","transition-colors","duration-200","ease-in-out","focus:outline-none","focus:ring-2","focus:ring-offset-2","dark:focus:ring-offset-gray-800",3,"click","disabled","ngClass"],["for","startDate",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["type","date","id","startDate","formControlName","startDate",1,"mt-1","block","w-full","p-2","border","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-700","dark:border-gray-600","dark:text-gray-300","dark:[color-scheme:dark]"],["for","cycleLength",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300","flex","items-center"],[1,"ml-1"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"w-4","h-4","text-gray-400","dark:text-gray-500","cursor-help",3,"appTooltip"],["fill-rule","evenodd","d","M18 10a8 8 0 1 1-16 0 8 8 0 0 1 16 0Zm-7-4a1 1 0 1 1-2 0 1 1 0 0 1 2 0ZM9 9a.75.75 0 0 0 0 1.5h.253a.25.25 0 0 1 .244.304l-.459 2.066A1.75 1.75 0 0 0 10.747 15H11a.75.75 0 0 0 0-1.5h-.253a.25.25 0 0 1-.244-.304l.459-2.066A1.75 1.75 0 0 0 9.253 9H9Z","clip-rule","evenodd"],["type","number","id","cycleLength","formControlName","cycleLength","min","1","placeholder","e.g., 7 for weekly",1,"mt-1","block","w-full","p-2","border","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-700","dark:border-gray-600","dark:text-gray-300","dark:[color-scheme:dark]"],["for","programNotes",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["id","programNotes","formControlName","programNotes","rows","3",1,"mt-1","block","w-full","p-2","border","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-700","dark:border-gray-600","dark:text-gray-300","dark:[color-scheme:dark]"],["type","button","appPress","",1,"flex","items-center","justify-center","bg-blue-500","hover:bg-blue-600","text-white","text-sm","font-medium","py-1.5","px-3","rounded-md","shadow-sm",3,"shortPress"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","class","mr-2",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"mr-2"],["cx","12","cy","12","r","10"],["x1","12","y1","8","x2","12","y2","16"],["x1","8","y1","12","x2","16","y2","12"],["cdkDropList","","formArrayName","schedule",1,"space-y-4",3,"cdkDropListDropped","cdkDropListData"],["cdkDrag","","class","scheduled-day-card p-3 border rounded-md shadow-sm bg-gray-50 dark:bg-gray-600/70 dark:border-gray-600 relative",3,"formGroupName","cdkDragDisabled",4,"ngFor","ngForOf"],["cdkDrag","",1,"scheduled-day-card","p-3","border","rounded-md","shadow-sm","bg-gray-50","dark:bg-gray-600/70","dark:border-gray-600","relative",3,"formGroupName","cdkDragDisabled"],["cdkDragHandle","","class","p-1 text-gray-400 hover:text-gray-600 dark:text-gray-500 dark:hover:text-gray-300 flex-shrink-0 cursor-pointer","title","Drag to reorder day",4,"ngIf"],[1,"flex","justify-between","items-center","mb-1",3,"ngClass"],[1,"text-md","font-medium","text-gray-800","dark:text-gray-100"],["type","button","appPress","","class","text-red-500 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 text-xs font-medium p-1 rounded hover:bg-red-100 dark:hover:bg-red-900/30",3,"shortPress",4,"ngIf"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-3","dark:text-gray-300"],[1,"block","text-xs","font-medium","text-gray-700","dark:text-gray-300",3,"for"],["formControlName","dayOfWeek",1,"mt-1","block","w-full","p-2","text-sm","border","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-700","dark:border-gray-500","dark:text-gray-300",3,"id"],[3,"value",4,"ngFor","ngForOf"],[1,"mt-1","flex","rounded-md","shadow-sm",3,"ngClass"],["type","text","readonly","",1,"flex-1","min-w-0","block","w-full","px-3","py-2","text-sm","rounded-none","rounded-l-md","border-gray-300","dark:border-gray-200","dark:bg-gray-400","cursor-default","focus:outline-none","focus:ring-0","focus:border-gray-300",3,"id","value","ngClass"],["type","button","appPress","","class","inline-flex items-center px-3 py-2 border border-l-0 rounded-r-md text-sm transition-colors duration-150",3,"ngClass","shortPress",4,"ngIf"],["class","sm:col-span-2",4,"ngIf"],["cdkDragHandle","","title","Drag to reorder day",1,"p-1","text-gray-400","hover:text-gray-600","dark:text-gray-500","dark:hover:text-gray-300","flex-shrink-0","cursor-pointer"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24",1,"w-5","h-5"],["d","M 7 17 L 7 3 M 4 6 L 7 3 L 10 6 M 17 7 L 17 21 M 14 18 L 17 21 L 20 18","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["type","button","appPress","",1,"text-red-500","hover:text-red-700","dark:text-red-400","dark:hover:text-red-300","text-xs","font-medium","p-1","rounded","hover:bg-red-100","dark:hover:bg-red-900/30",3,"shortPress"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 16 16","fill","currentColor",1,"w-4","h-4","inline-block","mr-1"],["fill-rule","evenodd","d","M5 3.25A2.25 2.25 0 002.75 5.5v5A2.25 2.25 0 005 12.75h6a2.25 2.25 0 002.25-2.25v-5A2.25 2.25 0 0011 3.25H5Zm.97 3.97a.75.75 0 011.06 0L8 8.28l.97-.97a.75.75 0 111.06 1.06L9.06 9.25l.97.97a.75.75 0 11-1.06 1.06L8 10.43l-.97.97a.75.75 0 01-1.06-1.06L6.94 9.25l-.97-.97a.75.75 0 010-1.06Z","clip-rule","evenodd"],[3,"value"],["type","button","appPress","",1,"inline-flex","items-center","px-3","py-2","border","border-l-0","rounded-r-md","text-sm","transition-colors","duration-150",3,"shortPress","ngClass"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"h-4","w-4","mr-1"],["points","23 4 23 10 17 10"],["points","1 20 1 14 7 14"],["d","M3.51 9a9 9 0 0 1 14.85-3.36L23 10"],["d","M20.49 15a9 9 0 0 1-14.85 3.36L1 14"],[1,"sm:col-span-2"],["type","text","formControlName","timeOfDay","placeholder","e.g., AM, PM, 08:00",1,"mt-1","block","w-full","p-2","text-sm","border","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-700","dark:border-gray-500",3,"id"],["formControlName","notes","rows","2",1,"mt-1","block","w-full","p-2","text-sm","border","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-700","dark:border-gray-500",3,"id"],[1,"text-center","py-6","text-gray-500","dark:text-gray-400","border","border-dashed","dark:border-gray-700","rounded-md"],["type","button","class","mt-2 text-sm text-primary hover:underline",3,"click",4,"ngIf"],["type","button",1,"mt-2","text-sm","text-primary","hover:underline",3,"click"],[1,"pt-6","flex","justify-end","space-x-3"],["appPress","",1,"px-4","py-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","text-sm","font-medium","text-gray-700","dark:text-gray-200","hover:bg-gray-50","dark:hover:bg-gray-700",3,"shortPress"],["type","submit","appPress","",1,"flex","items-center","justify-center","px-4","py-2","border","border-transparent","rounded-md","shadow-sm","text-sm","font-medium","text-white","bg-primary","hover:bg-primary-dark","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-primary-dark","disabled:opacity-50",3,"shortPress","disabled"],["d","M15.2 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8.8"],["d","M16 3.1 21 8"],["d","M8 21v-7h8v7"],["d","M8 3v5h8V3"],[1,"fixed","inset-0","bg-gray-700","bg-opacity-75","transition-opacity","overflow-y-auto","h-full","w-full","z-[70]","flex","items-center","justify-center","p-4",3,"click"],[1,"relative","transform","overflow-hidden","rounded-md","bg-white","dark:bg-gray-700","text-left","shadow-xl","transition-all","sm:my-8","sm:w-full","sm:max-w-2xl",3,"click"],[1,"bg-white","dark:bg-gray-600","px-4","pt-5","pb-4","sm:p-6","sm:pb-4","backdrop-blur-sm"],[1,"sm:flex","sm:items-start","w-full"],[1,"mt-3","text-center","sm:mt-0","sm:text-left","w-full"],[1,"flex","justify-between","items-center","pb-3"],["id","modal-title",1,"text-xl","font-semibold","leading-6","text-gray-900","dark:text-gray-100"],["type","button",1,"p-1","rounded-full","text-gray-400","hover:text-gray-600","dark:hover:text-gray-300","focus:outline-none",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","d","M6 18L18 6M6 6l12 12"],[1,"my-4"],["type","text","placeholder","Search routines...",1,"w-full","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-700","dark:text-gray-200",3,"ngModelChange","ngModel"],[1,"mt-2","max-h-80","overflow-y-auto","pr-2","custom-scrollbar"],[1,"space-y-1"],["class","p-3 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md cursor-pointer transition-colors flex justify-between items-center",3,"click",4,"ngFor","ngForOf"],["class","text-gray-500 dark:text-gray-400 text-center p-4",4,"ngIf"],[1,"bg-gray-50","dark:bg-gray-600","px-4","py-3","sm:flex","sm:flex-row-reverse","sm:px-6"],["type","button",1,"mt-3","inline-flex","w-full","justify-center","rounded-md","bg-white","dark:bg-gray-700","px-3","py-2","text-sm","font-semibold","text-gray-900","dark:text-gray-200","shadow-sm","ring-1","ring-inset","ring-gray-300","dark:ring-gray-500","hover:bg-gray-50","dark:hover:bg-gray-500","sm:mt-0","sm:w-auto",3,"click"],[1,"p-3","hover:bg-gray-100","dark:hover:bg-gray-700","rounded-md","cursor-pointer","transition-colors","flex","justify-between","items-center",3,"click"],[1,"font-medium","text-gray-800","dark:text-gray-200"],[1,"block","text-xs","text-gray-500","dark:text-gray-400"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"w-5","h-5","text-primary","dark:text-primary-light"],["fill-rule","evenodd","d","M8.22 5.22a.75.75 0 011.06 0l4.25 4.25a.75.75 0 010 1.06l-4.25 4.25a.75.75 0 01-1.06-1.06L11.94 10 8.22 6.28a.75.75 0 010-1.06Z","clip-rule","evenodd"],[1,"text-gray-500","dark:text-gray-400","text-center","p-4"]],template:function(e,i){if(e&1&&(a(0,"div",0)(1,"header",1)(2,"div",2)(3,"button",3),b(),a(4,"svg",4),p(5,"path",5),o()(),I(),p(6,"div",6),o(),a(7,"div",7),g(8,Ze,6,1,"div",8),o()(),a(9,"form",9),y("ngSubmit",function(){return i.onSubmit()}),a(10,"section",10),g(11,Ke,3,1,"div",11)(12,Je,5,5,"div",11)(13,Qe,2,1,"div",11)(14,Xe,4,0,"div",11)(15,tt,5,1,"div",12),a(16,"div",13),g(17,rt,4,0,"div",11)(18,it,7,1,"div",11),o(),g(19,nt,4,0,"div",11),o(),a(20,"section")(21,"div",14)(22,"h2",15),u(23,"Schedule"),o(),g(24,at,3,1,"button",16),o(),g(25,ft,2,2,"div",17)(26,yt,4,1,"div",18),o(),g(27,_t,7,4,"div",19),o(),g(28,St,21,4,"div",20),o()),e&2){let n,m,w;l(3),d("routerLink","/training-programs"),l(5),d("ngIf",i.currentProgram),l(),d("formGroup",i.programForm),l(2),d("ngIf",i.isViewMode),l(),d("ngIf",i.isEditMode||i.isNewMode),l(),d("ngIf",i.isViewMode),l(),d("ngIf",i.isEditMode||i.isNewMode),l(),d("ngIf",i.isViewMode&&(i.currentProgram==null?null:i.currentProgram.goals)||i.isEditMode),l(2),d("ngIf",((n=i.programForm.get("startDate"))==null?null:n.value)||i.isEditMode),l(),d("ngIf",((m=i.programForm.get("cycleLength"))==null?null:m.value)||i.isEditMode),l(),d("ngIf",((w=i.programForm.get("programNotes"))==null?null:w.value)||i.isEditMode),l(5),d("ngIf",!i.isViewMode),l(),d("ngIf",i.scheduleFormArray.length>0),l(),d("ngIf",i.scheduleFormArray.length===0),l(),d("ngIf",!i.isViewMode),l(),d("ngIf",i.isRoutineModalOpen())}},dependencies:[re,Q,X,ee,te,Ce,ue,xe,be,de,ge,ye,se,me,_e,pe,he,ve,fe,le,Ne,Be,Oe,Ae,B,ke,ce,Fe,Se,Ie],styles:[".cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:.5rem;box-shadow:0 5px 5px -3px #0000001a,0 8px 10px 1px #00000012,0 3px 14px 2px #0000000f}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:.2;border:2px dashed #9ca3af;background-color:#f3f4f6;transition:transform .25s cubic-bezier(0,0,.2,1);border-radius:.5rem}.dark[_ngcontent-%COMP%]   .cdk-drag-placeholder[_ngcontent-%COMP%]{border-color:#4b5563;background-color:#374151}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.scheduled-day-card.cdk-drop-list-dragging[_ngcontent-%COMP%]   .scheduled-day-card[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#9ca3af;border-radius:3px}.custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#6b7280}.dark[_ngcontent-%COMP%]   .custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#4b5563}.dark[_ngcontent-%COMP%]   .custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#6b7280}"]})};export{Le as TrainingProgramBuilderComponent};
