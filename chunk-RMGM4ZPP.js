import{Dd as d,P as g,S as l,T as u,da as c,ka as p,mc as s,n as o}from"./chunk-BPKVAITV.js";var i="app_language",f=class n{constructor(t){this.translate=t}currentLang=c("en");supportedLanguages=["en","es","it","fr","de","zh","ja","ru","pt","ar"];platformId=u(p);init(){return new Promise(t=>{this.translate.setDefaultLang("en");let e=s(this.platformId)?localStorage.getItem(i):null,a=this.translate.getBrowserLang(),r;e&&this.supportedLanguages.includes(e)?r=e:a&&this.supportedLanguages.includes(a)?r=a:r=this.translate.getDefaultLang(),this.currentLang.set(r),o(this.translate.use(r)).then(()=>{t()}).catch(()=>{t()})})}setLanguage(t){if(!this.supportedLanguages.includes(t)){console.warn(`Attempted to set unsupported language: ${t}`);return}this.currentLang()!==t&&(localStorage.setItem(i,t),s(this.platformId)&&window.location.reload())}initializeLanguage(){this.translate.setDefaultLang("en");let t=s(this.platformId)?localStorage.getItem(i):null,e=this.translate.getBrowserLang(),a;t&&this.supportedLanguages.includes(t)?a=t:e&&this.supportedLanguages.includes(e)?a=e:a=this.translate.getDefaultLang(),this.currentLang.set(a)}static \u0275fac=function(e){return new(e||n)(l(d))};static \u0275prov=g({token:n,factory:n.\u0275fac,providedIn:"root"})};export{f as a};
