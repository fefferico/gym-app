import{a as he}from"./chunk-HLP6RYUT.js";import{n as ge,q as me}from"./chunk-RRPZXJDQ.js";import{$a as k,Bc as re,Ea as d,Eb as V,Fa as l,Fb as N,Ga as c,Ha as x,I as q,Ia as A,J as Q,Ja as U,Jc as le,Kc as ae,La as M,Lc as ce,Ma as h,N as P,Na as s,Nc as se,Ob as te,Qb as j,Rc as pe,S as g,T as m,Va as v,Vc as de,W as X,Wa as O,Wc as ue,Xa as $,Y as D,Ya as p,Z as b,Za as E,_a as w,ab as R,e as Z,hb as H,ia as a,mb as S,ob as B,qa as I,sb as K,ta as Y,tb as _,tc as ne,ub as W,va as f,vc as oe,wa as ee,zc as ie}from"./chunk-QNUYXXK4.js";import{a as F,b as T}from"./chunk-GAL4ENT6.js";var be=class o{transform(t,e="dd/MM/yy HH:mm"){if(t==null||!isFinite(t))return"";try{let n=new Date(t);return ge(n,e)}catch(n){return console.error(`Error formatting date from milliseconds value: ${t}`,n),"Invalid Date"}}static \u0275fac=function(e){return new(e||o)};static \u0275pipe=Y({name:"millisecondsDate",type:o,pure:!0})};var z=class o{olympicPlatesKg=[{weight:50,color:"#000000ff",isOlympic:!0,unit:"kg"},{weight:25,color:"#ff0000",isOlympic:!0,unit:"kg"},{weight:20,color:"#0000ff",isOlympic:!0,unit:"kg"},{weight:15,color:"#ffff00",isOlympic:!0,unit:"kg"},{weight:10,color:"#00ff00",isOlympic:!0,unit:"kg"},{weight:5,color:"#ffffff",isOlympic:!0,unit:"kg"},{weight:2.5,color:"#ff0000",isOlympic:!0,unit:"kg"},{weight:2,color:"#0000ff",isOlympic:!0,unit:"kg"},{weight:1.5,color:"#ffff00",isOlympic:!0,unit:"kg"},{weight:1,color:"#00ff00",isOlympic:!0,unit:"kg"},{weight:.5,color:"#ffffff",isOlympic:!0,unit:"kg"}];standardPlatesKg=[{weight:50,isOlympic:!1,unit:"kg"},{weight:20,isOlympic:!1,unit:"kg"},{weight:15,isOlympic:!1,unit:"kg"},{weight:10,isOlympic:!1,unit:"kg"},{weight:5,isOlympic:!1,unit:"kg"},{weight:2.5,isOlympic:!1,unit:"kg"},{weight:1.25,isOlympic:!1,unit:"kg"}];standardPlatesLb=[{weight:45,isOlympic:!1,unit:"lb"},{weight:35,isOlympic:!1,unit:"lb"},{weight:25,isOlympic:!1,unit:"lb"},{weight:10,isOlympic:!1,unit:"lb"},{weight:5,isOlympic:!1,unit:"lb"},{weight:2.5,isOlympic:!1,unit:"lb"}];barbells=[{name:"Men's Olympic Bar",weight:20,unit:"kg"},{name:"Women's Olympic Bar",weight:15,unit:"kg"},{name:"Standard Bar (LB)",weight:45,unit:"lb"},{name:"EZ Curl Bar",weight:10,unit:"kg"},{name:"Tricep Bar",weight:10,unit:"kg"},{name:"Trap/Hex Bar",weight:25,unit:"kg"},{name:"Standard Gym Bar",weight:20,unit:"kg"}];collars=[{name:"No Collars",weight:0,unit:"kg"},{name:"Spring Clips",weight:.5,unit:"kg"},{name:"Lock-Jaw / Pro Collars",weight:1,unit:"kg"},{name:"Competition Collars",weight:5,unit:"kg"}];constructor(){}getAvailablePlates(t,e){return t==="kg"?e?this.olympicPlatesKg:this.standardPlatesKg:this.standardPlatesLb}getBarbells(){return this.barbells}getCollars(){return this.collars}calculatePlates(t,e,n,i){let r=t-e.weight-n.weight;if(r<0)return[];let u=[],y=r/2;for(let C of i){let L=Math.floor(y/C.weight);L>0&&(u.push({plate:C,count:L}),y-=L*C.weight)}return u}static \u0275fac=function(e){return new(e||o)};static \u0275prov=Q({token:o,factory:o.\u0275fac,providedIn:"root"})};function ve(o,t){if(o&1&&(l(0,"div",3)(1,"div",4)(2,"span"),p(3),c()(),l(4,"span",5),p(5),c()()),o&2){let e=t.$implicit,n=s(2);a(),v("background-color",e.plate.color)("border-color",e.plate.color==="#FAFAFA"||!e.plate.color?"#ccc":e.plate.color),a(),v("color",n.getTextColor(e.plate.color)),a(),w(" ",e.plate.weight," "),a(2),w(" ",e.count,"x ")}}function Pe(o,t){if(o&1&&(l(0,"div",1),f(1,ve,6,8,"div",2),c()),o&2){let e=s();a(),d("ngForOf",e.sortedLoadout())}}var G=class o{loadoutSignal=b([]);set loadout(t){this.loadoutSignal.set(t)}sortedLoadout=_(()=>[...this.loadoutSignal()].sort((t,e)=>e.plate.weight-t.plate.weight));getTextColor(t){return t?["#D32F2F","#FF0000","#1976D2","#424242","#111111","#000000FF","#0000FF"].includes(t.toUpperCase())?"#FFFFFF":"#111111":"#FFFFFF"}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=I({type:o,selectors:[["app-plate-summary"]],inputs:{loadout:"loadout"},decls:1,vars:1,consts:[["class","summary-container",4,"ngIf"],[1,"summary-container"],["class","plate-group",4,"ngFor","ngForOf"],[1,"plate-group"],[1,"summary-plate"],[1,"plate-quantity-badge"]],template:function(e,n){e&1&&f(0,Pe,2,1,"div",0),e&2&&d("ngIf",n.sortedLoadout().length>0)},dependencies:[j,V,N],styles:['[_nghost-%COMP%]{--modal-bg: #1e1e1e;--border-color: #333333;--border-color-white: white}.summary-container[_ngcontent-%COMP%]{display:flex;gap:16px;align-items:center;justify-content:center;flex-wrap:wrap;padding:8px}.plate-group[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-content:center}.summary-plate[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:80%;border:2px solid var(--border-color);position:relative;flex-shrink:0;display:flex;align-items:flex-start;justify-content:center;font-size:12px;font-weight:700;box-sizing:border-box}.summary-plate[_ngcontent-%COMP%]:before{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:12px;height:12px;background-color:var(--modal-bg);border-radius:50%;border:2px solid var(--border-color-white)}.plate-quantity-badge[_ngcontent-%COMP%]{position:absolute;bottom:-4px;right:-4px;background-color:#000000bf;color:#fff;font-size:.7rem;font-weight:700;line-height:1;padding:3px 6px;border-radius:10px;pointer-events:none;border:1px solid rgba(255,255,255,.2)}']})};var _e=()=>[];function Me(o,t){if(o&1){let e=M();l(0,"div",4),h("click",function(){g(e);let i=s().$implicit,r=s();return m(r.removePlate(i.plate))}),l(1,"span"),p(2),c()()}if(o&2){let e=s().$implicit,n=s();$(n.getPlateClass(e.plate.weight,e.plate.unit)),v("background-color",e.plate.color)("border-color",e.plate.color==="#FAFAFA"?"#ccc":e.plate.color),a(),v("color",n.getPlateTextColor(e.plate.color)),a(),E(e.plate.weight)}}function ye(o,t){if(o&1&&(A(0),f(1,Me,3,9,"div",30),U()),o&2){let e=t.$implicit;a(),d("ngForOf",H(1,_e).constructor(e.count))}}function we(o,t){o&1&&x(0,"div",31)}function Oe(o,t){if(o&1){let e=M();l(0,"div",4),h("click",function(){g(e);let i=s().$implicit,r=s();return m(r.removePlate(i.plate))}),l(1,"span"),p(2),c()()}if(o&2){let e=s().$implicit,n=s();$(n.getPlateClass(e.plate.weight,e.plate.unit)),v("background-color",e.plate.color)("border-color",e.plate.color==="#FAFAFA"?"#ccc":e.plate.color),a(),v("color",n.getPlateTextColor(e.plate.color)),a(),E(e.plate.weight)}}function ke(o,t){if(o&1&&(A(0),f(1,Oe,3,9,"div",30),U()),o&2){let e=t.$implicit;a(),d("ngForOf",H(1,_e).constructor(e.count))}}function Se(o,t){o&1&&x(0,"div",31)}function Be(o,t){if(o&1){let e=M();l(0,"div",32)(1,"div",33)(2,"button",34),h("mousedown",function(){g(e);let i=s();return m(i.startChangingWeight("decrease"))})("mouseup",function(){g(e);let i=s();return m(i.stopChangingWeight())})("mouseleave",function(){g(e);let i=s();return m(i.stopChangingWeight())})("touchstart",function(i){return g(e),s().startChangingWeight("decrease"),m(i.preventDefault())})("touchend",function(){g(e);let i=s();return m(i.stopChangingWeight())}),x(3,"app-icon",35),c(),l(4,"input",36),h("ngModelChange",function(i){g(e);let r=s();return r.targetWeight.set(i),m(r.calculateFromTargetWeight())}),c(),l(5,"button",37),h("mousedown",function(){g(e);let i=s();return m(i.startChangingWeight("increase"))})("mouseup",function(){g(e);let i=s();return m(i.stopChangingWeight())})("mouseleave",function(){g(e);let i=s();return m(i.stopChangingWeight())})("touchstart",function(i){return g(e),s().startChangingWeight("increase"),m(i.preventDefault())})("touchend",function(){g(e);let i=s();return m(i.stopChangingWeight())}),x(6,"app-icon",38),c()(),l(7,"div",39)(8,"button",4),h("click",function(){g(e);let i=s();return m(i.setUnit("kg"))}),p(9,"KG"),c(),l(10,"button",4),h("click",function(){g(e);let i=s();return m(i.setUnit("lb"))}),p(11,"LB"),c()()()}if(o&2){let e=s();a(4),d("ngModel",e.targetWeight())("step",e.weightStep())("min",e.minPossibleWeight()),a(4),O("active",e.unit()==="kg"),a(2),O("active",e.unit()==="lb")}}function Fe(o,t){if(o&1&&(l(0,"span",48),p(1),c()),o&2){let e=s().$implicit,n=s(2);a(),w(" ",n.plateCountMap().get(e.weight),"x ")}}function Te(o,t){if(o&1){let e=M();l(0,"div",45),h("click",function(){let i=g(e).$implicit,r=s(2);return m(r.addPlate(i))}),x(1,"div",46),l(2,"span"),p(3),c(),f(4,Fe,2,1,"span",47),c()}if(o&2){let e=t.$implicit,n=s(2);a(),v("background-color",e.color)("border-color",e.color==="#FAFAFA"?"#ccc":e.color),a(2),E(e.weight),a(),d("ngIf",n.plateCountMap().has(e.weight))}}function De(o,t){if(o&1){let e=M();l(0,"div",40)(1,"p"),p(2,"TAP PLATES TO LOAD/UNLOAD BAR"),c(),l(3,"div",41),f(4,Te,5,6,"div",42),c(),l(5,"button",43),h("click",function(){g(e);let i=s();return m(i.clearLoadout())}),x(6,"app-icon",44),p(7," CLEAR BAR"),c()()}if(o&2){let e=s();a(4),d("ngForOf",e.availablePlates())}}function Ie(o,t){if(o&1){let e=M();l(0,"div",49)(1,"label",50),p(2,"Use Personal Gym"),c(),l(3,"label",51)(4,"input",52),h("change",function(i){g(e);let r=s();return m(r.togglePersonalGym(i.target.checked))}),c(),x(5,"span",53),c()()}if(o&2){let e=s();a(4),d("checked",e.usePersonalGym())}}function Ee(o,t){if(o&1){let e=M();l(0,"div",49)(1,"label",54),p(2),c(),l(3,"label",51)(4,"input",55),h("change",function(i){g(e);let r=s();return m(r.toggle50kgPlate(i.target.checked))}),c(),x(5,"span",53),c()()}if(o&2){let e=s();a(2),w("Enable 50",e.unit()," Plate"),a(2),d("checked",e.enable50kgPlate())}}function We(o,t){if(o&1&&(l(0,"option",56),p(1),c()),o&2){let e=t.$implicit;d("ngValue",e),a(),R("",e.name," (",e.weight,"",e.unit,")")}}function Ve(o,t){if(o&1&&(l(0,"option",56),p(1),c()),o&2){let e=t.$implicit;d("ngValue",e),a(),R("",e.name," (",e.weight,"",e.unit,")")}}function Ne(o,t){o&1&&(l(0,"h4"),p(1,"Plates Needed (Per Side)"),c())}function je(o,t){o&1&&(l(0,"div",57),p(1," Bar and collars only "),c())}function ze(o,t){if(o&1&&(l(0,"div",58)(1,"p",59),p(2,"How the total is calculated:"),c(),l(3,"p",60)(4,"span"),p(5),S(6,"number"),c(),l(7,"span",61),p(8," (Bar)"),c(),l(9,"span",62),p(10," + "),c(),l(11,"span"),p(12),S(13,"number"),c(),l(14,"span",61),p(15," (Collars)"),c(),l(16,"span",62),p(17," + "),c(),l(18,"span"),p(19),S(20,"number"),c(),l(21,"span",61),p(22," (Plates)"),c()()()),o&2){let e=s();a(5),k("",B(6,6,e.selectedBarbell().weight,"1.0-2")," ",e.unit()),a(7),k("",B(13,9,e.selectedCollar().weight,"1.0-2")," ",e.unit()),a(7),k("2 * ",B(20,12,e.platesWeightPerSide(),"1.0-2")," ",e.unit())}}var fe=class o{close=new ee;barbellCalculatorService=P(z);personalGymService=P(he);subscriptionService=P(me);toastService=P(ue);mode=b("calculate");unit=b("kg");isOlympic=b(!0);usePersonalGym=b(!1);enable50kgPlate=b(!1);isPremiumUser=b(!1);barbells=b([]);collars=b([]);availablePlates=_(()=>{let t;return this.usePersonalGym()&&this.isPremiumUser()?t=this.personalGymService.getDataForBackup().filter(e=>e.category==="Plate").map(e=>{let n=e;return{weight:n.weight??0,unit:n.unit,isOlympic:n.isOlympic??!0,color:n.color,quantity:e.quantity??1}}):t=this.barbellCalculatorService.getAvailablePlates(this.unit(),this.isOlympic()),this.enable50kgPlate()||(t=t.filter(e=>e.weight!==50)),t.sort((e,n)=>n.weight-e.weight)});selectedBarbell=b(void 0);selectedCollar=b(void 0);targetWeight=b(0);loadout=b([]);totalWeight=_(()=>{let t=this.selectedBarbell(),e=this.selectedCollar();if(!t||!e)return 0;let n=this.loadout().reduce((i,r)=>i+r.plate.weight*r.count*2,0);return t.weight+e.weight+n});constructor(){W(()=>{let t=this.targetWeight(),e=this.maxPossibleWeight();e>0&&t>e&&(this.toastService.warning(`Weight exceeds available plates. Setting to max: ${e} ${this.unit()}`,4e3,"Max Weight Reached"),this.targetWeight.set(e),this.calculateFromTargetWeight())})}ngOnInit(){this.isPremiumUser.set(this.subscriptionService.isPremium()),this.collars.set(this.barbellCalculatorService.getCollars()),this.updateDataSource(),this.selectedCollar.set(this.collars()[0])}onClose(){this.close.emit()}setMode(t){this.mode()!==t&&(t==="calculate"&&this.targetWeight.set(this.totalWeight()),this.mode.set(t))}setUnit(t){this.unit()!==t&&(this.unit.set(t),t==="lb"&&this.enable50kgPlate.set(!1),this.recalculateBasedOnMode())}handleBarChange(t){this.selectedBarbell.set(t),this.recalculateBasedOnMode()}getPlateClass(t,e="kg"){return e==="lb"?`plate-lb plate-lb-${String(t).replace(".","-")}`:`plate plate-${String(t).replace(".","-")}`}handleCollarChange(t){this.selectedCollar.set(t),this.mode()==="calculate"&&this.calculateFromTargetWeight()}recalculateBasedOnMode(){this.mode()==="calculate"?this.calculateFromTargetWeight():this.clearLoadout()}calculateFromTargetWeight(){let t=this.selectedBarbell(),e=this.selectedCollar();if(!t||!e||this.targetWeight()<=0){this.loadout.set([]);return}let n=this.barbellCalculatorService.calculatePlates(this.targetWeight(),t,e,this.availablePlates());this.loadout.set(n)}addPlate(t){this.loadout.update(e=>{let n=e.findIndex(r=>r.plate.weight===t.weight),i;return n>-1?i=e.map((r,u)=>u===n?T(F({},r),{count:r.count+1}):r):i=[...e,{plate:t,count:1}],i.sort((r,u)=>u.plate.weight-r.plate.weight)})}removePlate(t){this.loadout.update(e=>{let n=e.findIndex(r=>r.plate.weight===t.weight);return n===-1?e:e[n].count>1?e.map((r,u)=>u===n?T(F({},r),{count:r.count-1}):r):e.filter((r,u)=>u!==n)})}clearLoadout(){this.loadout.set([])}getPlateTextColor(t){return!t||["#D32F2F","#FF0000","#1976D2","#424242","#111111","#000000FF","#0000FF"].includes(t.toUpperCase())?"#FFFFFF":"#111111"}maxPossibleWeight=_(()=>{let t=this.selectedBarbell(),e=this.selectedCollar();if(!t||!e)return 0;let n=0;return this.usePersonalGym()&&this.isPremiumUser()?n=this.availablePlates().reduce((i,r)=>i+r.weight*(r.quantity??0),0):n=(this.availablePlates()[0]?.weight??0)*10*2,t.weight+e.weight+n});togglePersonalGym(t){if(!this.isPremiumUser()){this.subscriptionService.showUpgradeModal("To use equipment from your Personal Gym, please upgrade to Premium."),this.usePersonalGym.set(!1);return}this.usePersonalGym.set(t),this.updateDataSource()}updateDataSource(){let t=[];if(this.usePersonalGym()){let e=this.personalGymService.getDataForBackup();t=e.filter(n=>n.category==="Barbell").map(n=>{let i=n;return{name:i.name,weight:i.weight??0,unit:i.unit}}),t.length===0?this.toastService.error(`No ${this.unit().toUpperCase()} barbells found in your Personal Gym.`,5e3,"Equipment Missing"):e.some(i=>i.category==="Plate")||this.toastService.info("No plates found in your gym for this unit.",3e3,"Heads Up")}else t=this.barbellCalculatorService.getBarbells().filter(e=>e.unit===this.unit());this.barbells.set(t),this.barbells().length>0?(this.selectedBarbell.set(this.barbells()[0]),this.targetWeight.set(this.selectedBarbell()?.weight??0)):(this.selectedBarbell.set(void 0),this.targetWeight.set(0)),this.recalculateBasedOnMode()}toggle50kgPlate(t){this.enable50kgPlate.set(t),this.mode()==="calculate"&&this.calculateFromTargetWeight()}platesWeightPerSide=_(()=>this.loadout().reduce((t,e)=>t+e.plate.weight*e.count,0));plateCountMap=_(()=>new Map(this.loadout().map(t=>[t.plate.weight,t.count])));holdTimeout=null;holdInterval=null;weightStep=_(()=>this.unit()==="kg"?.25:1.25);minPossibleWeight=_(()=>{let t=this.selectedBarbell(),e=this.selectedCollar();return(t?.weight??0)+(e?.weight??0)});changeWeight(t){let e=this.weightStep(),n=this.targetWeight(),i=this.minPossibleWeight(),r=this.maxPossibleWeight(),u=t==="increase"?n+e:n-e;u<i&&(u=i),u>r&&(u=r);let y=Math.round(u/e)*e;this.targetWeight.set(parseFloat(y.toFixed(2))),this.calculateFromTargetWeight()}startChangingWeight(t){this.stopChangingWeight(),this.changeWeight(t),this.holdTimeout=setTimeout(()=>{this.holdInterval=setInterval(()=>{this.changeWeight(t)},100)},500)}stopChangingWeight(){clearTimeout(this.holdTimeout),clearInterval(this.holdInterval)}ngOnDestroy(){this.stopChangingWeight()}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=I({type:o,selectors:[["app-barbell-calculator-modal"]],outputs:{close:"close"},decls:44,vars:25,consts:[[1,"modal-overlay",3,"click"],[1,"calculator-modal",3,"click"],[1,"header"],[1,"mode-toggle"],[3,"click"],[1,"close-btn",3,"click"],[1,"modal-body","custom-scrollbar"],[1,"visualization-container"],[1,"barbell"],[1,"sleeve","left"],[4,"ngFor","ngForOf"],["class","collar",4,"ngIf"],[1,"shaft"],[1,"sleeve","right"],[1,"total-weight-display"],["class","input-group calculate-mode-input",4,"ngIf"],["class","reverse-mode-controls",4,"ngIf"],[1,"config-settings"],["class","toggle-group",4,"ngIf"],[1,"form-group"],["for","barbell"],["id","barbell",3,"ngModelChange","ngModel"],[3,"ngValue",4,"ngFor","ngForOf"],["for","collar"],["id","collar",3,"ngModelChange","ngModel"],[1,"loadout-summary"],[4,"ngIf"],[3,"loadout"],["class","summary-item-empty",4,"ngIf"],["class","math-breakdown",4,"ngIf"],[3,"class","background-color","border-color","click",4,"ngFor","ngForOf"],[1,"collar"],[1,"input-group","calculate-mode-input"],[1,"weight-control"],["type","button","aria-label","Decrease weight",1,"stepper-btn",3,"mousedown","mouseup","mouseleave","touchstart","touchend"],["name","minus",1,"h-5","w-5"],["type","number",1,"weight-input",3,"ngModelChange","ngModel","step","min"],["type","button","aria-label","Increase weight",1,"stepper-btn",3,"mousedown","mouseup","mouseleave","touchstart","touchend"],["name","plus",1,"h-5","w-5"],[1,"unit-toggle"],[1,"reverse-mode-controls"],[1,"plate-selection"],["class","plate-option",3,"click",4,"ngFor","ngForOf"],[1,"clear-btn","inline-flex","items-center",3,"click"],["name","cancel",1,"h-4","w-4","mr-1"],[1,"plate-option",3,"click"],[1,"plate-visual"],["class","plate-quantity",4,"ngIf"],[1,"plate-quantity"],[1,"toggle-group"],["for","personalGymToggle"],[1,"toggle-switch"],["type","checkbox","id","personalGymToggle",3,"change","checked"],[1,"slider","round"],["for","50kgToggle"],["type","checkbox","id","50kgToggle",3,"change","checked"],[3,"ngValue"],[1,"summary-item-empty"],[1,"math-breakdown"],[1,"title"],[1,"formula"],[1,"label"],[1,"op"]],template:function(e,n){e&1&&(l(0,"div",0),h("click",function(){return n.onClose()}),l(1,"div",1),h("click",function(r){return r.stopPropagation()}),l(2,"div",2)(3,"div",3)(4,"button",4),h("click",function(){return n.setMode("calculate")}),p(5,"Calculate"),c(),l(6,"button",4),h("click",function(){return n.setMode("reverse")}),p(7,"Reverse"),c()(),l(8,"button",5),h("click",function(){return n.onClose()}),p(9,"\xD7"),c()(),l(10,"div",6)(11,"div",7)(12,"div",8)(13,"div",9),f(14,ye,2,2,"ng-container",10)(15,we,1,0,"div",11),c(),x(16,"div",12),l(17,"div",13),f(18,ke,2,2,"ng-container",10)(19,Se,1,0,"div",11),c()()(),l(20,"div",14)(21,"h2"),p(22),S(23,"number"),c()(),f(24,Be,12,7,"div",15)(25,De,8,1,"div",16),l(26,"div",17),f(27,Ie,6,1,"div",18)(28,Ee,6,2,"div",18),l(29,"div",19)(30,"label",20),p(31,"Barbell"),c(),l(32,"select",21),h("ngModelChange",function(r){return n.handleBarChange(r)}),f(33,We,2,4,"option",22),c()(),l(34,"div",19)(35,"label",23),p(36,"Collars"),c(),l(37,"select",24),h("ngModelChange",function(r){return n.handleCollarChange(r)}),f(38,Ve,2,4,"option",22),c()()(),l(39,"div",25),f(40,Ne,2,0,"h4",26),x(41,"app-plate-summary",27),f(42,je,2,0,"div",28)(43,ze,23,15,"div",29),c()()()()),e&2&&(a(4),O("active",n.mode()==="calculate"),a(2),O("active",n.mode()==="reverse"),a(8),d("ngForOf",n.loadout()),a(),d("ngIf",n.selectedCollar()&&n.selectedCollar().weight>0),a(3),d("ngForOf",n.loadout()),a(),d("ngIf",n.selectedCollar()&&n.selectedCollar().weight>0),a(3),k("",B(23,22,n.totalWeight(),"1.0-2")," ",n.unit()),a(2),d("ngIf",n.mode()==="calculate"),a(),d("ngIf",n.mode()==="reverse"),a(2),d("ngIf",n.isPremiumUser()),a(),d("ngIf",n.unit()==="kg"),a(4),d("ngModel",n.selectedBarbell()),a(),d("ngForOf",n.barbells()),a(4),d("ngModel",n.selectedCollar()),a(),d("ngForOf",n.collars()),a(2),d("ngIf",n.platesWeightPerSide()>0),a(),d("loadout",n.loadout()),a(),d("ngIf",n.loadout().length===0),a(),d("ngIf",n.selectedBarbell()&&n.selectedCollar()))},dependencies:[j,V,N,pe,ae,ce,ne,re,le,oe,se,ie,de,G,te],styles:['[_nghost-%COMP%]{--modal-bg: #1e1e1e;--text-primary: #ffffff;--text-secondary: #a0a0a0;--accent-red: #e53935;--border-color: #333333;--input-bg: #2a2a2a;--shaft-color: #d0d0d0;--collar-color: #9e9e9e}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#000000b3;display:flex;justify-content:center;align-items:center;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);z-index:1050}.calculator-modal[_ngcontent-%COMP%]{background-color:var(--modal-bg);color:var(--text-primary);width:90%;max-width:420px;border-radius:16px;border:1px solid var(--border-color);display:flex;flex-direction:column;max-height:90vh}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:8px 16px;border-bottom:1px solid var(--border-color);flex-shrink:0}.mode-toggle[_ngcontent-%COMP%]{display:flex;background-color:var(--input-bg);border-radius:8px;padding:4px}.mode-toggle[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:none;color:var(--text-secondary);padding:6px 16px;border-radius:6px;cursor:pointer;font-weight:700;transition:all .2s ease-in-out}.mode-toggle[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:var(--accent-red);color:var(--text-primary)}.close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:2rem;color:var(--text-secondary);cursor:pointer}.modal-body[_ngcontent-%COMP%]{padding:16px;display:flex;flex-direction:column;gap:16px;overflow-y:auto}.visualization-container[_ngcontent-%COMP%]{height:100px;display:flex;align-items:center;justify-content:center;padding:0 10px;flex-shrink:0}.barbell[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;height:8px}.barbell[_ngcontent-%COMP%]   .sleeve[_ngcontent-%COMP%]{display:flex;align-items:center;height:60px}.barbell[_ngcontent-%COMP%]   .sleeve.left[_ngcontent-%COMP%]{flex-direction:row-reverse}.barbell[_ngcontent-%COMP%]   .shaft[_ngcontent-%COMP%]{flex-grow:1;height:100%;background-color:var(--shaft-color)}.barbell[_ngcontent-%COMP%]   .collar[_ngcontent-%COMP%]{height:24px;min-width:10px;background-color:var(--collar-color);border-radius:2px;margin:0 4px;flex-shrink:0}.plate-lb[_ngcontent-%COMP%]{border:2px solid #666666;box-sizing:border-box;display:flex;align-items:center;justify-content:center;font-size:.7rem;font-weight:700;color:#111;border-radius:4px;cursor:pointer;flex-shrink:0;margin-left:1px;margin-right:1px}.plate-lb.plate-lb-45[_ngcontent-%COMP%]{height:100%;width:25px}.plate-lb.plate-lb-35[_ngcontent-%COMP%]{height:95%;width:25px}.plate-lb.plate-lb-25[_ngcontent-%COMP%]{height:90%;width:25px}.plate-lb.plate-lb-10[_ngcontent-%COMP%]{height:80%;width:25px}.plate-lb.plate-lb-5[_ngcontent-%COMP%]{height:70%;width:25px}.plate-lb.plate-lb-2-5[_ngcontent-%COMP%]{height:60%;width:25px}.plate[_ngcontent-%COMP%]{border:1px solid #000;box-sizing:border-box;display:flex;align-items:center;justify-content:center;font-size:.7rem;font-weight:700;color:#111;border-radius:4px;cursor:pointer;flex-shrink:0;margin-left:1px;margin-right:1px}.plate.plate-50[_ngcontent-%COMP%]{height:120%;width:25px}.plate.plate-25[_ngcontent-%COMP%]{height:110%;width:25px}.plate.plate-20[_ngcontent-%COMP%]{height:90%;width:25px}.plate.plate-15[_ngcontent-%COMP%]{height:85%;width:25px}.plate.plate-10[_ngcontent-%COMP%]{height:80%;width:25px}.plate.plate-5[_ngcontent-%COMP%]{height:70%;width:18px}.plate.plate-2-5[_ngcontent-%COMP%]{height:60%;width:18px}.plate.plate-2[_ngcontent-%COMP%]{height:55%;width:12px}.plate.plate-1-5[_ngcontent-%COMP%]{height:50%;width:18px}.plate.plate-1[_ngcontent-%COMP%]{height:45%;width:10px}.plate.plate-0-5[_ngcontent-%COMP%]{height:40%;width:18px}.total-weight-display[_ngcontent-%COMP%]{text-align:center}.total-weight-display[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:2.5rem;font-weight:700}.input-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.input-group[_ngcontent-%COMP%]   .weight-input[_ngcontent-%COMP%]{flex-grow:1;background-color:var(--input-bg);border:1px solid var(--border-color);border-radius:8px;color:var(--text-primary);font-size:1.5rem;text-align:center;padding:8px;-moz-appearance:textfield}.input-group[_ngcontent-%COMP%]   .weight-input[_ngcontent-%COMP%]::-webkit-outer-spin-button, .input-group[_ngcontent-%COMP%]   .weight-input[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}.input-group[_ngcontent-%COMP%]   .unit-toggle[_ngcontent-%COMP%]{display:flex}.input-group[_ngcontent-%COMP%]   .unit-toggle[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;padding:12px 20px;font-weight:700;border:1px solid var(--border-color);background-color:var(--input-bg);color:var(--text-secondary);cursor:pointer}.input-group[_ngcontent-%COMP%]   .unit-toggle[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{border-radius:8px 0 0 8px}.input-group[_ngcontent-%COMP%]   .unit-toggle[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{border-radius:0 8px 8px 0}.input-group[_ngcontent-%COMP%]   .unit-toggle[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:var(--text-primary);color:var(--modal-bg)}.reverse-mode-controls[_ngcontent-%COMP%]{text-align:center;background-color:#e8e8e8;color:#000;font-size:.8rem;border:1px solid var(--border-color);border-radius:12px;padding:16px}.reverse-mode-controls[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 12px}.reverse-mode-controls[_ngcontent-%COMP%]   .plate-selection[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:12px;flex-wrap:wrap}.reverse-mode-controls[_ngcontent-%COMP%]   .plate-option[_ngcontent-%COMP%]{cursor:pointer;display:flex;flex-direction:column;align-items:center;gap:4px;transition:transform .1s ease-in-out;position:relative}.reverse-mode-controls[_ngcontent-%COMP%]   .plate-option[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.9rem;font-weight:700}.reverse-mode-controls[_ngcontent-%COMP%]   .plate-option[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.reverse-mode-controls[_ngcontent-%COMP%]   .plate-option[_ngcontent-%COMP%]   .plate-visual[_ngcontent-%COMP%]{width:44px;height:44px;border-radius:50%;border:2px solid;position:relative}.reverse-mode-controls[_ngcontent-%COMP%]   .plate-option[_ngcontent-%COMP%]   .plate-visual[_ngcontent-%COMP%]:before{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:12px;height:12px;background-color:#e8e8e8;border-radius:50%;border:1px solid var(--border-color)}.reverse-mode-controls[_ngcontent-%COMP%]   .plate-quantity[_ngcontent-%COMP%]{position:absolute;bottom:20px;right:-1px;background-color:#000000a6;color:#fff;font-size:.65rem;font-weight:700;line-height:1;padding:2px 5px;border-radius:8px;pointer-events:none}.reverse-mode-controls[_ngcontent-%COMP%]   .clear-btn[_ngcontent-%COMP%]{background:#f64d4d;border:1px solid var(--accent-red);color:#fff;padding:8px 16px;border-radius:8px;cursor:pointer;margin-top:16px;font-weight:700}.config-settings[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.2rem;align-items:center}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1 1 150px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.8rem;color:var(--text-secondary);margin-bottom:4px}.form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{background-color:var(--input-bg);border:1px solid var(--border-color);color:var(--text-primary);padding:8px;border-radius:8px}.loadout-summary[_ngcontent-%COMP%]{flex-shrink:0}.loadout-summary[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:var(--text-secondary);margin:0 0 8px;font-size:.9rem}.loadout-summary[_ngcontent-%COMP%]   .summary-list[_ngcontent-%COMP%]{display:flex;gap:12px;overflow-x:auto;padding-bottom:8px}.loadout-summary[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]{background-color:var(--input-bg);padding:8px;border-radius:8px;text-align:center}.loadout-summary[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .plate-count[_ngcontent-%COMP%]{font-weight:700;font-size:1.1rem}.loadout-summary[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .plate-weight[_ngcontent-%COMP%]{font-size:.8rem;color:var(--text-secondary)}.loadout-summary[_ngcontent-%COMP%]   .summary-item-empty[_ngcontent-%COMP%]{color:var(--text-secondary);font-style:italic}.loadout-summary[_ngcontent-%COMP%]   .math-breakdown[_ngcontent-%COMP%]{margin-top:1rem;padding-top:.75rem;border-top:1px solid var(--border-color-soft, #e5e7eb);font-size:.8rem;color:var(--text-color-secondary, #6b7280)}.loadout-summary[_ngcontent-%COMP%]   .math-breakdown[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:500;margin-bottom:.25rem;color:#fff}.loadout-summary[_ngcontent-%COMP%]   .math-breakdown[_ngcontent-%COMP%]   .formula[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;gap:.35rem}.loadout-summary[_ngcontent-%COMP%]   .math-breakdown[_ngcontent-%COMP%]   .formula[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-style:italic;color:var(--text-color-secondary, #9ca3af)}.toggle-group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;flex:1 1 100%;justify-content:space-between;padding:.5rem 0}.toggle-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:0;font-size:.9rem}.toggle-switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:50px;height:28px}.toggle-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.toggle-switch[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;inset:0;background-color:#ccc;transition:.4s}.toggle-switch[_ngcontent-%COMP%]   .slider.round[_ngcontent-%COMP%]{border-radius:28px}.toggle-switch[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:20px;width:20px;left:4px;bottom:4px;background-color:#fff;transition:.4s;border-radius:50%}.toggle-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#2196f3}.toggle-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(22px)}.input-group.calculate-mode-input[_ngcontent-%COMP%]{display:flex;align-items:stretch;gap:8px}.input-group.calculate-mode-input[_ngcontent-%COMP%]   .weight-control[_ngcontent-%COMP%]{display:flex;flex-grow:1}.input-group.calculate-mode-input[_ngcontent-%COMP%]   .weight-input[_ngcontent-%COMP%]{flex-grow:1;background-color:var(--input-bg);border:1px solid var(--border-color);border-radius:0;color:var(--text-primary);font-size:1.5rem;text-align:center;padding:8px;width:100%;-moz-appearance:textfield}.input-group.calculate-mode-input[_ngcontent-%COMP%]   .weight-input[_ngcontent-%COMP%]::-webkit-outer-spin-button, .input-group.calculate-mode-input[_ngcontent-%COMP%]   .weight-input[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}.input-group.calculate-mode-input[_ngcontent-%COMP%]   .stepper-btn[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-shrink:0;width:50px;background-color:var(--input-bg);border:1px solid var(--border-color);color:var(--text-primary);cursor:pointer;-webkit-user-select:none;user-select:none;transition:background-color .2s ease}.input-group.calculate-mode-input[_ngcontent-%COMP%]   .stepper-btn[_ngcontent-%COMP%]:hover{background-color:#3a3a3a}.input-group.calculate-mode-input[_ngcontent-%COMP%]   .stepper-btn[_ngcontent-%COMP%]:first-of-type{border-top-left-radius:8px;border-bottom-left-radius:8px;border-right:none}.input-group.calculate-mode-input[_ngcontent-%COMP%]   .stepper-btn[_ngcontent-%COMP%]:last-of-type{border-top-right-radius:8px;border-bottom-right-radius:8px}.input-group.calculate-mode-input[_ngcontent-%COMP%]   .unit-toggle[_ngcontent-%COMP%]{display:flex;flex-shrink:0}.input-group.calculate-mode-input[_ngcontent-%COMP%]   .unit-toggle[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;padding:12px 20px;font-weight:700;border:1px solid var(--border-color);background-color:var(--input-bg);color:var(--text-secondary);cursor:pointer}.input-group.calculate-mode-input[_ngcontent-%COMP%]   .unit-toggle[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{border-radius:8px 0 0 8px}.input-group.calculate-mode-input[_ngcontent-%COMP%]   .unit-toggle[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{border-radius:0 8px 8px 0}.input-group.calculate-mode-input[_ngcontent-%COMP%]   .unit-toggle[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:var(--text-primary);color:var(--modal-bg)}']})};function wt(o,t){let e=t?.injector??P(X),n=new Z(1),i=W(()=>{let r;try{r=o()}catch(u){K(()=>n.error(u));return}K(()=>n.next(r))},{injector:e,manualCleanup:!0});return e.get(D).onDestroy(()=>{i.destroy(),n.complete()}),n.asObservable()}function Ot(o,t){let n=!t?.manualCleanup?t?.injector?.get(D)??P(D):null,i=Ge(t?.equal),r;t?.requireSync?r=b({kind:0},{equal:i}):r=b({kind:1,value:t?.initialValue},{equal:i});let u,y=o.subscribe({next:C=>r.set({kind:1,value:C}),error:C=>{r.set({kind:2,error:C}),u?.()},complete:()=>{u?.()}});if(t?.requireSync&&r().kind===0)throw new q(601,!1);return u=n?.onDestroy(y.unsubscribe.bind(y)),_(()=>{let C=r();switch(C.kind){case 1:return C.value;case 2:throw C.error;case 0:throw new q(601,!1)}},{equal:t?.equal})}function Ge(o=Object.is){return(t,e)=>t.kind===1&&e.kind===1&&o(t.value,e.value)}export{wt as a,Ot as b,be as c,fe as d};
