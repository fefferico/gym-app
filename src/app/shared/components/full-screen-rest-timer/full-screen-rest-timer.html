<div *ngIf="isVisible"
  class="fixed inset-0 z-50 flex flex-col items-center justify-center bg-black/70 backdrop-blur-sm transition-opacity duration-300 ease-in-out"
  [class.opacity-100]="isVisible" [class.opacity-0]="!isVisible">
  <div class="absolute top-8 left-0 right-0 flex justify-center pointer-events-none" style="min-width: 300px;">
    <div class="text-3xl text-white dark:text-gray-200">
    </div>
    <div class="font-medium bg-black/70 px-3 p-2 rounded-full text-3xl text-white dark:text-gray-200">
      <span class="mx-4">
        Session time: {{ mainTimer() }}
      </span>
    </div>
  </div>
  <div class="relative flex flex-col items-center justify-center text-white">
    <!-- Circular Timer SVG -->
    <svg #progressCircleSvg class="w-64 h-64 md:w-80 md:h-80 transform -rotate-90" viewBox="0 0 200 200">
      <!-- Background Circle -->
      <circle cx="100" cy="100" [attr.r]="getCircleRadius()" fill="transparent" stroke="rgba(255, 255, 255, 0.2)"
        stroke-width="16" />
      <!-- Progress Circle -->
      <circle cx="100" cy="100" [attr.r]="getCircleRadius()" fill="transparent" stroke="currentColor"
        class="text-primary" stroke-width="18" [attr.stroke-dasharray]="getCircleCircumference()"
        [attr.stroke-dashoffset]="strokeDashoffset()" stroke-linecap="round" />
    </svg>

    <!-- Timer Text Content -->
    <div class="absolute inset-0 flex flex-col items-center justify-center text-center">
      <div class="text-6xl md:text-7xl font-bold tabular-nums">
        {{ displayTime()}}<span class="text-4xl md:text-5xl font-bold tabular-nums">{{ displayTentsTime()}}</span>
      </div>
      <div class="mt-2 text-xl md:text-2xl font-medium uppercase tracking-wider">
        {{ mainText }}
      </div>
    </div>
  </div>

  <!-- Skip Button -->
  <button appPress (shortPress)="skipTimer()"
    class="mt-12 py-3 px-10 bg-yellow-500 hover:bg-yellow-800 text-white font-semibold rounded-full shadow-md transition-colors duration-150 text-lg">
    SKIP
  </button>

  <div *ngIf="nextUpText" class="mt-5 px-1 text-center text-xl text-gray-300">
    Prepare for: {{ nextUpText }}
  </div>

</div>