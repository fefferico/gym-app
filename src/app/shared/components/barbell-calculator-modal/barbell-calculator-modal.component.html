<!-- +++ MODIFIED: Added touch events for swipe navigation +++ -->
<div class="modal-overlay" (click)="onClose()">
    <div class="calculator-modal" (click)="$event.stopPropagation()" (touchstart)="onSwipeStart($event)"
        (touchmove)="onSwipeMove($event)" (touchend)="onSwipeEnd($event)">

        <!-- Page Navigation -->
        <div class="page-nav">
            <button [class.active]="activePage() === 'calculator'" (click)="setPage('calculator')">{{
                'barbellCalculator.nav.calculator' | translate }}</button>
            <button [class.active]="activePage() === 'percentage'" (click)="setPage('percentage')">{{
                'barbellCalculator.nav.percentages' | translate }}</button>
            <button [class.active]="activePage() === 'oneRepMax'" (click)="setPage('oneRepMax')">{{
                'barbellCalculator.nav.oneRepMax' | translate }}</button>
            <button [class.active]="activePage() === 'rpe'" (click)="setPage('rpe')">{{ 'barbellCalculator.nav.rpe' |
                translate }}</button>
            <button [class.active]="activePage() === 'powerlifting'" (click)="setPage('powerlifting')">{{
                'barbellCalculator.nav.powerlifting' | translate }}</button>
        </div>

        @switch (activePage()) {
        @case ('calculator') {
        <div class="modal-body custom-scrollbar">
            <!-- Header -->
            <div class="header">
                <div class="flex w-full justify-center">
                    <div class="relative w-fit flex rounded-lg bg-gray-200 dark:bg-gray-600 p-1">
                        <div class="absolute top-1 bottom-1 bg-primary rounded-md shadow transition-all duration-300 ease-in-out"
                            [ngClass]="{
                             'left-1 right-1/2': mode() === 'calculate',
                             'left-1/2 right-1': mode() === 'reverse',
                         }"></div>
                        <button type="button" (click)="setMode('calculate')"
                            class="relative z-10 flex-1 px-8 py-2 text-sm font-bold text-center transition-colors duration-300"
                            [ngClass]="{'text-white': mode() === 'calculate', 'text-gray-700 dark:text-gray-300': mode() !== 'calculate'}">{{
                            'barbellCalculator.calculator.calculate' | translate }}</button>
                        <button type="button" (click)="setMode('reverse')"
                            class="relative z-10 flex-1 px-8 py-2 text-sm font-bold text-center transition-colors duration-300"
                            [ngClass]="{'text-white': mode() === 'reverse', 'text-gray-700 dark:text-gray-300': mode() !== 'reverse'}">{{
                            'barbellCalculator.calculator.reverse' | translate }}</button>
                    </div>
                </div>

                <button class="close-btn" (click)="onClose()">&times;</button>
            </div>

            <!-- Visualization, Weight Display, Inputs... -->
            <div class="visualization-container">
                <div class="barbell">
                    <!-- Left Sleeve -->
                    <div class="sleeve left">
                        <ng-container *ngFor="let item of loadout()">
                            <div *ngFor="let i of [].constructor(item.count)"
                                class="{{ getPlateClass(item.plate.weight, item.plate.unit) }}"
                                [style.background-color]="item.plate.color"
                                [style.border-color]="item.plate.color === '#FAFAFA' ? '#ccc' : item.plate.color"
                                (click)="removePlate(item.plate)">
                                <span [style.color]="getPlateTextColor(item.plate.color)">{{ item.plate.weight
                                    }}</span>
                            </div>
                        </ng-container>
                        <div *ngIf="selectedCollar() && selectedCollar()!.weight > 0" class="collar"></div>
                    </div>

                    <div class="shaft"></div>

                    <!-- Right Sleeve -->
                    <div class="sleeve right">
                        <ng-container *ngFor="let item of loadout()">
                            <div *ngFor="let i of [].constructor(item.count)"
                                class="{{ getPlateClass(item.plate.weight, item.plate.unit) }}"
                                [style.background-color]="item.plate.color"
                                [style.border-color]="item.plate.color === '#FAFAFA' ? '#ccc' : item.plate.color"
                                (click)="removePlate(item.plate)">
                                <span [style.color]="getPlateTextColor(item.plate.color)">{{ item.plate.weight
                                    }}</span>
                            </div>
                        </ng-container>
                        <div *ngIf="selectedCollar() && selectedCollar()!.weight > 0" class="collar"></div>
                    </div>
                </div>
            </div>

            <div class="total-weight-display">
                <h2>{{ totalWeight() | number:'1.0-2' }} {{ unit() }}</h2>
            </div>
            <!-- Check if the loadout is empty -->
            <p class="flex justify-center" [class.invisible]="loadout().length !== 0 || !selectedBarbell()">
                <span>{{ 'barbellCalculator.calculator.justBar' | translate }}</span>
            </p>

            <div class="input-group calculate-mode-input" *ngIf="mode() === 'calculate'">
                <div class="weight-control">
                    <!-- Decrease Button -->
                    <button type="button" class="stepper-btn" (mousedown)="startChangingWeight('decrease')"
                        (mouseup)="stopChangingWeight()" (mouseleave)="stopChangingWeight()"
                        (touchstart)="startChangingWeight('decrease'); $event.preventDefault()"
                        (touchend)="stopChangingWeight()"
                        [attr.aria-label]="'barbellCalculator.calculator.decreaseWeight' | translate">
                        <app-icon name="minus" class="h-5 w-5"></app-icon>
                    </button>

                    <input type="number" [ngModel]="targetWeight()"
                        (ngModelChange)="targetWeight.set($event); calculateFromTargetWeight()" class="weight-input"
                        [step]="weightStep()" [min]="minPossibleWeight()" />

                    <!-- Increase Button -->
                    <button type="button" class="stepper-btn" (mousedown)="startChangingWeight('increase')"
                        (mouseup)="stopChangingWeight()" (mouseleave)="stopChangingWeight()"
                        (touchstart)="startChangingWeight('increase'); $event.preventDefault()"
                        (touchend)="stopChangingWeight()"
                        [attr.aria-label]="'barbellCalculator.calculator.increaseWeight' | translate">
                        <app-icon name="plus" class="h-5 w-5"></app-icon>
                    </button>
                </div>

                <div class="flex w-full justify-center">
                    <div class="relative w-fit flex rounded-lg bg-gray-200 dark:bg-gray-600 p-1">
                        <div class="absolute top-1 bottom-1 bg-white rounded-md shadow transition-all duration-300 ease-in-out"
                            [ngClass]="{
                             'left-1 right-1/2': unit() === 'kg',
                             'left-1/2 right-1': unit() === 'lb',
                         }"></div>
                        <button type="button" (click)="setUnit('kg')"
                            class="relative z-10 flex-1 px-8 py-2 text-sm font-bold text-center transition-colors duration-300"
                            [ngClass]="{'text-black': unit() === 'kg', 'text-gray-700 dark:text-gray-300': unit() !== 'kg'}">KG</button>
                        <button type="button" (click)="setUnit('lb')"
                            class="relative z-10 flex-1 px-8 py-2 text-sm font-bold text-center transition-colors duration-300"
                            [ngClass]="{'text-black': unit() === 'lb', 'text-gray-700 dark:text-gray-300': unit() !== 'lb'}">LB</button>
                    </div>
                </div>

            </div>

            <div class="reverse-mode-controls" *ngIf="mode() === 'reverse'">
                <p>{{ 'barbellCalculator.calculator.tapToLoad' | translate }}</p>
                <div class="plate-selection">
                    <div *ngFor="let plate of availablePlates()" class="plate-option" (click)="addPlate(plate)">
                        <div class="visual-plate">
                            <div class="visual-plate-circle" [style.background-color]="plate.color"
                                [style.border-color]="plate.color === '#FFFFFF' ? 'white' : plate.color">
                                <span class="visual-plate-weight" [style.color]="getPlateTextColor(plate.color)">{{
                                    plate.weight
                                    }}</span>
                                <div class="visual-plate-hole"></div>
                            </div>
                            <span *ngIf="plateCountMap().has(plate.weight)" class="visual-plate-count">
                                {{ plateCountMap().get(plate.weight) }}x
                            </span>
                        </div>
                    </div>
                </div>
                <button class="clear-btn" (click)="clearLoadout()">
                    <app-icon name="cancel" class="h-5 w-5 mr-2" [strokeWidth]="1"></app-icon>
                    {{ 'barbellCalculator.calculator.clearBar' | translate }}
                </button>
            </div>

            <!-- Config Settings -->
            <div class="config-settings">
                <div class="toggle-group" *ngIf="isPremiumUser()">
                    <label for="personalGymToggle">{{ 'barbellCalculator.calculator.usePersonalGym' | translate
                        }}</label>
                    <label class="toggle-switch">
                        <input type="checkbox" id="personalGymToggle" [checked]="usePersonalGym()"
                            (change)="togglePersonalGym($any($event.target).checked)">
                        <span class="slider round"></span>
                    </label>
                </div>
                <div *ngIf="unit() === 'kg'" class="toggle-group">
                    <label for="50kgToggle">{{ 'barbellCalculator.calculator.enable50kg' | translate:{unit: unit()}
                        }}</label>
                    <label class="toggle-switch">
                        <input type="checkbox" id="50kgToggle" [checked]="enable50kgPlate()"
                            (change)="toggle50kgPlate($any($event.target).checked)">
                        <span class="slider round"></span>
                    </label>
                </div>
                <div class="form-group">
                    <label for="barbell">{{ 'barbellCalculator.calculator.barbell' | translate }}</label>
                    <select id="barbell" [ngModel]="selectedBarbell()" (ngModelChange)="handleBarChange($event)">
                        <option *ngFor="let bar of barbells()" [ngValue]="bar">
                            {{ bar.name | translate }} ({{ bar.weight }}{{ bar.unit }})
                        </option>
                    </select>
                </div>
                <!-- +++ MODIFIED: Replaced isOlympic toggle with a dropdown for plate types +++ -->
                <div class="form-group">
                    <label for="plateType">{{ 'barbellCalculator.calculator.plateType' | translate }}</label>
                    <select id="plateType" [ngModel]="plateType()" (ngModelChange)="handlePlateTypeChange($event)">
                        <option value="bumper">{{ 'barbellCalculator.calculator.bumperPlates' | translate }}</option>
                        <option value="iron">{{ 'barbellCalculator.calculator.standardIron' | translate }}</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="collar">{{ 'barbellCalculator.calculator.collars' | translate }}</label>
                    <select id="collar" [ngModel]="selectedCollar()" (ngModelChange)="handleCollarChange($event)">
                        <option *ngFor="let collar of collars()" [ngValue]="collar">
                            {{ collar.name | translate }} ({{ collar.weight }}{{ collar.unit }})
                        </option>
                    </select>
                </div>
            </div>
            <!-- Loadout Summary -->
            <div class="loadout-summary">
                <h4 *ngIf="platesWeightPerSide()>0">{{ 'barbellCalculator.calculator.platesNeeded' | translate }}</h4>
                <app-plate-summary [loadout]="loadout()"></app-plate-summary>

                <div *ngIf="loadout().length === 0" class="summary-item-empty">
                    {{ 'barbellCalculator.calculator.barAndCollarsOnly' | translate }}
                </div>

                <div class="math-breakdown" *ngIf="selectedBarbell() && selectedCollar()">
                    <p class="title">{{ 'barbellCalculator.calculator.howCalculated' | translate }}:</p>
                    <p class="formula">
                        <span>{{ selectedBarbell()!.weight | number:'1.0-2' }} {{ unit() }}</span>
                        <span class="label"> {{ 'barbellCalculator.calculator.barLabel' | translate }}</span>
                        <span class="op"> + </span>
                        <span>{{ selectedCollar()!.weight | number:'1.0-2' }} {{ unit() }}</span>
                        <span class="label"> {{ 'barbellCalculator.calculator.collarsLabel' | translate }}</span>
                        <span class="op"> + </span>
                        <span>2 * {{ platesWeightPerSide() | number:'1.0-2' }} {{ unit() }}</span>
                        <span class="label"> {{ 'barbellCalculator.calculator.platesLabel' | translate }}</span>
                    </p>
                </div>
            </div>
        </div>
        }
        @case ('percentage') {
        <div class="modal-body custom-scrollbar page-view">
            <div class="header">
                <h3>{{ 'barbellCalculator.percentages.title' | translate }}</h3>
                <button class="close-btn" (click)="onClose()">&times;</button>
            </div>
            <!-- Percentage Form -->
            <div class="percentage-form-header">
                <div class="base-weight-group">
                    <div class="form-group">
                        <label for="baseWeight">{{ 'barbellCalculator.percentages.workingWeight' | translate }}</label>
                        <input id="baseWeight" type="number" class="weight-input"
                            [placeholder]="'barbellCalculator.percentages.workingWeightPlaceholder' | translate"
                            [ngModel]="percentageBaseWeight()" (ngModelChange)="percentageBaseWeight.set($event)">
                    </div>
                </div>
                <div class="config-controls">
                    <div class="percentage-unit-toggle">
                        <button [class.active]="unit() === 'kg'" (click)="setUnit('kg')">KG</button>
                        <button [class.active]="unit() === 'lb'" (click)="setUnit('lb')">LB</button>
                    </div>
                    <div *ngIf="unit() === 'kg'" class="toggle-group small">
                        <label for="p50kgToggle">50kg Plate</label>
                        <label class="toggle-switch">
                            <input type="checkbox" id="p50kgToggle" [checked]="enable50kgPlate()"
                                (change)="toggle50kgPlate($any($event.target).checked)">
                            <span class="slider round"></span>
                        </label>
                    </div>
                </div>
            </div>

            @if (percentageBaseWeight() && percentageBaseWeight()! > 0) {
            <h2 class="flex">{{ 'barbellCalculator.percentages.platesPerSide' | translate }}</h2>
            <div class="percentage-results">
                <div class="percentage-item custom-input">
                    <div class="p-header mt-1 mx-1">
                        <input type="number" class="custom-p-input" [ngModel]="customPercentage()"
                            (ngModelChange)="customPercentage.set($event)" />
                        <span class="percent-sign">%</span>
                        <span class="p-weight">{{ customPercentageResult().achievableWeight | number:'1.0-2' }} {{
                            unit() }}</span>
                    </div>
                    <div class="p-body">
                        <app-plate-summary [loadout]="customPercentageResult().loadout"></app-plate-summary>
                        @if (customPercentageResult().loadout.length === 0) {
                        <div class="summary-item-empty small">{{ 'barbellCalculator.percentages.barCollarsOnly' |
                            translate }}</div>
                        }
                    </div>
                </div>

                <!-- Preset Percentages -->
                @for (result of percentageResults(); track result.percentage) {
                <div class="percentage-item">
                    <div class="p-header">
                        <h4>{{ result.percentage | number:'1.0-0' }}%</h4>
                        <span class="p-weight">{{ result.achievableWeight | number:'1.0-2' }} {{ unit() }}</span>
                    </div>
                    <div class="p-body">
                        <app-plate-summary [loadout]="result.loadout"></app-plate-summary>
                        @if (result.loadout.length === 0) {
                        <div class="summary-item-empty small">{{ 'barbellCalculator.percentages.barCollarsOnly' |
                            translate }}</div>
                        }
                    </div>
                </div>
                }
            </div>
            } @else {
            <p class="empty-state">{{ 'barbellCalculator.percentages.emptyState' | translate }}</p>
            }
        </div>
        }
        <!-- ... Other cases for 1RM, RPE remain the same ... -->
        @case ('oneRepMax') {
        <div class="modal-body custom-scrollbar page-view">
            <div class="header">
                <h3>{{ 'barbellCalculator.oneRepMax.title' | translate }}</h3>
                <button class="close-btn" (click)="onClose()">&times;</button>
            </div>
            <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                <div class="form-group">
                    <label>{{ 'barbellCalculator.oneRepMax.weightLifted' | translate }}</label>
                    <input type="number" [placeholder]="'barbellCalculator.oneRepMax.weightPlaceholder' | translate"
                        [(ngModel)]="oneRmWeight">
                </div>
                <div class="form-group">
                    <label>{{ 'barbellCalculator.oneRepMax.repsPerformed' | translate }}</label>
                    <input type="number" [placeholder]="'barbellCalculator.oneRepMax.repsPlaceholder' | translate"
                        [(ngModel)]="oneRmReps">
                </div>
            </div>

            @if (estimated1RM().epley > 0) {
            <div class="calc-results">
                <h4>{{ 'barbellCalculator.oneRepMax.estimatedTitle' | translate }}</h4>
                <div class="result-grid">
                    <div>{{ 'barbellCalculator.oneRepMax.epley' | translate }}</div>
                    <div>{{ estimated1RM().epley | number:'1.0-2' }}</div>
                    <div>{{ 'barbellCalculator.oneRepMax.brzycki' | translate }}</div>
                    <div>{{ estimated1RM().brzycki | number:'1.0-2' }}</div>
                </div>

                <h4 class="mt-4">{{ 'barbellCalculator.oneRepMax.projectionsTitle' | translate }}</h4>
                <div class="result-grid projection-table">
                    <div class="header">{{ 'barbellCalculator.oneRepMax.repsHeader' | translate }}</div>
                    <div class="header">{{ 'barbellCalculator.oneRepMax.weightHeader' | translate }}</div>
                    @for (proj of oneRmProjectionTable(); track proj.reps) {
                    <div>{{ proj.reps }} RM</div>
                    <div>{{ proj.weight | number:'1.0-2' }}</div>
                    }
                </div>
            </div>
            } @else {
            <p class="empty-state">{{ 'barbellCalculator.oneRepMax.emptyState' | translate }}</p>
            }
        </div>
        }
        @case ('rpe') {
        <div class="modal-body custom-scrollbar page-view">
            <div class="header">
                <h3>{{ 'barbellCalculator.rpe.title' | translate }}</h3>
                <button class="close-btn" (click)="onClose()">&times;</button>
            </div>

            <div class="flex w-full justify-center">
                <div class="relative w-fit flex rounded-lg bg-gray-200 dark:bg-gray-600 p-1">
                    <div class="absolute top-1 bottom-1 bg-primary rounded-md shadow transition-all duration-300 ease-in-out"
                        [ngClass]="{
                             'left-1 right-1/2': rpeInputMode() === 'rpe',
                             'left-1/2 right-1': rpeInputMode() === 'rir',
                         }"></div>
                    <button type="button" (click)="rpeInputMode.set('rpe')"
                        class="relative z-10 flex-1 px-4 py-2 text-sm font-bold text-center transition-colors duration-300"
                        [ngClass]="{'text-white': rpeInputMode() === 'rpe', 'text-gray-700 dark:text-gray-300': rpeInputMode() !== 'rpe'}">{{
                        'barbellCalculator.rpe.rpe' | translate }}</button>
                    <button type="button" (click)="rpeInputMode.set('rir')"
                        class="relative z-10 flex-1 px-4 py-2 text-sm font-bold text-center transition-colors duration-300"
                        [ngClass]="{'text-white': rpeInputMode() === 'rir', 'text-gray-700 dark:text-gray-300': rpeInputMode() !== 'rir'}">{{
                        'barbellCalculator.rpe.rir' | translate }}</button>
                </div>
            </div>

            <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                <div class="form-group">
                    <label>{{ 'barbellCalculator.rpe.weightLifted' | translate }}</label>
                    <input type="number" [placeholder]="'barbellCalculator.oneRepMax.weightPlaceholder' | translate"
                        [(ngModel)]="rpeWeight">
                </div>
                <div class="form-group">
                    <label>{{ 'barbellCalculator.rpe.repsPerformed' | translate }}</label>
                    <input type="number" [placeholder]="'barbellCalculator.oneRepMax.repsPlaceholder' | translate"
                        [(ngModel)]="rpeReps">
                </div>

                <!-- This group spans both columns -->
                <div class="form-group full-width">
                    @if (rpeInputMode() === 'rpe') {
                    <label>{{ 'barbellCalculator.rpe.rpeLabel' | translate }}</label>
                    <select [(ngModel)]="rpeValue">
                        @for (rpe of rpeOptions; track rpe) {
                        <option [ngValue]="rpe">{{ rpe }}</option>
                        }
                    </select>
                    } @else {
                    <label>{{ 'barbellCalculator.rpe.rirLabel' | translate }}</label>
                    <select [(ngModel)]="rirValue">
                        @for (rir of rirOptions; track rir) {
                        <option [ngValue]="rir">{{ rir }}</option>
                        }
                    </select>
                    }
                </div>
            </div>

            @if (estimated1RMFromRpe() > 0) {
            <div class="calc-results centered">
                @if (rpeInputMode() === 'rir') {
                <p class="equivalent-display">{{ 'barbellCalculator.rpe.equivalentRpe' | translate:{rpe: derivedRpe()}
                    }}</p>
                }
                <h4>{{ 'barbellCalculator.rpe.estimatedTitle' | translate }}</h4>
                <p class="big-result">{{ estimated1RMFromRpe() | number:'1.0-2' }}</p>
            </div>
            } @else {
            <p class="empty-state">{{ 'barbellCalculator.rpe.emptyState' | translate }}</p>
            }
        </div>
        }
        @case ('powerlifting') {
        <div class="modal-body custom-scrollbar page-view">
            <div class="header">
                <h3>{{ 'barbellCalculator.powerlifting.title' | translate }}</h3>
                <button class="close-btn" (click)="onClose()">&times;</button>
            </div>
            <!-- Powerlifting Form -->
            <div class="calc-form">
                <div class="form-group">
                    <label>{{ 'barbellCalculator.powerlifting.bodyweight' | translate }}</label>
                    <input type="number"
                        [placeholder]="'barbellCalculator.powerlifting.bodyweightPlaceholder' | translate"
                        [(ngModel)]="plBodyweight">
                </div>
                <div class="form-group">
                    <label>{{ 'barbellCalculator.powerlifting.total' | translate }}</label>
                    <input type="number" [placeholder]="'barbellCalculator.powerlifting.totalPlaceholder' | translate"
                        [(ngModel)]="plTotal">
                </div>
                <div class="form-group">
                    <label>{{ 'barbellCalculator.powerlifting.event' | translate }}</label>
                    <select [(ngModel)]="plEvent">
                        <option value="raw">{{ 'barbellCalculator.powerlifting.raw' | translate }}</option>
                        <option value="equipped">{{ 'barbellCalculator.powerlifting.equipped' | translate }}</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>{{ 'barbellCalculator.powerlifting.category' | translate }}</label>
                    <select [(ngModel)]="plCategory">
                        <option value="full">{{ 'barbellCalculator.powerlifting.fullMeet' | translate }}</option>
                        <option value="bench">{{ 'barbellCalculator.powerlifting.benchOnly' | translate }}</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>{{ 'barbellCalculator.powerlifting.gender' | translate }}</label>
                    <select [(ngModel)]="plGender">
                        <option value="male">{{ 'barbellCalculator.powerlifting.male' | translate }}</option>
                        <option value="female">{{ 'barbellCalculator.powerlifting.female' | translate }}</option>
                    </select>
                </div>

                <div class="flex w-full justify-center">
                    <div class="relative w-fit flex rounded-lg bg-gray-200 dark:bg-gray-600 p-1">
                        <div class="absolute top-1 bottom-1 bg-white rounded-md shadow transition-all duration-300 ease-in-out"
                            [ngClass]="{
                             'left-1 right-1/2': plUnit() === 'kg',
                             'left-1/2 right-1': plUnit() === 'lb',
                         }"></div>
                        <button type="button" (click)="plUnit.set('kg')"
                            class="relative z-10 flex-1 px-8 py-2 text-sm font-bold text-center transition-colors duration-300"
                            [ngClass]="{'text-black': plUnit() === 'kg', 'text-gray-700 dark:text-gray-300': plUnit() !== 'kg'}">KG</button>
                        <button type="button" (click)="plUnit.set('lb')"
                            class="relative z-10 flex-1 px-8 py-2 text-sm font-bold text-center transition-colors duration-300"
                            [ngClass]="{'text-black': plUnit() === 'lb', 'text-gray-700 dark:text-gray-300': plUnit() !== 'lb'}">LB</button>
                    </div>
                </div>
            </div>

            @if (powerliftingScores().wilks1 > 0) {
            <div class="calc-results">
                <!-- REMOVED: The header with the info button is no longer needed -->
                <h4>{{ 'barbellCalculator.powerlifting.calculatedScores' | translate }}</h4>

                <div class="result-grid">
                    <div class="flex">{{ 'barbellCalculator.powerlifting.wilks1' | translate }}<app-icon name="info"
                            class="h-4 w-4 text-gray-400 dark:text-gray-300 cursor-help ml-1"
                            [appTooltip]="getExplanationText('wilks1')"></app-icon></div>
                    <div>{{ powerliftingScores().wilks1 | number:'1.0-2' }}</div>

                    <div>{{ 'barbellCalculator.powerlifting.wilks2' | translate }}<app-icon name="info"
                            class="h-4 w-4 text-gray-400 dark:text-gray-300 cursor-help ml-1"
                            [appTooltip]="getExplanationText('wilks2')"></app-icon></div>
                    <div>{{ powerliftingScores().wilks2 | number:'1.0-2' }}</div>

                    <div>{{ 'barbellCalculator.powerlifting.dots' | translate }}<app-icon name="info"
                            class="h-4 w-4 text-gray-400 dark:text-gray-300 cursor-help ml-1"
                            [appTooltip]="getExplanationText('dots')"></app-icon></div>
                    <div>{{ powerliftingScores().dots | number:'1.0-2' }}</div>

                    <div>{{ 'barbellCalculator.powerlifting.glPoints' | translate }}<app-icon name="info"
                            class="h-4 w-4 text-gray-400 dark:text-gray-300 cursor-help ml-1"
                            [appTooltip]="getExplanationText('glPoints')"></app-icon></div>
                    <div>{{ powerliftingScores().glPoints | number:'1.0-2' }}</div>

                    <div>{{ 'barbellCalculator.powerlifting.qPoints' | translate }}<app-icon name="info"
                            class="h-4 w-4 text-gray-400 dark:text-gray-300 cursor-help ml-1"
                            [appTooltip]="getExplanationText('qPoints')"></app-icon></div>
                    <div>{{ powerliftingScores().qPoints | number:'1.0-2' }}</div>

                    <div>{{ 'barbellCalculator.powerlifting.sinclair' | translate }}<app-icon name="info"
                            class="h-4 w-4 text-gray-400 dark:text-gray-300 cursor-help ml-1"
                            [appTooltip]="getExplanationText('sinclair')"></app-icon></div>
                    <div>{{ powerliftingScores().sinclair | number:'1.0-2' }}</div>
                </div>
            </div>
            } @else {
            <p class="empty-state">{{ 'barbellCalculator.powerlifting.emptyState' | translate }}</p>
            }
        </div>
        }
        }
    </div>
</div>