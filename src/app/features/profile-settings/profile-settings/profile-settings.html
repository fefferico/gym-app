<div class="container mx-auto p-1 sm:p-4">
    <header class="flex justify-between items-center mb-2 pb-2 border-b border-gray-200 dark:border-gray-700">
        <h1 class="text-2xl font-bold text-gray-800 dark:text-gray-200">Profile & Settings</h1>
    </header>

    <div class="space-y-6 sm:space-y-8">

        <!-- User Profile Section -->
        <section class="bg-white dark:bg-gray-700 p-4 sm:p-6 rounded-lg shadow-md">
            <h2 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mb-4">User Profile</h2>
            <form [formGroup]="profileForm" class="space-y-4">
                <div>
                    <label for="username"
                        class="block text-sm font-medium text-gray-700 dark:text-gray-300">Username</label>
                    <input type="text" id="username" formControlName="username" placeholder="Your display name"
                        class="mt-1 block w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-primary focus:border-primary dark:bg-gray-600">
                </div>

                <div class=" dark:text-gray-300">
                    <label for="gender"
                        class="block text-sm font-medium text-gray-700 dark:text-gray-300">Gender</label>
                    <select id="gender" formControlName="gender"
                        class="mt-1 block w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-primary focus:border-primary dark:bg-gray-600">
                        <option [ngValue]="null">Select Gender...</option>
                        <option *ngFor="let genderOpt of genders" [value]="genderOpt.value">{{ genderOpt.label }}
                        </option>
                    </select>
                </div>

                <div formGroupName="measurements" class="space-y-4 pt-4 border-t border-gray-200 dark:border-gray-600">
                    <h3 class="text-lg font-medium text-gray-700 dark:text-gray-300">Measurements</h3>
                    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4">
                        <div>
                            <label for="age"
                                class="block text-xs font-medium text-gray-600 dark:text-gray-400">Age</label>
                            <input type="number" min="0" id="age" formControlName="age" placeholder="Years"
                                class="mt-1 w-full p-1.5 text-sm border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-600">
                        </div>
                        <div>
                            <label for="heightCm"
                                class="block text-xs font-medium text-gray-600 dark:text-gray-400">Height (cm)</label>
                            <input type="number" min="0" id="heightCm" formControlName="heightCm" placeholder="cm"
                                class="mt-1 w-full p-1.5 text-sm border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-600">
                        </div>
                        <div>
                            <label for="weightKg"
                                class="block text-xs font-medium text-gray-600 dark:text-gray-400">Weight (kg)</label>
                            <input type="number" min="0" id="weightKg" formControlName="weightKg" placeholder="kg"
                                class="mt-1 w-full p-1.5 text-sm border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-600">
                        </div>
                        <div>
                            <label for="chestCm"
                                class="block text-xs font-medium text-gray-600 dark:text-gray-400">Chest (cm)</label>
                            <input type="number" min="0" id="chestCm" formControlName="chestCm" placeholder="cm"
                                class="mt-1 w-full p-1.5 text-sm border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-600">
                        </div>
                        <div>
                            <label for="waistCm"
                                class="block text-xs font-medium text-gray-600 dark:text-gray-400">Waist (cm)</label>
                            <input type="number" min="0" id="waistCm" formControlName="waistCm" placeholder="cm"
                                class="mt-1 w-full p-1.5 text-sm border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-600">
                        </div>
                        <div>
                            <label for="hipsCm" class="block text-xs font-medium text-gray-600 dark:text-gray-400">Hips
                                (cm)</label>
                            <input type="number" min="0" id="hipsCm" formControlName="hipsCm" placeholder="cm"
                                class="mt-1 w-full p-1.5 text-sm border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-600">
                        </div>
                        <div>
                            <label for="rightArmCm"
                                class="block text-xs font-medium text-gray-600 dark:text-gray-400">Right Arm
                                (cm)</label>
                            <input type="number" min="0" id="rightArmCm" formControlName="rightArmCm" placeholder="cm"
                                class="mt-1 w-full p-1.5 text-sm border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-600">
                        </div>
                    </div>
                </div>
                <div class="pt-3 text-right">
                    <button type="button" (click)="saveProfileSettings()"
                        [disabled]="profileForm.pristine || profileForm.invalid"
                        class="px-4 py-2 bg-green-500 hover:bg-green-600 text-white font-semibold rounded-md shadow-sm text-sm disabled:opacity-50 disabled:cursor-not-allowed">
                        SAVE PROFILE
                    </button>
                </div>
            </form>
        </section>

        <!-- App Settings Section -->
        <section class="bg-white dark:bg-gray-700 p-4 sm:p-6 rounded-lg shadow-md">
            <h2 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mb-4">Workout Player Settings</h2>
            <form [formGroup]="appSettingsForm" class="space-y-4">
                <!-- Weight Step -->
                <div class="border-b border-gray-200 dark:border-gray-600 pb-4">
                    <label for="weightStep" class="block text-md font-medium text-gray-700 dark:text-gray-300">Weight
                        Increment Step</label>
                    <p class="text-sm text-gray-500 dark:text-gray-400 mb-1">Default step for +/- weight buttons in
                        player (in {{unitsService.currentUnit() | uppercase}}).</p>
                    <input type="number" id="weightStep" formControlName="weightStep" min="0.01" step="any"
                        class="mt-1 block w-full sm:w-1/3 p-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-primary focus:border-primary dark:bg-gray-600 dark:text-gray-200">
                    <div *ngIf="appSettingsForm.get('weightStep')?.invalid && appSettingsForm.get('weightStep')?.touched"
                        class="text-red-500 dark:text-red-400 text-xs mt-1">
                        Must be a positive number (e.g., 2.5 or 5). Max 50.
                    </div>
                </div>

                <!-- Countdown Sound for Timed Sets -->
                <div class="flex items-center justify-between pt-4">
                    <div>
                        <h3 class="text-md font-medium text-gray-700 dark:text-gray-300">Timed Set Countdown Sound</h3>
                        <p class="text-sm text-gray-500 dark:text-gray-400 mr-1">Play sound X seconds before a timed set
                            ends.</p>
                    </div>
                    <label for="countdown-sound-toggle" class="inline-flex items-center cursor-pointer">
                        <input type="checkbox" id="countdown-sound-toggle" class="sr-only peer"
                            formControlName="enableTimerCountdownSound">
                        <div
                            class="relative w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-600 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-primary dark:peer-checked:bg-primary-dark">
                        </div>
                        <span class="ms-3 text-sm font-medium text-gray-900 dark:text-gray-300">
                            {{ appSettingsForm.get('enableTimerCountdownSound')?.value ? 'On' : 'Off' }}
                        </span>
                    </label>
                </div>
                <div *ngIf="appSettingsForm.get('enableTimerCountdownSound')?.value" class=" dark:text-gray-300">
                    <label for="countdownSeconds"
                        class="block text-sm font-medium text-gray-700 dark:text-gray-300">Countdown From
                        (seconds)</label>
                    <input type="number" id="countdownSeconds" formControlName="countdownSoundSeconds" min="1" max="20"
                        class="mt-1 block w-full sm:w-1/3 p-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-primary focus:border-primary dark:bg-gray-600">
                    <div *ngIf="appSettingsForm.get('countdownSoundSeconds')?.invalid && appSettingsForm.get('countdownSoundSeconds')?.touched"
                        class="text-red-500 dark:text-red-400 text-xs mt-1">
                        Must be 1-20s.
                    </div>
                </div>

                <!-- Pre-Set Timer -->
                <div class="pt-4 border-t border-gray-200 dark:border-gray-600"></div>
                <div class="flex items-center justify-between">
                    <div>
                        <h3 class="text-md font-medium text-gray-700 dark:text-gray-300">Pre-Set Timer</h3>
                        <p class="text-sm text-gray-500 dark:text-gray-400 mr-1">Show a countdown before each set
                            starts.</p>
                    </div>
                    <label for="preset-timer-toggle" class="inline-flex items-center cursor-pointer">
                        <span class="sr-only">Toggle Pre-Set Timer</span>
                        <input type="checkbox" id="preset-timer-toggle" class="sr-only peer"
                            formControlName="enablePresetTimer">
                        <div
                            class="relative w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-600 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-primary dark:peer-checked:bg-primary-dark">
                        </div>
                        <span class="ms-3 text-sm font-medium text-gray-900 dark:text-gray-300">
                            {{ appSettingsForm.get('enablePresetTimer')?.value ? 'On' : 'Off' }}
                        </span>
                    </label>
                </div>
                <div *ngIf="appSettingsForm.get('enablePresetTimer')?.value">
                    <label for="presetTimerDurationSeconds"
                        class="block text-sm font-medium text-gray-700 dark:text-gray-300">Pre-Set Timer Duration
                        (seconds)</label>
                    <input type="number" id="presetTimerDurationSeconds" formControlName="presetTimerDurationSeconds"
                        min="3" max="60"
                        class="mt-1 block w-full sm:w-1/3 p-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-primary focus:border-primary dark:bg-gray-600">
                    <div *ngIf="appSettingsForm.get('presetTimerDurationSeconds')?.invalid && appSettingsForm.get('presetTimerDurationSeconds')?.touched"
                        class="text-red-500 dark:text-red-400 text-xs mt-1">
                        Must be 3-60s.
                    </div>
                </div>
                <div *ngIf="appSettingsForm.get('enablePresetTimer')?.value">
                    <div class="flex items-center justify-between"> <!-- Changed for better alignment -->
                        <div>
                            <h3 class="text-md font-medium text-gray-700 dark:text-gray-300">Pre-Set Timer after Rest
                            </h3>
                            <p class="text-sm text-gray-500 dark:text-gray-400 mr-1">Show countdown after each rest
                                ends.</p>
                        </div>
                        <label for="preset-timer-toggle-after-rest" class="inline-flex items-center cursor-pointer">
                            <span class="sr-only">Toggle Pre-Set Timer after rest</span>
                            <input type="checkbox" id="preset-timer-toggle-after-rest" class="sr-only peer"
                                formControlName="enablePresetTimerAfterRest">
                            <div
                                class="relative w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-600 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-primary dark:peer-checked:bg-primary-dark">
                            </div>
                            <span class="ms-3 text-sm font-medium text-gray-900 dark:text-gray-300">
                                {{ appSettingsForm.get('enablePresetTimerAfterRest')?.value ? 'On' : 'Off' }}
                            </span>
                        </label>
                    </div>
                </div>

                <div class="pt-3 text-right">
                    <button type="button" (click)="saveAppSettings()"
                        [disabled]="appSettingsForm.pristine || appSettingsForm.invalid"
                        class="px-4 py-2 bg-green-500 hover:bg-green-600 text-white font-semibold rounded-md shadow-sm text-sm disabled:opacity-50 disabled:cursor-not-allowed">
                        SAVE PLAYER SETTINGS
                    </button>
                </div>
            </form>
        </section>

        <!-- Data Management Section -->
        <section class="bg-white dark:bg-gray-700 p-4 sm:p-6 rounded-lg shadow-md">
            <h2 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mb-4">Data Management</h2>
            <div class="space-y-4">
                <div>
                    <p class="text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Backup your data to a JSON
                        file</p>
                    <button (click)="exportData()"
                        class="px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white font-semibold rounded-md shadow-sm transition-colors text-sm">EXPORT
                        DATA</button>
                </div>
                <div>
                    <p class="text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Restore your data from a JSON
                        backup file</p>
                    <input type="file" (change)="importData($event)" accept="application/json"
                        class="block w-full text-sm text-gray-700 dark:text-gray-300 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-gray-200 file:text-gray-700 hover:file:bg-gray-300 dark:file:bg-gray-600 dark:file:text-gray-200 dark:hover:file:bg-gray-700">
                </div>
                <div class="pt-4 border-t border-gray-200 dark:border-gray-700">
                    <h3 class="text-lg font-semibold text-gray-700 dark:text-gray-300 mb-2">Reset / Clear Data</h3>
                    <p class="text-sm font-medium text-red-600 dark:text-red-400 mb-2">WARNING: This action will delete
                        ALL your saved data</p>
                    <button (click)="clearAllAppData()"
                        class="px-4 py-2 bg-red-500 hover:bg-red-600 text-white font-semibold rounded-md shadow-sm transition-colors text-sm">CLEAR
                        ALL DATA</button>
                </div>
            </div>
        </section>

        <!-- Exercise List Link Section -->
        <section class="bg-white dark:bg-gray-700 p-4 sm:p-6 rounded-lg shadow-md">
            <h2 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mb-4">Exercise library</h2>
            <div>
                <p class="text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">View all the available exercise and
                    add your own ones.</p>
                <a routerLink="/library"
                    class="px-4 py-2 bg-primary hover:bg-primary-dark text-white font-semibold rounded-md shadow-sm transition-colors inline-flex items-center text-sm">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                        stroke="currentColor" class="w-6 h-6 transition-all mr-2">
                        <!-- Conditionally add margin only when text is visible -->
                        <path stroke-linecap="round" stroke-linejoin="round"
                            [attr.d]="'M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25'" />
                    </svg>EXERCISES
                </a>
            </div>
        </section>

        <!-- Personal Bests Link Section -->
        <section class="bg-white dark:bg-gray-700 p-4 sm:p-6 rounded-lg shadow-md">
            <h2 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mb-4">Your Achievements</h2>
            <div>
                <p class="text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">View all your tracked Personal
                    Bests.</p>
                <a routerLink="/profile/personal-bests"
                    class="px-4 py-2 bg-primary hover:bg-primary-dark text-white font-semibold rounded-md shadow-sm transition-colors inline-flex items-center text-sm">
                    <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 transition-all mr-2">
                        <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                        <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                        <g id="SVGRepo_iconCarrier">
                            <path
                                d="M12.0002 16C6.24021 16 5.21983 10.2595 5.03907 5.70647C4.98879 4.43998 4.96365 3.80673 5.43937 3.22083C5.91508 2.63494 6.48445 2.53887 7.62318 2.34674C8.74724 2.15709 10.2166 2 12.0002 2C13.7837 2 15.2531 2.15709 16.3771 2.34674C17.5159 2.53887 18.0852 2.63494 18.5609 3.22083C19.0367 3.80673 19.0115 4.43998 18.9612 5.70647C18.7805 10.2595 17.7601 16 12.0002 16Z"
                                stroke="currentColor" stroke-width="1.5"></path>
                            <path d="M12 16V19" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path>
                            <path
                                d="M15.5 22H8.5L8.83922 20.3039C8.93271 19.8365 9.34312 19.5 9.8198 19.5H14.1802C14.6569 19.5 15.0673 19.8365 15.1608 20.3039L15.5 22Z"
                                stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
                            <path 
                                d="M19 5L19.9486 5.31621C20.9387 5.64623 21.4337 5.81124 21.7168 6.20408C22 6.59692 22 7.11873 21.9999 8.16234L21.9999 8.23487C21.9999 9.09561 21.9999 9.52598 21.7927 9.87809C21.5855 10.2302 21.2093 10.4392 20.4569 10.8572L17.5 12.5"
                                stroke="currentColor" stroke-width="1.5"></path>
                            <path 
                                d="M4.99994 5L4.05132 5.31621C3.06126 5.64623 2.56623 5.81124 2.2831 6.20408C1.99996 6.59692 1.99997 7.11873 2 8.16234L2 8.23487C2.00003 9.09561 2.00004 9.52598 2.20723 9.87809C2.41441 10.2302 2.79063 10.4392 3.54305 10.8572L6.49994 12.5"
                                stroke="currentColor" stroke-width="1.5"></path>
                            <path
                                d="M11.1459 6.02251C11.5259 5.34084 11.7159 5 12 5C12.2841 5 12.4741 5.34084 12.8541 6.02251L12.9524 6.19887C13.0603 6.39258 13.1143 6.48944 13.1985 6.55334C13.2827 6.61725 13.3875 6.64097 13.5972 6.68841L13.7881 6.73161C14.526 6.89857 14.895 6.98205 14.9828 7.26432C15.0706 7.54659 14.819 7.84072 14.316 8.42898L14.1858 8.58117C14.0429 8.74833 13.9714 8.83191 13.9392 8.93531C13.9071 9.03872 13.9179 9.15023 13.9395 9.37327L13.9592 9.57632C14.0352 10.3612 14.0733 10.7536 13.8435 10.9281C13.6136 11.1025 13.2682 10.9435 12.5773 10.6254L12.3986 10.5431C12.2022 10.4527 12.1041 10.4075 12 10.4075C11.8959 10.4075 11.7978 10.4527 11.6014 10.5431L11.4227 10.6254C10.7318 10.9435 10.3864 11.1025 10.1565 10.9281C9.92674 10.7536 9.96476 10.3612 10.0408 9.57632L10.0605 9.37327C10.0821 9.15023 10.0929 9.03872 10.0608 8.93531C10.0286 8.83191 9.95713 8.74833 9.81418 8.58117L9.68403 8.42898C9.18097 7.84072 8.92945 7.54659 9.01723 7.26432C9.10501 6.98205 9.47396 6.89857 10.2119 6.73161L10.4028 6.68841C10.6125 6.64097 10.7173 6.61725 10.8015 6.55334C10.8857 6.48944 10.9397 6.39258 11.0476 6.19887L11.1459 6.02251Z"
                                stroke="currentColor" stroke-width="1.5"></path>
                            <path d="M18 22H6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path>
                        </g>
                    </svg>
                    VIEW PBs
                </a>
            </div>
        </section>

        <!-- General Settings (Weight Units) -->
        <section class="bg-white dark:bg-gray-700 p-4 sm:p-6 rounded-lg shadow-md">
            <h2 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mb-4">General Settings</h2>
            <div class="space-y-4">
                <div>
                    <p class="text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Weight Units</p>
                    <div class="flex space-x-4">
                        <button (click)="selectUnit('kg')" class="px-4 py-2 border rounded-md transition-colors text-sm"
                            [ngClass]="{'bg-primary hover:bg-primary-dark text-white border-primary dark:border-primary': currentUnit() === 'kg', 'border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700': currentUnit() !== 'kg'}">kg</button>
                        <button (click)="selectUnit('lbs')"
                            class="px-4 py-2 border rounded-md transition-colors text-sm"
                            [ngClass]="{'bg-primary hover:bg-primary-dark text-white border-primary dark:border-primary': currentUnit() === 'lbs', 'border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700': currentUnit() !== 'lbs'}">lbs</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Appearance Settings -->
        <section class="bg-white dark:bg-gray-700 p-4 sm:p-6 rounded-lg shadow-md">
            <h2 class="text-xl font-semibold text-gray-700 dark:text-gray-300 mb-4">Appearance</h2>
            <div class="flex items-center justify-between">
                <div>
                    <h3 class="text-md font-medium text-gray-700 dark:text-gray-300">Dark Mode</h3>
                    <p class="text-sm text-gray-500 dark:text-gray-400 mr-1">Toggle between light and dark themes.</p>
                </div>
                <label for="theme-toggle" class="inline-flex items-center cursor-pointer">
                    <span class="sr-only">Toggle Dark Mode</span>
                    <input type="checkbox" id="theme-toggle" class="sr-only peer" [checked]="themeService.isDarkTheme()"
                        (change)="themeService.toggleTheme()">
                    <div
                        class="relative w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-600 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-primary dark:peer-checked:bg-primary-dark">
                    </div>
                    <span class="ms-3 text-sm font-medium text-gray-900 dark:text-gray-300">{{
                        themeService.isDarkTheme() ? 'On' : 'Off' }}</span>
                </label>
            </div>
            <div class="flex items-center justify-between mt-5">
                <div>
                    <h3 class="text-md font-medium text-gray-700 dark:text-gray-300">Compact menu mode</h3>
                    <p class="text-sm text-gray-500 dark:text-gray-400 mr-1">Toggle between window and compact mode</p>
                </div>
                <label for="menu-mode-toggle" class="inline-flex items-center cursor-pointer">
                    <span class="sr-only">Toggle Compact Mode</span>
                    <input type="checkbox" id="menu-mode-toggle" class="sr-only peer"
                        [checked]="themeService.isMenuModeCompact()" (change)="themeService.toggleMenuMode()">
                    <div
                        class="relative w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-600 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-primary dark:peer-checked:bg-primary-dark">
                    </div>
                    <span class="ms-3 text-sm font-medium text-gray-900 dark:text-gray-300">{{
                        themeService.isMenuModeCompact() ? 'On' : 'Off' }}</span>
                </label>
            </div>
        </section>
    </div>
</div>