import{G as n,T as l,h as a}from"./chunk-XFXOP52A.js";var u=class s{toasts=l([]);defaultDuration=5e3;constructor(){}show(t,i="info",e,c){let r=`toast-${Date.now()}-${Math.random().toString(36).substring(2,7)}`,o={id:r,message:t,type:i,duration:e??this.defaultDuration,title:c};this.toasts.update(g=>[...g,o]),o.duration&&o.duration>0&&setTimeout(()=>this.remove(r),o.duration)}success(t,i,e){this.show(t,"success",i,e)}error(t,i,e){this.show(t,"error",i,e)}warning(t,i,e){this.show(t,"warning",i,e)}info(t,i,e){this.show(t,"info",i,e)}remove(t){this.toasts.update(i=>i.filter(e=>e.id!==t))}clearAll(){this.toasts.set([])}static \u0275fac=function(i){return new(i||s)};static \u0275prov=n({token:s,factory:s.\u0275fac,providedIn:"root"})};var d=class s{loadingCount=0;isLoading=new a(!1);loadingMessage=new a(null);activeTimeoutId=null;loading$=this.isLoading.asObservable();message$=this.loadingMessage.asObservable();constructor(){}show(t=null,i=6e3,e="Sembra che ci siano problemi di connessione..."){this.loadingCount++,this.loadingCount===1&&this.isLoading.next(!0),this.loadingMessage.next(t),this.activeTimeoutId&&(clearTimeout(this.activeTimeoutId),this.activeTimeoutId=null),typeof i=="number"&&i>0&&typeof e=="string"&&(this.activeTimeoutId=setTimeout(()=>{this.isLoading.value&&this.loadingMessage.next(t+" ("+e+")"),this.activeTimeoutId=null},i))}hide(){this.loadingCount>0&&this.loadingCount--,this.loadingCount===0&&(this.isLoading.next(!1),this.loadingMessage.next(null),this.activeTimeoutId&&(clearTimeout(this.activeTimeoutId),this.activeTimeoutId=null))}reset(){this.loadingCount=0,this.isLoading.next(!1),this.loadingMessage.next(null),this.activeTimeoutId&&(clearTimeout(this.activeTimeoutId),this.activeTimeoutId=null)}static \u0275fac=function(i){return new(i||s)};static \u0275prov=n({token:s,factory:s.\u0275fac,providedIn:"root"})};export{u as a,d as b};
