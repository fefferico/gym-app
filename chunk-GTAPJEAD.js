import{a as $e,c as Ce}from"./chunk-4UBHCVRA.js";import{a as mt}from"./chunk-VQDD6UEP.js";import{a as Ee}from"./chunk-7APYXRYK.js";import"./chunk-LWEBPOLI.js";import{c as st,d as lt}from"./chunk-ABIZCNN3.js";import{a as at}from"./chunk-OZW5BBHY.js";import{a as nt}from"./chunk-K4KFLPA4.js";import{a as ot}from"./chunk-5GNCS2EV.js";import{a as we,b as ke}from"./chunk-5DPDJ6ZA.js";import{c as Ve,d as le,f as Z,g as Q,h as me}from"./chunk-YAHOZYMW.js";import{a as et,b as tt,n as rt,q as it}from"./chunk-7MRZKHNC.js";import{$a as _,A as Ne,Ac as Xe,Bc as Je,Cc as Ze,Ec as be,Fa as d,Fb as oe,Ga as i,Gb as R,Gc as xe,Ha as t,Hb as U,Hc as _e,I as te,Ia as c,Ja as Fe,Jc as j,Ka as Me,Kb as Re,Kc as Se,L as Le,Lc as Qe,Ma as E,Mc as W,Na as g,Nb as Ue,Oa as u,Ob as Ge,P as x,Pb as ae,Qb as je,Sb as G,T as v,Tb as J,U as b,V as I,Va as A,W as F,Wa as Ae,Xa as ie,Za as o,_ as M,_a as k,bb as ne,cc as se,d as Oe,dc as We,fa as re,hc as ze,ia as V,ib as Be,ic as de,ja as He,jb as q,jc as f,kc as pe,la as l,lc as ce,n as O,nb as S,ob as L,pb as T,pc as ge,qb as H,qc as ue,rb as X,rc as Ye,tc as fe,ua as N,ub as D,uc as Ke,w as ee,wc as ye,xc as qe,yc as he,z as B,za as y,zc as ve}from"./chunk-EOMZYKKV.js";import{a as Y,b as K,g as w}from"./chunk-GAL4ENT6.js";var $=class s{STORE_NAME="progress_photos";dbService=x($e);saveImage(r,e){return w(this,null,function*(){return O(this.dbService.update(this.STORE_NAME,{date:r,image:e}))})}getImage(r){return w(this,null,function*(){if(!r)return Promise.resolve(void 0);let e=yield O(this.dbService.getByKey(this.STORE_NAME,r));return e?e.image:void 0})}deleteImage(r){return w(this,null,function*(){return r?O(this.dbService.delete(this.STORE_NAME,r)):Promise.resolve()})}getAllImagesForBackup(){return w(this,null,function*(){let r=yield O(this.dbService.getAll(this.STORE_NAME)),e=[];for(let n of r)if(n.image instanceof Blob){let a=yield this.blobToBase64(n.image);e.push({date:n.date,type:n.image.type,data:a})}return e})}importImages(r){return w(this,null,function*(){if(!r||r.length===0)return Promise.resolve();let e=r.map(n=>{let a=this.base64ToBlob(n.data,n.type);return{date:n.date,image:a}});return O(this.dbService.bulkPut(this.STORE_NAME,e))})}blobToBase64(r){return new Promise((e,n)=>{let a=new FileReader;a.onloadend=()=>e(a.result),a.onerror=n,a.readAsDataURL(r)})}base64ToBlob(r,e=""){let n=atob(r.split(",")[1]),a=[];for(let m=0;m<n.length;m+=512){let p=n.slice(m,m+512),h=new Array(p.length);for(let P=0;P<p.length;P++)h[P]=p.charCodeAt(P);let C=new Uint8Array(h);a.push(C)}return new Blob(a,{type:e})}static \u0275fac=function(e){return new(e||s)};static \u0275prov=Le({token:s,factory:s.\u0275fac,providedIn:"root"})};var dt=(s,r)=>({"bg-primary hover:bg-primary-dark text-white border-primary dark:border-primary":s,"border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700":r});function ht(s,r){if(s&1&&(i(0,"option",94),o(1),t()),s&2){let e=r.$implicit;d("value",e.value),l(),_("",e.label," ")}}function vt(s,r){s&1&&(i(0,"div",95),o(1," Must be a positive number (e.g., 2.5 or 5). Max 50. "),t())}function bt(s,r){s&1&&(i(0,"div",95),o(1," Must be 1-20s. "),t())}function xt(s,r){if(s&1){let e=E();i(0,"div",10)(1,"label",96),o(2,"Countdown From (seconds)"),t(),i(3,"input",97),g("change",function(){v(e);let a=u();return b(a.currentVibrator.vibrate(50))}),t(),y(4,bt,2,0,"div",50),t()}if(s&2){let e,n=u();l(4),d("ngIf",((e=n.appSettingsForm.get("countdownSoundSeconds"))==null?null:e.invalid)&&((e=n.appSettingsForm.get("countdownSoundSeconds"))==null?null:e.touched))}}function _t(s,r){s&1&&(i(0,"div",95),o(1," Must be 3-60s. "),t())}function St(s,r){if(s&1){let e=E();i(0,"div",98)(1,"label",99),o(2,"Pre-Set Timer Duration (seconds)"),t(),i(3,"input",100),g("change",function(){v(e);let a=u();return b(a.currentVibrator.vibrate(50))}),t(),y(4,_t,2,0,"div",50),t()}if(s&2){let e,n=u();l(4),d("ngIf",((e=n.appSettingsForm.get("presetTimerDurationSeconds"))==null?null:e.invalid)&&((e=n.appSettingsForm.get("presetTimerDurationSeconds"))==null?null:e.touched))}}function wt(s,r){if(s&1&&(i(0,"div",109),c(1,"input",110),i(2,"label",111),o(3),t()()),s&2){let e=r.$implicit;l(),d("id","strategy-"+e.value)("value",e.value),l(),d("for","strategy-"+e.value),l(),k(e.label)}}function kt(s,r){s&1&&(i(0,"div",95),o(1," Please select a strategy. "),t())}function Ct(s,r){s&1&&(i(0,"div",95),o(1," Must be a positive number. "),t())}function Et(s,r){if(s&1&&(i(0,"div")(1,"label",112),o(2),S(3,"uppercase"),t(),c(4,"input",113),y(5,Ct,2,0,"div",50),t()),s&2){let e,n=u(2);l(2),_("Weight Increment (",L(3,2,n.unitsService.currentUnit()),")"),l(3),d("ngIf",((e=n.progressiveOverloadForm.get("weightIncrement"))==null?null:e.invalid)&&((e=n.progressiveOverloadForm.get("weightIncrement"))==null?null:e.touched))}}function Pt(s,r){s&1&&(i(0,"div",95),o(1," Must be a whole number (e.g., 1, 2). "),t())}function Tt(s,r){if(s&1&&(i(0,"div")(1,"label",114),o(2,"Repetitions Increment"),t(),c(3,"input",115),y(4,Pt,2,0,"div",50),t()),s&2){let e,n=u(2);l(4),d("ngIf",((e=n.progressiveOverloadForm.get("repsIncrement"))==null?null:e.invalid)&&((e=n.progressiveOverloadForm.get("repsIncrement"))==null?null:e.touched))}}function It(s,r){s&1&&(i(0,"div",95),o(1," Must be at least 1 session. "),t())}function Ft(s,r){if(s&1&&(i(0,"div",101)(1,"div")(2,"label",102),o(3,"Progression Strategy"),t(),i(4,"p",103),o(5,"Choose what to increase when you meet your goals."),t(),i(6,"div",104),y(7,wt,4,4,"div",105),t(),y(8,kt,2,0,"div",50),t(),y(9,Et,6,4,"div",106)(10,Tt,5,1,"div",106),i(11,"div")(12,"label",107),o(13,"Apply After # Successful Sessions"),t(),i(14,"p",48),o(15,"Increase after completing this many workouts for an exercise successfully."),t(),c(16,"input",108),y(17,It,2,0,"div",50),t()()),s&2){let e,n,a,m,p=u();l(7),d("ngForOf",p.progressiveOverloadStrategies),l(),d("ngIf",((e=p.progressiveOverloadForm.get("strategy"))==null?null:e.invalid)&&((e=p.progressiveOverloadForm.get("strategy"))==null?null:e.touched)),l(),d("ngIf",((n=p.progressiveOverloadForm.get("strategy"))==null?null:n.value)==="weight"),l(),d("ngIf",((a=p.progressiveOverloadForm.get("strategy"))==null?null:a.value)==="reps"),l(7),d("ngIf",((m=p.progressiveOverloadForm.get("sessionsToIncrement"))==null?null:m.invalid)&&((m=p.progressiveOverloadForm.get("sessionsToIncrement"))==null?null:m.touched))}}var Pe=class s{fb=x(be);router=x(se);workoutService=x(tt);trackingService=x(ke);trainingProgramService=x(it);exerciseService=x(we);storageService=x(Qe);unitsService=x(Ee);alertService=x(Se);spinnerService=x(ot);themeService=x(at);userProfileService=x(Ce);appSettingsService=x(mt);progressiveOverloadService=x(et);platformId=x(re);toastService=x(W);imageStorageService=x($);currentVibrator=navigator;syncHistoryTooltipString='This will scan all workout logs to update the "Last Used" date for every exercise in your library. Run this if the dates seem out of sync after an import or an update.';goalsForm;profileForm;appSettingsForm;progressiveOverloadForm;currentUnit=this.unitsService.currentUnit;genders=[{label:"Male",value:"male"},{label:"Female",value:"female"},{label:"Other",value:"other"},{label:"Prefer not to say",value:"prefer_not_to_say"}];progressiveOverloadStrategies=[{label:"Increase Weight",value:"weight"},{label:"Increase Reps",value:"reps"}];BACKUP_VERSION=6;constructor(){this.profileForm=this.fb.group({general:this.fb.group({username:[""],gender:[null],age:[null,[f.min(0),f.max(150),f.required]]}),measurements:this.fb.group({heightCm:[null,[f.min(0),f.required]],weightKg:[null,[f.min(0),f.required]],chestCm:[null,[f.min(0)]],neckCm:[null,[f.min(0)]],waistCm:[null,[f.min(0)]],hipsCm:[null,[f.min(0)]],rightArmCm:[null,[f.min(0)]]})}),this.goalsForm=this.fb.group({weightKg:[null,[f.min(0)]],waistCm:[null,[f.min(0)]]}),this.appSettingsForm=this.fb.group({enableTimerCountdownSound:[!0],countdownSoundSeconds:[5,[f.required,f.min(1),f.max(60)]],enablePresetTimer:[!1],presetTimerDurationSeconds:[10,[f.required,f.min(3),f.max(60)]],weightStep:[2.5,[f.required,f.min(.01),f.max(50)]]}),this.progressiveOverloadForm=this.fb.group({enabled:[!1],strategy:[null],weightIncrement:[null,[f.min(.1)]],repsIncrement:[null,[f.min(1),f.pattern("^[0-9]*$")]],sessionsToIncrement:[1,[f.required,f.min(1)]]})}ngOnInit(){J(this.platformId)&&window.scrollTo(0,0),this.loadProfileData(),this.loadAppSettingsData(),this.loadProgressiveOverloadSettings(),this.appSettingsForm.valueChanges.pipe(B(700),ee(()=>this.appSettingsForm.valid&&this.appSettingsForm.dirty),te(r=>{this.appSettingsService.saveSettings(r),this.appSettingsForm.markAsPristine({onlySelf:!1}),this.toastService.info("App settings auto-saved",1500)})).subscribe(),this.listenForProgressiveOverloadChanges(),this.profileForm.get("general")?.valueChanges.pipe(B(700)).subscribe(()=>this.saveGeneralData()),this.loadGoalsData(),this.goalsForm.valueChanges.pipe(B(700),ee(()=>this.goalsForm.valid&&this.goalsForm.dirty),te(r=>{this.userProfileService.saveGoals(r),this.goalsForm.markAsPristine(),this.toastService.info("Goals auto-saved",1500)})).subscribe()}loadGoalsData(){let r=this.userProfileService.getProfile()?.measurementGoals;r&&this.goalsForm.reset(r,{emitEvent:!1})}saveMeasurements(){let r=this.profileForm?.get("measurements");if(!this.profileForm||!r||r.invalid){this.toastService.error("Please fill in all required fields correctly: at least age, height and weight should be filled.");return}let e=this.profileForm.get("measurements")?.value;this.userProfileService.addOrUpdateMeasurementEntry(e),this.profileForm.get("measurements").markAsPristine(),this.toastService.info("Measurements history updated",1500)}saveGeneralData(){let r={username:this.profileForm.get("general.username")?.value,gender:this.profileForm.get("general.gender")?.value,age:this.profileForm.get("general.age")?.value};this.userProfileService.saveProfile(r),this.toastService.info("Profile auto-saved",1500),this.profileForm.markAsPristine()}listenForProgressiveOverloadChanges(){this.progressiveOverloadForm.valueChanges.pipe(B(700),ee(()=>this.progressiveOverloadForm.valid&&this.progressiveOverloadForm.dirty),te(m=>{this.progressiveOverloadService.saveSettings(m),this.progressiveOverloadForm.markAsPristine({onlySelf:!1}),this.toastService.info("Progressive Overload settings auto-saved",1500)})).subscribe();let r=this.progressiveOverloadForm.get("enabled"),e=this.progressiveOverloadForm.get("strategy"),n=this.progressiveOverloadForm.get("weightIncrement"),a=this.progressiveOverloadForm.get("repsIncrement");r?.valueChanges.subscribe(m=>{m?e?.setValidators(f.required):(e?.clearValidators(),e?.setValue(null,{emitEvent:!1})),e?.updateValueAndValidity()}),e?.valueChanges.subscribe(m=>{m==="weight"?(n?.setValidators([f.required,f.min(.1)]),a?.clearValidators(),a?.setValue(null,{emitEvent:!1})):m==="reps"?(a?.setValidators([f.required,f.min(1),f.pattern("^[0-9]*$")]),n?.clearValidators(),n?.setValue(null,{emitEvent:!1})):(n?.clearValidators(),a?.clearValidators(),n?.setValue(null,{emitEvent:!1}),a?.setValue(null,{emitEvent:!1})),n?.updateValueAndValidity(),a?.updateValueAndValidity()})}loadProfileData(){let r=this.userProfileService.getProfile();if(r){let e=this.userProfileService.getMeasurements();this.profileForm.reset({general:{username:r.username||"",gender:r.gender||null,age:r.age||null},measurements:e||{}},{emitEvent:!1})}else this.profileForm.reset({general:{username:null,gender:null,age:null},measurements:{heightCm:null,weightKg:null,age:null,chestCm:null,waistCm:null,hipsCm:null,rightArmCm:null}},{emitEvent:!1})}loadAppSettingsData(){let r=this.appSettingsService.getSettings();this.appSettingsForm.reset(r,{emitEvent:!1})}loadProgressiveOverloadSettings(){let r=this.progressiveOverloadService.getSettings();this.progressiveOverloadForm.reset(r,{emitEvent:!1})}exportData(){return w(this,null,function*(){this.spinnerService.show("Exporting data...");let r=yield this.imageStorageService.getAllImagesForBackup(),e={version:this.BACKUP_VERSION,timestamp:new Date().toISOString(),profile:this.userProfileService.getDataForBackup(),progressPhotos:r,appSettings:this.appSettingsService.getDataForBackup(),progressiveOverload:this.progressiveOverloadService.getDataForBackup(),routines:this.workoutService.getDataForBackup(),programs:this.trainingProgramService.getDataForBackup(),exercises:this.exerciseService.getDataForBackup(),workoutLogs:this.trackingService.getLogsForBackup(),personalBests:this.trackingService.getPBsForBackup()},n=JSON.stringify(e,null,2),a=new Blob([n],{type:"application/json"}),m=URL.createObjectURL(a),p=document.createElement("a"),h=rt(new Date,"yyyyMMdd_HHmmss");p.download=`FitTrackPro_backup_v${this.BACKUP_VERSION}_${h}.json`,p.href=m,p.click(),URL.revokeObjectURL(m),this.spinnerService.hide(),this.toastService.success("Data export initiated",3e3)})}importData(r){let e=r.target,n=e.files?.[0];if(!n)return;if(n.type!=="application/json"){this.alertService.showAlert("Error","Invalid file type. Please select a JSON file."),e.value="";return}let a=new FileReader;a.onload=m=>{try{let p=m.target?.result,h=JSON.parse(p);if(typeof h!="object"||h===null){this.alertService.showAlert("Error","Invalid backup file format. Expected an object."),e.value="";return}let C=h.version;if(C>this.BACKUP_VERSION){this.alertService.showAlert("Error",`Backup version ${C} is newer than the app's supported version ${this.BACKUP_VERSION}. Please update the app.`),e.value="";return}this.alertService.showConfirm("WARNING","Importing data will try to MERGE your current data with the IMPORTED one. Are you sure?").then(P=>w(this,null,function*(){P&&P.data?(this.spinnerService.show("Importing data..."),C>=6&&h.progressPhotos&&(yield this.imageStorageService.importImages(h.progressPhotos)),C>=5?this.userProfileService.mergeData(h.profile):C>=2?this.userProfileService.replaceData(h.profile):this.userProfileService.replaceData(null),this.workoutService.mergeData(h.routines),this.trackingService.replaceLogs(h.workoutLogs),this.trackingService.replacePBs(h.personalBests),C>=4&&this.progressiveOverloadService.replaceData(h.progressiveOverload),C>=3&&(this.exerciseService.mergeData(h.exercises),this.trainingProgramService.mergeData(h.programs)),C>=2&&this.appSettingsService.replaceData(h.appSettings),this.loadProfileData(),this.loadAppSettingsData(),this.loadProgressiveOverloadSettings(),this.loadGoalsData(),this.spinnerService.hide(),this.toastService.success("Data imported successfully!",5e3,"Import Complete")):this.toastService.info("Data import cancelled",2e3)}))}catch(p){console.error("Error processing imported file:",p),this.alertService.showAlert("Error","Error processing backup file. Ensure it is valid JSON.")}finally{e.value=""}},a.onerror=()=>{this.alertService.showAlert("Error","Error reading file."),e.value=""},a.readAsText(n)}clearAllAppData(){return w(this,null,function*(){let r=yield this.alertService.showConfirmationDialog("WARNING","This will delete ALL your workout data, profile, and settings. This cannot be undone. Are you sure?",[{text:"Cancel",role:"cancel",data:!1,icon:"cancel"},{text:"Clear all data",role:"confirm",data:!0,cssClass:"bg-red-600",icon:"trash"}]);if(r&&r.data){let e=yield this.alertService.showPromptDialog("Confirm Data Deletion",'To confirm, please type "DELETE" in the input below. This will delete ALL your workout data, profile, and settings. This cannot be undone.',[{name:"confirmDialogInput",type:"text",placeholder:"Type DELETE to confirm",value:"",autofocus:!0}],"CLEAR ALL DATA"),n=e&&typeof e.confirmDialogInput=="string"?e.confirmDialogInput:null;if(!n||n.toUpperCase()!=="DELETE"){this.alertService.showAlert("Cancelled","Data clearing cancelled. No changes made.");return}this.trackingService.clearAllWorkoutLogs_DEV_ONLY&&(yield this.trackingService.clearAllWorkoutLogs_DEV_ONLY()),this.trackingService.clearAllPersonalBests_DEV_ONLY&&(yield this.trackingService.clearAllPersonalBests_DEV_ONLY()),this.workoutService.clearAllRoutines_DEV_ONLY&&(yield this.workoutService.clearAllRoutines_DEV_ONLY()),this.userProfileService.clearUserProfile_DEV_ONLY&&this.userProfileService.clearUserProfile_DEV_ONLY(),this.appSettingsService.clearAppSettings_DEV_ONLY&&this.appSettingsService.clearAppSettings_DEV_ONLY(),this.progressiveOverloadService.clearSettings_DEV_ONLY&&this.progressiveOverloadService.clearSettings_DEV_ONLY(),this.trainingProgramService.deactivateAllPrograms&&this.trainingProgramService.deactivateAllPrograms(),this.loadProfileData(),this.loadAppSettingsData(),this.loadProgressiveOverloadSettings(),yield this.alertService.showAlert("Info","All application data has been cleared")}})}selectUnit(r){this.unitsService.setUnitPreference(r)}toggleWipDisclaimer(){let r=this.userProfileService.getHideWipDisclaimer();this.userProfileService.updateHideWipDisclaimer(!r)}navigateToExerciseLibrary(){this.router.navigate(["/library"])}navigateToPersonalBests(){this.router.navigate(["/profile/personal-bests"])}onSyncExerciseHistoryClick(){return w(this,null,function*(){let r=yield this.alertService.showConfirm("Sync Exercise History",'This will scan your workout logs to update the "Last Used" date for all exercises. This may take a moment. Proceed?');r&&r.data&&(yield this.trackingService.backfillLastUsedExerciseTimestamps())})}navigateToBodyMeasurements(){this.router.navigate(["/profile/measurements"])}showSyncHistoryTooltip(){if(this.platformId==="browser"&&window.innerWidth<=768){this.vibrate(),this.alertService.showAlert("Sync Exercise History",this.syncHistoryTooltipString);return}}vibrate(){let r=navigator;r&&"vibrate"in r&&r.vibrate(50)}static \u0275fac=function(e){return new(e||s)};static \u0275cmp=N({type:s,selectors:[["app-profile-settings"]],decls:239,vars:31,consts:[[1,"container","mx-auto","p-2","sm:p-4"],[1,"flex","justify-between","items-center","pb-2"],[1,"text-2xl","font-bold","text-gray-800","dark:text-gray-200"],[1,"space-y-6","sm:space-y-8"],[1,"bg-white","dark:bg-gray-700","p-4","sm:p-6","rounded-md","shadow-md"],[1,"text-xl","font-semibold","text-gray-700","dark:text-gray-300","mb-4"],[1,"space-y-4","dark:text-gray-300",3,"formGroup"],["formGroupName","general",1,"space-y-4","pt-4","border-t","border-gray-200","dark:border-gray-600"],["for","username",1,"block","text-md","font-medium","text-gray-700","dark:text-gray-300"],["type","text","id","username","formControlName","username","placeholder","Your display name",1,"mt-1","block","w-full","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","text-lg",3,"change"],[1,"dark:text-gray-300"],["for","gender",1,"block","text-md","font-medium","text-gray-700","dark:text-gray-300"],["id","gender","formControlName","gender",1,"mt-1","block","w-full","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","text-lg",3,"change"],[3,"ngValue"],[3,"value",4,"ngFor","ngForOf"],["for","saveAppSettings",1,"block","text-md","font-medium","text-gray-700","dark:text-gray-300"],["type","number","min","0","id","age","formControlName","age","placeholder","Years","required","",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200","text-lg"],["formGroupName","measurements",1,"space-y-4","pt-4","border-t","border-gray-200","dark:border-gray-600"],[1,"text-lg","font-medium","text-gray-700","dark:text-gray-300"],[1,"grid","grid-cols-2","md:grid-cols-4","gap-4"],["for","heightCm",1,"block","text-md","font-medium","text-gray-600","dark:text-gray-400"],[1,"text-red-500"],["type","number","min","0","id","heightCm","formControlName","heightCm","placeholder","cm",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200","text-lg"],["for","weightKg",1,"block","text-md","font-medium","text-gray-600","dark:text-gray-400"],["type","number","min","0","id","weightKg","formControlName","weightKg","placeholder","kg",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200","text-lg"],["for","chestCm",1,"block","text-md","font-medium","text-gray-600","dark:text-gray-400"],["type","number","min","0","id","chestCm","formControlName","chestCm","placeholder","cm",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200","text-lg"],["for","neckCm",1,"block","text-md","font-medium","text-gray-600","dark:text-gray-400"],["type","number","min","0","id","neckCm","formControlName","neckCm","placeholder","cm",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200","text-lg"],["for","waistCm",1,"block","text-md","font-medium","text-gray-600","dark:text-gray-400"],["type","number","min","0","id","waistCm","formControlName","waistCm","placeholder","cm",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200","text-lg"],["for","hipsCm",1,"block","text-md","font-medium","text-gray-600","dark:text-gray-400"],["type","number","min","0","id","hipsCm","formControlName","hipsCm","placeholder","cm",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200","text-lg"],["for","rightArmCm",1,"block","text-md","font-medium","text-gray-600","dark:text-gray-400"],["type","number","min","0","id","rightArmCm","formControlName","rightArmCm","placeholder","cm",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200","text-lg"],[1,"flex","flex-col","sm:flex-row","justify-center","items-center","space-y-4","sm:space-y-0","sm:space-x-4","pt-4"],["type","button",1,"flex","justify-center","items-center","w-full","sm:w-auto","px-6","py-3","bg-green-500","hover:bg-green-600","text-white","font-semibold","rounded-md","shadow-sm","text-lg","disabled:opacity-50","disabled:cursor-not-allowed",3,"click"],["name","save",1,"w-8","h-8","mr-1"],["type","button",1,"flex","justify-center","items-center","w-full","sm:w-auto","px-6","py-3","bg-blue-500","hover:bg-blue-600","text-white","font-semibold","rounded-md","shadow-sm","text-lg","disabled:opacity-50","disabled:cursor-not-allowed",3,"click"],["name","chart2",1,"w-8","h-8","mr-1"],[1,"space-y-4",3,"formGroup"],[1,"grid","grid-cols-1","sm:grid-cols-2","md:grid-cols-3","gap-4"],["for","goalWeightKg",1,"block","text-md","font-medium","text-gray-600","dark:text-gray-400"],["type","number","min","0","id","goalWeightKg","formControlName","weightKg","placeholder","kg",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200","text-lg"],["for","goalWaistCm",1,"block","text-md","font-medium","text-gray-600","dark:text-gray-400"],["type","number","min","0","id","goalWaistCm","formControlName","waistCm","placeholder","cm",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200","text-lg"],[1,"border-b","border-gray-200","dark:border-gray-600","pb-4"],["for","weightStep",1,"block","text-md","font-medium","text-gray-700","dark:text-gray-300"],[1,"text-sm","text-gray-500","dark:text-gray-400","mb-1"],["type","number","id","weightStep","formControlName","weightStep","min","0.01","step","any",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200","text-lg",3,"change"],["class","text-red-500 dark:text-red-400 text-xs mt-1",4,"ngIf"],[1,"flex","items-center","justify-between","pt-4"],[1,"text-md","font-medium","text-gray-700","dark:text-gray-300"],[1,"text-sm","text-gray-500","dark:text-gray-400","mr-1"],["for","countdown-sound-toggle",1,"inline-flex","items-center","cursor-pointer"],["type","checkbox","id","countdown-sound-toggle","formControlName","enableTimerCountdownSound",1,"sr-only","peer",3,"change"],[1,"relative","w-11","h-6","bg-gray-200","peer-focus:outline-none","peer-focus:ring-4","peer-focus:ring-blue-300","dark:peer-focus:ring-blue-800","rounded-full","peer","dark:bg-gray-600","peer-checked:after:translate-x-full","rtl:peer-checked:after:-translate-x-full","peer-checked:after:border-white","after:content-['']","after:absolute","after:top-[2px]","after:start-[2px]","after:bg-white","after:border-gray-300","after:border","after:rounded-full","after:h-5","after:w-5","after:transition-all","dark:border-gray-600","peer-checked:bg-primary","dark:peer-checked:bg-primary-dark"],[1,"ms-3","text-sm","font-medium","text-gray-900","dark:text-gray-300"],["class"," dark:text-gray-300",4,"ngIf"],[1,"pt-4","border-t","border-gray-200","dark:border-gray-600"],[1,"flex","items-center","justify-between"],["for","preset-timer-toggle",1,"inline-flex","items-center","cursor-pointer"],[1,"sr-only"],["type","checkbox","id","preset-timer-toggle","formControlName","enablePresetTimer",1,"sr-only","peer",3,"change"],["class","text-gray-700 dark:text-gray-300",4,"ngIf"],[1,"flex","items-center","justify-between","pb-4","border-b","border-gray-200","dark:border-gray-600"],["for","po-enabled-toggle",1,"inline-flex","items-center","cursor-pointer"],["type","checkbox","id","po-enabled-toggle","formControlName","enabled",1,"sr-only","peer",3,"change"],["class","space-y-4 pt-4",4,"ngIf"],[1,"space-y-4"],[1,"text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-2"],["appPress","",1,"flex","items-center","px-4","py-2","bg-blue-500","hover:bg-blue-600","text-white","font-semibold","rounded-md","shadow-sm","transition-colors","text-sm",3,"shortPress"],["name","export",1,"w-6","h-6","mr-1"],["type","file","accept","application/json",1,"block","w-full","text-sm","text-gray-700","dark:text-gray-300","file:mr-4","file:py-2","file:px-4","file:rounded-md","file:border-0","file:text-sm","file:font-semibold","file:bg-gray-200","file:text-gray-700","hover:file:bg-gray-300","dark:file:bg-gray-600","dark:file:text-gray-200","dark:hover:file:bg-gray-700",3,"change"],["name","info",1,"h-4","w-4","text-gray-400","dark:text-gray-300","cursor-help",3,"click","appTooltip"],["appPress","",1,"flex","items-center","px-4","py-2","bg-indigo-500","hover:bg-indigo-600","text-white","font-semibold","rounded-md","shadow-sm","transition-colors","text-sm",3,"shortPress"],["name","change",1,"w-6","h-6","mr-1"],[1,"pt-4","border-t","border-gray-200","dark:border-gray-700"],[1,"text-lg","font-semibold","text-gray-700","dark:text-gray-300","mb-2"],[1,"text-sm","font-medium","text-red-600","dark:text-red-400","mb-2"],["appPress","",1,"flex","items-center","px-4","py-2","bg-red-500","hover:bg-red-600","text-white","font-semibold","rounded-md","shadow-sm","transition-colors","text-sm",3,"shortPress"],["name","trash",1,"w-6","h-6","mr-1"],["appPress","",1,"px-4","py-2","bg-primary","hover:bg-primary-dark","text-white","font-semibold","rounded-md","shadow-sm","transition-colors","inline-flex","items-center","text-sm",3,"shortPress"],["name","exercise-list",1,"w-6","h-6","mr-1"],["name","pb",1,"w-6","h-6","mr-1"],[1,"flex","space-x-4"],["appPress","",1,"px-4","py-2","border","rounded-md","transition-colors","text-sm",3,"shortPress","ngClass"],["for","show-wip-message",1,"inline-flex","items-center","cursor-pointer"],["type","checkbox","id","show-wip-message",1,"sr-only","peer",3,"change","checked"],["for","theme-toggle",1,"inline-flex","items-center","cursor-pointer"],["type","checkbox","id","theme-toggle",1,"sr-only","peer",3,"change","checked"],[1,"flex","items-center","justify-between","mt-5"],["for","menu-mode-toggle",1,"inline-flex","items-center","cursor-pointer"],["type","checkbox","id","menu-mode-toggle",1,"sr-only","peer",3,"change","checked"],[3,"value"],[1,"text-red-500","dark:text-red-400","text-xs","mt-1"],["for","countdownSeconds",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["type","number","id","countdownSeconds","formControlName","countdownSoundSeconds","min","1","max","20",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","text-lg",3,"change"],[1,"text-gray-700","dark:text-gray-300"],["for","presetTimerDurationSeconds",1,"block","text-sm","font-medium"],["type","number","id","presetTimerDurationSeconds","formControlName","presetTimerDurationSeconds","min","3","max","60",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","text-lg",3,"change"],[1,"space-y-4","pt-4"],[1,"block","text-md","font-medium","text-gray-700","dark:text-gray-300"],[1,"text-sm","text-gray-500","dark:text-gray-400","mb-2"],[1,"flex","flex-col","sm:flex-row","sm:space-x-4"],["class","flex items-center",4,"ngFor","ngForOf"],[4,"ngIf"],["for","sessionsToIncrement",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["type","number","id","sessionsToIncrement","formControlName","sessionsToIncrement","min","1","step","1",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200","text-lg"],[1,"flex","items-center"],["type","radio","formControlName","strategy",1,"focus:ring-primary","h-4","w-4","text-primary","border-gray-300","dark:border-gray-600","dark:bg-gray-700",3,"id","value"],[1,"ml-3","block","text-sm","font-medium","text-gray-700","dark:text-gray-300",3,"for"],["for","weightIncrement",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["type","number","id","weightIncrement","formControlName","weightIncrement","min","0.1","step","any","placeholder","e.g., 2.5",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200","text-lg"],["for","repsIncrement",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["type","number","id","repsIncrement","formControlName","repsIncrement","min","1","step","1","placeholder","e.g., 1",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200","text-lg"]],template:function(e,n){if(e&1&&(i(0,"div",0)(1,"header",1)(2,"h1",2),o(3,"Profile & Settings"),t()(),i(4,"div",3)(5,"section",4)(6,"h2",5),o(7,"User Profile"),t(),i(8,"form",6)(9,"div",7)(10,"div")(11,"label",8),o(12,"Username"),t(),i(13,"input",9),g("change",function(){return n.currentVibrator.vibrate(50)}),t()(),i(14,"div",10)(15,"label",11),o(16,"Gender"),t(),i(17,"select",12),g("change",function(){return n.currentVibrator.vibrate(50)}),i(18,"option",13),o(19,"Select Gender..."),t(),y(20,ht,2,2,"option",14),t()(),i(21,"div",10)(22,"label",15),o(23,"Age"),t(),c(24,"input",16),t()(),i(25,"div",17)(26,"h3",18),o(27,"Measurements"),t(),i(28,"div",19)(29,"div")(30,"label",20),o(31," Height (cm)"),i(32,"span",21),o(33,"*"),t()(),c(34,"input",22),t(),i(35,"div")(36,"label",23),o(37," Weight (kg)"),i(38,"span",21),o(39,"*"),t()(),c(40,"input",24),t(),i(41,"div")(42,"label",25),o(43,"Chest (cm)"),t(),c(44,"input",26),t(),i(45,"div")(46,"label",27),o(47,"Neck (cm)"),t(),c(48,"input",28),t(),i(49,"div")(50,"label",29),o(51,"Waist (cm)"),t(),c(52,"input",30),t(),i(53,"div")(54,"label",31),o(55,"Hips (cm)"),t(),c(56,"input",32),t(),i(57,"div")(58,"label",33),o(59,"Right Arm (cm)"),t(),c(60,"input",34),t()(),i(61,"div",35)(62,"button",36),g("click",function(){return n.saveMeasurements()}),c(63,"app-icon",37),i(64,"span"),o(65,"SAVE MEASUREMENTS"),t()(),i(66,"button",38),g("click",function(){return n.navigateToBodyMeasurements()}),c(67,"app-icon",39),i(68,"span"),o(69,"MEASUREMENTS HISTORY"),t()()()()()(),i(70,"section",4)(71,"h2",5),o(72,"Measurement Goals"),t(),i(73,"form",40)(74,"div",41)(75,"div")(76,"label",42),o(77,"Target Weight (kg)"),t(),c(78,"input",43),t(),i(79,"div")(80,"label",44),o(81,"Target Waist (cm)"),t(),c(82,"input",45),t()()()(),i(83,"section",4)(84,"h2",5),o(85,"Workout Player Settings"),t(),i(86,"form",40)(87,"div",46)(88,"label",47),o(89,"Weight Increment Step"),t(),i(90,"p",48),o(91),S(92,"uppercase"),t(),i(93,"input",49),g("change",function(){return n.currentVibrator.vibrate(50)}),t(),y(94,vt,2,0,"div",50),t(),i(95,"div",51)(96,"div")(97,"h3",52),o(98,"Timed Set Countdown Sound"),t(),i(99,"p",53),o(100,"Play sound X seconds before a timed set ends"),t()(),i(101,"label",54)(102,"input",55),g("change",function(){return n.currentVibrator.vibrate(50)}),t(),c(103,"div",56),i(104,"span",57),o(105),t()()(),y(106,xt,5,1,"div",58),c(107,"div",59),i(108,"div",60)(109,"div")(110,"h3",52),o(111,"Pre-Set Timer"),t(),i(112,"p",53),o(113,"Show a countdown before each set starts"),t()(),i(114,"label",61)(115,"span",62),o(116,"Toggle Pre-Set Timer"),t(),i(117,"input",63),g("change",function(){return n.currentVibrator.vibrate(50)}),t(),c(118,"div",56),i(119,"span",57),o(120),t()()(),y(121,St,5,1,"div",64),t()(),i(122,"section",4)(123,"h2",5),o(124,"Progressive Overload"),t(),i(125,"form",40)(126,"div",65)(127,"div")(128,"h3",52),o(129,"Enable Automatic Progression "),t(),i(130,"p",53),o(131,"Automatically increase weight or reps based on performance."),t()(),i(132,"label",66)(133,"input",67),g("change",function(){return n.currentVibrator.vibrate(50)}),t(),c(134,"div",56),i(135,"span",57),o(136),t()()(),y(137,Ft,18,5,"div",68),t()(),i(138,"section",4)(139,"h2",5),o(140,"Data Management"),t(),i(141,"div",69)(142,"div")(143,"p",70),o(144,"Backup your data to a JSON file"),t(),i(145,"button",71),g("shortPress",function(){return n.exportData()}),c(146,"app-icon",72),o(147," EXPORT DATA"),t()(),i(148,"div")(149,"p",70),o(150,"Restore your data from a JSON backup file"),t(),i(151,"input",73),g("change",function(m){return n.importData(m),n.currentVibrator.vibrate(50)}),t()(),i(152,"div",59)(153,"p",70),o(154,"Sync Exercise History"),i(155,"app-icon",74),g("click",function(){return n.showSyncHistoryTooltip()}),t()(),i(156,"button",75),g("shortPress",function(){return n.onSyncExerciseHistoryClick()}),c(157,"app-icon",76),o(158," SYNC HISTORY "),t()(),i(159,"div",77)(160,"h3",78),o(161,"Reset / Clear Data"),t(),i(162,"p",79),o(163,"WARNING: This action will delete ALL your saved data"),t(),i(164,"button",80),g("shortPress",function(){return n.clearAllAppData()}),c(165,"app-icon",81),o(166," CLEAR ALL DATA"),t()()()(),i(167,"section",4)(168,"h2",5),o(169,"Exercise library"),t(),i(170,"div")(171,"p",70),o(172,"View all the available exercise and add your own ones"),t(),i(173,"button",82),g("shortPress",function(){return n.navigateToExerciseLibrary()}),c(174,"app-icon",83),o(175," EXERCISES "),t()()(),i(176,"section",4)(177,"h2",5),o(178,"Your Achievements"),t(),i(179,"div")(180,"p",70),o(181,"View all your tracked Personal Bests"),t(),i(182,"button",82),g("shortPress",function(){return n.navigateToPersonalBests()}),c(183,"app-icon",84),o(184," VIEW PBs "),t()()(),i(185,"section",4)(186,"h2",5),o(187,"General Settings"),t(),i(188,"div",69)(189,"div")(190,"p",70),o(191,"Weight Units"),t(),i(192,"div",85)(193,"button",86),g("shortPress",function(){return n.selectUnit("kg")}),o(194,"kg"),t(),i(195,"button",86),g("shortPress",function(){return n.selectUnit("lbs")}),o(196,"lbs"),t()()(),i(197,"div",60)(198,"div")(199,"h3",52),o(200,"WIP Message"),t(),i(201,"p",53),o(202,"Toggle between showing or hiding WIP message"),t()(),i(203,"label",87)(204,"span",62),o(205,"Show WIP Disclaimer"),t(),i(206,"input",88),g("change",function(){return n.toggleWipDisclaimer()}),t(),c(207,"div",56),i(208,"span",57),o(209),t()()()()(),i(210,"section",4)(211,"h2",5),o(212,"Appearance"),t(),i(213,"div",60)(214,"div")(215,"h3",52),o(216,"Dark Mode"),t(),i(217,"p",53),o(218,"Toggle between light and dark themes"),t()(),i(219,"label",89)(220,"span",62),o(221,"Toggle Dark Mode"),t(),i(222,"input",90),g("change",function(){return n.themeService.toggleTheme()}),t(),c(223,"div",56),i(224,"span",57),o(225),t()()(),i(226,"div",91)(227,"div")(228,"h3",52),o(229,"Compact menu mode"),t(),i(230,"p",53),o(231,"Toggle between window and compact mode"),t()(),i(232,"label",92)(233,"span",62),o(234,"Toggle Compact Mode"),t(),i(235,"input",93),g("change",function(){return n.themeService.toggleMenuMode()}),t(),c(236,"div",56),i(237,"span",57),o(238),t()()()()()()),e&2){let a,m,p,h,C,P,z;l(8),d("formGroup",n.profileForm),l(10),d("ngValue",null),l(2),d("ngForOf",n.genders),l(53),d("formGroup",n.goalsForm),l(13),d("formGroup",n.appSettingsForm),l(5),_("Default step for +/- weight buttons in player (in ",L(92,23,n.unitsService.currentUnit()),")"),l(3),d("ngIf",((a=n.appSettingsForm.get("weightStep"))==null?null:a.invalid)&&((a=n.appSettingsForm.get("weightStep"))==null?null:a.touched)),l(11),_(" ",(m=n.appSettingsForm.get("enableTimerCountdownSound"))!=null&&m.value?"On":"Off"," "),l(),d("ngIf",(p=n.appSettingsForm.get("enableTimerCountdownSound"))==null?null:p.value),l(14),_(" ",(h=n.appSettingsForm.get("enablePresetTimer"))!=null&&h.value?"On":"Off"," "),l(),d("ngIf",(C=n.appSettingsForm.get("enablePresetTimer"))==null?null:C.value),l(4),d("formGroup",n.progressiveOverloadForm),l(11),_(" ",(P=n.progressiveOverloadForm.get("enabled"))!=null&&P.value?"On":"Off"," "),l(),d("ngIf",(z=n.progressiveOverloadForm.get("enabled"))==null?null:z.value),l(18),d("appTooltip",n.syncHistoryTooltipString),l(38),d("ngClass",q(25,dt,n.currentUnit()==="kg",n.currentUnit()!=="kg")),l(2),d("ngClass",q(28,dt,n.currentUnit()==="lbs",n.currentUnit()!=="lbs")),l(11),d("checked",!n.userProfileService.getHideWipDisclaimer()),l(3),k(n.userProfileService.getHideWipDisclaimer()?"Off":"On"),l(13),d("checked",n.themeService.isDarkTheme()),l(3),k(n.themeService.isDarkTheme()?"On":"Off"),l(10),d("checked",n.themeService.isMenuModeCompact()),l(3),k(n.themeService.isMenuModeCompact()?"On":"Off")}},dependencies:[G,oe,R,U,Ge,xe,ge,he,ve,de,ue,ze,qe,Ye,pe,ce,Ze,Je,Xe,fe,ye,Ke,_e,j,nt],encapsulation:2})};var gt=["bodyweight/calisthenics","dumbbells","kettlebells","barbells","machines","cables","bands","cardio","stretching","plyometrics","strongman","custom","other"];function Mt(s,r){if(s&1&&(i(0,"option",42),o(1),t()),s&2){let e=r.$implicit;d("value",e),l(),_(" ",e," ")}}function At(s,r){if(s&1&&(i(0,"option",42),o(1),S(2,"titlecase"),t()),s&2){let e=r.$implicit;d("value",e),l(),_(" ",L(2,2,e)," ")}}function Bt(s,r){if(s&1&&(i(0,"span"),o(1," of "),i(2,"strong",44),o(3),t()()),s&2){let e=u(2);l(3),k(e.combinedPersonalBests().length)}}function Vt(s,r){if(s&1&&(i(0,"div",43),o(1," Showing "),i(2,"strong",44),o(3),t(),y(4,Bt,4,1,"span",45),o(5," PBs "),t()),s&2){let e=u();l(3),k(e.displayPersonalBests().length),l(),d("ngIf",e.exerciseNameFilter()||e.exerciseCategoryFilter()||e.pbTypeFilter())}}function Dt(s,r){if(s&1&&(i(0,"span"),o(1),S(2,"date"),S(3,"date"),t()),s&2){let e=r.$implicit,n=r.last,a=u(2).$implicit,m=u(2);l(),ne(" ",m.formatPbValue(e,a.pbType)," (",H(3,6,T(2,3,e.timestamp,"shortDate"),"dd-MM-yy","UTC"),")",n?"":", "," ")}}function Ot(s,r){s&1&&(i(0,"span"),o(1," ..."),t())}function Nt(s,r){if(s&1&&(i(0,"div",59)(1,"span",60),o(2,"Prev:"),t(),y(3,Dt,4,10,"span",61)(4,Ot,2,0,"span",45),t()),s&2){let e=u().$implicit;l(3),d("ngForOf",e.history.slice(0,1)),l(),d("ngIf",e.history.length>1)}}function Lt(s,r){if(s&1&&(i(0,"div",62)(1,"p",63),o(2),t()()),s&2){let e=u().$implicit;ie("mt-2",e.history&&e.history.length>0)("mt-1",!(e.history&&e.history.length>0)),l(),d("title",e.notes),l(),_(" ",e.notes," ")}}function Ht(s,r){if(s&1){let e=E();i(0,"div",64)(1,"button",65),g("click",function(a){v(e);let m=u().$implicit,p=u(2);return b(p.navigateToLogDetail(m.workoutLogId,a))}),c(2,"app-icon",66),i(3,"span"),o(4,"VIEW LOG"),t()(),i(5,"button",67),g("click",function(){v(e);let a=u().$implicit,m=u(2);return b(m.showPbTrend(a.exerciseId,a.pbType))}),c(6,"app-icon",68),i(7,"span"),o(8,"TREND"),t()()()}}function Rt(s,r){if(s&1&&(i(0,"div",48)(1,"div",49)(2,"div",50)(3,"div")(4,"h2",51),o(5),t(),i(6,"p",52),o(7),S(8,"titlecase"),t()()(),i(9,"div",53)(10,"span",54),o(11),t()(),i(12,"div",55)(13,"span"),o(14),t(),i(15,"span"),o(16),S(17,"date"),S(18,"date"),t()(),y(19,Nt,5,2,"div",56)(20,Lt,3,6,"div",57),t(),y(21,Ht,9,0,"div",58),t()),s&2){let e=r.$implicit,n=u(2);Ae("z-index",n.filtersVisible()?50:"auto"),l(4),d("title",e.exerciseName),l(),_(" ",e.exerciseName," "),l(2),_(" (",L(8,11,e.primaryMuscleGroup),") "),l(4),k(n.formatPbValue(e)),l(3),k(e.pbType),l(2),k(H(18,16,T(17,13,e.timestamp,"shortDate"),"dd-MM-yy","UTC")),l(3),d("ngIf",e.history&&e.history.length>0),l(),d("ngIf",e.notes),l(),d("ngIf",e.pbType!=="1RM (Estimated)"&&e.workoutLogId)}}function Ut(s,r){if(s&1&&(i(0,"div")(1,"div",46),y(2,Rt,22,20,"div",47),t()()),s&2){let e=u();l(2),d("ngForOf",e.displayPersonalBests())}}function Gt(s,r){s&1&&(i(0,"span"),o(1,"No Personal Bests Match Your Filters"),t())}function jt(s,r){s&1&&o(0,"No Personal Bests Yet!")}function Wt(s,r){if(s&1){let e=E();i(0,"span"),o(1,"Try adjusting your filter criteria or "),i(2,"button",74),g("shortPress",function(){v(e);let a=u(2);return b(a.resetFiltersAndShow())}),o(3,"reset all filters"),t()()}}function $t(s,r){s&1&&(i(0,"span"),o(1,"Keep logging your workouts to track your progress and achievements here"),t())}function zt(s,r){if(s&1){let e=E();i(0,"span"),o(1," Try clearing filters, or perhaps "),i(2,"button",74),g("shortPress",function(){v(e);let a=u(2);return b(a.triggerRecalculatePBs())}),o(3,"recalculate PBs"),t(),o(4," if you've recently imported data. "),t()}}function Yt(s,r){if(s&1&&(i(0,"div",69),I(),i(1,"svg",70),c(2,"path",71),t(),F(),i(3,"h2",72),y(4,Gt,2,0,"span",40)(5,jt,1,0,"ng-template",null,4,X),t(),i(7,"p",73),y(8,Wt,4,0,"span",45)(9,$t,2,0,"span",45)(10,zt,5,0,"span",45),t()()),s&2){let e=A(6),n=u();l(4),d("ngIf",n.hasActiveFilters())("ngIfElse",e),l(4),d("ngIf",n.hasActiveFilters()),l(),d("ngIf",!n.hasActiveFilters()&&n.allPersonalBestsSignalEmpty()),l(),d("ngIf",!n.allPersonalBestsSignalEmpty()&&n.displayPersonalBests().length===0&&!n.hasActiveFilters())}}function Kt(s,r){if(s&1){let e=E();i(0,"button",75),g("shortPress",function(){v(e);let a=u();return b(a.scrollToTop())}),I(),i(1,"svg",76),c(2,"path",77),t(),F(),i(3,"span",15),o(4,"Back to Top"),t()()}}var Te=class s{trackingService=x(ke);exerciseService=x(we);unitsService=x(Ee);router=x(se);toastService=x(W);platformId=x(re);allPersonalBestsRaw=M({});allExercisesRaw=M([]);filtersVisible=M(!1);exerciseNameFilter=M("");pbTypeFilter=M("");exerciseCategoryFilter=M("");decimalPipe=new je("en-US");availableCategories=D(()=>[...gt].sort());availablePbTypes=D(()=>{let r=this.allPersonalBestsRaw(),e=new Set;return Object.values(r).forEach(n=>{n.forEach(a=>{a.pbType&&e.add(a.pbType)})}),Array.from(e).sort()});combinedPersonalBests=D(()=>{let r=this.allPersonalBestsRaw(),e=this.allExercisesRaw();if(Object.keys(r).length===0||e.length===0)return[];let n=new Map(e.map(m=>[m.id,m])),a=[];for(let m in r)if(r.hasOwnProperty(m)){let p=n.get(m),h=r[m];p&&h.forEach(C=>{a.push(K(Y({},C),{exerciseName:p.name,exerciseCategory:p.category,primaryMuscleGroup:p.primaryMuscleGroup}))})}return a});displayPersonalBests=D(()=>{let r=this.combinedPersonalBests(),e=this.exerciseNameFilter().toLowerCase().trim(),n=this.exerciseCategoryFilter(),a=this.pbTypeFilter();if(!e&&!n&&!a)return this.sortPBs(r);let m=r.filter(p=>!(e&&!p.exerciseName.toLowerCase().includes(e)||n&&p.exerciseCategory!==n||a&&p.pbType!==a));return this.sortPBs(m)});hasActiveFilters=D(()=>this.exerciseNameFilter().trim()!==""||this.exerciseCategoryFilter()!==""||this.pbTypeFilter().trim()!=="");allPersonalBestsSignalEmpty=D(()=>Object.keys(this.allPersonalBestsRaw()).length===0);constructor(){}ngOnInit(){J(this.platformId)&&window.scrollTo(0,0),this.trackingService.personalBests$.subscribe(r=>{this.allPersonalBestsRaw.set(r)}),this.exerciseService.getExercises().pipe(Ne(1)).subscribe(r=>{this.allExercisesRaw.set(r)})}toggleFiltersVisibility(){this.filtersVisible.update(r=>!r)}resetFilters(){this.exerciseNameFilter.set(""),this.exerciseCategoryFilter.set("")}resetFiltersAndShow(){this.resetFilters(),this.filtersVisible.set(!0)}getPbTypeSortOrder(r){return r.includes("1RM (Actual)")?0:r.includes("1RM (Estimated)")?1:r.includes("3RM (Actual)")?2:r.includes("5RM (Actual)")?3:r.includes("Heaviest Lifted")?4:r.includes("Max Reps (Bodyweight)")?5:r.includes("Max Duration")?6:100}sortPBs(r){return[...r].sort((e,n)=>{let a=e.exerciseName.localeCompare(n.exerciseName);if(a!==0)return a;let m=this.getPbTypeSortOrder(e.pbType),p=this.getPbTypeSortOrder(n.pbType);return m!==p?m-p:e.weightUsed!==void 0&&n.weightUsed!==void 0?(n.weightUsed??0)-(e.weightUsed??0):e.repsAchieved!==void 0&&n.repsAchieved!==void 0&&e.pbType.includes("Max Reps")?(n.repsAchieved??0)-(e.repsAchieved??0):e.durationPerformed!==void 0&&n.durationPerformed!==void 0&&e.pbType.includes("Max Duration")?(n.durationPerformed??0)-(e.durationPerformed??0):new Date(n.timestamp).getTime()-new Date(e.timestamp).getTime()})}formatPbValue(r,e){let n="",a=r.pbType||e;if(r.weightUsed!==void 0&&r.weightUsed!==null){if(n+=`${this.decimalPipe.transform(r.weightUsed,"1.0-2")}${this.unitsService.getUnitSuffix()}`,r.repsAchieved>0){let m=!0;if(a&&a.includes("RM (Actual)")){let p=a.split("RM")[0],h=parseInt(p,10);!isNaN(h)&&r.repsAchieved===h&&(m=!1)}m&&(n+=` x ${r.repsAchieved}`)}}else r.repsAchieved>0&&a?.includes("Max Reps")?n=`${r.repsAchieved} reps`:r.durationPerformed&&r.durationPerformed>0&&a?.includes("Max Duration")?n=`${r.durationPerformed}s`:r.repsAchieved>0?n=`${r.repsAchieved} reps`:r.durationPerformed&&r.durationPerformed>0&&(n=`${r.durationPerformed}s`);return n||"N/A"}vibrate(){let r=navigator;r&&"vibrate"in r&&r.vibrate(50)}navigateToLogDetail(r,e){e?.stopPropagation(),r?(this.vibrate(),this.router.navigate(["/workout/summary",r])):(this.toastService.error("Could not find the associated workout log for this personal best. It's possible that the related workout session has been removed.",0,"Navigation Error"),console.warn("Attempted to navigate to log detail, but workoutLogId is undefined for PB:",e))}triggerRecalculatePBs(){return w(this,null,function*(){try{yield this.trackingService.recalculateAllPersonalBests(),this.filtersVisible.set(!1)}catch(r){console.error("Error initiating PB recalculation:",r),this.toastService.error("An error occurred while trying to recalculate personal bests.")}})}resetPBs(){return w(this,null,function*(){try{yield this.trackingService.clearAllPersonalBests_DEV_ONLY()}catch(r){console.error("Error clearAllPersonalBests_DEV_ONLY:",r),this.toastService.error("An error occurred while trying to reset personal bests.")}})}showPbTrend(r,e){if(!r||!e){this.toastService.error("Cannot show trend: Missing exercise ID or PB type.",0,"Error");return}let n=encodeURIComponent(e);this.vibrate(),this.router.navigate(["/profile/pb-trend",r,n]),console.log(`Requesting trend for Exercise ID: ${r}, PB Type: ${e}`)}showBackToTopButton=M(!1);onWindowScroll(){let r=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;this.showBackToTopButton.set(r>400)}scrollToTop(){J(this.platformId)&&window.scrollTo({top:0,behavior:"smooth"})}static \u0275fac=function(e){return new(e||s)};static \u0275cmp=N({type:s,selectors:[["app-personal-bests"]],hostBindings:function(e,n){e&1&&g("scroll",function(){return n.onWindowScroll()},He)},decls:59,vars:15,consts:[["nameFilterInput",""],["pbTypeFilterInput",""],["categoryFilterInput",""],["noPBsOrFilters",""],["noPBsMessage",""],[1,"container","mx-auto","p-2","sm:p-4"],[1,"mb-6","flex","items-center"],["routerLink","/profile",1,"text-gray-600","dark:text-gray-300","hover:text-primary","dark:hover:text-primary-light","p-2","-ml-2","rounded-full","focus:outline-none","focus:ring-2","focus:ring-primary-focus"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 19l-7-7 7-7"],[1,"flex","flex-grow","justify-between","items-center","pb-2"],[1,"text-2xl","font-bold","text-gray-800","dark:text-gray-200"],["type","button",1,"rounded-md","text-gray-600","dark:text-gray-300","hover:bg-gray-200","dark:hover:bg-gray-700","focus:outline-none","focus:ring-2","focus:ring-primary","dark:focus:ring-primary-light","transition-all","duration-300","ease-in-out",3,"click"],["stroke","currentColor","viewBox","0 0 24 24","stroke-width","0.02","fill","currentColor","xmlns","http://www.w3.org/2000/svg",1,"w-10","h-10","transition-transform","duration-300"],["stroke-linecap","round","stroke-linejoin","round","d","M9 5a1 1 0 1 0 0 2 1 1 0 0 0 0-2zM6.17 5a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 0 1 0-2h1.17zM15 11a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-1.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h7.17zM9 17a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h1.17z"],[1,"sr-only"],[1,"overflow-hidden","transition-all","duration-500","ease-in-out"],[1,"p-4","bg-white","dark:bg-gray-700","rounded-md","shadow-md","border","dark:border-gray-600"],[1,"text-xl","font-semibold","text-gray-700","dark:text-gray-300","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","mb-4"],["for","exerciseNameFilter",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-1"],["type","text","id","exerciseNameFilter","placeholder","e.g., Bench Press",1,"mt-1","block","w-full","px-3","py-2","bg-white","dark:bg-gray-800","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:outline-none","focus:ring-primary","focus:border-primary","sm:text-sm","text-gray-900","dark:text-gray-100","placeholder-gray-400","dark:placeholder-gray-500",3,"input","value"],["for","pbTypeFilter",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-1"],["id","pbTypeFilter",1,"mt-1","block","w-full","px-3","py-2","bg-white","dark:bg-gray-800","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:outline-none","focus:ring-primary","focus:border-primary","sm:text-sm","text-gray-900","dark:text-gray-100",3,"change","value"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","categoryFilter",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-1"],["id","categoryFilter",1,"mt-1","block","w-full","px-3","py-2","bg-white","dark:bg-gray-800","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:outline-none","focus:ring-primary","focus:border-primary","sm:text-sm","text-gray-900","dark:text-gray-100",3,"change","value"],[1,"mt-4","flex","justify-between","items-center"],["appPress","",1,"flex","px-4","py-2","bg-yellow-200","dark:bg-yellow-700","text-gray-700","dark:text-gray-200","rounded-md","hover:bg-yellow-300","dark:hover:bg-yellow-500","text-sm","items-center",3,"shortPress"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"size-5","mr-2"],["stroke-linecap","round","stroke-linejoin","round","d","m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"],["appPress","","title","Recalculate all Personal Bests from your workout history",1,"ml-2","p-2","text-sm","text-gray-500","dark:text-gray-400","hover:text-primary","dark:hover:text-primary-light","rounded-md","border","border-gray-300","dark:border-gray-600","hover:bg-gray-100","dark:hover:bg-gray-700","transition-colors","flex","items-center",3,"shortPress"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-10","h-10","transition-transform","duration-300"],["stroke-linecap","round","stroke-linejoin","round","d","M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"],[1,"hidden","sm:inline-block","ml-1"],["appPress","","title","Reset all PBs",1,"ml-2","p-2","text-sm","text-gray-500","dark:text-gray-400","hover:text-red-600","dark:hover:text-red-500","rounded-md","border","border-gray-300","dark:border-gray-600","hover:bg-red-100","dark:hover:bg-red-900/50","transition-colors","flex","items-center",3,"shortPress"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"w-10","h-10","transition-transform","duration-300"],["fill-rule","evenodd","d","M8.75 1A2.75 2.75 0 006 3.75v.443c-.795.077-1.58.177-2.365.298a.75.75 0 10.23 1.482l.149-.022.841 10.518A2.75 2.75 0 007.596 19h4.807a2.75 2.75 0 002.742-2.53l.841-10.52.149.023a.75.75 0 00.23-1.482A41.03 41.03 0 0014 4.193V3.75A2.75 2.75 0 0011.25 1h-2.5ZM10 4c.84 0 1.673.025 2.5.075V3.75c0-.69-.56-1.25-1.25-1.25h-2.5c-.69 0-1.25.56-1.25 1.25v.325C8.327 4.025 9.16 4 10 4ZM8.58 7.72a.75.75 0 00-1.5.06l.3 7.5a.75.75 0 101.5-.06l-.3-7.5Zm4.34.06a.75.75 0 10-1.5-.06l-.3 7.5a.75.75 0 101.5.06l.3-7.5Z","clip-rule","evenodd"],["class","text-sm text-gray-600 dark:text-gray-400",4,"ngIf"],[4,"ngIf","ngIfElse"],["appPress","","type","button","class","fixed bottom-20 right-4 z-40 bg-primary dark:bg-primary text-white rounded-full p-3 shadow-lg hover:bg-primary-dark dark:hover:bg-primary-light focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-focus dark:focus:ring-offset-gray-900 transition-opacity animate-fade-in",3,"shortPress",4,"ngIf"],[3,"value"],[1,"text-sm","text-gray-600","dark:text-gray-400"],[1,"text-gray-800","dark:text-gray-200"],[4,"ngIf"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-3","xl:grid-cols-4","gap-4"],["class","flex flex-col bg-white dark:bg-gray-700 rounded-md shadow-md hover:shadow-lg transition-shadow duration-200 relative group transform hover:-translate-y-1",3,"zIndex",4,"ngFor","ngForOf"],[1,"flex","flex-col","bg-white","dark:bg-gray-700","rounded-md","shadow-md","hover:shadow-lg","transition-shadow","duration-200","relative","group","transform","hover:-translate-y-1"],[1,"p-3","flex-grow"],[1,"flex","justify-between","items-start","mb-1"],[1,"text-md","font-semibold","text-primary","dark:text-primary-light","truncate",3,"title"],[1,"text-xs","text-gray-500","dark:text-gray-400"],[1,"mb-2"],[1,"text-xl","font-bold","text-gray-900","dark:text-white"],[1,"flex","justify-between","items-center","text-xs","text-gray-500","dark:text-gray-400","mb-2"],["class","mt-2 pt-1 border-t border-gray-200 dark:border-gray-600 text-xs text-gray-500 dark:text-gray-400",4,"ngIf"],["class","pt-1 border-t border-gray-200 dark:border-gray-600",3,"mt-2","mt-1",4,"ngIf"],["class","grid grid-cols-1 sm:grid-cols-2 gap-4 pt-4 bg-gray-50 dark:bg-gray-800 border-t border-gray-200 rounded-b dark:border-gray-600 p-2",4,"ngIf"],[1,"mt-2","pt-1","border-t","border-gray-200","dark:border-gray-600","text-xs","text-gray-500","dark:text-gray-400"],[1,"font-medium"],[4,"ngFor","ngForOf"],[1,"pt-1","border-t","border-gray-200","dark:border-gray-600"],[1,"text-xs","text-gray-600","dark:text-gray-400","italic","max-h-16","overflow-y-auto","custom-scrollbar","pr-1",3,"title"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-4","pt-4","bg-gray-50","dark:bg-gray-800","border-t","border-gray-200","rounded-b","dark:border-gray-600","p-2"],[1,"flex","justify-center","items-center","px-6","py-3","bg-indigo-500","hover:bg-indigo-600","text-white","font-semibold","rounded-md","shadow-sm","text-lg","disabled:opacity-50","disabled:cursor-not-allowed",3,"click"],["name","eye",1,"w-8","h-8","mr-1"],["title","Show Trend for this PB",1,"flex","justify-center","items-center","px-6","py-3","bg-primary","hover:bg-primary-light","text-white","font-semibold","rounded-md","shadow-sm","text-lg","disabled:opacity-50","disabled:cursor-not-allowed",3,"click"],["name","trend",1,"w-8","h-8","mr-1"],[1,"text-center","py-10","bg-white","dark:bg-gray-700","rounded-xl","shadow-lg"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-16","h-16","mx-auto","text-gray-400","dark:text-gray-500","mb-4"],["stroke-linecap","round","stroke-linejoin","round","d","M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607zM13.5 10.5h-6"],[1,"text-xl","font-semibold","text-gray-700","dark:text-gray-300","mb-2"],[1,"text-gray-500","dark:text-gray-400","px-4"],["appPress","",1,"text-primary","dark:text-primary-light","hover:underline",3,"shortPress"],["appPress","","type","button",1,"fixed","bottom-20","right-4","z-40","bg-primary","dark:bg-primary","text-white","rounded-full","p-3","shadow-lg","hover:bg-primary-dark","dark:hover:bg-primary-light","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-primary-focus","dark:focus:ring-offset-gray-900","transition-opacity","animate-fade-in",3,"shortPress"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","2.5","stroke","currentColor",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","d","M4.5 15.75l7.5-7.5 7.5 7.5"]],template:function(e,n){if(e&1){let a=E();i(0,"div",5)(1,"div",6)(2,"button",7),I(),i(3,"svg",8),c(4,"path",9),t()(),F(),i(5,"header",10)(6,"h1",11),o(7,"Personal Bests"),t(),i(8,"button",12),g("click",function(){return v(a),b(n.toggleFiltersVisibility())}),I(),i(9,"svg",13),c(10,"path",14),t(),F(),i(11,"span",15),o(12,"Toggle Filters"),t()()()(),i(13,"div",16)(14,"div",17)(15,"h2",18),o(16,"Filter PBs"),t(),i(17,"div",19)(18,"div")(19,"label",20),o(20," Filter by Exercise Name "),t(),i(21,"input",21,0),g("input",function(){v(a);let p=A(22);return b(n.exerciseNameFilter.set(p.value))}),t()(),i(23,"div")(24,"label",22),o(25," Filter by PB Type "),t(),i(26,"select",23,1),g("change",function(){v(a);let p=A(27);return b(n.pbTypeFilter.set(p.value))}),i(28,"option",24),o(29,"All PB Types"),t(),y(30,Mt,2,2,"option",25),t()(),i(31,"div")(32,"label",26),o(33," Filter by Category "),t(),i(34,"select",27,2),g("change",function(){v(a);let p=A(35);return b(n.exerciseCategoryFilter.set(p.value))}),i(36,"option",24),o(37,"All Categories"),t(),y(38,At,3,4,"option",25),t()()(),i(39,"div",28)(40,"button",29),g("shortPress",function(){return v(a),b(n.resetFilters())}),I(),i(41,"svg",30),c(42,"path",31),t(),o(43," CLEAR FILTERS "),t(),F(),i(44,"button",32),g("shortPress",function(){return v(a),b(n.triggerRecalculatePBs())}),I(),i(45,"svg",33),c(46,"path",34),t(),F(),i(47,"span",35),o(48,"RECALCULATE"),t()(),i(49,"button",36),g("shortPress",function(){return v(a),b(n.resetPBs())}),I(),i(50,"svg",37),c(51,"path",38),t(),F(),i(52,"span",35),o(53,"RESET PBs"),t()(),y(54,Vt,6,2,"div",39),t()()(),y(55,Ut,3,1,"div",40)(56,Yt,11,5,"ng-template",null,3,X)(58,Kt,5,0,"button",41),t()}if(e&2){let a=A(57);l(9),ie("rotate-180",n.filtersVisible()),l(4),Ae("max-height",n.filtersVisible()?"1000px":"0px"),ie("mb-6",n.filtersVisible()),l(8),d("value",n.exerciseNameFilter()),l(5),d("value",n.pbTypeFilter()),l(4),d("ngForOf",n.availablePbTypes()),l(4),d("value",n.exerciseCategoryFilter()),l(4),d("ngForOf",n.availableCategories()),l(16),d("ngIf",n.combinedPersonalBests().length>0),l(),d("ngIf",n.displayPersonalBests().length>0)("ngIfElse",a),l(3),d("ngIf",n.showBackToTopButton())}},dependencies:[G,R,U,Ue,ae,We,_e,j],styles:[".custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent;border-radius:3px}.custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#9ca3af;border-radius:3px}.custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#6b7280}.dark[_ngcontent-%COMP%]   .custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#4b5563}.dark[_ngcontent-%COMP%]   .custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#6b7280}"],data:{animation:[Ve("slideInOutActions",[Q("void",Z({height:"0px",opacity:0,overflow:"hidden",paddingTop:"0",paddingBottom:"0",marginTop:"0",marginBottom:"0"})),Q("*",Z({height:"*",opacity:1,overflow:"hidden",paddingTop:"0.5rem",paddingBottom:"0.5rem"})),me("void <=> *",le("200ms ease-in-out"))]),Ve("dropdownMenu",[Q("void",Z({opacity:0,transform:"scale(0.75) translateY(-10px)",transformOrigin:"top right"})),Q("*",Z({opacity:1,transform:"scale(1) translateY(0)",transformOrigin:"top right"})),me("void => *",[le("150ms cubic-bezier(0.25, 0.8, 0.25, 1)")]),me("* => void",[le("100ms cubic-bezier(0.25, 0.8, 0.25, 1)")])])]}})};var qt=s=>({"clip-path":s}),Xt=s=>({left:s}),Jt=(s,r)=>({"text-yellow-500":s,"text-gray-500":r});function Zt(s,r){if(s&1&&(i(0,"option",18),o(1),S(2,"date"),t()),s&2){let e=r.$implicit;d("value",e.date),l(),_("",T(2,2,e.date,"mediumDate")," ")}}function Qt(s,r){if(s&1&&(i(0,"option",18),o(1),S(2,"date"),t()),s&2){let e=r.$implicit;d("value",e.date),l(),_("",T(2,2,e.date,"mediumDate")," ")}}function er(s,r){if(s&1&&(i(0,"option",18),o(1),t()),s&2){let e=r.$implicit;d("value",e.key),l(),k(e.label)}}function tr(s,r){if(s&1){let e=E();i(0,"img",41),g("click",function(){v(e);let a=u().$implicit,m=u(2);return b(m.openFullScreenImage(a.photoUrl))}),t()}if(s&2){let e=u().$implicit;d("src",e.photoUrl,V)}}function rr(s,r){if(s&1){let e=E();i(0,"div",27)(1,"div",28)(2,"div",29)(3,"p",30),o(4),S(5,"date"),t(),y(6,tr,1,1,"img",31),i(7,"label",32),o(8),i(9,"input",33),g("change",function(a){let m=v(e).$implicit,p=u(2);return b(p.uploadPhoto(a,m.date))}),t()(),i(10,"div")(11,"button",34),g("click",function(){let a=v(e).$implicit,m=u(2);return b(m.confirmDeleteEntry(a.date))}),c(12,"app-icon",35),t(),i(13,"button",36),g("click",function(){let a=v(e).$implicit,m=u(2);return b(m.editEntry(a.date))}),c(14,"app-icon",37),t()()(),i(15,"div",38)(16,"p")(17,"strong"),o(18,"Weight:"),t(),o(19),t(),i(20,"p")(21,"strong"),o(22,"Chest:"),t(),o(23),t(),i(24,"p")(25,"strong"),o(26,"Waist:"),t(),o(27),t(),i(28,"p")(29,"strong"),o(30,"Hips:"),t(),o(31),t(),i(32,"p")(33,"strong"),o(34,"Neck:"),t(),o(35),t(),i(36,"p")(37,"strong"),o(38,"R. Arm:"),t(),o(39),t()(),i(40,"div")(41,"label",39),o(42,"Notes:"),t(),i(43,"textarea",40),g("input",function(a){let m=v(e).$implicit,p=u(2);return b(p.updateNotes(m.date,a))}),t()()()()}if(s&2){let e=r.$implicit;l(4),k(T(5,10,e.date,"fullDate")),l(2),d("ngIf",e.photoUrl),l(2),_(" ",e.photoUrl?"Change Photo":"Add Photo"," "),l(11),_(" ",e.weightKg||"N/A"," kg"),l(4),_(" ",e.chestCm||"N/A"," cm"),l(4),_(" ",e.waistCm||"N/A"," cm"),l(4),_(" ",e.hipsCm||"N/A"," cm"),l(4),_(" ",e.neckCm||"N/A"," cm"),l(4),_(" ",e.rightArmCm||"N/A"," cm"),l(4),d("value",e.notes||"")}}function ir(s,r){if(s&1){let e=E();i(0,"div")(1,"section",19)(2,"h2",20),o(3,"Progress Chart"),t(),i(4,"div",21)(5,"select",22),g("change",function(a){v(e);let m=u();return b(m.updateChart(a))}),y(6,er,2,2,"option",11),t()(),i(7,"div",23),c(8,"ngx-charts-line-chart",24),t()(),i(9,"section",25)(10,"h2",20),o(11,"Log History"),t(),y(12,rr,44,13,"div",26),t()()}if(s&2){let e=u();l(6),d("ngForOf",e.availableMetrics),l(2),d("results",e.chartData)("scheme",e.colorScheme)("xAxis",!0)("yAxis",!0)("legend",!0)("showXAxisLabel",!0)("showYAxisLabel",!0)("xAxisLabel","Date")("yAxisLabel",e.yAxisLabel)("autoScale",!0)("referenceLines",e.referenceLines),l(4),d("ngForOf",e.measurementHistory)}}function nr(s,r){s&1&&(i(0,"div",42)(1,"p",43),o(2,"No measurement history found."),t(),i(3,"p",44),o(4,"Go to your profile settings to add your first entry!"),t()())}function or(s,r){if(s&1){let e=E();i(0,"div",45),g("click",function(){v(e);let a=u();return b(a.closeFullScreenImage())}),c(1,"img",46),t()}if(s&2){let e=u();l(),d("src",e.fullScreenImageUrl,V)}}function ar(s,r){if(s&1){let e=E();i(0,"div",47)(1,"div",48)(2,"h2",49),o(3,"Add Measurement Entry"),t(),i(4,"form",50),g("ngSubmit",function(){v(e);let a=u();return b(a.saveEntry())}),i(5,"label",51),o(6,"Date"),t(),c(7,"input",52),i(8,"div",53)(9,"div")(10,"label",54),o(11,"Target Weight (kg)"),t(),c(12,"input",55),t(),i(13,"div")(14,"label",56),o(15,"Chest (cm)"),t(),c(16,"input",57),t(),i(17,"div")(18,"label",58),o(19,"Waist (cm)"),t(),c(20,"input",59),t(),i(21,"div")(22,"label",60),o(23,"Hips (cm)"),t(),c(24,"input",61),t(),i(25,"div")(26,"label",62),o(27,"Neck (cm)"),t(),c(28,"input",63),t(),i(29,"div")(30,"label",64),o(31,"Right Arm (cm)"),t(),c(32,"input",65),t()(),c(33,"textarea",66),i(34,"div",67)(35,"button",68),g("click",function(){v(e);let a=u();return b(a.isAddEntryModalOpen=!1)}),c(36,"app-icon",69),o(37," CANCEL"),t(),i(38,"button",70),c(39,"app-icon",71),o(40,"SAVE"),t()()()()()}if(s&2){let e=u();l(4),d("formGroup",e.entryForm),l(34),d("disabled",e.entryForm.invalid)}}function sr(s,r){s&1&&(i(0,"span"),o(1,"Side-by-Side View"),t())}function lr(s,r){s&1&&(i(0,"span"),o(1,"Slider View"),t())}function mr(s,r){if(s&1&&(i(0,"div",95)(1,"div",96),c(2,"img",97),i(3,"p",98),o(4),S(5,"date"),t()(),i(6,"div",96),c(7,"img",99),i(8,"p",98),o(9),S(10,"date"),t()()()),s&2){let e=u(2);l(2),d("src",e.comparisonData.from.photoUrl||"./assets/images/no_data.png",V),l(2),k(T(5,4,e.comparisonData.from.date,"fullDate")),l(3),d("src",e.comparisonData.to.photoUrl||"./assets/images/no_data.png",V),l(2),k(T(10,7,e.comparisonData.to.date,"fullDate"))}}function dr(s,r){if(s&1){let e=E();i(0,"div",100)(1,"h3",101),o(2,"Image Comparison Slider"),t(),i(3,"div",102)(4,"div",103),c(5,"img",104),i(6,"span",105),o(7),S(8,"date"),t()(),i(9,"div",106),c(10,"img",107),i(11,"span",108),o(12),S(13,"date"),t()(),i(14,"div",109)(15,"div",110),I(),i(16,"svg",111),c(17,"path",112),t()()(),F(),i(18,"input",113),g("input",function(a){v(e);let m=u(2);return b(m.onSliderChange(a))}),t()()()}if(s&2){let e=u(2);l(5),d("src",e.comparisonData.from.photoUrl||"./assets/images/no_data.png",V),l(2),_(" BEFORE: ",H(8,7,e.comparisonData.from.date,"dd-MM-yy","UTC")," "),l(2),d("ngStyle",Be(15,qt,"inset(0 "+(100-e.comparisonSliderValue)+"% 0 0)")),l(),d("src",e.comparisonData.to.photoUrl||"./assets/images/no_data.png",V),l(2),_(" AFTER: ",H(13,11,e.comparisonData.to.date,"dd-MM-yy","UTC")," "),l(2),d("ngStyle",Be(17,Xt,"calc("+e.comparisonSliderValue+"% - 1px)")),l(4),d("value",e.comparisonSliderValue)}}function pr(s,r){if(s&1&&(i(0,"span"),o(1),t()),s&2){let e=u().$implicit;l(),k(e.unit)}}function cr(s,r){if(s&1&&(i(0,"span"),o(1),t()),s&2){let e=u().$implicit;l(),k(e.unit)}}function gr(s,r){if(s&1&&(Fe(0),o(1),Me()),s&2){let e=u().$implicit;l(),ne(" ",e.difference>0?"+":"","",e.difference," ",e.unit," ")}}function ur(s,r){s&1&&(Fe(0),o(1,"N/A"),Me())}function fr(s,r){if(s&1&&(i(0,"tr",114)(1,"th",115),o(2),t(),i(3,"td",116),o(4),y(5,pr,2,1,"span",82),t(),i(6,"td",116),o(7),y(8,cr,2,1,"span",82),t(),i(9,"td",117),y(10,gr,2,3,"ng-container",82)(11,ur,2,0,"ng-container",82),t()()),s&2){let e=r.$implicit;l(2),k(e.metricLabel),l(2),_("",e.fromValue," "),l(),d("ngIf",e.fromValue!=="N/A"),l(2),_("",e.toValue," "),l(),d("ngIf",e.toValue!=="N/A"),l(),d("ngClass",q(8,Jt,e.difference!==null&&e.difference!==null,e.difference===0||e.difference===null)),l(),d("ngIf",e.difference!==null),l(),d("ngIf",e.difference===null)}}function yr(s,r){if(s&1){let e=E();i(0,"div",72)(1,"div",73)(2,"div",74)(3,"div",75)(4,"h2",76),o(5,"Side-by-Side Comparison"),t(),i(6,"button",77),g("click",function(){v(e);let a=u();return b(a.comparisonData=null)}),c(7,"app-icon",78),t()(),i(8,"div",79)(9,"button",80),g("click",function(){v(e);let a=u();return b(a.toggleComparisonMode())}),c(10,"app-icon",81),y(11,sr,2,0,"span",82)(12,lr,2,0,"span",82),t()()(),y(13,mr,11,10,"div",83)(14,dr,19,19,"div",84),i(15,"div",85)(16,"table",86)(17,"thead",87)(18,"tr")(19,"th",88),o(20,"Metric"),t(),i(21,"th",89),o(22),S(23,"date"),t(),i(24,"th",89),o(25),S(26,"date"),t(),i(27,"th",90),o(28,"Change"),t()()(),i(29,"tbody"),y(30,fr,12,11,"tr",91),t()()(),i(31,"div",92)(32,"button",93),g("click",function(){v(e);let a=u();return b(a.comparisonData=null)}),c(33,"app-icon",94),o(34," CLOSE"),t()()()()}if(s&2){let e=u();l(11),d("ngIf",e.comparisonMode==="slider"),l(),d("ngIf",e.comparisonMode==="side-by-side"),l(),d("ngIf",e.comparisonMode==="side-by-side"),l(),d("ngIf",e.comparisonMode==="slider"),l(8),_("",T(23,7,e.comparisonData.from.date,"shortDate")," "),l(3),_("",T(26,10,e.comparisonData.to.date,"shortDate")," "),l(5),d("ngForOf",e.comparisonData.rows)}}var Ie=class s{userProfileService=x(Ce);imageStorageService=x($);toastService=x(W);fb=x(be);alertService=x(Se);compareFromDate="";compareToDate="";userProfile=null;measurementHistory=[];fullScreenImageUrl=null;isAddEntryModalOpen=!1;comparisonData=null;entryForm;chartData=[];yAxisLabel="Value";referenceLines=[];colorScheme="vivid";availableMetrics=[];notesUpdate$=new Oe;ngOnInit(){this.userProfile=this.userProfileService.getProfile(),this.setupAvailableMetrics(),this.loadHistory(),this.initEntryForm(),this.notesUpdate$.pipe(B(1e3)).subscribe(r=>this.saveNotes(r.date,r.notes))}setupAvailableMetrics(){this.availableMetrics=[{key:"weightKg",label:"Weight (kg)"},{key:"bmi",label:"Body Mass Index (BMI)"},{key:"bodyFat",label:"Body Fat % (Navy)"},{key:"chestCm",label:"Chest (cm)"},{key:"waistCm",label:"Waist (cm)"},{key:"hipsCm",label:"Hips (cm)"},{key:"neckCm",label:"Neck (cm)"},{key:"rightArmCm",label:"Right Arm (cm)"}]}loadHistory(){return w(this,null,function*(){this.userProfile=this.userProfileService.getProfile();let r=this.userProfile?.measurementHistory?.slice().sort((e,n)=>new Date(n.date).getTime()-new Date(e.date).getTime())||[];if(this.measurementHistory=yield Promise.all(r.map(e=>w(this,null,function*(){if(!e.date)return null;let n=yield this.imageStorageService.getImage(e.date),a=n?URL.createObjectURL(n):void 0;return K(Y({},e),{photoUrl:a})}))).then(e=>e.filter(Boolean)),this.measurementHistory.length>0){let e=document.getElementById("metric-select");this.prepareChartData(e?.value||"weightKg")}else this.chartData=[]})}prepareChartData(r){let e=this.availableMetrics.find(m=>m.key===r);this.yAxisLabel=e?e.label:"Value";let a=this.measurementHistory.slice().reverse().map(m=>{let p=null;if(r==="bmi")m.weightKg&&this.userProfile?.heightCm&&this.userProfile.heightCm>0&&(p=this.userProfileService.calculateBMI(m.weightKg,this.userProfile.heightCm));else if(r==="bodyFat"){let{gender:h,heightCm:C}=this.userProfile||{},{waistCm:P,neckCm:z,hipsCm:ut}=m;if(h&&C&&P&&z){let ft={waistCm:P,neckCm:z,heightCm:C,hipsCm:ut??void 0};p=this.userProfileService.calculateBodyFatNavy(h,ft)}}else{let h=m[r];typeof h=="number"&&(p=h)}return{name:m.date,value:p}}).filter(m=>m.value!==null&&m.value!==void 0&&!isNaN(m.value));this.chartData=[{name:this.yAxisLabel,series:a}],this.updateReferenceLine(r)}updateReferenceLine(r){let e=this.userProfile?.measurementGoals?.[r];typeof e=="number"?this.referenceLines=[{name:"Goal",value:e}]:this.referenceLines=[]}updateChart(r){let e=r.target;this.prepareChartData(e.value)}initEntryForm(){this.entryForm=this.fb.group({date:["",f.required],weightKg:[null,[f.min(0)]],waistCm:[null,[f.min(0)]],neckCm:[null,[f.min(0)]],chestCm:[null,[f.min(0)]],hipsCm:[null,[f.min(0)]],rightArmCm:[null,[f.min(0)]],notes:[""]})}openAddEntryModal(){this.entryForm.reset({date:new Date().toISOString().split("T")[0]}),this.isAddEntryModalOpen=!0}saveEntry(){this.entryForm.invalid||(this.userProfileService.addOrUpdateMeasurementEntry(this.entryForm.value),this.isAddEntryModalOpen=!1,this.loadHistory(),this.toastService.success("Entry Saved!"))}updateNotes(r,e){let n=e.target.value;this.notesUpdate$.next({date:r,notes:n})}saveNotes(r,e){let n=this.measurementHistory.find(a=>a.date===r);if(n){let a=K(Y({},n),{notes:e});delete a.photoUrl,this.userProfileService.addOrUpdateMeasurementEntry(a),this.toastService.info("Notes auto-saved.",1500)}}uploadPhoto(r,e){return w(this,null,function*(){let n=r.target;if(!n.files||n.files.length===0)return;let a=n.files[0];try{yield this.imageStorageService.saveImage(e,a);let m=this.measurementHistory.find(p=>p.date===e);m&&(m.photoUrl&&URL.revokeObjectURL(m.photoUrl),m.photoUrl=URL.createObjectURL(a)),this.toastService.success("Photo saved!")}catch(m){console.error("Failed to save photo:",m),this.toastService.error("Could not save photo.")}finally{n.value=""}})}openFullScreenImage(r){this.fullScreenImageUrl=r}closeFullScreenImage(){this.fullScreenImageUrl=null}onCompareFromChange(r){let e=r.target;this.compareFromDate=e.value}onCompareToChange(r){let e=r.target;this.compareToDate=e.value}closeCompareModal(){this.comparisonData=null,this.compareFromDate="",this.compareToDate=""}openCompareModal(r,e){if(this.comparisonMode="slider",this.comparisonSliderValue=50,!r||!e){this.toastService.error("Please select two dates to compare.");return}let n=this.measurementHistory.find(p=>p.date===r),a=this.measurementHistory.find(p=>p.date===e);if(!n||!a){this.toastService.error("Could not find the selected entries.");return}new Date(n.date)>new Date(a.date)&&([n,a]=[a,n]);let m=this.calculateComparisonRows(n,a);this.comparisonData={from:n,to:a,rows:m}}calculateComparisonRows(r,e){return[{key:"weightKg",label:"Weight",unit:"kg"},{key:"chestCm",label:"Chest",unit:"cm"},{key:"waistCm",label:"Waist",unit:"cm"},{key:"hipsCm",label:"Hips",unit:"cm"},{key:"neckCm",label:"Neck",unit:"cm"},{key:"rightArmCm",label:"Right Arm",unit:"cm"}].map(a=>{let m=r[a.key],p=e[a.key],h=null;return typeof m=="number"&&typeof p=="number"&&(h=parseFloat((p-m).toFixed(2))),{metricLabel:a.label,unit:a.unit,fromValue:m??"N/A",toValue:p??"N/A",difference:h}})}editEntry(r){let e=this.measurementHistory.find(n=>n.date===r);if(!e){this.toastService.error("Entry not found.");return}this.entryForm.setValue({date:e.date,weightKg:e.weightKg??null,waistCm:e.waistCm??null,neckCm:e.neckCm??null,chestCm:e.chestCm??null,hipsCm:e.hipsCm??null,rightArmCm:e.rightArmCm??null,notes:e.notes??""}),this.isAddEntryModalOpen=!0}confirmDeleteEntry(r){return w(this,null,function*(){let e=yield this.alertService.showConfirm("Delete Entry",`Are you sure you want to permanently delete all data for ${r}? This includes any associated photo and cannot be undone.`);if(e&&e.data)try{this.userProfileService.deleteMeasurementEntry(r),yield this.imageStorageService.deleteImage(r),this.toastService.success("Entry deleted successfully."),yield this.loadHistory()}catch(n){console.error("Failed to delete entry:",n),this.toastService.error("Could not delete the entry.")}})}comparisonSliderValue=50;comparisonMode="slider";onSliderChange(r){let e=r.target.value;this.comparisonSliderValue=Number(e)}toggleComparisonMode(){this.comparisonMode=this.comparisonMode==="slider"?"side-by-side":"slider"}static \u0275fac=function(e){return new(e||s)};static \u0275cmp=N({type:s,selectors:[["app-measurement-history"]],decls:28,vars:9,consts:[["noData",""],[1,"container","mx-auto","p-2","sm:p-4","text-gray-800","dark:text-gray-200"],[1,"flex","justify-between","items-center","pb-4","border-b","border-gray-200","dark:border-gray-700","mb-4"],[1,"text-2xl","font-bold"],[1,"px-4","py-2","bg-primary","hover:bg-primary-dark","text-white","font-semibold","rounded-md","shadow-sm","transition-colors","inline-flex","items-center","text-sm",3,"click"],["name","plus-circle"],[1,"bg-white","dark:bg-gray-800","p-4","rounded-md","shadow-md","mb-6"],[1,"font-semibold","mb-2"],[1,"flex","flex-col","sm:flex-row","gap-4","items-center"],[1,"flex-1","p-2","border","dark:border-gray-600","rounded-md","dark:bg-gray-700",3,"change"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"px-4","py-2","bg-indigo-500","hover:bg-indigo-600","text-white","rounded-md","disabled:opacity-50","flex","items-center",3,"click","disabled"],["name","magnifier",1,"h-6","w-6","mr-1",3,"strokeWidth"],[4,"ngIf","ngIfElse"],["class","fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 p-4",3,"click",4,"ngIf"],["class","fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4 text-gray-800 dark:text-gray-200 backdrop-blur-sm animate-fade-in",4,"ngIf"],["class","fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 p-4 animate-fade-in text-gray-800 dark:text-gray-200",4,"ngIf"],[3,"value"],[1,"bg-white","dark:bg-gray-800","p-4","sm:p-6","rounded-md","shadow-md","mb-6"],[1,"text-xl","font-semibold","mb-4"],[1,"mb-4"],[1,"p-2","border","dark:border-gray-600","rounded-md","dark:bg-gray-700",3,"change"],[1,"w-full","h-[300px]"],[3,"results","scheme","xAxis","yAxis","legend","showXAxisLabel","showYAxisLabel","xAxisLabel","yAxisLabel","autoScale","referenceLines"],[1,"bg-white","dark:bg-gray-800","p-4","sm:p-6","rounded-md","shadow-md"],["class","border-b dark:border-gray-700 py-4 last:border-b-0",4,"ngFor","ngForOf"],[1,"border-b","dark:border-gray-700","py-4","last:border-b-0"],[1,"grid","grid-cols-1","sm:grid-cols-3","gap-4","items-start"],[1,"flex","flex-col","items-center"],[1,"font-medium","text-lg","mb-2"],["alt","Progress photo","class","w-24 h-24 object-cover rounded-md shadow-lg cursor-pointer hover:opacity-80 transition-opacity",3,"src","click",4,"ngIf"],[1,"cursor-pointer","text-sm","text-primary","dark:text-primary-dark","hover:underline","mt-2"],["type","file","accept","image/*",1,"hidden",3,"change"],["title","Delete Entry",1,"p-1","rounded-full","text-gray-400","hover:bg-red-100","hover:text-red-500","dark:hover:bg-red-900/50","transition-colors",3,"click"],["name","trash",1,"w-4","h-4"],["title","Edit Entry",1,"p-1","rounded-full","text-gray-400","hover:bg-red-100","hover:text-red-500","dark:hover:bg-red-900/50","transition-colors",3,"click"],["name","edit",1,"w-4","h-4"],[1,"text-sm","grid","grid-cols-2","gap-x-4","gap-y-1"],[1,"font-semibold","text-sm"],["placeholder","Add notes...",1,"w-full","p-2","mt-1","border","rounded-md","dark:bg-gray-700","dark:border-gray-600","h-24",3,"input","value"],["alt","Progress photo",1,"w-24","h-24","object-cover","rounded-md","shadow-lg","cursor-pointer","hover:opacity-80","transition-opacity",3,"click","src"],[1,"text-center","bg-white","dark:bg-gray-800","p-10","rounded-md","shadow-md"],[1,"text-lg"],[1,"text-gray-500","dark:text-gray-400","mt-2"],[1,"fixed","inset-0","bg-black","bg-opacity-80","flex","items-center","justify-center","z-50","p-4",3,"click"],[1,"max-w-full","max-h-full","object-contain",3,"src"],[1,"fixed","inset-0","bg-black","bg-opacity-60","flex","items-center","justify-center","z-50","p-4","text-gray-800","dark:text-gray-200","backdrop-blur-sm","animate-fade-in"],[1,"bg-white","dark:bg-gray-800","rounded-lg","shadow-xl","p-6","w-full","max-w-md"],[1,"text-xl","font-bold","mb-4"],[3,"ngSubmit","formGroup"],["for","date",1,"block","text-xs","font-medium","text-gray-600","dark:text-gray-400"],["type","date","formControlName","date","id","date",1,"w-full","p-2","border","rounded","mb-4","dark:bg-gray-700","dark:border-gray-600"],[1,"grid","grid-cols-2","gap-4","mb-4"],["for","weightKg",1,"block","text-xs","font-medium","text-gray-600","dark:text-gray-400"],["type","number","formControlName","weightKg","id","weightKg","placeholder","Weight (kg)",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200","text-lg"],["for","chestCm",1,"block","text-xs","font-medium","text-gray-600","dark:text-gray-400"],["type","number","formControlName","chestCm","id","chestCm","placeholder","Chest (cm)",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200","text-lg"],["for","waistCm",1,"block","text-xs","font-medium","text-gray-600","dark:text-gray-400"],["type","number","formControlName","waistCm","id","waistCm","placeholder","Waist (cm)",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200","text-lg"],["for","hipsCm",1,"block","text-xs","font-medium","text-gray-600","dark:text-gray-400"],["type","number","formControlName","hipsCm","id","hipsCm","placeholder","Hips (cm)",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200","text-lg"],["for","neckCm",1,"block","text-xs","font-medium","text-gray-600","dark:text-gray-400"],["type","number","formControlName","neckCm","id","neckCm","placeholder","Neck (cm)",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200","text-lg"],["for","rightArmCm",1,"block","text-xs","font-medium","text-gray-600","dark:text-gray-400"],["type","number","formControlName","rightArmCm","id","rightArmCm","placeholder","Right Arm (cm)",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200","text-lg"],["formControlName","notes","placeholder","Notes...",1,"w-full","p-2","border","rounded","mb-4","h-24","dark:bg-gray-700","dark:border-gray-600"],[1,"flex","justify-end","gap-4","text-white"],["type","button",1,"px-4","py-2","rounded","flex","items-center",3,"click"],["name","cancel",1,"h-6","w-6","text-white"],["type","submit",1,"px-4","py-2","bg-primary","text-white","rounded","disabled:opacity-50","flex","items-center",3,"disabled"],["name","save",1,"h-7","w-7","mr-1"],[1,"fixed","inset-0","bg-black","bg-opacity-70","flex","items-center","justify-center","z-50","p-4","animate-fade-in","text-gray-800","dark:text-gray-200"],[1,"bg-white","dark:bg-gray-800","rounded-lg","shadow-xl","p-4","sm:p-6","w-full","max-w-3xl","max-h-[90vh]","overflow-y-auto"],[1,"flex","flex-col","sm:flex-row","justify-between","items-start","sm:items-center","mb-4"],[1,"flex","items-center","justify-between","w-full","sm:w-auto","mb-2","sm:mb-0"],[1,"text-xl","sm:text-2xl","font-bold","mb-2","sm:mb-0"],[1,"text-gray-500","hover:text-gray-800","dark:hover:text-gray-200",3,"click"],["name","cancel",1,"h-6","w-6"],[1,"flex","items-center","gap-4"],[1,"px-3","py-1.5","text-xs","font-medium","text-gray-600","dark:text-gray-300","bg-gray-100","dark:bg-gray-700","rounded-md","hover:bg-gray-200","dark:hover:bg-gray-600","transition-colors","flex","items-center",3,"click"],["name","change",1,"w-4","h-4","mr-1"],[4,"ngIf"],["class","grid grid-cols-2 gap-4 mb-6",4,"ngIf"],["class","mb-6",4,"ngIf"],[1,"overflow-x-auto"],[1,"w-full","text-sm","text-left"],[1,"text-xs","text-gray-700","uppercase","bg-gray-50","dark:bg-gray-700","dark:text-gray-400","rounded-lg"],["scope","col",1,"px-2","py-3","rounded-l-lg"],["scope","col",1,"px-2","py-3","text-center"],["scope","col",1,"px-2","py-3","text-center","rounded-r-lg"],["class","border-b dark:border-gray-700",4,"ngFor","ngForOf"],[1,"flex","justify-end","mt-6"],[1,"px-5","py-2.5","rounded-lg","bg-gray-200","hover:bg-gray-300","dark:bg-gray-600","dark:hover:bg-gray-700","text-sm","font-medium","flex","items-center",3,"click"],["name","cancel"],[1,"grid","grid-cols-2","gap-4","mb-6"],[1,"text-center"],["alt","Start photo",1,"w-full","h-48","sm:h-64","object-cover","rounded-md","bg-gray-200","dark:bg-gray-700",3,"src"],[1,"mt-2","font-semibold","text-sm"],["alt","End photo",1,"w-full","h-48","sm:h-64","object-cover","rounded-md","bg-gray-200","dark:bg-gray-700",3,"src"],[1,"mb-6"],[1,"font-semibold","text-center","mb-2"],[1,"relative","w-full","aspect-[4/3]","rounded-md","overflow-hidden","select-none","bg-gray-200","dark:bg-gray-700"],[1,"absolute","inset-0","z-10"],["alt","Start photo",1,"w-full","h-full","object-cover","max-w-none",3,"src"],[1,"absolute","top-2","left-2","bg-black/50","text-white","text-xs","font-bold","py-1","px-2","rounded-full","z-10"],[1,"absolute","inset-0","z-20",3,"ngStyle"],["alt","End photo",1,"w-full","h-full","object-cover","max-w-none",3,"src"],[1,"absolute","top-2","right-2","bg-black/50","text-white","text-xs","font-bold","py-1","px-2","rounded-full","z-10"],[1,"absolute","top-0","bottom-0","bg-white","w-1","pointer-events-none","z-30",3,"ngStyle"],[1,"absolute","top-1/2","-translate-y-1/2","-translate-x-1/2","bg-white","border-2","border-primary","rounded-full","h-8","w-8","flex","items-center","justify-center","shadow-lg"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-primary"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","3","d","M8 9l4-4 4 4m0 6l-4 4-4-4"],["type","range","min","0","max","100",1,"absolute","inset-0","w-full","h-full","cursor-ew-resize","appearance-none","bg-transparent","z-40",2,"--thumb-color","transparent",3,"input","value"],[1,"border-b","dark:border-gray-700"],["scope","row",1,"px-2","py-4","font-medium","whitespace-nowrap"],[1,"px-2","py-4","text-center"],[1,"px-2","py-4","text-center","font-bold",3,"ngClass"]],template:function(e,n){if(e&1){let a=E();i(0,"div",1)(1,"header",2)(2,"h1",3),o(3,"Measurement History"),t(),i(4,"button",4),g("click",function(){return v(a),b(n.openAddEntryModal())}),c(5,"app-icon",5),o(6," ADD PAST ENTRY "),t()(),i(7,"section",6)(8,"h3",7),o(9,"Side-by-Side Comparison"),t(),i(10,"div",8)(11,"select",9),g("change",function(p){return v(a),b(n.onCompareFromChange(p))}),i(12,"option",10),o(13,"-- Select Start Date --"),t(),y(14,Zt,3,5,"option",11),t(),i(15,"select",9),g("change",function(p){return v(a),b(n.onCompareToChange(p))}),i(16,"option",10),o(17,"-- Select End Date --"),t(),y(18,Qt,3,5,"option",11),t(),i(19,"button",12),g("click",function(){return v(a),b(n.openCompareModal(n.compareFromDate,n.compareToDate))}),c(20,"app-icon",13),o(21," COMPARE "),t()()(),y(22,ir,13,13,"div",14)(23,nr,5,0,"ng-template",null,0,X),t(),y(25,or,2,1,"div",15)(26,ar,41,2,"div",16)(27,yr,35,13,"div",17)}if(e&2){let a=A(24);l(14),d("ngForOf",n.measurementHistory),l(4),d("ngForOf",n.measurementHistory),l(),d("disabled",!n.compareFromDate||!n.compareToDate),l(),d("strokeWidth",2),l(2),d("ngIf",n.measurementHistory.length>0)("ngIfElse",a),l(3),d("ngIf",n.fullScreenImageUrl),l(),d("ngIf",n.isAddEntryModalOpen),l(),d("ngIf",n.comparisonData)}},dependencies:[G,oe,R,U,Re,ae,lt,st,xe,ge,he,ve,de,ue,pe,ce,fe,ye,j],encapsulation:2})};var $i=[{path:"",component:Pe,title:"Profile & Settings"},{path:"personal-bests",component:Te,title:"Personal Bests"},{path:"measurements",component:Ie,title:"Body Measurements"}];export{$i as PROFILE_SETTINGS_ROUTES};
