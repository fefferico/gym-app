import{a as $e,c as we}from"./chunk-KKP7JRXI.js";import{a as lt}from"./chunk-YXQJDUQ6.js";import{a as ke}from"./chunk-KB7ESDJQ.js";import"./chunk-BKVSW7VN.js";import{c as at,d as st}from"./chunk-XX6W4WLO.js";import{g as rt}from"./chunk-Y4BJJ4YT.js";import{a as _e,b as Se,c as ot}from"./chunk-5NLA627F.js";import{c as it}from"./chunk-BJMC4D3J.js";import{a as nt}from"./chunk-C24IH5FR.js";import{A as O,Ac as pe,Bc as Ye,D as M,Dc as ce,E as Ne,Ea as d,Eb as re,Ec as Ke,Fa as r,Fb as H,Ga as t,Gb as R,Gc as ue,Ha as p,Hc as qe,Ia as Ie,Ic as ge,Ja as Fe,Jb as Re,Jc as fe,Kc as Xe,L as J,La as k,Lc as Ze,Ma as u,Mb as Ue,Mc as Je,N as Le,Na as g,Nb as Ge,Ob as ie,Oc as he,Pb as je,Qc as ye,R as b,Rb as U,Rc as ve,Sb as K,Sc as be,Tc as xe,Ua as V,Uc as Qe,V as y,Va as Me,Vc as G,W as v,Wa as ee,Wc as et,X as T,Xc as tt,Y as I,Ya as o,Za as w,_a as _,a as W,aa as A,ab as te,b as $,bc as ne,cc as We,fa as Q,g as E,hb as Ae,hc as De,ia as D,ib as z,ic as oe,j as Oe,ja as He,kc as q,la as l,lc as X,mb as S,mc as ae,nb as L,ob as P,pb as Ve,qb as Y,r as Z,rc as ze,sc as se,ta as N,tb as B,tc as f,uc as le,vc as me,ya as h,zc as de}from"./chunk-HDWKB4D3.js";var mt=(a,i)=>({"bg-primary hover:bg-primary-dark text-white border-primary dark:border-primary":a,"border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700":i});function ht(a,i){if(a&1&&(r(0,"option",93),o(1),t()),a&2){let e=i.$implicit;d("value",e.value),l(),_("",e.label," ")}}function yt(a,i){a&1&&(r(0,"div",94),o(1," Must be a positive number (e.g., 2.5 or 5). Max 50. "),t())}function vt(a,i){a&1&&(r(0,"div",94),o(1," Must be 1-20s. "),t())}function bt(a,i){if(a&1){let e=k();r(0,"div",9)(1,"label",95),o(2,"Countdown From (seconds)"),t(),r(3,"input",96),u("change",function(){y(e);let s=g();return v(s.currentVibrator.vibrate(50))}),t(),h(4,vt,2,0,"div",49),t()}if(a&2){let e,n=g();l(4),d("ngIf",((e=n.appSettingsForm.get("countdownSoundSeconds"))==null?null:e.invalid)&&((e=n.appSettingsForm.get("countdownSoundSeconds"))==null?null:e.touched))}}function xt(a,i){a&1&&(r(0,"div",94),o(1," Must be 3-60s. "),t())}function _t(a,i){if(a&1){let e=k();r(0,"div",97)(1,"label",98),o(2,"Pre-Set Timer Duration (seconds)"),t(),r(3,"input",99),u("change",function(){y(e);let s=g();return v(s.currentVibrator.vibrate(50))}),t(),h(4,xt,2,0,"div",49),t()}if(a&2){let e,n=g();l(4),d("ngIf",((e=n.appSettingsForm.get("presetTimerDurationSeconds"))==null?null:e.invalid)&&((e=n.appSettingsForm.get("presetTimerDurationSeconds"))==null?null:e.touched))}}function St(a,i){if(a&1&&(r(0,"div",108),p(1,"input",109),r(2,"label",110),o(3),t()()),a&2){let e=i.$implicit;l(),d("id","strategy-"+e.value)("value",e.value),l(),d("for","strategy-"+e.value),l(),w(e.label)}}function wt(a,i){a&1&&(r(0,"div",94),o(1," Please select a strategy. "),t())}function kt(a,i){a&1&&(r(0,"div",94),o(1," Must be a positive number. "),t())}function Ct(a,i){if(a&1&&(r(0,"div")(1,"label",111),o(2),S(3,"uppercase"),t(),p(4,"input",112),h(5,kt,2,0,"div",49),t()),a&2){let e,n=g(2);l(2),_("Weight Increment (",L(3,2,n.unitsService.currentUnit()),")"),l(3),d("ngIf",((e=n.progressiveOverloadForm.get("weightIncrement"))==null?null:e.invalid)&&((e=n.progressiveOverloadForm.get("weightIncrement"))==null?null:e.touched))}}function Et(a,i){a&1&&(r(0,"div",94),o(1," Must be a whole number (e.g., 1, 2). "),t())}function Pt(a,i){if(a&1&&(r(0,"div")(1,"label",113),o(2,"Repetitions Increment"),t(),p(3,"input",114),h(4,Et,2,0,"div",49),t()),a&2){let e,n=g(2);l(4),d("ngIf",((e=n.progressiveOverloadForm.get("repsIncrement"))==null?null:e.invalid)&&((e=n.progressiveOverloadForm.get("repsIncrement"))==null?null:e.touched))}}function Tt(a,i){a&1&&(r(0,"div",94),o(1," Must be at least 1 session. "),t())}function It(a,i){if(a&1&&(r(0,"div",100)(1,"div")(2,"label",101),o(3,"Progression Strategy"),t(),r(4,"p",102),o(5,"Choose what to increase when you meet your goals."),t(),r(6,"div",103),h(7,St,4,4,"div",104),t(),h(8,wt,2,0,"div",49),t(),h(9,Ct,6,4,"div",105)(10,Pt,5,1,"div",105),r(11,"div")(12,"label",106),o(13,"Apply After # Successful Sessions"),t(),r(14,"p",47),o(15,"Increase after completing this many workouts for an exercise successfully."),t(),p(16,"input",107),h(17,Tt,2,0,"div",49),t()()),a&2){let e,n,s,m,c=g();l(7),d("ngForOf",c.progressiveOverloadStrategies),l(),d("ngIf",((e=c.progressiveOverloadForm.get("strategy"))==null?null:e.invalid)&&((e=c.progressiveOverloadForm.get("strategy"))==null?null:e.touched)),l(),d("ngIf",((n=c.progressiveOverloadForm.get("strategy"))==null?null:n.value)==="weight"),l(),d("ngIf",((s=c.progressiveOverloadForm.get("strategy"))==null?null:s.value)==="reps"),l(7),d("ngIf",((m=c.progressiveOverloadForm.get("sessionsToIncrement"))==null?null:m.invalid)&&((m=c.progressiveOverloadForm.get("sessionsToIncrement"))==null?null:m.touched))}}var Ce=class a{fb=b(he);router=b(ne);workoutService=b(tt);trackingService=b(Se);trainingProgramService=b(it);exerciseService=b(_e);storageService=b(Qe);unitsService=b(ke);alertService=b(xe);spinnerService=b(nt);themeService=b(ot);userProfileService=b(we);appSettingsService=b(lt);progressiveOverloadService=b(et);platformId=b(Q);toastService=b(G);currentVibrator=navigator;goalsForm;profileForm;appSettingsForm;progressiveOverloadForm;currentUnit=this.unitsService.currentUnit;genders=[{label:"Male",value:"male"},{label:"Female",value:"female"},{label:"Other",value:"other"},{label:"Prefer not to say",value:"prefer_not_to_say"}];progressiveOverloadStrategies=[{label:"Increase Weight",value:"weight"},{label:"Increase Reps",value:"reps"}];BACKUP_VERSION=5;constructor(){this.profileForm=this.fb.group({username:[""],gender:[null],measurements:this.fb.group({heightCm:[null,[f.min(0),f.required]],weightKg:[null,[f.min(0),f.required]],age:[null,[f.min(0),f.max(150),f.required]],chestCm:[null,[f.min(0)]],waistCm:[null,[f.min(0)]],hipsCm:[null,[f.min(0)]],rightArmCm:[null,[f.min(0)]]})}),this.profileForm.get("measurements").addControl("neckCm",this.fb.control(null,[f.min(0)])),this.goalsForm=this.fb.group({weightKg:[null,[f.min(0)]],waistCm:[null,[f.min(0)]]}),this.appSettingsForm=this.fb.group({enableTimerCountdownSound:[!0],countdownSoundSeconds:[5,[f.required,f.min(1),f.max(60)]],enablePresetTimer:[!1],presetTimerDurationSeconds:[10,[f.required,f.min(3),f.max(60)]],weightStep:[2.5,[f.required,f.min(.01),f.max(50)]]}),this.progressiveOverloadForm=this.fb.group({enabled:[!1],strategy:[null],weightIncrement:[null,[f.min(.1)]],repsIncrement:[null,[f.min(1),f.pattern("^[0-9]*$")]],sessionsToIncrement:[1,[f.required,f.min(1)]]})}ngOnInit(){K(this.platformId)&&window.scrollTo(0,0),this.loadProfileData(),this.loadAppSettingsData(),this.loadProgressiveOverloadSettings(),this.appSettingsForm.valueChanges.pipe(M(700),O(()=>this.appSettingsForm.valid&&this.appSettingsForm.dirty),J(i=>{this.appSettingsService.saveSettings(i),this.appSettingsForm.markAsPristine({onlySelf:!1}),this.toastService.info("App settings auto-saved",1500)})).subscribe(),this.listenForProgressiveOverloadChanges(),this.profileForm.get("username")?.valueChanges.pipe(M(700),O(()=>this.profileForm.valid&&this.profileForm.dirty)).subscribe(i=>this.saveUsernameAndGender()),this.profileForm.get("gender")?.valueChanges.pipe(M(700),O(()=>this.profileForm.valid&&this.profileForm.dirty)).subscribe(i=>this.saveUsernameAndGender()),this.loadGoalsData(),this.goalsForm.valueChanges.pipe(M(700),O(()=>this.goalsForm.valid&&this.goalsForm.dirty),J(i=>{this.userProfileService.saveGoals(i),this.goalsForm.markAsPristine(),this.toastService.info("Goals auto-saved",1500)})).subscribe()}loadGoalsData(){let i=this.userProfileService.getProfile()?.measurementGoals;i&&this.goalsForm.reset(i,{emitEvent:!1})}saveMeasurements(){let i=this.profileForm?.get("measurements");if(!this.profileForm||!i||i.invalid){this.toastService.error("Please fill in all required fields correctly: at least age, height and weight should be filled.");return}let e=this.profileForm.get("measurements")?.value;this.userProfileService.addOrUpdateMeasurementEntry(e),this.profileForm.get("measurements").markAsPristine(),this.toastService.info("Measurements history updated",1500)}saveUsernameAndGender(){let i={username:this.profileForm.get("username")?.value,gender:this.profileForm.get("gender")?.value};this.userProfileService.saveProfile(i),this.toastService.info("Profile auto-saved",1500),this.profileForm.markAsPristine()}listenForProgressiveOverloadChanges(){this.progressiveOverloadForm.valueChanges.pipe(M(700),O(()=>this.progressiveOverloadForm.valid&&this.progressiveOverloadForm.dirty),J(m=>{this.progressiveOverloadService.saveSettings(m),this.progressiveOverloadForm.markAsPristine({onlySelf:!1}),this.toastService.info("Progressive Overload settings auto-saved",1500)})).subscribe();let i=this.progressiveOverloadForm.get("enabled"),e=this.progressiveOverloadForm.get("strategy"),n=this.progressiveOverloadForm.get("weightIncrement"),s=this.progressiveOverloadForm.get("repsIncrement");i?.valueChanges.subscribe(m=>{m?e?.setValidators(f.required):(e?.clearValidators(),e?.setValue(null,{emitEvent:!1})),e?.updateValueAndValidity()}),e?.valueChanges.subscribe(m=>{m==="weight"?(n?.setValidators([f.required,f.min(.1)]),s?.clearValidators(),s?.setValue(null,{emitEvent:!1})):m==="reps"?(s?.setValidators([f.required,f.min(1),f.pattern("^[0-9]*$")]),n?.clearValidators(),n?.setValue(null,{emitEvent:!1})):(n?.clearValidators(),s?.clearValidators(),n?.setValue(null,{emitEvent:!1}),s?.setValue(null,{emitEvent:!1})),n?.updateValueAndValidity(),s?.updateValueAndValidity()})}loadProfileData(){let i=this.userProfileService.getProfile();if(i){let e=this.userProfileService.getMeasurements();this.profileForm.reset({username:i.username||"",gender:i.gender||null,measurements:e||{}},{emitEvent:!1})}else this.profileForm.reset({username:"",gender:null,measurements:{heightCm:null,weightKg:null,age:null,chestCm:null,waistCm:null,hipsCm:null,rightArmCm:null}},{emitEvent:!1})}loadAppSettingsData(){let i=this.appSettingsService.getSettings();this.appSettingsForm.reset(i,{emitEvent:!1})}loadProgressiveOverloadSettings(){let i=this.progressiveOverloadService.getSettings();this.progressiveOverloadForm.reset(i,{emitEvent:!1})}exportData(){this.spinnerService.show("Exporting data...");let i={version:this.BACKUP_VERSION,timestamp:new Date().toISOString(),profile:this.userProfileService.getDataForBackup(),appSettings:this.appSettingsService.getDataForBackup(),progressiveOverload:this.progressiveOverloadService.getDataForBackup(),routines:this.workoutService.getDataForBackup(),programs:this.trainingProgramService.getDataForBackup(),exercises:this.exerciseService.getDataForBackup(),workoutLogs:this.trackingService.getLogsForBackup(),personalBests:this.trackingService.getPBsForBackup()},e=JSON.stringify(i,null,2),n=new Blob([e],{type:"application/json"}),s=URL.createObjectURL(n),m=document.createElement("a"),c=rt(new Date,"yyyyMMdd_HHmmss");m.download=`FitTrackPro_backup_v${this.BACKUP_VERSION}_${c}.json`,m.href=s,m.click(),URL.revokeObjectURL(s),this.spinnerService.hide(),this.toastService.success("Data export initiated",3e3)}importData(i){let e=i.target,n=e.files?.[0];if(!n)return;if(n.type!=="application/json"){this.alertService.showAlert("Error","Invalid file type. Please select a JSON file."),e.value="";return}let s=new FileReader;s.onload=m=>{try{let c=m.target?.result,x=JSON.parse(c);if(typeof x!="object"||x===null){this.alertService.showAlert("Error","Invalid backup file format. Expected an object."),e.value="";return}let C=x.version;if(C>this.BACKUP_VERSION){this.alertService.showAlert("Error",`Backup version ${C} is newer than the app's supported version ${this.BACKUP_VERSION}. Please update the app.`),e.value="";return}this.alertService.showConfirm("WARNING","Importing data will try to MERGE your current data with the IMPORTED one. Are you sure?").then(F=>{F&&F.data?(this.spinnerService.show("Importing data..."),C>=5?this.userProfileService.mergeData(x.profile):C>=2?this.userProfileService.replaceData(x.profile):this.userProfileService.replaceData(null),this.workoutService.mergeData(x.routines),this.trackingService.replaceLogs(x.workoutLogs),this.trackingService.replacePBs(x.personalBests),C>=4&&this.progressiveOverloadService.replaceData(x.progressiveOverload),C>=3&&(this.exerciseService.mergeData(x.exercises),this.trainingProgramService.mergeData(x.programs)),C>=2&&this.appSettingsService.replaceData(x.appSettings),this.loadProfileData(),this.loadAppSettingsData(),this.loadProgressiveOverloadSettings(),this.loadGoalsData(),this.spinnerService.hide(),this.toastService.success("Data imported successfully!",5e3,"Import Complete")):this.toastService.info("Data import cancelled",2e3)})}catch(c){console.error("Error processing imported file:",c),this.alertService.showAlert("Error","Error processing backup file. Ensure it is valid JSON.")}finally{e.value=""}},s.onerror=()=>{this.alertService.showAlert("Error","Error reading file."),e.value=""},s.readAsText(n)}clearAllAppData(){return E(this,null,function*(){let i=yield this.alertService.showConfirmationDialog("WARNING","This will delete ALL your workout data, profile, and settings. This cannot be undone. Are you sure?",[{text:"Cancel",role:"cancel",data:!1,icon:"cancel"},{text:"Clear all data",role:"confirm",data:!0,cssClass:"bg-red-600",icon:"trash"}]);if(i&&i.data){let e=yield this.alertService.showPromptDialog("Confirm Data Deletion",'To confirm, please type "DELETE" in the input below. This will delete ALL your workout data, profile, and settings. This cannot be undone.',[{name:"confirmDialogInput",type:"text",placeholder:"Type DELETE to confirm",value:"",autofocus:!0}],"CLEAR ALL DATA"),n=e&&typeof e.confirmDialogInput=="string"?e.confirmDialogInput:null;if(!n||n.toUpperCase()!=="DELETE"){this.alertService.showAlert("Cancelled","Data clearing cancelled. No changes made.");return}this.trackingService.clearAllWorkoutLogs_DEV_ONLY&&(yield this.trackingService.clearAllWorkoutLogs_DEV_ONLY()),this.trackingService.clearAllPersonalBests_DEV_ONLY&&(yield this.trackingService.clearAllPersonalBests_DEV_ONLY()),this.workoutService.clearAllRoutines_DEV_ONLY&&(yield this.workoutService.clearAllRoutines_DEV_ONLY()),this.userProfileService.clearUserProfile_DEV_ONLY&&this.userProfileService.clearUserProfile_DEV_ONLY(),this.appSettingsService.clearAppSettings_DEV_ONLY&&this.appSettingsService.clearAppSettings_DEV_ONLY(),this.progressiveOverloadService.clearSettings_DEV_ONLY&&this.progressiveOverloadService.clearSettings_DEV_ONLY(),this.trainingProgramService.deactivateAllPrograms&&this.trainingProgramService.deactivateAllPrograms(),this.loadProfileData(),this.loadAppSettingsData(),this.loadProgressiveOverloadSettings(),yield this.alertService.showAlert("Info","All application data has been cleared")}})}selectUnit(i){this.unitsService.setUnitPreference(i)}toggleWipDisclaimer(){let i=this.userProfileService.getHideWipDisclaimer();this.userProfileService.updateHideWipDisclaimer(!i)}navigateToExerciseLibrary(){this.router.navigate(["/library"])}navigateToPersonalBests(){this.router.navigate(["/profile/personal-bests"])}onSyncExerciseHistoryClick(){return E(this,null,function*(){let i=yield this.alertService.showConfirm("Sync Exercise History",'This will scan your workout logs to update the "Last Used" date for all exercises. This may take a moment. Proceed?');i&&i.data&&(yield this.trackingService.backfillLastUsedExerciseTimestamps())})}navigateToBodyMeasurements(){this.router.navigate(["/profile/measurements"])}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=N({type:a,selectors:[["app-profile-settings"]],decls:239,vars:30,consts:[[1,"container","mx-auto","p-2","sm:p-4"],[1,"flex","justify-between","items-center","pb-2"],[1,"text-2xl","font-bold","text-gray-800","dark:text-gray-200"],[1,"space-y-6","sm:space-y-8"],[1,"bg-white","dark:bg-gray-700","p-4","sm:p-6","rounded-md","shadow-md"],[1,"text-xl","font-semibold","text-gray-700","dark:text-gray-300","mb-4"],[1,"space-y-4","dark:text-gray-300",3,"formGroup"],["for","username",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["type","text","id","username","formControlName","username","placeholder","Your display name",1,"mt-1","block","w-full","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600",3,"change"],[1,"dark:text-gray-300"],["for","gender",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["id","gender","formControlName","gender",1,"mt-1","block","w-full","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600",3,"change"],[3,"ngValue"],[3,"value",4,"ngFor","ngForOf"],["formGroupName","measurements",1,"space-y-4","pt-4","border-t","border-gray-200","dark:border-gray-600"],[1,"text-lg","font-medium","text-gray-700","dark:text-gray-300"],[1,"grid","grid-cols-2","md:grid-cols-4","gap-4"],["for","age",1,"block","text-xs","font-medium","text-gray-600","dark:text-gray-400"],[1,"text-red-500"],["type","number","min","0","id","age","formControlName","age","placeholder","Years","required","",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200"],["for","heightCm",1,"block","text-xs","font-medium","text-gray-600","dark:text-gray-400"],["type","number","min","0","id","heightCm","formControlName","heightCm","placeholder","cm",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200"],["for","weightKg",1,"block","text-xs","font-medium","text-gray-600","dark:text-gray-400"],["type","number","min","0","id","weightKg","formControlName","weightKg","placeholder","kg",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200"],["for","chestCm",1,"block","text-xs","font-medium","text-gray-600","dark:text-gray-400"],["type","number","min","0","id","chestCm","formControlName","chestCm","placeholder","cm",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200"],["for","neckCm",1,"block","text-xs","font-medium","text-gray-600","dark:text-gray-400"],["type","number","min","0","id","neckCm","formControlName","neckCm","placeholder","cm",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200"],["for","waistCm",1,"block","text-xs","font-medium","text-gray-600","dark:text-gray-400"],["type","number","min","0","id","waistCm","formControlName","waistCm","placeholder","cm",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200"],["for","hipsCm",1,"block","text-xs","font-medium","text-gray-600","dark:text-gray-400"],["type","number","min","0","id","hipsCm","formControlName","hipsCm","placeholder","cm",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200"],["for","rightArmCm",1,"block","text-xs","font-medium","text-gray-600","dark:text-gray-400"],["type","number","min","0","id","rightArmCm","formControlName","rightArmCm","placeholder","cm",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200"],[1,"flex","justify-center","space-x-2","pt-4"],["type","button",1,"flex","items-center","px-4","py-2","bg-green-500","hover:bg-green-600","text-white","font-semibold","rounded-md","shadow-sm","text-sm","disabled:opacity-50","disabled:cursor-not-allowed",3,"click"],["name","save",1,"w-6","h-6","mr-1"],["type","button",1,"flex","items-center","px-4","py-2","bg-blue-500","hover:bg-blue-600","text-white","font-semibold","rounded-md","shadow-sm","text-sm","disabled:opacity-50","disabled:cursor-not-allowed",3,"click"],["name","chart2",1,"w-6","h-6","mr-1"],[1,"space-y-4",3,"formGroup"],[1,"grid","grid-cols-1","sm:grid-cols-2","md:grid-cols-3","gap-4"],["for","goalWeightKg",1,"block","text-xs","font-medium","text-gray-600","dark:text-gray-400"],["type","number","min","0","id","goalWeightKg","formControlName","weightKg","placeholder","kg",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200"],["for","goalWaistCm",1,"block","text-xs","font-medium","text-gray-600","dark:text-gray-400"],["type","number","min","0","id","goalWaistCm","formControlName","waistCm","placeholder","cm",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200"],[1,"border-b","border-gray-200","dark:border-gray-600","pb-4"],["for","weightStep",1,"block","text-md","font-medium","text-gray-700","dark:text-gray-300"],[1,"text-sm","text-gray-500","dark:text-gray-400","mb-1"],["type","number","id","weightStep","formControlName","weightStep","min","0.01","step","any",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200",3,"change"],["class","text-red-500 dark:text-red-400 text-xs mt-1",4,"ngIf"],[1,"flex","items-center","justify-between","pt-4"],[1,"text-md","font-medium","text-gray-700","dark:text-gray-300"],[1,"text-sm","text-gray-500","dark:text-gray-400","mr-1"],["for","countdown-sound-toggle",1,"inline-flex","items-center","cursor-pointer"],["type","checkbox","id","countdown-sound-toggle","formControlName","enableTimerCountdownSound",1,"sr-only","peer",3,"change"],[1,"relative","w-11","h-6","bg-gray-200","peer-focus:outline-none","peer-focus:ring-4","peer-focus:ring-blue-300","dark:peer-focus:ring-blue-800","rounded-full","peer","dark:bg-gray-600","peer-checked:after:translate-x-full","rtl:peer-checked:after:-translate-x-full","peer-checked:after:border-white","after:content-['']","after:absolute","after:top-[2px]","after:start-[2px]","after:bg-white","after:border-gray-300","after:border","after:rounded-full","after:h-5","after:w-5","after:transition-all","dark:border-gray-600","peer-checked:bg-primary","dark:peer-checked:bg-primary-dark"],[1,"ms-3","text-sm","font-medium","text-gray-900","dark:text-gray-300"],["class"," dark:text-gray-300",4,"ngIf"],[1,"pt-4","border-t","border-gray-200","dark:border-gray-600"],[1,"flex","items-center","justify-between"],["for","preset-timer-toggle",1,"inline-flex","items-center","cursor-pointer"],[1,"sr-only"],["type","checkbox","id","preset-timer-toggle","formControlName","enablePresetTimer",1,"sr-only","peer",3,"change"],["class","text-gray-700 dark:text-gray-300",4,"ngIf"],[1,"flex","items-center","justify-between","pb-4","border-b","border-gray-200","dark:border-gray-600"],["for","po-enabled-toggle",1,"inline-flex","items-center","cursor-pointer"],["type","checkbox","id","po-enabled-toggle","formControlName","enabled",1,"sr-only","peer",3,"change"],["class","space-y-4 pt-4",4,"ngIf"],[1,"space-y-4"],[1,"text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-2"],["appPress","",1,"flex","items-center","px-4","py-2","bg-blue-500","hover:bg-blue-600","text-white","font-semibold","rounded-md","shadow-sm","transition-colors","text-sm",3,"shortPress"],["name","export",1,"w-6","h-6","mr-1"],["type","file","accept","application/json",1,"block","w-full","text-sm","text-gray-700","dark:text-gray-300","file:mr-4","file:py-2","file:px-4","file:rounded-md","file:border-0","file:text-sm","file:font-semibold","file:bg-gray-200","file:text-gray-700","hover:file:bg-gray-300","dark:file:bg-gray-600","dark:file:text-gray-200","dark:hover:file:bg-gray-700",3,"change"],[1,"text-xs","text-gray-500","dark:text-gray-400","mb-2"],["appPress","",1,"flex","items-center","px-4","py-2","bg-indigo-500","hover:bg-indigo-600","text-white","font-semibold","rounded-md","shadow-sm","transition-colors","text-sm",3,"shortPress"],["name","change",1,"w-6","h-6","mr-1"],[1,"pt-4","border-t","border-gray-200","dark:border-gray-700"],[1,"text-lg","font-semibold","text-gray-700","dark:text-gray-300","mb-2"],[1,"text-sm","font-medium","text-red-600","dark:text-red-400","mb-2"],["appPress","",1,"flex","items-center","px-4","py-2","bg-red-500","hover:bg-red-600","text-white","font-semibold","rounded-md","shadow-sm","transition-colors","text-sm",3,"shortPress"],["name","trash",1,"w-6","h-6","mr-1"],["appPress","",1,"px-4","py-2","bg-primary","hover:bg-primary-dark","text-white","font-semibold","rounded-md","shadow-sm","transition-colors","inline-flex","items-center","text-sm",3,"shortPress"],["name","exercise-list",1,"w-6","h-6","mr-1"],["name","pb",1,"w-6","h-6","mr-1"],[1,"flex","space-x-4"],["appPress","",1,"px-4","py-2","border","rounded-md","transition-colors","text-sm",3,"shortPress","ngClass"],["for","show-wip-message",1,"inline-flex","items-center","cursor-pointer"],["type","checkbox","id","show-wip-message",1,"sr-only","peer",3,"change","checked"],["for","theme-toggle",1,"inline-flex","items-center","cursor-pointer"],["type","checkbox","id","theme-toggle",1,"sr-only","peer",3,"change","checked"],[1,"flex","items-center","justify-between","mt-5"],["for","menu-mode-toggle",1,"inline-flex","items-center","cursor-pointer"],["type","checkbox","id","menu-mode-toggle",1,"sr-only","peer",3,"change","checked"],[3,"value"],[1,"text-red-500","dark:text-red-400","text-xs","mt-1"],["for","countdownSeconds",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["type","number","id","countdownSeconds","formControlName","countdownSoundSeconds","min","1","max","20",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600",3,"change"],[1,"text-gray-700","dark:text-gray-300"],["for","presetTimerDurationSeconds",1,"block","text-sm","font-medium"],["type","number","id","presetTimerDurationSeconds","formControlName","presetTimerDurationSeconds","min","3","max","60",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600",3,"change"],[1,"space-y-4","pt-4"],[1,"block","text-md","font-medium","text-gray-700","dark:text-gray-300"],[1,"text-sm","text-gray-500","dark:text-gray-400","mb-2"],[1,"flex","flex-col","sm:flex-row","sm:space-x-4"],["class","flex items-center",4,"ngFor","ngForOf"],[4,"ngIf"],["for","sessionsToIncrement",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["type","number","id","sessionsToIncrement","formControlName","sessionsToIncrement","min","1","step","1",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200"],[1,"flex","items-center"],["type","radio","formControlName","strategy",1,"focus:ring-primary","h-4","w-4","text-primary","border-gray-300","dark:border-gray-600","dark:bg-gray-700",3,"id","value"],[1,"ml-3","block","text-sm","font-medium","text-gray-700","dark:text-gray-300",3,"for"],["for","weightIncrement",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["type","number","id","weightIncrement","formControlName","weightIncrement","min","0.1","step","any","placeholder","e.g., 2.5",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200"],["for","repsIncrement",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["type","number","id","repsIncrement","formControlName","repsIncrement","min","1","step","1","placeholder","e.g., 1",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200"]],template:function(e,n){if(e&1&&(r(0,"div",0)(1,"header",1)(2,"h1",2),o(3,"Profile & Settings"),t()(),r(4,"div",3)(5,"section",4)(6,"h2",5),o(7,"User Profile"),t(),r(8,"form",6)(9,"div")(10,"label",7),o(11,"Username"),t(),r(12,"input",8),u("change",function(){return n.currentVibrator.vibrate(50)}),t()(),r(13,"div",9)(14,"label",10),o(15,"Gender"),t(),r(16,"select",11),u("change",function(){return n.currentVibrator.vibrate(50)}),r(17,"option",12),o(18,"Select Gender..."),t(),h(19,ht,2,2,"option",13),t()(),r(20,"div",14)(21,"h3",15),o(22,"Measurements"),t(),r(23,"div",16)(24,"div")(25,"label",17),o(26," Age "),r(27,"span",18),o(28,"*"),t()(),p(29,"input",19),t(),r(30,"div")(31,"label",20),o(32," Height (cm)"),r(33,"span",18),o(34,"*"),t()(),p(35,"input",21),t(),r(36,"div")(37,"label",22),o(38," Weight (kg)"),r(39,"span",18),o(40,"*"),t()(),p(41,"input",23),t(),r(42,"div")(43,"label",24),o(44,"Chest (cm)"),t(),p(45,"input",25),t(),r(46,"div")(47,"label",26),o(48,"Neck (cm)"),t(),p(49,"input",27),t(),r(50,"div")(51,"label",28),o(52,"Waist (cm)"),t(),p(53,"input",29),t(),r(54,"div")(55,"label",30),o(56,"Hips (cm)"),t(),p(57,"input",31),t(),r(58,"div")(59,"label",32),o(60,"Right Arm (cm)"),t(),p(61,"input",33),t()(),r(62,"div",34)(63,"button",35),u("click",function(){return n.saveMeasurements()}),p(64,"app-icon",36),o(65," SAVE MEASUREMENTS "),t(),r(66,"button",37),u("click",function(){return n.navigateToBodyMeasurements()}),p(67,"app-icon",38),o(68," MEASUREMENTS HISTORY "),t()()()()(),r(69,"section",4)(70,"h2",5),o(71,"Measurement Goals"),t(),r(72,"form",39)(73,"div",40)(74,"div")(75,"label",41),o(76,"Target Weight (kg)"),t(),p(77,"input",42),t(),r(78,"div")(79,"label",43),o(80,"Target Waist (cm)"),t(),p(81,"input",44),t()()()(),r(82,"section",4)(83,"h2",5),o(84,"Workout Player Settings"),t(),r(85,"form",39)(86,"div",45)(87,"label",46),o(88,"Weight Increment Step"),t(),r(89,"p",47),o(90),S(91,"uppercase"),t(),r(92,"input",48),u("change",function(){return n.currentVibrator.vibrate(50)}),t(),h(93,yt,2,0,"div",49),t(),r(94,"div",50)(95,"div")(96,"h3",51),o(97,"Timed Set Countdown Sound"),t(),r(98,"p",52),o(99,"Play sound X seconds before a timed set ends"),t()(),r(100,"label",53)(101,"input",54),u("change",function(){return n.currentVibrator.vibrate(50)}),t(),p(102,"div",55),r(103,"span",56),o(104),t()()(),h(105,bt,5,1,"div",57),p(106,"div",58),r(107,"div",59)(108,"div")(109,"h3",51),o(110,"Pre-Set Timer"),t(),r(111,"p",52),o(112,"Show a countdown before each set starts"),t()(),r(113,"label",60)(114,"span",61),o(115,"Toggle Pre-Set Timer"),t(),r(116,"input",62),u("change",function(){return n.currentVibrator.vibrate(50)}),t(),p(117,"div",55),r(118,"span",56),o(119),t()()(),h(120,_t,5,1,"div",63),t()(),r(121,"section",4)(122,"h2",5),o(123,"Progressive Overload"),t(),r(124,"form",39)(125,"div",64)(126,"div")(127,"h3",51),o(128,"Enable Automatic Progression "),t(),r(129,"p",52),o(130,"Automatically increase weight or reps based on performance."),t()(),r(131,"label",65)(132,"input",66),u("change",function(){return n.currentVibrator.vibrate(50)}),t(),p(133,"div",55),r(134,"span",56),o(135),t()()(),h(136,It,18,5,"div",67),t()(),r(137,"section",4)(138,"h2",5),o(139,"Data Management"),t(),r(140,"div",68)(141,"div")(142,"p",69),o(143,"Backup your data to a JSON file"),t(),r(144,"button",70),u("shortPress",function(){return n.exportData()}),p(145,"app-icon",71),o(146," EXPORT DATA"),t()(),r(147,"div")(148,"p",69),o(149,"Restore your data from a JSON backup file"),t(),r(150,"input",72),u("change",function(m){return n.importData(m),n.currentVibrator.vibrate(50)}),t()(),r(151,"div",58)(152,"p",69),o(153,"Sync Exercise History"),t(),r(154,"p",73),o(155,' This will scan all workout logs to update the "Last Used" date for every exercise in your library. Run this if the dates seem out of sync after an import or an update. '),t(),r(156,"button",74),u("shortPress",function(){return n.onSyncExerciseHistoryClick()}),p(157,"app-icon",75),o(158," SYNC HISTORY "),t()(),r(159,"div",76)(160,"h3",77),o(161,"Reset / Clear Data"),t(),r(162,"p",78),o(163,"WARNING: This action will delete ALL your saved data"),t(),r(164,"button",79),u("shortPress",function(){return n.clearAllAppData()}),p(165,"app-icon",80),o(166," CLEAR ALL DATA"),t()()()(),r(167,"section",4)(168,"h2",5),o(169,"Exercise library"),t(),r(170,"div")(171,"p",69),o(172,"View all the available exercise and add your own ones"),t(),r(173,"button",81),u("shortPress",function(){return n.navigateToExerciseLibrary()}),p(174,"app-icon",82),o(175," EXERCISES "),t()()(),r(176,"section",4)(177,"h2",5),o(178,"Your Achievements"),t(),r(179,"div")(180,"p",69),o(181,"View all your tracked Personal Bests"),t(),r(182,"button",81),u("shortPress",function(){return n.navigateToPersonalBests()}),p(183,"app-icon",83),o(184," VIEW PBs "),t()()(),r(185,"section",4)(186,"h2",5),o(187,"General Settings"),t(),r(188,"div",68)(189,"div")(190,"p",69),o(191,"Weight Units"),t(),r(192,"div",84)(193,"button",85),u("shortPress",function(){return n.selectUnit("kg")}),o(194,"kg"),t(),r(195,"button",85),u("shortPress",function(){return n.selectUnit("lbs")}),o(196,"lbs"),t()()(),r(197,"div",59)(198,"div")(199,"h3",51),o(200,"WIP Message"),t(),r(201,"p",52),o(202,"Toggle between showing or hiding WIP message"),t()(),r(203,"label",86)(204,"span",61),o(205,"Show WIP Disclaimer"),t(),r(206,"input",87),u("change",function(){return n.toggleWipDisclaimer()}),t(),p(207,"div",55),r(208,"span",56),o(209),t()()()()(),r(210,"section",4)(211,"h2",5),o(212,"Appearance"),t(),r(213,"div",59)(214,"div")(215,"h3",51),o(216,"Dark Mode"),t(),r(217,"p",52),o(218,"Toggle between light and dark themes"),t()(),r(219,"label",88)(220,"span",61),o(221,"Toggle Dark Mode"),t(),r(222,"input",89),u("change",function(){return n.themeService.toggleTheme()}),t(),p(223,"div",55),r(224,"span",56),o(225),t()()(),r(226,"div",90)(227,"div")(228,"h3",51),o(229,"Compact menu mode"),t(),r(230,"p",52),o(231,"Toggle between window and compact mode"),t()(),r(232,"label",91)(233,"span",61),o(234,"Toggle Compact Mode"),t(),r(235,"input",92),u("change",function(){return n.themeService.toggleMenuMode()}),t(),p(236,"div",55),r(237,"span",56),o(238),t()()()()()()),e&2){let s,m,c,x,C,F,j;l(8),d("formGroup",n.profileForm),l(9),d("ngValue",null),l(2),d("ngForOf",n.genders),l(53),d("formGroup",n.goalsForm),l(13),d("formGroup",n.appSettingsForm),l(5),_("Default step for +/- weight buttons in player (in ",L(91,22,n.unitsService.currentUnit()),")"),l(3),d("ngIf",((s=n.appSettingsForm.get("weightStep"))==null?null:s.invalid)&&((s=n.appSettingsForm.get("weightStep"))==null?null:s.touched)),l(11),_(" ",(m=n.appSettingsForm.get("enableTimerCountdownSound"))!=null&&m.value?"On":"Off"," "),l(),d("ngIf",(c=n.appSettingsForm.get("enableTimerCountdownSound"))==null?null:c.value),l(14),_(" ",(x=n.appSettingsForm.get("enablePresetTimer"))!=null&&x.value?"On":"Off"," "),l(),d("ngIf",(C=n.appSettingsForm.get("enablePresetTimer"))==null?null:C.value),l(4),d("formGroup",n.progressiveOverloadForm),l(11),_(" ",(F=n.progressiveOverloadForm.get("enabled"))!=null&&F.value?"On":"Off"," "),l(),d("ngIf",(j=n.progressiveOverloadForm.get("enabled"))==null?null:j.value),l(57),d("ngClass",z(24,mt,n.currentUnit()==="kg",n.currentUnit()!=="kg")),l(2),d("ngClass",z(27,mt,n.currentUnit()==="lbs",n.currentUnit()!=="lbs")),l(11),d("checked",!n.userProfileService.getHideWipDisclaimer()),l(3),w(n.userProfileService.getHideWipDisclaimer()?"Off":"On"),l(13),d("checked",n.themeService.isDarkTheme()),l(3),w(n.themeService.isDarkTheme()?"On":"Off"),l(10),d("checked",n.themeService.isMenuModeCompact()),l(3),w(n.themeService.isMenuModeCompact()?"On":"Off")}},dependencies:[U,re,H,R,Ge,ye,de,ge,fe,se,pe,ze,qe,Ye,le,me,Je,Ze,Xe,ce,ue,Ke,ve,be],encapsulation:2})};var ct=["bodyweight/calisthenics","dumbbells","kettlebells","barbells","machines","cables","bands","cardio","stretching","plyometrics","strongman","custom","other"];function Ft(a,i){if(a&1&&(r(0,"option",42),o(1),t()),a&2){let e=i.$implicit;d("value",e),l(),_(" ",e," ")}}function Mt(a,i){if(a&1&&(r(0,"option",42),o(1),S(2,"titlecase"),t()),a&2){let e=i.$implicit;d("value",e),l(),_(" ",L(2,2,e)," ")}}function At(a,i){if(a&1&&(r(0,"span"),o(1," of "),r(2,"strong",44),o(3),t()()),a&2){let e=g(2);l(3),w(e.combinedPersonalBests().length)}}function Vt(a,i){if(a&1&&(r(0,"div",43),o(1," Showing "),r(2,"strong",44),o(3),t(),h(4,At,4,1,"span",45),o(5," PBs "),t()),a&2){let e=g();l(3),w(e.displayPersonalBests().length),l(),d("ngIf",e.exerciseNameFilter()||e.exerciseCategoryFilter()||e.pbTypeFilter())}}function Dt(a,i){if(a&1&&(r(0,"span"),o(1),S(2,"date"),S(3,"date"),t()),a&2){let e=i.$implicit,n=i.last,s=g(2).$implicit,m=g(2);l(),te(" ",m.formatPbValue(e,s.pbType)," (",Ve(3,6,P(2,3,e.timestamp,"shortDate"),"dd-MM-yy","UTC"),")",n?"":", "," ")}}function Bt(a,i){a&1&&(r(0,"span"),o(1," ..."),t())}function Ot(a,i){if(a&1&&(r(0,"div",59)(1,"span",60),o(2,"Prev:"),t(),h(3,Dt,4,10,"span",61)(4,Bt,2,0,"span",45),t()),a&2){let e=g().$implicit;l(3),d("ngForOf",e.history.slice(0,1)),l(),d("ngIf",e.history.length>1)}}function Nt(a,i){if(a&1&&(r(0,"div",62)(1,"p",63),o(2),t()()),a&2){let e=g().$implicit;ee("mt-2",e.history&&e.history.length>0)("mt-1",!(e.history&&e.history.length>0)),l(),d("title",e.notes),l(),_(" ",e.notes," ")}}function Lt(a,i){if(a&1){let e=k();r(0,"div",64)(1,"button",65),u("click",function(s){y(e);let m=g().$implicit,c=g(2);return v(c.navigateToLogDetail(m.workoutLogId,s))}),T(),r(2,"svg",66),p(3,"path",67)(4,"path",68),t(),o(5," VIEW LOG "),t(),I(),r(6,"button",69),u("click",function(){y(e);let s=g().$implicit,m=g(2);return v(m.showPbTrend(s.exerciseId,s.pbType))}),T(),r(7,"svg",70),p(8,"path",71),t(),o(9," TREND "),t()()}}function Ht(a,i){if(a&1&&(r(0,"div",48)(1,"div",49)(2,"div",50)(3,"div")(4,"h2",51),o(5),t(),r(6,"p",52),o(7),S(8,"titlecase"),t()()(),r(9,"div",53)(10,"span",54),o(11),t()(),r(12,"div",55)(13,"span"),o(14),t(),r(15,"span"),o(16),S(17,"date"),S(18,"date"),t()(),h(19,Ot,5,2,"div",56)(20,Nt,3,6,"div",57),t(),h(21,Lt,10,0,"div",58),t()),a&2){let e=i.$implicit,n=g(2);Me("z-index",n.filtersVisible()?50:"auto"),l(4),d("title",e.exerciseName),l(),_(" ",e.exerciseName," "),l(2),_(" (",L(8,11,e.primaryMuscleGroup),") "),l(4),w(n.formatPbValue(e)),l(3),w(e.pbType),l(2),w(Ve(18,16,P(17,13,e.timestamp,"shortDate"),"dd-MM-yy","UTC")),l(3),d("ngIf",e.history&&e.history.length>0),l(),d("ngIf",e.notes),l(),d("ngIf",e.pbType!=="1RM (Estimated)"&&e.workoutLogId)}}function Rt(a,i){if(a&1&&(r(0,"div")(1,"div",46),h(2,Ht,22,20,"div",47),t()()),a&2){let e=g();l(2),d("ngForOf",e.displayPersonalBests())}}function Ut(a,i){a&1&&(r(0,"span"),o(1,"No Personal Bests Match Your Filters"),t())}function Gt(a,i){a&1&&o(0,"No Personal Bests Yet!")}function jt(a,i){if(a&1){let e=k();r(0,"span"),o(1,"Try adjusting your filter criteria or "),r(2,"button",77),u("shortPress",function(){y(e);let s=g(2);return v(s.resetFiltersAndShow())}),o(3,"reset all filters"),t()()}}function Wt(a,i){a&1&&(r(0,"span"),o(1,"Keep logging your workouts to track your progress and achievements here"),t())}function $t(a,i){if(a&1){let e=k();r(0,"span"),o(1," Try clearing filters, or perhaps "),r(2,"button",77),u("shortPress",function(){y(e);let s=g(2);return v(s.triggerRecalculatePBs())}),o(3,"recalculate PBs"),t(),o(4," if you've recently imported data. "),t()}}function zt(a,i){if(a&1&&(r(0,"div",72),T(),r(1,"svg",73),p(2,"path",74),t(),I(),r(3,"h2",75),h(4,Ut,2,0,"span",40)(5,Gt,1,0,"ng-template",null,4,Y),t(),r(7,"p",76),h(8,jt,4,0,"span",45)(9,Wt,2,0,"span",45)(10,$t,5,0,"span",45),t()()),a&2){let e=V(6),n=g();l(4),d("ngIf",n.hasActiveFilters())("ngIfElse",e),l(4),d("ngIf",n.hasActiveFilters()),l(),d("ngIf",!n.hasActiveFilters()&&n.allPersonalBestsSignalEmpty()),l(),d("ngIf",!n.allPersonalBestsSignalEmpty()&&n.displayPersonalBests().length===0&&!n.hasActiveFilters())}}function Yt(a,i){if(a&1){let e=k();r(0,"button",78),u("shortPress",function(){y(e);let s=g();return v(s.scrollToTop())}),T(),r(1,"svg",79),p(2,"path",80),t(),I(),r(3,"span",15),o(4,"Back to Top"),t()()}}var Ee=class a{trackingService=b(Se);exerciseService=b(_e);unitsService=b(ke);router=b(ne);toastService=b(G);platformId=b(Q);allPersonalBestsRaw=A({});allExercisesRaw=A([]);filtersVisible=A(!1);exerciseNameFilter=A("");pbTypeFilter=A("");exerciseCategoryFilter=A("");decimalPipe=new je("en-US");availableCategories=B(()=>[...ct].sort());availablePbTypes=B(()=>{let i=this.allPersonalBestsRaw(),e=new Set;return Object.values(i).forEach(n=>{n.forEach(s=>{s.pbType&&e.add(s.pbType)})}),Array.from(e).sort()});combinedPersonalBests=B(()=>{let i=this.allPersonalBestsRaw(),e=this.allExercisesRaw();if(Object.keys(i).length===0||e.length===0)return[];let n=new Map(e.map(m=>[m.id,m])),s=[];for(let m in i)if(i.hasOwnProperty(m)){let c=n.get(m),x=i[m];c&&x.forEach(C=>{s.push($(W({},C),{exerciseName:c.name,exerciseCategory:c.category,primaryMuscleGroup:c.primaryMuscleGroup}))})}return s});displayPersonalBests=B(()=>{let i=this.combinedPersonalBests(),e=this.exerciseNameFilter().toLowerCase().trim(),n=this.exerciseCategoryFilter(),s=this.pbTypeFilter();if(!e&&!n&&!s)return this.sortPBs(i);let m=i.filter(c=>!(e&&!c.exerciseName.toLowerCase().includes(e)||n&&c.exerciseCategory!==n||s&&c.pbType!==s));return this.sortPBs(m)});hasActiveFilters=B(()=>this.exerciseNameFilter().trim()!==""||this.exerciseCategoryFilter()!==""||this.pbTypeFilter().trim()!=="");allPersonalBestsSignalEmpty=B(()=>Object.keys(this.allPersonalBestsRaw()).length===0);constructor(){}ngOnInit(){K(this.platformId)&&window.scrollTo(0,0),this.trackingService.personalBests$.subscribe(i=>{this.allPersonalBestsRaw.set(i)}),this.exerciseService.getExercises().pipe(Ne(1)).subscribe(i=>{this.allExercisesRaw.set(i)})}toggleFiltersVisibility(){this.filtersVisible.update(i=>!i)}resetFilters(){this.exerciseNameFilter.set(""),this.exerciseCategoryFilter.set("")}resetFiltersAndShow(){this.resetFilters(),this.filtersVisible.set(!0)}getPbTypeSortOrder(i){return i.includes("1RM (Actual)")?0:i.includes("1RM (Estimated)")?1:i.includes("3RM (Actual)")?2:i.includes("5RM (Actual)")?3:i.includes("Heaviest Lifted")?4:i.includes("Max Reps (Bodyweight)")?5:i.includes("Max Duration")?6:100}sortPBs(i){return[...i].sort((e,n)=>{let s=e.exerciseName.localeCompare(n.exerciseName);if(s!==0)return s;let m=this.getPbTypeSortOrder(e.pbType),c=this.getPbTypeSortOrder(n.pbType);return m!==c?m-c:e.weightUsed!==void 0&&n.weightUsed!==void 0?(n.weightUsed??0)-(e.weightUsed??0):e.repsAchieved!==void 0&&n.repsAchieved!==void 0&&e.pbType.includes("Max Reps")?(n.repsAchieved??0)-(e.repsAchieved??0):e.durationPerformed!==void 0&&n.durationPerformed!==void 0&&e.pbType.includes("Max Duration")?(n.durationPerformed??0)-(e.durationPerformed??0):new Date(n.timestamp).getTime()-new Date(e.timestamp).getTime()})}formatPbValue(i,e){let n="",s=i.pbType||e;if(i.weightUsed!==void 0&&i.weightUsed!==null){if(n+=`${this.decimalPipe.transform(i.weightUsed,"1.0-2")}${this.unitsService.getUnitSuffix()}`,i.repsAchieved>0){let m=!0;if(s&&s.includes("RM (Actual)")){let c=s.split("RM")[0],x=parseInt(c,10);!isNaN(x)&&i.repsAchieved===x&&(m=!1)}m&&(n+=` x ${i.repsAchieved}`)}}else i.repsAchieved>0&&s?.includes("Max Reps")?n=`${i.repsAchieved} reps`:i.durationPerformed&&i.durationPerformed>0&&s?.includes("Max Duration")?n=`${i.durationPerformed}s`:i.repsAchieved>0?n=`${i.repsAchieved} reps`:i.durationPerformed&&i.durationPerformed>0&&(n=`${i.durationPerformed}s`);return n||"N/A"}vibrate(){let i=navigator;i&&"vibrate"in i&&i.vibrate(50)}navigateToLogDetail(i,e){e?.stopPropagation(),i?(this.vibrate(),this.router.navigate(["/workout/summary",i])):(this.toastService.error("Could not find the associated workout log for this personal best. It's possible that the related workout session has been removed.",0,"Navigation Error"),console.warn("Attempted to navigate to log detail, but workoutLogId is undefined for PB:",e))}triggerRecalculatePBs(){return E(this,null,function*(){try{yield this.trackingService.recalculateAllPersonalBests(),this.filtersVisible.set(!1)}catch(i){console.error("Error initiating PB recalculation:",i),this.toastService.error("An error occurred while trying to recalculate personal bests.")}})}resetPBs(){return E(this,null,function*(){try{yield this.trackingService.clearAllPersonalBests_DEV_ONLY()}catch(i){console.error("Error clearAllPersonalBests_DEV_ONLY:",i),this.toastService.error("An error occurred while trying to reset personal bests.")}})}showPbTrend(i,e){if(!i||!e){this.toastService.error("Cannot show trend: Missing exercise ID or PB type.",0,"Error");return}let n=encodeURIComponent(e);this.vibrate(),this.router.navigate(["/profile/pb-trend",i,n]),console.log(`Requesting trend for Exercise ID: ${i}, PB Type: ${e}`)}showBackToTopButton=A(!1);onWindowScroll(){let i=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;this.showBackToTopButton.set(i>400)}scrollToTop(){K(this.platformId)&&window.scrollTo({top:0,behavior:"smooth"})}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=N({type:a,selectors:[["app-personal-bests"]],hostBindings:function(e,n){e&1&&u("scroll",function(){return n.onWindowScroll()},He)},decls:59,vars:15,consts:[["nameFilterInput",""],["pbTypeFilterInput",""],["categoryFilterInput",""],["noPBsOrFilters",""],["noPBsMessage",""],[1,"container","mx-auto","p-2","sm:p-4"],[1,"mb-6","flex","items-center"],["routerLink","/profile",1,"text-gray-600","dark:text-gray-300","hover:text-primary","dark:hover:text-primary-light","p-2","-ml-2","rounded-full","focus:outline-none","focus:ring-2","focus:ring-primary-focus"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 19l-7-7 7-7"],[1,"flex","flex-grow","justify-between","items-center","pb-2"],[1,"text-2xl","font-bold","text-gray-800","dark:text-gray-200"],["type","button",1,"rounded-md","text-gray-600","dark:text-gray-300","hover:bg-gray-200","dark:hover:bg-gray-700","focus:outline-none","focus:ring-2","focus:ring-primary","dark:focus:ring-primary-light","transition-all","duration-300","ease-in-out",3,"click"],["stroke","currentColor","viewBox","0 0 24 24","stroke-width","0.02","fill","currentColor","xmlns","http://www.w3.org/2000/svg",1,"w-10","h-10","transition-transform","duration-300"],["stroke-linecap","round","stroke-linejoin","round","d","M9 5a1 1 0 1 0 0 2 1 1 0 0 0 0-2zM6.17 5a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 0 1 0-2h1.17zM15 11a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-1.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h7.17zM9 17a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h1.17z"],[1,"sr-only"],[1,"overflow-hidden","transition-all","duration-500","ease-in-out"],[1,"p-4","bg-white","dark:bg-gray-700","rounded-md","shadow-md","border","dark:border-gray-600"],[1,"text-xl","font-semibold","text-gray-700","dark:text-gray-300","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","mb-4"],["for","exerciseNameFilter",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-1"],["type","text","id","exerciseNameFilter","placeholder","e.g., Bench Press",1,"mt-1","block","w-full","px-3","py-2","bg-white","dark:bg-gray-800","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:outline-none","focus:ring-primary","focus:border-primary","sm:text-sm","text-gray-900","dark:text-gray-100","placeholder-gray-400","dark:placeholder-gray-500",3,"input","value"],["for","pbTypeFilter",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-1"],["id","pbTypeFilter",1,"mt-1","block","w-full","px-3","py-2","bg-white","dark:bg-gray-800","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:outline-none","focus:ring-primary","focus:border-primary","sm:text-sm","text-gray-900","dark:text-gray-100",3,"change","value"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","categoryFilter",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-1"],["id","categoryFilter",1,"mt-1","block","w-full","px-3","py-2","bg-white","dark:bg-gray-800","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:outline-none","focus:ring-primary","focus:border-primary","sm:text-sm","text-gray-900","dark:text-gray-100",3,"change","value"],[1,"mt-4","flex","justify-between","items-center"],["appPress","",1,"flex","px-4","py-2","bg-yellow-200","dark:bg-yellow-700","text-gray-700","dark:text-gray-200","rounded-md","hover:bg-yellow-300","dark:hover:bg-yellow-500","text-sm","items-center",3,"shortPress"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"size-5","mr-2"],["stroke-linecap","round","stroke-linejoin","round","d","m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"],["appPress","","title","Recalculate all Personal Bests from your workout history",1,"ml-2","p-2","text-sm","text-gray-500","dark:text-gray-400","hover:text-primary","dark:hover:text-primary-light","rounded-md","border","border-gray-300","dark:border-gray-600","hover:bg-gray-100","dark:hover:bg-gray-700","transition-colors","flex","items-center",3,"shortPress"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-10","h-10","transition-transform","duration-300"],["stroke-linecap","round","stroke-linejoin","round","d","M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"],[1,"hidden","sm:inline-block","ml-1"],["appPress","","title","Reset all PBs",1,"ml-2","p-2","text-sm","text-gray-500","dark:text-gray-400","hover:text-red-600","dark:hover:text-red-500","rounded-md","border","border-gray-300","dark:border-gray-600","hover:bg-red-100","dark:hover:bg-red-900/50","transition-colors","flex","items-center",3,"shortPress"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"w-10","h-10","transition-transform","duration-300"],["fill-rule","evenodd","d","M8.75 1A2.75 2.75 0 006 3.75v.443c-.795.077-1.58.177-2.365.298a.75.75 0 10.23 1.482l.149-.022.841 10.518A2.75 2.75 0 007.596 19h4.807a2.75 2.75 0 002.742-2.53l.841-10.52.149.023a.75.75 0 00.23-1.482A41.03 41.03 0 0014 4.193V3.75A2.75 2.75 0 0011.25 1h-2.5ZM10 4c.84 0 1.673.025 2.5.075V3.75c0-.69-.56-1.25-1.25-1.25h-2.5c-.69 0-1.25.56-1.25 1.25v.325C8.327 4.025 9.16 4 10 4ZM8.58 7.72a.75.75 0 00-1.5.06l.3 7.5a.75.75 0 101.5-.06l-.3-7.5Zm4.34.06a.75.75 0 10-1.5-.06l-.3 7.5a.75.75 0 101.5.06l.3-7.5Z","clip-rule","evenodd"],["class","text-sm text-gray-600 dark:text-gray-400",4,"ngIf"],[4,"ngIf","ngIfElse"],["appPress","","type","button","class","fixed bottom-20 right-4 z-40 bg-primary dark:bg-primary text-white rounded-full p-3 shadow-lg hover:bg-primary-dark dark:hover:bg-primary-light focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-focus dark:focus:ring-offset-gray-900 transition-opacity animate-fade-in",3,"shortPress",4,"ngIf"],[3,"value"],[1,"text-sm","text-gray-600","dark:text-gray-400"],[1,"text-gray-800","dark:text-gray-200"],[4,"ngIf"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-3","xl:grid-cols-4","gap-4"],["class","flex flex-col bg-white dark:bg-gray-700 rounded-md shadow-md hover:shadow-lg transition-shadow duration-200 relative group transform hover:-translate-y-1",3,"zIndex",4,"ngFor","ngForOf"],[1,"flex","flex-col","bg-white","dark:bg-gray-700","rounded-md","shadow-md","hover:shadow-lg","transition-shadow","duration-200","relative","group","transform","hover:-translate-y-1"],[1,"p-3","flex-grow"],[1,"flex","justify-between","items-start","mb-1"],[1,"text-md","font-semibold","text-primary","dark:text-primary-light","truncate",3,"title"],[1,"text-xs","text-gray-500","dark:text-gray-400"],[1,"mb-2"],[1,"text-xl","font-bold","text-gray-900","dark:text-white"],[1,"flex","justify-between","items-center","text-xs","text-gray-500","dark:text-gray-400","mb-2"],["class","mt-2 pt-1 border-t border-gray-200 dark:border-gray-600 text-xs text-gray-500 dark:text-gray-400",4,"ngIf"],["class","pt-1 border-t border-gray-200 dark:border-gray-600",3,"mt-2","mt-1",4,"ngIf"],["class","flex flex-col items-center justify-center px-8 py-2 bg-gray-50 dark:bg-gray-800 border-t border-gray-200 rounded-b dark:border-gray-600 space-y-2",4,"ngIf"],[1,"mt-2","pt-1","border-t","border-gray-200","dark:border-gray-600","text-xs","text-gray-500","dark:text-gray-400"],[1,"font-medium"],[4,"ngFor","ngForOf"],[1,"pt-1","border-t","border-gray-200","dark:border-gray-600"],[1,"text-xs","text-gray-600","dark:text-gray-400","italic","max-h-16","overflow-y-auto","custom-scrollbar","pr-1",3,"title"],[1,"flex","flex-col","items-center","justify-center","px-8","py-2","bg-gray-50","dark:bg-gray-800","border-t","border-gray-200","rounded-b","dark:border-gray-600","space-y-2"],["title","View Workout Log",1,"flex","w-full","items-center","justify-center","px-2","py-1","border","border-transparent","rounded-md","shadow-sm","text-xs","font-medium","text-white","bg-indigo-600","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500","dark:bg-indigo-500","dark:hover:bg-indigo-600","dark:focus:ring-offset-gray-800","transition-colors","duration-150",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"w-4","h-4","mr-1"],["d","M10 12.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Z"],["fill-rule","evenodd","d","M.664 10.59a1.651 1.651 0 0 1 0-1.186A10.004 10.004 0 0 1 10 3c4.257 0 7.893 2.66 9.336 6.41.147.381.146.804 0 1.186A10.004 10.004 0 0 1 10 17c-4.257 0-7.893-2.66-9.336-6.41ZM14 10a4 4 0 1 1-8 0 4 4 0 0 1 8 0Z","clip-rule","evenodd"],["title","Show Trend for this PB","title","View trend Log",1,"flex","w-full","items-center","justify-center","px-2","py-1","border","border-transparent","rounded-md","shadow-sm","text-xs","font-medium","text-white","bg-primary","hover:bg-primary-light","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-primary","dark:bg-primary","dark:hover:bg-primary-light","dark:focus:ring-offset-gray-800","transition-colors","duration-150",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-5","h-5","mr-2"],["stroke-linecap","round","stroke-linejoin","round","d","M2.25 18 9 11.25l4.306 4.306a11.95 11.95 0 0 1 5.814-5.518l2.74-1.22m0 0-5.94-2.281m5.94 2.28-2.28 5.941"],[1,"text-center","py-10","bg-white","dark:bg-gray-700","rounded-xl","shadow-lg"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-16","h-16","mx-auto","text-gray-400","dark:text-gray-500","mb-4"],["stroke-linecap","round","stroke-linejoin","round","d","M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607zM13.5 10.5h-6"],[1,"text-xl","font-semibold","text-gray-700","dark:text-gray-300","mb-2"],[1,"text-gray-500","dark:text-gray-400","px-4"],["appPress","",1,"text-primary","dark:text-primary-light","hover:underline",3,"shortPress"],["appPress","","type","button",1,"fixed","bottom-20","right-4","z-40","bg-primary","dark:bg-primary","text-white","rounded-full","p-3","shadow-lg","hover:bg-primary-dark","dark:hover:bg-primary-light","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-primary-focus","dark:focus:ring-offset-gray-900","transition-opacity","animate-fade-in",3,"shortPress"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","2.5","stroke","currentColor",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","d","M4.5 15.75l7.5-7.5 7.5 7.5"]],template:function(e,n){if(e&1){let s=k();r(0,"div",5)(1,"div",6)(2,"button",7),T(),r(3,"svg",8),p(4,"path",9),t()(),I(),r(5,"header",10)(6,"h1",11),o(7,"Personal Bests"),t(),r(8,"button",12),u("click",function(){return y(s),v(n.toggleFiltersVisibility())}),T(),r(9,"svg",13),p(10,"path",14),t(),I(),r(11,"span",15),o(12,"Toggle Filters"),t()()()(),r(13,"div",16)(14,"div",17)(15,"h2",18),o(16,"Filter PBs"),t(),r(17,"div",19)(18,"div")(19,"label",20),o(20," Filter by Exercise Name "),t(),r(21,"input",21,0),u("input",function(){y(s);let c=V(22);return v(n.exerciseNameFilter.set(c.value))}),t()(),r(23,"div")(24,"label",22),o(25," Filter by PB Type "),t(),r(26,"select",23,1),u("change",function(){y(s);let c=V(27);return v(n.pbTypeFilter.set(c.value))}),r(28,"option",24),o(29,"All PB Types"),t(),h(30,Ft,2,2,"option",25),t()(),r(31,"div")(32,"label",26),o(33," Filter by Category "),t(),r(34,"select",27,2),u("change",function(){y(s);let c=V(35);return v(n.exerciseCategoryFilter.set(c.value))}),r(36,"option",24),o(37,"All Categories"),t(),h(38,Mt,3,4,"option",25),t()()(),r(39,"div",28)(40,"button",29),u("shortPress",function(){return y(s),v(n.resetFilters())}),T(),r(41,"svg",30),p(42,"path",31),t(),o(43," CLEAR FILTERS "),t(),I(),r(44,"button",32),u("shortPress",function(){return y(s),v(n.triggerRecalculatePBs())}),T(),r(45,"svg",33),p(46,"path",34),t(),I(),r(47,"span",35),o(48,"RECALCULATE"),t()(),r(49,"button",36),u("shortPress",function(){return y(s),v(n.resetPBs())}),T(),r(50,"svg",37),p(51,"path",38),t(),I(),r(52,"span",35),o(53,"RESET PBs"),t()(),h(54,Vt,6,2,"div",39),t()()(),h(55,Rt,3,1,"div",40)(56,zt,11,5,"ng-template",null,3,Y)(58,Yt,5,0,"button",41),t()}if(e&2){let s=V(57);l(9),ee("rotate-180",n.filtersVisible()),l(4),Me("max-height",n.filtersVisible()?"1000px":"0px"),ee("mb-6",n.filtersVisible()),l(8),d("value",n.exerciseNameFilter()),l(5),d("value",n.pbTypeFilter()),l(4),d("ngForOf",n.availablePbTypes()),l(4),d("value",n.exerciseCategoryFilter()),l(4),d("ngForOf",n.availableCategories()),l(16),d("ngIf",n.combinedPersonalBests().length>0),l(),d("ngIf",n.displayPersonalBests().length>0)("ngIfElse",s),l(3),d("ngIf",n.showBackToTopButton())}},dependencies:[U,H,R,Ue,ie,We,ve],styles:[".custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent;border-radius:3px}.custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#9ca3af;border-radius:3px}.custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#6b7280}.dark[_ngcontent-%COMP%]   .custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#4b5563}.dark[_ngcontent-%COMP%]   .custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#6b7280}"],data:{animation:[De("slideInOutActions",[X("void",q({height:"0px",opacity:0,overflow:"hidden",paddingTop:"0",paddingBottom:"0",marginTop:"0",marginBottom:"0"})),X("*",q({height:"*",opacity:1,overflow:"hidden",paddingTop:"0.5rem",paddingBottom:"0.5rem"})),ae("void <=> *",oe("200ms ease-in-out"))]),De("dropdownMenu",[X("void",q({opacity:0,transform:"scale(0.75) translateY(-10px)",transformOrigin:"top right"})),X("*",q({opacity:1,transform:"scale(1) translateY(0)",transformOrigin:"top right"})),ae("void => *",[oe("150ms cubic-bezier(0.25, 0.8, 0.25, 1)")]),ae("* => void",[oe("100ms cubic-bezier(0.25, 0.8, 0.25, 1)")])])]}})};var Pe=class a{STORE_NAME="progress_photos";dbService=b($e);saveImage(i,e){return E(this,null,function*(){return Z(this.dbService.update(this.STORE_NAME,{date:i,image:e}))})}getImage(i){return E(this,null,function*(){if(!i)return Promise.resolve(void 0);let e=yield Z(this.dbService.getByKey(this.STORE_NAME,i));return e?e.image:void 0})}deleteImage(i){return E(this,null,function*(){return i?Z(this.dbService.delete(this.STORE_NAME,i)):Promise.resolve()})}static \u0275fac=function(e){return new(e||a)};static \u0275prov=Le({token:a,factory:a.\u0275fac,providedIn:"root"})};var Kt=a=>({"clip-path":a}),qt=a=>({left:a}),Xt=(a,i)=>({"text-yellow-500":a,"text-gray-500":i});function Zt(a,i){if(a&1&&(r(0,"option",18),o(1),S(2,"date"),t()),a&2){let e=i.$implicit;d("value",e.date),l(),_("",P(2,2,e.date,"mediumDate")," ")}}function Jt(a,i){if(a&1&&(r(0,"option",18),o(1),S(2,"date"),t()),a&2){let e=i.$implicit;d("value",e.date),l(),_("",P(2,2,e.date,"mediumDate")," ")}}function Qt(a,i){if(a&1&&(r(0,"option",18),o(1),t()),a&2){let e=i.$implicit;d("value",e.key),l(),w(e.label)}}function er(a,i){if(a&1){let e=k();r(0,"img",41),u("click",function(){y(e);let s=g().$implicit,m=g(2);return v(m.openFullScreenImage(s.photoUrl))}),t()}if(a&2){let e=g().$implicit;d("src",e.photoUrl,D)}}function tr(a,i){if(a&1){let e=k();r(0,"div",27)(1,"div",28)(2,"div",29)(3,"p",30),o(4),S(5,"date"),t(),h(6,er,1,1,"img",31),r(7,"label",32),o(8),r(9,"input",33),u("change",function(s){let m=y(e).$implicit,c=g(2);return v(c.uploadPhoto(s,m.date))}),t()(),r(10,"div")(11,"button",34),u("click",function(){let s=y(e).$implicit,m=g(2);return v(m.confirmDeleteEntry(s.date))}),p(12,"app-icon",35),t(),r(13,"button",36),u("click",function(){let s=y(e).$implicit,m=g(2);return v(m.editEntry(s.date))}),p(14,"app-icon",37),t()()(),r(15,"div",38)(16,"p")(17,"strong"),o(18,"Weight:"),t(),o(19),t(),r(20,"p")(21,"strong"),o(22,"Chest:"),t(),o(23),t(),r(24,"p")(25,"strong"),o(26,"Waist:"),t(),o(27),t(),r(28,"p")(29,"strong"),o(30,"Hips:"),t(),o(31),t(),r(32,"p")(33,"strong"),o(34,"Neck:"),t(),o(35),t(),r(36,"p")(37,"strong"),o(38,"R. Arm:"),t(),o(39),t()(),r(40,"div")(41,"label",39),o(42,"Notes:"),t(),r(43,"textarea",40),u("input",function(s){let m=y(e).$implicit,c=g(2);return v(c.updateNotes(m.date,s))}),t()()()()}if(a&2){let e=i.$implicit;l(4),w(P(5,10,e.date,"fullDate")),l(2),d("ngIf",e.photoUrl),l(2),_(" ",e.photoUrl?"Change Photo":"Add Photo"," "),l(11),_(" ",e.weightKg||"N/A"," kg"),l(4),_(" ",e.chestCm||"N/A"," cm"),l(4),_(" ",e.waistCm||"N/A"," cm"),l(4),_(" ",e.hipsCm||"N/A"," cm"),l(4),_(" ",e.neckCm||"N/A"," cm"),l(4),_(" ",e.rightArmCm||"N/A"," cm"),l(4),d("value",e.notes||"")}}function rr(a,i){if(a&1){let e=k();r(0,"div")(1,"section",19)(2,"h2",20),o(3,"Progress Chart"),t(),r(4,"div",21)(5,"select",22),u("change",function(s){y(e);let m=g();return v(m.updateChart(s))}),h(6,Qt,2,2,"option",11),t()(),r(7,"div",23),p(8,"ngx-charts-line-chart",24),t()(),r(9,"section",25)(10,"h2",20),o(11,"Log History"),t(),h(12,tr,44,13,"div",26),t()()}if(a&2){let e=g();l(6),d("ngForOf",e.availableMetrics),l(2),d("results",e.chartData)("scheme",e.colorScheme)("xAxis",!0)("yAxis",!0)("legend",!0)("showXAxisLabel",!0)("showYAxisLabel",!0)("xAxisLabel","Date")("yAxisLabel",e.yAxisLabel)("autoScale",!0)("referenceLines",e.referenceLines),l(4),d("ngForOf",e.measurementHistory)}}function ir(a,i){a&1&&(r(0,"div",42)(1,"p",43),o(2,"No measurement history found."),t(),r(3,"p",44),o(4,"Go to your profile settings to add your first entry!"),t()())}function nr(a,i){if(a&1){let e=k();r(0,"div",45),u("click",function(){y(e);let s=g();return v(s.closeFullScreenImage())}),p(1,"img",46),t()}if(a&2){let e=g();l(),d("src",e.fullScreenImageUrl,D)}}function or(a,i){if(a&1){let e=k();r(0,"div",47)(1,"div",48)(2,"h2",49),o(3,"Add Measurement Entry"),t(),r(4,"form",50),u("ngSubmit",function(){y(e);let s=g();return v(s.saveEntry())}),r(5,"label",51),o(6,"Date"),t(),p(7,"input",52),r(8,"div",53)(9,"div")(10,"label",54),o(11,"Target Weight (kg)"),t(),p(12,"input",55),t(),r(13,"div")(14,"label",56),o(15,"Chest (cm)"),t(),p(16,"input",57),t(),r(17,"div")(18,"label",58),o(19,"Waist (cm)"),t(),p(20,"input",59),t(),r(21,"div")(22,"label",60),o(23,"Hips (cm)"),t(),p(24,"input",61),t(),r(25,"div")(26,"label",62),o(27,"Neck (cm)"),t(),p(28,"input",63),t(),r(29,"div")(30,"label",64),o(31,"Right Arm (cm)"),t(),p(32,"input",65),t()(),p(33,"textarea",66),r(34,"div",67)(35,"button",68),u("click",function(){y(e);let s=g();return v(s.isAddEntryModalOpen=!1)}),p(36,"app-icon",69),o(37," CANCEL"),t(),r(38,"button",70),p(39,"app-icon",71),o(40,"SAVE"),t()()()()()}if(a&2){let e=g();l(4),d("formGroup",e.entryForm),l(34),d("disabled",e.entryForm.invalid)}}function ar(a,i){a&1&&(r(0,"span"),o(1,"Side-by-Side View"),t())}function sr(a,i){a&1&&(r(0,"span"),o(1,"Slider View"),t())}function lr(a,i){if(a&1&&(r(0,"div",95)(1,"div",96),p(2,"img",97),r(3,"p",98),o(4),S(5,"date"),t()(),r(6,"div",96),p(7,"img",99),r(8,"p",98),o(9),S(10,"date"),t()()()),a&2){let e=g(2);l(2),d("src",e.comparisonData.from.photoUrl||"./assets/images/no_data.png",D),l(2),w(P(5,4,e.comparisonData.from.date,"fullDate")),l(3),d("src",e.comparisonData.to.photoUrl||"./assets/images/no_data.png",D),l(2),w(P(10,7,e.comparisonData.to.date,"fullDate"))}}function mr(a,i){if(a&1){let e=k();r(0,"div",100)(1,"h3",101),o(2,"Image Comparison Slider"),t(),r(3,"div",102)(4,"div",103),p(5,"img",104),r(6,"span",105),o(7),S(8,"date"),t()(),r(9,"div",106),p(10,"img",107),r(11,"span",108),o(12),S(13,"date"),t()(),r(14,"div",109)(15,"div",110),T(),r(16,"svg",111),p(17,"path",112),t()()(),I(),r(18,"input",113),u("input",function(s){y(e);let m=g(2);return v(m.onSliderChange(s))}),t()()()}if(a&2){let e=g(2);l(5),d("src",e.comparisonData.from.photoUrl||"./assets/images/no_data.png",D),l(2),_(" BEFORE: ",P(8,7,e.comparisonData.from.date,"shortDate")," "),l(2),d("ngStyle",Ae(13,Kt,"inset(0 "+(100-e.comparisonSliderValue)+"% 0 0)")),l(),d("src",e.comparisonData.to.photoUrl||"./assets/images/no_data.png",D),l(2),_(" AFTER: ",P(13,10,e.comparisonData.to.date,"shortDate")," "),l(2),d("ngStyle",Ae(15,qt,"calc("+e.comparisonSliderValue+"% - 1px)")),l(4),d("value",e.comparisonSliderValue)}}function dr(a,i){if(a&1&&(r(0,"span"),o(1),t()),a&2){let e=g().$implicit;l(),w(e.unit)}}function pr(a,i){if(a&1&&(r(0,"span"),o(1),t()),a&2){let e=g().$implicit;l(),w(e.unit)}}function cr(a,i){if(a&1&&(Ie(0),o(1),Fe()),a&2){let e=g().$implicit;l(),te(" ",e.difference>0?"+":"","",e.difference," ",e.unit," ")}}function ur(a,i){a&1&&(Ie(0),o(1,"N/A"),Fe())}function gr(a,i){if(a&1&&(r(0,"tr",114)(1,"th",115),o(2),t(),r(3,"td",116),o(4),h(5,dr,2,1,"span",82),t(),r(6,"td",116),o(7),h(8,pr,2,1,"span",82),t(),r(9,"td",117),h(10,cr,2,3,"ng-container",82)(11,ur,2,0,"ng-container",82),t()()),a&2){let e=i.$implicit;l(2),w(e.metricLabel),l(2),_("",e.fromValue," "),l(),d("ngIf",e.fromValue!=="N/A"),l(2),_("",e.toValue," "),l(),d("ngIf",e.toValue!=="N/A"),l(),d("ngClass",z(8,Xt,e.difference!==null&&e.difference!==null,e.difference===0||e.difference===null)),l(),d("ngIf",e.difference!==null),l(),d("ngIf",e.difference===null)}}function fr(a,i){if(a&1){let e=k();r(0,"div",72)(1,"div",73)(2,"div",74)(3,"div",75)(4,"h2",76),o(5,"Side-by-Side Comparison"),t(),r(6,"button",77),u("click",function(){y(e);let s=g();return v(s.comparisonData=null)}),p(7,"app-icon",78),t()(),r(8,"div",79)(9,"button",80),u("click",function(){y(e);let s=g();return v(s.toggleComparisonMode())}),p(10,"app-icon",81),h(11,ar,2,0,"span",82)(12,sr,2,0,"span",82),t()()(),h(13,lr,11,10,"div",83)(14,mr,19,17,"div",84),r(15,"div",85)(16,"table",86)(17,"thead",87)(18,"tr")(19,"th",88),o(20,"Metric"),t(),r(21,"th",89),o(22),S(23,"date"),t(),r(24,"th",89),o(25),S(26,"date"),t(),r(27,"th",90),o(28,"Change"),t()()(),r(29,"tbody"),h(30,gr,12,11,"tr",91),t()()(),r(31,"div",92)(32,"button",93),u("click",function(){y(e);let s=g();return v(s.comparisonData=null)}),p(33,"app-icon",94),o(34," CLOSE"),t()()()()}if(a&2){let e=g();l(11),d("ngIf",e.comparisonMode==="slider"),l(),d("ngIf",e.comparisonMode==="side-by-side"),l(),d("ngIf",e.comparisonMode==="side-by-side"),l(),d("ngIf",e.comparisonMode==="slider"),l(8),_("",P(23,7,e.comparisonData.from.date,"shortDate")," "),l(3),_("",P(26,10,e.comparisonData.to.date,"shortDate")," "),l(5),d("ngForOf",e.comparisonData.rows)}}var Te=class a{userProfileService=b(we);imageStorageService=b(Pe);toastService=b(G);fb=b(he);alertService=b(xe);compareFromDate="";compareToDate="";userProfile=null;measurementHistory=[];fullScreenImageUrl=null;isAddEntryModalOpen=!1;comparisonData=null;entryForm;chartData=[];yAxisLabel="Value";referenceLines=[];colorScheme="vivid";availableMetrics=[];notesUpdate$=new Oe;ngOnInit(){this.userProfile=this.userProfileService.getProfile(),this.setupAvailableMetrics(),this.loadHistory(),this.initEntryForm(),this.notesUpdate$.pipe(M(1e3)).subscribe(i=>this.saveNotes(i.date,i.notes))}setupAvailableMetrics(){this.availableMetrics=[{key:"weightKg",label:"Weight (kg)"},{key:"bmi",label:"Body Mass Index (BMI)"},{key:"bodyFat",label:"Body Fat % (Navy)"},{key:"chestCm",label:"Chest (cm)"},{key:"waistCm",label:"Waist (cm)"},{key:"hipsCm",label:"Hips (cm)"},{key:"neckCm",label:"Neck (cm)"},{key:"rightArmCm",label:"Right Arm (cm)"}]}loadHistory(){return E(this,null,function*(){this.userProfile=this.userProfileService.getProfile();let i=this.userProfile?.measurementHistory?.slice().sort((e,n)=>new Date(n.date).getTime()-new Date(e.date).getTime())||[];if(this.measurementHistory=yield Promise.all(i.map(e=>E(this,null,function*(){if(!e.date)return null;let n=yield this.imageStorageService.getImage(e.date),s=n?URL.createObjectURL(n):void 0;return $(W({},e),{photoUrl:s})}))).then(e=>e.filter(Boolean)),this.measurementHistory.length>0){let e=document.getElementById("metric-select");this.prepareChartData(e?.value||"weightKg")}else this.chartData=[]})}prepareChartData(i){let e=this.availableMetrics.find(m=>m.key===i);this.yAxisLabel=e?e.label:"Value";let s=this.measurementHistory.slice().reverse().map(m=>{let c=null;if(i==="bmi")m.weightKg&&this.userProfile?.heightCm&&this.userProfile.heightCm>0&&(c=this.userProfileService.calculateBMI(m.weightKg,this.userProfile.heightCm));else if(i==="bodyFat"){let{gender:x,heightCm:C}=this.userProfile||{},{waistCm:F,neckCm:j,hipsCm:ut}=m;if(x&&C&&F&&j){let gt={waistCm:F,neckCm:j,heightCm:C,hipsCm:ut??void 0};c=this.userProfileService.calculateBodyFatNavy(x,gt)}}else{let x=m[i];typeof x=="number"&&(c=x)}return{name:m.date,value:c}}).filter(m=>m.value!==null&&m.value!==void 0&&!isNaN(m.value));this.chartData=[{name:this.yAxisLabel,series:s}],this.updateReferenceLine(i)}updateReferenceLine(i){let e=this.userProfile?.measurementGoals?.[i];typeof e=="number"?this.referenceLines=[{name:"Goal",value:e}]:this.referenceLines=[]}updateChart(i){let e=i.target;this.prepareChartData(e.value)}initEntryForm(){this.entryForm=this.fb.group({date:["",f.required],weightKg:[null,[f.min(0)]],waistCm:[null,[f.min(0)]],neckCm:[null,[f.min(0)]],chestCm:[null,[f.min(0)]],hipsCm:[null,[f.min(0)]],rightArmCm:[null,[f.min(0)]],notes:[""]})}openAddEntryModal(){this.entryForm.reset({date:new Date().toISOString().split("T")[0]}),this.isAddEntryModalOpen=!0}saveEntry(){this.entryForm.invalid||(this.userProfileService.addOrUpdateMeasurementEntry(this.entryForm.value),this.isAddEntryModalOpen=!1,this.loadHistory(),this.toastService.success("Entry Saved!"))}updateNotes(i,e){let n=e.target.value;this.notesUpdate$.next({date:i,notes:n})}saveNotes(i,e){let n=this.measurementHistory.find(s=>s.date===i);if(n){let s=$(W({},n),{notes:e});delete s.photoUrl,this.userProfileService.addOrUpdateMeasurementEntry(s),this.toastService.info("Notes auto-saved.",1500)}}uploadPhoto(i,e){return E(this,null,function*(){let n=i.target;if(!n.files||n.files.length===0)return;let s=n.files[0];try{yield this.imageStorageService.saveImage(e,s);let m=this.measurementHistory.find(c=>c.date===e);m&&(m.photoUrl&&URL.revokeObjectURL(m.photoUrl),m.photoUrl=URL.createObjectURL(s)),this.toastService.success("Photo saved!")}catch(m){console.error("Failed to save photo:",m),this.toastService.error("Could not save photo.")}finally{n.value=""}})}openFullScreenImage(i){this.fullScreenImageUrl=i}closeFullScreenImage(){this.fullScreenImageUrl=null}onCompareFromChange(i){let e=i.target;this.compareFromDate=e.value}onCompareToChange(i){let e=i.target;this.compareToDate=e.value}closeCompareModal(){this.comparisonData=null,this.compareFromDate="",this.compareToDate=""}openCompareModal(i,e){if(this.comparisonMode="slider",this.comparisonSliderValue=50,!i||!e){this.toastService.error("Please select two dates to compare.");return}let n=this.measurementHistory.find(c=>c.date===i),s=this.measurementHistory.find(c=>c.date===e);if(!n||!s){this.toastService.error("Could not find the selected entries.");return}new Date(n.date)>new Date(s.date)&&([n,s]=[s,n]);let m=this.calculateComparisonRows(n,s);this.comparisonData={from:n,to:s,rows:m}}calculateComparisonRows(i,e){return[{key:"weightKg",label:"Weight",unit:"kg"},{key:"chestCm",label:"Chest",unit:"cm"},{key:"waistCm",label:"Waist",unit:"cm"},{key:"hipsCm",label:"Hips",unit:"cm"},{key:"neckCm",label:"Neck",unit:"cm"},{key:"rightArmCm",label:"Right Arm",unit:"cm"}].map(s=>{let m=i[s.key],c=e[s.key],x=null;return typeof m=="number"&&typeof c=="number"&&(x=parseFloat((c-m).toFixed(2))),{metricLabel:s.label,unit:s.unit,fromValue:m??"N/A",toValue:c??"N/A",difference:x}})}editEntry(i){let e=this.measurementHistory.find(n=>n.date===i);if(!e){this.toastService.error("Entry not found.");return}this.entryForm.setValue({date:e.date,weightKg:e.weightKg??null,waistCm:e.waistCm??null,neckCm:e.neckCm??null,chestCm:e.chestCm??null,hipsCm:e.hipsCm??null,rightArmCm:e.rightArmCm??null,notes:e.notes??""}),this.isAddEntryModalOpen=!0}confirmDeleteEntry(i){return E(this,null,function*(){let e=yield this.alertService.showConfirm("Delete Entry",`Are you sure you want to permanently delete all data for ${i}? This includes any associated photo and cannot be undone.`);if(e&&e.data)try{this.userProfileService.deleteMeasurementEntry(i),yield this.imageStorageService.deleteImage(i),this.toastService.success("Entry deleted successfully."),yield this.loadHistory()}catch(n){console.error("Failed to delete entry:",n),this.toastService.error("Could not delete the entry.")}})}comparisonSliderValue=50;comparisonMode="slider";onSliderChange(i){let e=i.target.value;this.comparisonSliderValue=Number(e)}toggleComparisonMode(){this.comparisonMode=this.comparisonMode==="slider"?"side-by-side":"slider"}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=N({type:a,selectors:[["app-measurement-history"]],decls:28,vars:9,consts:[["noData",""],[1,"container","mx-auto","p-2","sm:p-4","text-gray-800","dark:text-gray-200"],[1,"flex","justify-between","items-center","pb-4","border-b","border-gray-200","dark:border-gray-700","mb-4"],[1,"text-2xl","font-bold"],[1,"px-4","py-2","bg-primary","hover:bg-primary-dark","text-white","font-semibold","rounded-md","shadow-sm","transition-colors","inline-flex","items-center","text-sm",3,"click"],["name","plus-circle"],[1,"bg-white","dark:bg-gray-800","p-4","rounded-md","shadow-md","mb-6"],[1,"font-semibold","mb-2"],[1,"flex","flex-col","sm:flex-row","gap-4","items-center"],[1,"flex-1","p-2","border","dark:border-gray-600","rounded-md","dark:bg-gray-700",3,"change"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"px-4","py-2","bg-indigo-500","hover:bg-indigo-600","text-white","rounded-md","disabled:opacity-50","flex","items-center",3,"click","disabled"],["name","magnifier",1,"h-6","w-6","mr-1",3,"strokeWidth"],[4,"ngIf","ngIfElse"],["class","fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 p-4",3,"click",4,"ngIf"],["class","fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4 text-gray-800 dark:text-gray-200 backdrop-blur-sm animate-fade-in",4,"ngIf"],["class","fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 p-4 animate-fade-in text-gray-800 dark:text-gray-200",4,"ngIf"],[3,"value"],[1,"bg-white","dark:bg-gray-800","p-4","sm:p-6","rounded-md","shadow-md","mb-6"],[1,"text-xl","font-semibold","mb-4"],[1,"mb-4"],[1,"p-2","border","dark:border-gray-600","rounded-md","dark:bg-gray-700",3,"change"],[1,"w-full","h-[300px]"],[3,"results","scheme","xAxis","yAxis","legend","showXAxisLabel","showYAxisLabel","xAxisLabel","yAxisLabel","autoScale","referenceLines"],[1,"bg-white","dark:bg-gray-800","p-4","sm:p-6","rounded-md","shadow-md"],["class","border-b dark:border-gray-700 py-4 last:border-b-0",4,"ngFor","ngForOf"],[1,"border-b","dark:border-gray-700","py-4","last:border-b-0"],[1,"grid","grid-cols-1","sm:grid-cols-3","gap-4","items-start"],[1,"flex","flex-col","items-center"],[1,"font-medium","text-lg","mb-2"],["alt","Progress photo","class","w-24 h-24 object-cover rounded-md shadow-lg cursor-pointer hover:opacity-80 transition-opacity",3,"src","click",4,"ngIf"],[1,"cursor-pointer","text-sm","text-primary","dark:text-primary-dark","hover:underline","mt-2"],["type","file","accept","image/*",1,"hidden",3,"change"],["title","Delete Entry",1,"p-1","rounded-full","text-gray-400","hover:bg-red-100","hover:text-red-500","dark:hover:bg-red-900/50","transition-colors",3,"click"],["name","trash",1,"w-4","h-4"],["title","Edit Entry",1,"p-1","rounded-full","text-gray-400","hover:bg-red-100","hover:text-red-500","dark:hover:bg-red-900/50","transition-colors",3,"click"],["name","edit",1,"w-4","h-4"],[1,"text-sm","grid","grid-cols-2","gap-x-4","gap-y-1"],[1,"font-semibold","text-sm"],["placeholder","Add notes...",1,"w-full","p-2","mt-1","border","rounded-md","dark:bg-gray-700","dark:border-gray-600","h-24",3,"input","value"],["alt","Progress photo",1,"w-24","h-24","object-cover","rounded-md","shadow-lg","cursor-pointer","hover:opacity-80","transition-opacity",3,"click","src"],[1,"text-center","bg-white","dark:bg-gray-800","p-10","rounded-md","shadow-md"],[1,"text-lg"],[1,"text-gray-500","dark:text-gray-400","mt-2"],[1,"fixed","inset-0","bg-black","bg-opacity-80","flex","items-center","justify-center","z-50","p-4",3,"click"],[1,"max-w-full","max-h-full","object-contain",3,"src"],[1,"fixed","inset-0","bg-black","bg-opacity-60","flex","items-center","justify-center","z-50","p-4","text-gray-800","dark:text-gray-200","backdrop-blur-sm","animate-fade-in"],[1,"bg-white","dark:bg-gray-800","rounded-lg","shadow-xl","p-6","w-full","max-w-md"],[1,"text-xl","font-bold","mb-4"],[3,"ngSubmit","formGroup"],["for","date",1,"block","text-xs","font-medium","text-gray-600","dark:text-gray-400"],["type","date","formControlName","date","id","date",1,"w-full","p-2","border","rounded","mb-4","dark:bg-gray-700","dark:border-gray-600"],[1,"grid","grid-cols-2","gap-4","mb-4"],["for","weightKg",1,"block","text-xs","font-medium","text-gray-600","dark:text-gray-400"],["type","number","formControlName","weightKg","id","weightKg","placeholder","Weight (kg)",1,"p-2","border","rounded","dark:bg-gray-700","dark:border-gray-600"],["for","chestCm",1,"block","text-xs","font-medium","text-gray-600","dark:text-gray-400"],["type","number","formControlName","chestCm","id","chestCm","placeholder","Chest (cm)",1,"p-2","border","rounded","dark:bg-gray-700","dark:border-gray-600"],["for","waistCm",1,"block","text-xs","font-medium","text-gray-600","dark:text-gray-400"],["type","number","formControlName","waistCm","id","waistCm","placeholder","Waist (cm)",1,"p-2","border","rounded","dark:bg-gray-700","dark:border-gray-600"],["for","hipsCm",1,"block","text-xs","font-medium","text-gray-600","dark:text-gray-400"],["type","number","formControlName","hipsCm","id","hipsCm","placeholder","Hips (cm)",1,"p-2","border","rounded","dark:bg-gray-700","dark:border-gray-600"],["for","neckCm",1,"block","text-xs","font-medium","text-gray-600","dark:text-gray-400"],["type","number","formControlName","neckCm","id","neckCm","placeholder","Neck (cm)",1,"p-2","border","rounded","dark:bg-gray-700","dark:border-gray-600"],["for","rightArmCm",1,"block","text-xs","font-medium","text-gray-600","dark:text-gray-400"],["type","number","formControlName","rightArmCm","id","rightArmCm","placeholder","Right Arm (cm)",1,"p-2","border","rounded","dark:bg-gray-700","dark:border-gray-600"],["formControlName","notes","placeholder","Notes...",1,"w-full","p-2","border","rounded","mb-4","h-24","dark:bg-gray-700","dark:border-gray-600"],[1,"flex","justify-end","gap-4","text-white"],["type","button",1,"px-4","py-2","rounded","flex","items-center",3,"click"],["name","cancel",1,"h-6","w-6","text-white"],["type","submit",1,"px-4","py-2","bg-primary","text-white","rounded","disabled:opacity-50","flex","items-center",3,"disabled"],["name","save",1,"h-7","w-7","mr-1"],[1,"fixed","inset-0","bg-black","bg-opacity-70","flex","items-center","justify-center","z-50","p-4","animate-fade-in","text-gray-800","dark:text-gray-200"],[1,"bg-white","dark:bg-gray-800","rounded-lg","shadow-xl","p-4","sm:p-6","w-full","max-w-3xl","max-h-[90vh]","overflow-y-auto"],[1,"flex","flex-col","sm:flex-row","justify-between","items-start","sm:items-center","mb-4"],[1,"flex","items-center","justify-between","w-full","sm:w-auto","mb-2","sm:mb-0"],[1,"text-xl","sm:text-2xl","font-bold","mb-2","sm:mb-0"],[1,"text-gray-500","hover:text-gray-800","dark:hover:text-gray-200",3,"click"],["name","cancel",1,"h-6","w-6"],[1,"flex","items-center","gap-4"],[1,"px-3","py-1.5","text-xs","font-medium","text-gray-600","dark:text-gray-300","bg-gray-100","dark:bg-gray-700","rounded-md","hover:bg-gray-200","dark:hover:bg-gray-600","transition-colors","flex","items-center",3,"click"],["name","change",1,"w-4","h-4","mr-1"],[4,"ngIf"],["class","grid grid-cols-2 gap-4 mb-6",4,"ngIf"],["class","mb-6",4,"ngIf"],[1,"overflow-x-auto"],[1,"w-full","text-sm","text-left"],[1,"text-xs","text-gray-700","uppercase","bg-gray-50","dark:bg-gray-700","dark:text-gray-400","rounded-lg"],["scope","col",1,"px-2","py-3","rounded-l-lg"],["scope","col",1,"px-2","py-3","text-center"],["scope","col",1,"px-2","py-3","text-center","rounded-r-lg"],["class","border-b dark:border-gray-700",4,"ngFor","ngForOf"],[1,"flex","justify-end","mt-6"],[1,"px-5","py-2.5","rounded-lg","bg-gray-200","hover:bg-gray-300","dark:bg-gray-600","dark:hover:bg-gray-700","text-sm","font-medium","flex","items-center",3,"click"],["name","cancel"],[1,"grid","grid-cols-2","gap-4","mb-6"],[1,"text-center"],["alt","Start photo",1,"w-full","h-48","sm:h-64","object-cover","rounded-md","bg-gray-200","dark:bg-gray-700",3,"src"],[1,"mt-2","font-semibold","text-sm"],["alt","End photo",1,"w-full","h-48","sm:h-64","object-cover","rounded-md","bg-gray-200","dark:bg-gray-700",3,"src"],[1,"mb-6"],[1,"font-semibold","text-center","mb-2"],[1,"relative","w-full","aspect-[4/3]","rounded-md","overflow-hidden","select-none","bg-gray-200","dark:bg-gray-700"],[1,"absolute","inset-0","z-10"],["alt","Start photo",1,"w-full","h-full","object-cover","max-w-none",3,"src"],[1,"absolute","top-2","left-2","bg-black/50","text-white","text-xs","font-bold","py-1","px-2","rounded-full","z-10"],[1,"absolute","inset-0","z-20",3,"ngStyle"],["alt","End photo",1,"w-full","h-full","object-cover","max-w-none",3,"src"],[1,"absolute","top-2","right-2","bg-black/50","text-white","text-xs","font-bold","py-1","px-2","rounded-full","z-10"],[1,"absolute","top-0","bottom-0","bg-white","w-1","pointer-events-none","z-30",3,"ngStyle"],[1,"absolute","top-1/2","-translate-y-1/2","-translate-x-1/2","bg-white","border-2","border-primary","rounded-full","h-8","w-8","flex","items-center","justify-center","shadow-lg"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-primary"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","3","d","M8 9l4-4 4 4m0 6l-4 4-4-4"],["type","range","min","0","max","100",1,"absolute","inset-0","w-full","h-full","cursor-ew-resize","appearance-none","bg-transparent","z-40",2,"--thumb-color","transparent",3,"input","value"],[1,"border-b","dark:border-gray-700"],["scope","row",1,"px-2","py-4","font-medium","whitespace-nowrap"],[1,"px-2","py-4","text-center"],[1,"px-2","py-4","text-center","font-bold",3,"ngClass"]],template:function(e,n){if(e&1){let s=k();r(0,"div",1)(1,"header",2)(2,"h1",3),o(3,"Measurement History"),t(),r(4,"button",4),u("click",function(){return y(s),v(n.openAddEntryModal())}),p(5,"app-icon",5),o(6," ADD PAST ENTRY "),t()(),r(7,"section",6)(8,"h3",7),o(9,"Side-by-Side Comparison"),t(),r(10,"div",8)(11,"select",9),u("change",function(c){return y(s),v(n.onCompareFromChange(c))}),r(12,"option",10),o(13,"-- Select Start Date --"),t(),h(14,Zt,3,5,"option",11),t(),r(15,"select",9),u("change",function(c){return y(s),v(n.onCompareToChange(c))}),r(16,"option",10),o(17,"-- Select End Date --"),t(),h(18,Jt,3,5,"option",11),t(),r(19,"button",12),u("click",function(){return y(s),v(n.openCompareModal(n.compareFromDate,n.compareToDate))}),p(20,"app-icon",13),o(21," COMPARE "),t()()(),h(22,rr,13,13,"div",14)(23,ir,5,0,"ng-template",null,0,Y),t(),h(25,nr,2,1,"div",15)(26,or,41,2,"div",16)(27,fr,35,13,"div",17)}if(e&2){let s=V(24);l(14),d("ngForOf",n.measurementHistory),l(4),d("ngForOf",n.measurementHistory),l(),d("disabled",!n.compareFromDate||!n.compareToDate),l(),d("strokeWidth",2),l(2),d("ngIf",n.measurementHistory.length>0)("ngIfElse",s),l(3),d("ngIf",n.fullScreenImageUrl),l(),d("ngIf",n.isAddEntryModalOpen),l(),d("ngIf",n.comparisonData)}},dependencies:[U,re,H,R,Re,ie,st,at,ye,de,ge,fe,se,pe,le,me,ce,ue,be],encapsulation:2})};var Ui=[{path:"",component:Ce,title:"Profile & Settings"},{path:"personal-bests",component:Ee,title:"Personal Bests"},{path:"measurements",component:Te,title:"Body Measurements"}];export{Ui as PROFILE_SETTINGS_ROUTES};
