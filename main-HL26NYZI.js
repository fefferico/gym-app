import{a as or}from"./chunk-BFRFPGFY.js";import{a as N,b as Se,c as tr,d as Di,e as ir,f as $e,g as Oi,h as Ri,i as je,j as Ut,k as dt}from"./chunk-YAHOZYMW.js";import{a as lr}from"./chunk-66LLKJGI.js";import{b as ar}from"./chunk-B4TFX7W2.js";import{a as sr}from"./chunk-XYH2HATF.js";import{a as qt}from"./chunk-M2FQJGHW.js";import{a as Bt}from"./chunk-HEVFYMGY.js";import{$ as Ni,Bb as Ft,Da as Re,Db as ye,Ea as te,Eb as Vt,F as xi,Fa as U,Gb as jn,H as D,Hb as Gn,I as Dt,Jb as Qn,Kb as Yn,L as Ot,M as Y,Ma as Wn,O as ce,Ob as Xn,P as ue,Pb as zt,Q as j,Qa as w,Qb as Wt,R as se,Ra as de,Rb as Zn,Sa as Pe,Sb as Jn,T as On,Tb as er,V as qe,_ as Rn,a as It,c as Mn,d as Ls,da as P,e as Fs,f as In,fa as Ln,gb as Ke,ha as Fn,hb as Un,i as Dn,ib as Mi,ja as Vn,jb as Ii,kb as Hn,la as ge,lb as Bn,mb as Lt,nb as qn,qa as J,qc as nr,rc as rr,sa as zn,sc as Ht,tb as Kn,ub as et,va as Rt,vb as ze,wa as V,xa as p,ya as y,za as z,zb as $n}from"./chunk-ZPPFHB7I.js";var ls=Ls((xl,vi)=>{"use strict";(function(n,e,t,i){"use strict";var r=["","webkit","Moz","MS","ms","o"],o=e.createElement("div"),c="function",u=Math.round,d=Math.abs,h=Date.now;function v(s,a,l){return setTimeout(H(s,l),a)}function g(s,a,l){return Array.isArray(s)?(A(s,l[a],l),!0):!1}function A(s,a,l){var m;if(s)if(s.forEach)s.forEach(a,l);else if(s.length!==i)for(m=0;m<s.length;)a.call(l,s[m],m,s),m++;else for(m in s)s.hasOwnProperty(m)&&a.call(l,s[m],m,s)}function C(s,a,l){var m="DEPRECATED METHOD: "+a+`
`+l+` AT 
`;return function(){var f=new Error("get-stack-trace"),_=f&&f.stack?f.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",x=n.console&&(n.console.warn||n.console.log);return x&&x.call(n.console,m,_),s.apply(this,arguments)}}var S;typeof Object.assign!="function"?S=function(a){if(a===i||a===null)throw new TypeError("Cannot convert undefined or null to object");for(var l=Object(a),m=1;m<arguments.length;m++){var f=arguments[m];if(f!==i&&f!==null)for(var _ in f)f.hasOwnProperty(_)&&(l[_]=f[_])}return l}:S=Object.assign;var k=C(function(a,l,m){for(var f=Object.keys(l),_=0;_<f.length;)(!m||m&&a[f[_]]===i)&&(a[f[_]]=l[f[_]]),_++;return a},"extend","Use `assign`."),L=C(function(a,l){return k(a,l,!0)},"merge","Use `assign`.");function I(s,a,l){var m=a.prototype,f;f=s.prototype=Object.create(m),f.constructor=s,f._super=m,l&&S(f,l)}function H(s,a){return function(){return s.apply(a,arguments)}}function $(s,a){return typeof s==c?s.apply(a&&a[0]||i,a):s}function q(s,a){return s===i?a:s}function _e(s,a,l){A(me(a),function(m){s.addEventListener(m,l,!1)})}function ie(s,a,l){A(me(a),function(m){s.removeEventListener(m,l,!1)})}function G(s,a){for(;s;){if(s==a)return!0;s=s.parentNode}return!1}function B(s,a){return s.indexOf(a)>-1}function me(s){return s.trim().split(/\s+/g)}function le(s,a,l){if(s.indexOf&&!l)return s.indexOf(a);for(var m=0;m<s.length;){if(l&&s[m][l]==a||!l&&s[m]===a)return m;m++}return-1}function Ue(s){return Array.prototype.slice.call(s,0)}function be(s,a,l){for(var m=[],f=[],_=0;_<s.length;){var x=a?s[_][a]:s[_];le(f,x)<0&&m.push(s[_]),f[_]=x,_++}return l&&(a?m=m.sort(function(Z,re){return Z[a]>re[a]}):m=m.sort()),m}function Fe(s,a){for(var l,m,f=a[0].toUpperCase()+a.slice(1),_=0;_<r.length;){if(l=r[_],m=l?l+f:a,m in s)return m;_++}return i}var Tt=1;function St(){return Tt++}function T(s){var a=s.ownerDocument||s;return a.defaultView||a.parentWindow||n}var E=/mobile|tablet|ip(ad|hone|od)|android/i,b="ontouchstart"in n,M=Fe(n,"PointerEvent")!==i,K=b&&E.test(navigator.userAgent),ee="touch",ne="pen",he="mouse",F="kinect",Et=25,X=1,W=2,O=4,R=8,Ne=1,Me=2,st=4,ot=8,at=16,ke=Me|st,He=ot|at,mn=ke|He,hn=["x","y"],wt=["clientX","clientY"];function fe(s,a){var l=this;this.manager=s,this.callback=a,this.element=s.element,this.target=s.options.inputTarget,this.domHandler=function(m){$(s.options.enable,[s])&&l.handler(m)},this.init()}fe.prototype={handler:function(){},init:function(){this.evEl&&_e(this.element,this.evEl,this.domHandler),this.evTarget&&_e(this.target,this.evTarget,this.domHandler),this.evWin&&_e(T(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&ie(this.element,this.evEl,this.domHandler),this.evTarget&&ie(this.target,this.evTarget,this.domHandler),this.evWin&&ie(T(this.element),this.evWin,this.domHandler)}};function cs(s){var a,l=s.options.inputClass;return l?a=l:M?a=Ti:K?a=At:b?a=Si:a=kt,new a(s,us)}function us(s,a,l){var m=l.pointers.length,f=l.changedPointers.length,_=a&X&&m-f===0,x=a&(O|R)&&m-f===0;l.isFirst=!!_,l.isFinal=!!x,_&&(s.session={}),l.eventType=a,ds(s,l),s.emit("hammer.input",l),s.recognize(l),s.session.prevInput=l}function ds(s,a){var l=s.session,m=a.pointers,f=m.length;l.firstInput||(l.firstInput=fn(a)),f>1&&!l.firstMultiple?l.firstMultiple=fn(a):f===1&&(l.firstMultiple=!1);var _=l.firstInput,x=l.firstMultiple,Q=x?x.center:_.center,Z=a.center=pn(m);a.timeStamp=h(),a.deltaTime=a.timeStamp-_.timeStamp,a.angle=_i(Q,Z),a.distance=bt(Q,Z),ms(l,a),a.offsetDirection=yn(a.deltaX,a.deltaY);var re=gn(a.deltaTime,a.deltaX,a.deltaY);a.overallVelocityX=re.x,a.overallVelocityY=re.y,a.overallVelocity=d(re.x)>d(re.y)?re.x:re.y,a.scale=x?ps(x.pointers,m):1,a.rotation=x?fs(x.pointers,m):0,a.maxPointers=l.prevInput?a.pointers.length>l.prevInput.maxPointers?a.pointers.length:l.prevInput.maxPointers:a.pointers.length,hs(l,a);var Ce=s.element;G(a.srcEvent.target,Ce)&&(Ce=a.srcEvent.target),a.target=Ce}function ms(s,a){var l=a.center,m=s.offsetDelta||{},f=s.prevDelta||{},_=s.prevInput||{};(a.eventType===X||_.eventType===O)&&(f=s.prevDelta={x:_.deltaX||0,y:_.deltaY||0},m=s.offsetDelta={x:l.x,y:l.y}),a.deltaX=f.x+(l.x-m.x),a.deltaY=f.y+(l.y-m.y)}function hs(s,a){var l=s.lastInterval||a,m=a.timeStamp-l.timeStamp,f,_,x,Q;if(a.eventType!=R&&(m>Et||l.velocity===i)){var Z=a.deltaX-l.deltaX,re=a.deltaY-l.deltaY,Ce=gn(m,Z,re);_=Ce.x,x=Ce.y,f=d(Ce.x)>d(Ce.y)?Ce.x:Ce.y,Q=yn(Z,re),s.lastInterval=a}else f=l.velocity,_=l.velocityX,x=l.velocityY,Q=l.direction;a.velocity=f,a.velocityX=_,a.velocityY=x,a.direction=Q}function fn(s){for(var a=[],l=0;l<s.pointers.length;)a[l]={clientX:u(s.pointers[l].clientX),clientY:u(s.pointers[l].clientY)},l++;return{timeStamp:h(),pointers:a,center:pn(a),deltaX:s.deltaX,deltaY:s.deltaY}}function pn(s){var a=s.length;if(a===1)return{x:u(s[0].clientX),y:u(s[0].clientY)};for(var l=0,m=0,f=0;f<a;)l+=s[f].clientX,m+=s[f].clientY,f++;return{x:u(l/a),y:u(m/a)}}function gn(s,a,l){return{x:a/s||0,y:l/s||0}}function yn(s,a){return s===a?Ne:d(s)>=d(a)?s<0?Me:st:a<0?ot:at}function bt(s,a,l){l||(l=hn);var m=a[l[0]]-s[l[0]],f=a[l[1]]-s[l[1]];return Math.sqrt(m*m+f*f)}function _i(s,a,l){l||(l=hn);var m=a[l[0]]-s[l[0]],f=a[l[1]]-s[l[1]];return Math.atan2(f,m)*180/Math.PI}function fs(s,a){return _i(a[1],a[0],wt)+_i(s[1],s[0],wt)}function ps(s,a){return bt(a[0],a[1],wt)/bt(s[0],s[1],wt)}var gs={mousedown:X,mousemove:W,mouseup:O},ys="mousedown",vs="mousemove mouseup";function kt(){this.evEl=ys,this.evWin=vs,this.pressed=!1,fe.apply(this,arguments)}I(kt,fe,{handler:function(a){var l=gs[a.type];l&X&&a.button===0&&(this.pressed=!0),l&W&&a.which!==1&&(l=O),this.pressed&&(l&O&&(this.pressed=!1),this.callback(this.manager,l,{pointers:[a],changedPointers:[a],pointerType:he,srcEvent:a}))}});var _s={pointerdown:X,pointermove:W,pointerup:O,pointercancel:R,pointerout:R},Ts={2:ee,3:ne,4:he,5:F},vn="pointerdown",_n="pointermove pointerup pointercancel";n.MSPointerEvent&&!n.PointerEvent&&(vn="MSPointerDown",_n="MSPointerMove MSPointerUp MSPointerCancel");function Ti(){this.evEl=vn,this.evWin=_n,fe.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}I(Ti,fe,{handler:function(a){var l=this.store,m=!1,f=a.type.toLowerCase().replace("ms",""),_=_s[f],x=Ts[a.pointerType]||a.pointerType,Q=x==ee,Z=le(l,a.pointerId,"pointerId");_&X&&(a.button===0||Q)?Z<0&&(l.push(a),Z=l.length-1):_&(O|R)&&(m=!0),!(Z<0)&&(l[Z]=a,this.callback(this.manager,_,{pointers:l,changedPointers:[a],pointerType:x,srcEvent:a}),m&&l.splice(Z,1))}});var Ss={touchstart:X,touchmove:W,touchend:O,touchcancel:R},Es="touchstart",ws="touchstart touchmove touchend touchcancel";function Tn(){this.evTarget=Es,this.evWin=ws,this.started=!1,fe.apply(this,arguments)}I(Tn,fe,{handler:function(a){var l=Ss[a.type];if(l===X&&(this.started=!0),!!this.started){var m=bs.call(this,a,l);l&(O|R)&&m[0].length-m[1].length===0&&(this.started=!1),this.callback(this.manager,l,{pointers:m[0],changedPointers:m[1],pointerType:ee,srcEvent:a})}}});function bs(s,a){var l=Ue(s.touches),m=Ue(s.changedTouches);return a&(O|R)&&(l=be(l.concat(m),"identifier",!0)),[l,m]}var ks={touchstart:X,touchmove:W,touchend:O,touchcancel:R},As="touchstart touchmove touchend touchcancel";function At(){this.evTarget=As,this.targetIds={},fe.apply(this,arguments)}I(At,fe,{handler:function(a){var l=ks[a.type],m=Cs.call(this,a,l);m&&this.callback(this.manager,l,{pointers:m[0],changedPointers:m[1],pointerType:ee,srcEvent:a})}});function Cs(s,a){var l=Ue(s.touches),m=this.targetIds;if(a&(X|W)&&l.length===1)return m[l[0].identifier]=!0,[l,l];var f,_,x=Ue(s.changedTouches),Q=[],Z=this.target;if(_=l.filter(function(re){return G(re.target,Z)}),a===X)for(f=0;f<_.length;)m[_[f].identifier]=!0,f++;for(f=0;f<x.length;)m[x[f].identifier]&&Q.push(x[f]),a&(O|R)&&delete m[x[f].identifier],f++;if(Q.length)return[be(_.concat(Q),"identifier",!0),Q]}var Ps=2500,Sn=25;function Si(){fe.apply(this,arguments);var s=H(this.handler,this);this.touch=new At(this.manager,s),this.mouse=new kt(this.manager,s),this.primaryTouch=null,this.lastTouches=[]}I(Si,fe,{handler:function(a,l,m){var f=m.pointerType==ee,_=m.pointerType==he;if(!(_&&m.sourceCapabilities&&m.sourceCapabilities.firesTouchEvents)){if(f)xs.call(this,l,m);else if(_&&Ns.call(this,m))return;this.callback(a,l,m)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});function xs(s,a){s&X?(this.primaryTouch=a.changedPointers[0].identifier,En.call(this,a)):s&(O|R)&&En.call(this,a)}function En(s){var a=s.changedPointers[0];if(a.identifier===this.primaryTouch){var l={x:a.clientX,y:a.clientY};this.lastTouches.push(l);var m=this.lastTouches,f=function(){var _=m.indexOf(l);_>-1&&m.splice(_,1)};setTimeout(f,Ps)}}function Ns(s){for(var a=s.srcEvent.clientX,l=s.srcEvent.clientY,m=0;m<this.lastTouches.length;m++){var f=this.lastTouches[m],_=Math.abs(a-f.x),x=Math.abs(l-f.y);if(_<=Sn&&x<=Sn)return!0}return!1}var wn=Fe(o.style,"touchAction"),bn=wn!==i,kn="compute",An="auto",Ei="manipulation",Be="none",lt="pan-x",ct="pan-y",Ct=Is();function wi(s,a){this.manager=s,this.set(a)}wi.prototype={set:function(s){s==kn&&(s=this.compute()),bn&&this.manager.element.style&&Ct[s]&&(this.manager.element.style[wn]=s),this.actions=s.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var s=[];return A(this.manager.recognizers,function(a){$(a.options.enable,[a])&&(s=s.concat(a.getTouchAction()))}),Ms(s.join(" "))},preventDefaults:function(s){var a=s.srcEvent,l=s.offsetDirection;if(this.manager.session.prevented){a.preventDefault();return}var m=this.actions,f=B(m,Be)&&!Ct[Be],_=B(m,ct)&&!Ct[ct],x=B(m,lt)&&!Ct[lt];if(f){var Q=s.pointers.length===1,Z=s.distance<2,re=s.deltaTime<250;if(Q&&Z&&re)return}if(!(x&&_)&&(f||_&&l&ke||x&&l&He))return this.preventSrc(a)},preventSrc:function(s){this.manager.session.prevented=!0,s.preventDefault()}};function Ms(s){if(B(s,Be))return Be;var a=B(s,lt),l=B(s,ct);return a&&l?Be:a||l?a?lt:ct:B(s,Ei)?Ei:An}function Is(){if(!bn)return!1;var s={},a=n.CSS&&n.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(l){s[l]=a?n.CSS.supports("touch-action",l):!0}),s}var Pt=1,pe=2,Je=4,Ve=8,Ie=Ve,ut=16,Ae=32;function De(s){this.options=S({},this.defaults,s||{}),this.id=St(),this.manager=null,this.options.enable=q(this.options.enable,!0),this.state=Pt,this.simultaneous={},this.requireFail=[]}De.prototype={defaults:{},set:function(s){return S(this.options,s),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(s){if(g(s,"recognizeWith",this))return this;var a=this.simultaneous;return s=xt(s,this),a[s.id]||(a[s.id]=s,s.recognizeWith(this)),this},dropRecognizeWith:function(s){return g(s,"dropRecognizeWith",this)?this:(s=xt(s,this),delete this.simultaneous[s.id],this)},requireFailure:function(s){if(g(s,"requireFailure",this))return this;var a=this.requireFail;return s=xt(s,this),le(a,s)===-1&&(a.push(s),s.requireFailure(this)),this},dropRequireFailure:function(s){if(g(s,"dropRequireFailure",this))return this;s=xt(s,this);var a=le(this.requireFail,s);return a>-1&&this.requireFail.splice(a,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(s){return!!this.simultaneous[s.id]},emit:function(s){var a=this,l=this.state;function m(f){a.manager.emit(f,s)}l<Ve&&m(a.options.event+Cn(l)),m(a.options.event),s.additionalEvent&&m(s.additionalEvent),l>=Ve&&m(a.options.event+Cn(l))},tryEmit:function(s){if(this.canEmit())return this.emit(s);this.state=Ae},canEmit:function(){for(var s=0;s<this.requireFail.length;){if(!(this.requireFail[s].state&(Ae|Pt)))return!1;s++}return!0},recognize:function(s){var a=S({},s);if(!$(this.options.enable,[this,a])){this.reset(),this.state=Ae;return}this.state&(Ie|ut|Ae)&&(this.state=Pt),this.state=this.process(a),this.state&(pe|Je|Ve|ut)&&this.tryEmit(a)},process:function(s){},getTouchAction:function(){},reset:function(){}};function Cn(s){return s&ut?"cancel":s&Ve?"end":s&Je?"move":s&pe?"start":""}function Pn(s){return s==at?"down":s==ot?"up":s==Me?"left":s==st?"right":""}function xt(s,a){var l=a.manager;return l?l.get(s):s}function Te(){De.apply(this,arguments)}I(Te,De,{defaults:{pointers:1},attrTest:function(s){var a=this.options.pointers;return a===0||s.pointers.length===a},process:function(s){var a=this.state,l=s.eventType,m=a&(pe|Je),f=this.attrTest(s);return m&&(l&R||!f)?a|ut:m||f?l&O?a|Ve:a&pe?a|Je:pe:Ae}});function Nt(){Te.apply(this,arguments),this.pX=null,this.pY=null}I(Nt,Te,{defaults:{event:"pan",threshold:10,pointers:1,direction:mn},getTouchAction:function(){var s=this.options.direction,a=[];return s&ke&&a.push(ct),s&He&&a.push(lt),a},directionTest:function(s){var a=this.options,l=!0,m=s.distance,f=s.direction,_=s.deltaX,x=s.deltaY;return f&a.direction||(a.direction&ke?(f=_===0?Ne:_<0?Me:st,l=_!=this.pX,m=Math.abs(s.deltaX)):(f=x===0?Ne:x<0?ot:at,l=x!=this.pY,m=Math.abs(s.deltaY))),s.direction=f,l&&m>a.threshold&&f&a.direction},attrTest:function(s){return Te.prototype.attrTest.call(this,s)&&(this.state&pe||!(this.state&pe)&&this.directionTest(s))},emit:function(s){this.pX=s.deltaX,this.pY=s.deltaY;var a=Pn(s.direction);a&&(s.additionalEvent=this.options.event+a),this._super.emit.call(this,s)}});function bi(){Te.apply(this,arguments)}I(bi,Te,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Be]},attrTest:function(s){return this._super.attrTest.call(this,s)&&(Math.abs(s.scale-1)>this.options.threshold||this.state&pe)},emit:function(s){if(s.scale!==1){var a=s.scale<1?"in":"out";s.additionalEvent=this.options.event+a}this._super.emit.call(this,s)}});function ki(){De.apply(this,arguments),this._timer=null,this._input=null}I(ki,De,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[An]},process:function(s){var a=this.options,l=s.pointers.length===a.pointers,m=s.distance<a.threshold,f=s.deltaTime>a.time;if(this._input=s,!m||!l||s.eventType&(O|R)&&!f)this.reset();else if(s.eventType&X)this.reset(),this._timer=v(function(){this.state=Ie,this.tryEmit()},a.time,this);else if(s.eventType&O)return Ie;return Ae},reset:function(){clearTimeout(this._timer)},emit:function(s){this.state===Ie&&(s&&s.eventType&O?this.manager.emit(this.options.event+"up",s):(this._input.timeStamp=h(),this.manager.emit(this.options.event,this._input)))}});function Ai(){Te.apply(this,arguments)}I(Ai,Te,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Be]},attrTest:function(s){return this._super.attrTest.call(this,s)&&(Math.abs(s.rotation)>this.options.threshold||this.state&pe)}});function Ci(){Te.apply(this,arguments)}I(Ci,Te,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:ke|He,pointers:1},getTouchAction:function(){return Nt.prototype.getTouchAction.call(this)},attrTest:function(s){var a=this.options.direction,l;return a&(ke|He)?l=s.overallVelocity:a&ke?l=s.overallVelocityX:a&He&&(l=s.overallVelocityY),this._super.attrTest.call(this,s)&&a&s.offsetDirection&&s.distance>this.options.threshold&&s.maxPointers==this.options.pointers&&d(l)>this.options.velocity&&s.eventType&O},emit:function(s){var a=Pn(s.offsetDirection);a&&this.manager.emit(this.options.event+a,s),this.manager.emit(this.options.event,s)}});function Mt(){De.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}I(Mt,De,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Ei]},process:function(s){var a=this.options,l=s.pointers.length===a.pointers,m=s.distance<a.threshold,f=s.deltaTime<a.time;if(this.reset(),s.eventType&X&&this.count===0)return this.failTimeout();if(m&&f&&l){if(s.eventType!=O)return this.failTimeout();var _=this.pTime?s.timeStamp-this.pTime<a.interval:!0,x=!this.pCenter||bt(this.pCenter,s.center)<a.posThreshold;this.pTime=s.timeStamp,this.pCenter=s.center,!x||!_?this.count=1:this.count+=1,this._input=s;var Q=this.count%a.taps;if(Q===0)return this.hasRequireFailures()?(this._timer=v(function(){this.state=Ie,this.tryEmit()},a.interval,this),pe):Ie}return Ae},failTimeout:function(){return this._timer=v(function(){this.state=Ae},this.options.interval,this),Ae},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==Ie&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});function Oe(s,a){return a=a||{},a.recognizers=q(a.recognizers,Oe.defaults.preset),new Pi(s,a)}Oe.VERSION="2.0.7",Oe.defaults={domEvents:!1,touchAction:kn,enable:!0,inputTarget:null,inputClass:null,preset:[[Ai,{enable:!1}],[bi,{enable:!1},["rotate"]],[Ci,{direction:ke}],[Nt,{direction:ke},["swipe"]],[Mt],[Mt,{event:"doubletap",taps:2},["tap"]],[ki]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var Ds=1,xn=2;function Pi(s,a){this.options=S({},Oe.defaults,a||{}),this.options.inputTarget=this.options.inputTarget||s,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=s,this.input=cs(this),this.touchAction=new wi(this,this.options.touchAction),Nn(this,!0),A(this.options.recognizers,function(l){var m=this.add(new l[0](l[1]));l[2]&&m.recognizeWith(l[2]),l[3]&&m.requireFailure(l[3])},this)}Pi.prototype={set:function(s){return S(this.options,s),s.touchAction&&this.touchAction.update(),s.inputTarget&&(this.input.destroy(),this.input.target=s.inputTarget,this.input.init()),this},stop:function(s){this.session.stopped=s?xn:Ds},recognize:function(s){var a=this.session;if(!a.stopped){this.touchAction.preventDefaults(s);var l,m=this.recognizers,f=a.curRecognizer;(!f||f&&f.state&Ie)&&(f=a.curRecognizer=null);for(var _=0;_<m.length;)l=m[_],a.stopped!==xn&&(!f||l==f||l.canRecognizeWith(f))?l.recognize(s):l.reset(),!f&&l.state&(pe|Je|Ve)&&(f=a.curRecognizer=l),_++}},get:function(s){if(s instanceof De)return s;for(var a=this.recognizers,l=0;l<a.length;l++)if(a[l].options.event==s)return a[l];return null},add:function(s){if(g(s,"add",this))return this;var a=this.get(s.options.event);return a&&this.remove(a),this.recognizers.push(s),s.manager=this,this.touchAction.update(),s},remove:function(s){if(g(s,"remove",this))return this;if(s=this.get(s),s){var a=this.recognizers,l=le(a,s);l!==-1&&(a.splice(l,1),this.touchAction.update())}return this},on:function(s,a){if(s!==i&&a!==i){var l=this.handlers;return A(me(s),function(m){l[m]=l[m]||[],l[m].push(a)}),this}},off:function(s,a){if(s!==i){var l=this.handlers;return A(me(s),function(m){a?l[m]&&l[m].splice(le(l[m],a),1):delete l[m]}),this}},emit:function(s,a){this.options.domEvents&&Os(s,a);var l=this.handlers[s]&&this.handlers[s].slice();if(!(!l||!l.length)){a.type=s,a.preventDefault=function(){a.srcEvent.preventDefault()};for(var m=0;m<l.length;)l[m](a),m++}},destroy:function(){this.element&&Nn(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}};function Nn(s,a){var l=s.element;if(l.style){var m;A(s.options.cssProps,function(f,_){m=Fe(l.style,_),a?(s.oldCssProps[m]=l.style[m],l.style[m]=f):l.style[m]=s.oldCssProps[m]||""}),a||(s.oldCssProps={})}}function Os(s,a){var l=e.createEvent("Event");l.initEvent(s,!0,!0),l.gesture=a,a.target.dispatchEvent(l)}S(Oe,{INPUT_START:X,INPUT_MOVE:W,INPUT_END:O,INPUT_CANCEL:R,STATE_POSSIBLE:Pt,STATE_BEGAN:pe,STATE_CHANGED:Je,STATE_ENDED:Ve,STATE_RECOGNIZED:Ie,STATE_CANCELLED:ut,STATE_FAILED:Ae,DIRECTION_NONE:Ne,DIRECTION_LEFT:Me,DIRECTION_RIGHT:st,DIRECTION_UP:ot,DIRECTION_DOWN:at,DIRECTION_HORIZONTAL:ke,DIRECTION_VERTICAL:He,DIRECTION_ALL:mn,Manager:Pi,Input:fe,TouchAction:wi,TouchInput:At,MouseInput:kt,PointerEventInput:Ti,TouchMouseInput:Si,SingleTouchInput:Tn,Recognizer:De,AttrRecognizer:Te,Tap:Mt,Pan:Nt,Swipe:Ci,Pinch:bi,Rotate:Ai,Press:ki,on:_e,off:ie,each:A,merge:L,extend:k,assign:S,inherit:I,bindFn:H,prefixed:Fe});var Rs=typeof n<"u"?n:typeof self<"u"?self:{};Rs.Hammer=Oe,typeof define=="function"&&define.amd?define(function(){return Oe}):typeof vi<"u"&&vi.exports?vi.exports=Oe:n[t]=Oe})(window,document,"Hammer")});function cr(n){return new D(3e3,!1)}function Vs(){return new D(3100,!1)}function zs(){return new D(3101,!1)}function Ws(n){return new D(3001,!1)}function Us(n){return new D(3003,!1)}function Hs(n){return new D(3004,!1)}function dr(n,e){return new D(3005,!1)}function mr(){return new D(3006,!1)}function hr(){return new D(3007,!1)}function fr(n,e){return new D(3008,!1)}function pr(n){return new D(3002,!1)}function gr(n,e,t,i,r){return new D(3010,!1)}function yr(){return new D(3011,!1)}function vr(){return new D(3012,!1)}function _r(){return new D(3200,!1)}function Tr(){return new D(3202,!1)}function Sr(){return new D(3013,!1)}function Er(n){return new D(3014,!1)}function wr(n){return new D(3015,!1)}function br(n){return new D(3016,!1)}function kr(n,e){return new D(3404,!1)}function Bs(n){return new D(3502,!1)}function Ar(n){return new D(3503,!1)}function Cr(){return new D(3300,!1)}function Pr(n){return new D(3504,!1)}function xr(n){return new D(3301,!1)}function Nr(n,e){return new D(3302,!1)}function Mr(n){return new D(3303,!1)}function Ir(n,e){return new D(3400,!1)}function Dr(n){return new D(3401,!1)}function Or(n){return new D(3402,!1)}function Rr(n,e){return new D(3505,!1)}function Le(n){switch(n.length){case 0:return new je;case 1:return n[0];default:return new Ut(n)}}function zi(n,e,t=new Map,i=new Map){let r=[],o=[],c=-1,u=null;if(e.forEach(d=>{let h=d.get("offset"),v=h==c,g=v&&u||new Map;d.forEach((A,C)=>{let S=C,k=A;if(C!=="offset")switch(S=n.normalizePropertyName(S,r),k){case dt:k=t.get(C);break;case Se:k=i.get(C);break;default:k=n.normalizeStyleValue(C,S,k,r);break}g.set(S,k)}),v||o.push(g),u=g,c=h}),r.length)throw Bs(r);return o}function Kt(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&Li(t,"start",n)));break;case"done":n.onDone(()=>i(t&&Li(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&Li(t,"destroy",n)));break}}function Li(n,e,t){let i=t.totalTime,r=!!t.disabled,o=$t(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,i??n.totalTime,r),c=n._data;return c!=null&&(o._data=c),o}function $t(n,e,t,i,r="",o=0,c){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:o,disabled:!!c}}function oe(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function Wi(n){let e=n.indexOf(":"),t=n.substring(1,e),i=n.slice(e+1);return[t,i]}var qs=typeof document>"u"?null:document.documentElement;function jt(n){let e=n.parentNode||n.host||null;return e===qs?null:e}function Ks(n){return n.substring(1,6)=="ebkit"}var Ge=null,ur=!1;function Lr(n){Ge||(Ge=$s()||{},ur=Ge.style?"WebkitAppearance"in Ge.style:!1);let e=!0;return Ge.style&&!Ks(n)&&(e=n in Ge.style,!e&&ur&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Ge.style)),e}function $s(){return typeof document<"u"?document.body:null}function Ui(n,e){for(;e;){if(e===n)return!0;e=jt(e)}return!1}function Hi(n,e,t){if(t)return Array.from(n.querySelectorAll(e));let i=n.querySelector(e);return i?[i]:[]}var js=1e3,Bi="{{",Gs="}}",qi="ng-enter",Gt="ng-leave",mt="ng-trigger",ht=".ng-trigger",Ki="ng-animating",Qt=".ng-animating";function xe(n){if(typeof n=="number")return n;let e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Fi(parseFloat(e[1]),e[2])}function Fi(n,e){switch(e){case"s":return n*js;default:return n}}function ft(n,e,t){return n.hasOwnProperty("duration")?n:Qs(n,e,t)}function Qs(n,e,t){let i=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,r,o=0,c="";if(typeof n=="string"){let u=n.match(i);if(u===null)return e.push(cr(n)),{duration:0,delay:0,easing:""};r=Fi(parseFloat(u[1]),u[2]);let d=u[3];d!=null&&(o=Fi(parseFloat(d),u[4]));let h=u[5];h&&(c=h)}else r=n;if(!t){let u=!1,d=e.length;r<0&&(e.push(Vs()),u=!0),o<0&&(e.push(zs()),u=!0),u&&e.splice(d,0,cr(n))}return{duration:r,delay:o,easing:c}}function Fr(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}function Ee(n,e,t){e.forEach((i,r)=>{let o=Yt(r);t&&!t.has(r)&&t.set(r,n.style[o]),n.style[o]=i})}function We(n,e){e.forEach((t,i)=>{let r=Yt(i);n.style[r]=""})}function tt(n){return Array.isArray(n)?n.length==1?n[0]:ir(n):n}function Vr(n,e,t){let i=e.params||{},r=$i(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||t.push(Ws(o))})}var Vi=new RegExp(`${Bi}\\s*(.+?)\\s*${Gs}`,"g");function $i(n){let e=[];if(typeof n=="string"){let t;for(;t=Vi.exec(n);)e.push(t[1]);Vi.lastIndex=0}return e}function it(n,e,t){let i=`${n}`,r=i.replace(Vi,(o,c)=>{let u=e[c];return u==null&&(t.push(Us(c)),u=""),u.toString()});return r==i?n:r}var Ys=/-+([a-z0-9])/g;function Yt(n){return n.replace(Ys,(...e)=>e[1].toUpperCase())}function zr(n,e){return n===0||e===0}function Wr(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((o,c)=>{i.has(c)||r.push(c),i.set(c,o)}),r.length)for(let o=1;o<e.length;o++){let c=e[o];r.forEach(u=>c.set(u,Xt(n,u)))}}return e}function ae(n,e,t){switch(e.type){case N.Trigger:return n.visitTrigger(e,t);case N.State:return n.visitState(e,t);case N.Transition:return n.visitTransition(e,t);case N.Sequence:return n.visitSequence(e,t);case N.Group:return n.visitGroup(e,t);case N.Animate:return n.visitAnimate(e,t);case N.Keyframes:return n.visitKeyframes(e,t);case N.Style:return n.visitStyle(e,t);case N.Reference:return n.visitReference(e,t);case N.AnimateChild:return n.visitAnimateChild(e,t);case N.AnimateRef:return n.visitAnimateRef(e,t);case N.Query:return n.visitQuery(e,t);case N.Stagger:return n.visitStagger(e,t);default:throw Hs(e.type)}}function Xt(n,e){return window.getComputedStyle(n)[e]}var un=(()=>{class n{validateStyleProperty(t){return Lr(t)}containsElement(t,i){return Ui(t,i)}getParentElement(t){return jt(t)}query(t,i,r){return Hi(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,o,c,u=[],d){return new je(r,o)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Dt({token:n,factory:n.\u0275fac})}return n})(),Ye=class{static NOOP=new un},Xe=class{};var Xs=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),ii=class extends Xe{normalizePropertyName(e,t){return Yt(e)}normalizeStyleValue(e,t,i,r){let o="",c=i.toString().trim();if(Xs.has(t)&&i!==0&&i!=="0")if(typeof i=="number")o="px";else{let u=i.match(/^[+-]?[\d\.]+([a-z]*)$/);u&&u[1].length==0&&r.push(dr(e,i))}return c+o}};var ni="*";function Zs(n,e){let t=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(i=>Js(i,t,e)):t.push(n),t}function Js(n,e,t){if(n[0]==":"){let d=eo(n,t);if(typeof d=="function"){e.push(d);return}n=d}let i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(i==null||i.length<4)return t.push(wr(n)),e;let r=i[1],o=i[2],c=i[3];e.push(Ur(r,c));let u=r==ni&&c==ni;o[0]=="<"&&!u&&e.push(Ur(c,r))}function eo(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(br(n)),"* => *"}}var Zt=new Set(["true","1"]),Jt=new Set(["false","0"]);function Ur(n,e){let t=Zt.has(n)||Jt.has(n),i=Zt.has(e)||Jt.has(e);return(r,o)=>{let c=n==ni||n==r,u=e==ni||e==o;return!c&&t&&typeof r=="boolean"&&(c=r?Zt.has(n):Jt.has(n)),!u&&i&&typeof o=="boolean"&&(u=o?Zt.has(e):Jt.has(e)),c&&u}}var Xr=":self",to=new RegExp(`s*${Xr}s*,?`,"g");function Zr(n,e,t,i){return new Zi(n).build(e,t,i)}var Hr="",Zi=class{_driver;constructor(e){this._driver=e}build(e,t,i){let r=new Ji(t);return this._resetContextStyleTimingState(r),ae(this,tt(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector=Hr,e.collectedStyles=new Map,e.collectedStyles.set(Hr,new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0,o=[],c=[];return e.name.charAt(0)=="@"&&t.errors.push(mr()),e.definitions.forEach(u=>{if(this._resetContextStyleTimingState(t),u.type==N.State){let d=u,h=d.name;h.toString().split(/\s*,\s*/).forEach(v=>{d.name=v,o.push(this.visitState(d,t))}),d.name=h}else if(u.type==N.Transition){let d=this.visitTransition(u,t);i+=d.queryCount,r+=d.depCount,c.push(d)}else t.errors.push(hr())}),{type:N.Trigger,name:e.name,states:o,transitions:c,queryCount:i,depCount:r,options:null}}visitState(e,t){let i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){let o=new Set,c=r||{};i.styles.forEach(u=>{u instanceof Map&&u.forEach(d=>{$i(d).forEach(h=>{c.hasOwnProperty(h)||o.add(h)})})}),o.size&&t.errors.push(fr(e.name,[...o.values()]))}return{type:N.State,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;let i=ae(this,tt(e.animation),t),r=Zs(e.expr,t.errors);return{type:N.Transition,matchers:r,animation:i,queryCount:t.queryCount,depCount:t.depCount,options:Qe(e.options)}}visitSequence(e,t){return{type:N.Sequence,steps:e.steps.map(i=>ae(this,i,t)),options:Qe(e.options)}}visitGroup(e,t){let i=t.currentTime,r=0,o=e.steps.map(c=>{t.currentTime=i;let u=ae(this,c,t);return r=Math.max(r,t.currentTime),u});return t.currentTime=r,{type:N.Group,steps:o,options:Qe(e.options)}}visitAnimate(e,t){let i=so(e.timings,t.errors);t.currentAnimateTimings=i;let r,o=e.styles?e.styles:$e({});if(o.type==N.Keyframes)r=this.visitKeyframes(o,t);else{let c=e.styles,u=!1;if(!c){u=!0;let h={};i.easing&&(h.easing=i.easing),c=$e(h)}t.currentTime+=i.duration+i.delay;let d=this.visitStyle(c,t);d.isEmptyStep=u,r=d}return t.currentAnimateTimings=null,{type:N.Animate,timings:i,style:r,options:null}}visitStyle(e,t){let i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){let i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let u of r)typeof u=="string"?u===Se?i.push(u):t.errors.push(pr(u)):i.push(new Map(Object.entries(u)));let o=!1,c=null;return i.forEach(u=>{if(u instanceof Map&&(u.has("easing")&&(c=u.get("easing"),u.delete("easing")),!o)){for(let d of u.values())if(d.toString().indexOf(Bi)>=0){o=!0;break}}}),{type:N.Style,styles:i,easing:c,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){let i=t.currentAnimateTimings,r=t.currentTime,o=t.currentTime;i&&o>0&&(o-=i.duration+i.delay),e.styles.forEach(c=>{typeof c!="string"&&c.forEach((u,d)=>{let h=t.collectedStyles.get(t.currentQuerySelector),v=h.get(d),g=!0;v&&(o!=r&&o>=v.startTime&&r<=v.endTime&&(t.errors.push(gr(d,v.startTime,v.endTime,o,r)),g=!1),o=v.startTime),g&&h.set(d,{startTime:o,endTime:r}),t.options&&Vr(u,t.options,t.errors)})})}visitKeyframes(e,t){let i={type:N.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(yr()),i;let r=1,o=0,c=[],u=!1,d=!1,h=0,v=e.steps.map(I=>{let H=this._makeStyleAst(I,t),$=H.offset!=null?H.offset:ro(H.styles),q=0;return $!=null&&(o++,q=H.offset=$),d=d||q<0||q>1,u=u||q<h,h=q,c.push(q),H});d&&t.errors.push(vr()),u&&t.errors.push(_r());let g=e.steps.length,A=0;o>0&&o<g?t.errors.push(Tr()):o==0&&(A=r/(g-1));let C=g-1,S=t.currentTime,k=t.currentAnimateTimings,L=k.duration;return v.forEach((I,H)=>{let $=A>0?H==C?1:A*H:c[H],q=$*L;t.currentTime=S+k.delay+q,k.duration=q,this._validateStyleAst(I,t),I.offset=$,i.styles.push(I)}),i}visitReference(e,t){return{type:N.Reference,animation:ae(this,tt(e.animation),t),options:Qe(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:N.AnimateChild,options:Qe(e.options)}}visitAnimateRef(e,t){return{type:N.AnimateRef,animation:this.visitReference(e.animation,t),options:Qe(e.options)}}visitQuery(e,t){let i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;let[o,c]=io(e.selector);t.currentQuerySelector=i.length?i+" "+o:o,oe(t.collectedStyles,t.currentQuerySelector,new Map);let u=ae(this,tt(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:N.Query,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:c,animation:u,originalSelector:e.selector,options:Qe(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(Sr());let i=e.timings==="full"?{duration:0,delay:0,easing:"full"}:ft(e.timings,t.errors,!0);return{type:N.Stagger,animation:ae(this,tt(e.animation),t),timings:i,options:null}}};function io(n){let e=!!n.split(/\s*,\s*/).find(t=>t==Xr);return e&&(n=n.replace(to,"")),n=n.replace(/@\*/g,ht).replace(/@\w+/g,t=>ht+"-"+t.slice(1)).replace(/:animating/g,Qt),[n,e]}function no(n){return n?It({},n):null}var Ji=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(e){this.errors=e}};function ro(n){if(typeof n=="string")return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){let i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}function so(n,e){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let o=ft(n,e).duration;return ji(o,0,"")}let t=n;if(t.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=ji(0,0,"");return o.dynamic=!0,o.strValue=t,o}let r=ft(t,e);return ji(r.duration,r.delay,r.easing)}function Qe(n){return n?(n=It({},n),n.params&&(n.params=no(n.params))):n={},n}function ji(n,e,t){return{duration:n,delay:e,easing:t}}function dn(n,e,t,i,r,o,c=null,u=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:c,subTimeline:u}}var gt=class{_map=new Map;get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}},oo=1,ao=":enter",lo=new RegExp(ao,"g"),co=":leave",uo=new RegExp(co,"g");function Jr(n,e,t,i,r,o=new Map,c=new Map,u,d,h=[]){return new en().buildKeyframes(n,e,t,i,r,o,c,u,d,h)}var en=class{buildKeyframes(e,t,i,r,o,c,u,d,h,v=[]){h=h||new gt;let g=new tn(e,t,h,r,o,v,[]);g.options=d;let A=d.delay?xe(d.delay):0;g.currentTimeline.delayNextStep(A),g.currentTimeline.setStyles([c],null,g.errors,d),ae(this,i,g);let C=g.timelines.filter(S=>S.containsAnimation());if(C.length&&u.size){let S;for(let k=C.length-1;k>=0;k--){let L=C[k];if(L.element===t){S=L;break}}S&&!S.allowOnlyTimelineStyles()&&S.setStyles([u],null,g.errors,d)}return C.length?C.map(S=>S.buildKeyframes()):[dn(t,[],[],[],0,A,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let i=t.subInstructions.get(t.element);if(i){let r=t.createSubContext(e.options),o=t.currentTimeline.currentTime,c=this._visitSubInstructions(i,r,r.options);o!=c&&t.transformIntoNewTimeline(c)}t.previousNode=e}visitAnimateRef(e,t){let i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(let r of e){let o=r?.delay;if(o){let c=typeof o=="number"?o:xe(it(o,r?.params??{},t.errors));i.delayNextStep(c)}}}_visitSubInstructions(e,t,i){let o=t.currentTimeline.currentTime,c=i.duration!=null?xe(i.duration):null,u=i.delay!=null?xe(i.delay):null;return c!==0&&e.forEach(d=>{let h=t.appendInstructionToTimeline(d,c,u);o=Math.max(o,h.duration+h.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),ae(this,e.animation,t),t.previousNode=e}visitSequence(e,t){let i=t.subContextCount,r=t,o=e.options;if(o&&(o.params||o.delay)&&(r=t.createSubContext(o),r.transformIntoNewTimeline(),o.delay!=null)){r.previousNode.type==N.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=ri);let c=xe(o.delay);r.delayNextStep(c)}e.steps.length&&(e.steps.forEach(c=>ae(this,c,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){let i=[],r=t.currentTimeline.currentTime,o=e.options&&e.options.delay?xe(e.options.delay):0;e.steps.forEach(c=>{let u=t.createSubContext(e.options);o&&u.delayNextStep(o),ae(this,c,u),r=Math.max(r,u.currentTimeline.currentTime),i.push(u.currentTimeline)}),i.forEach(c=>t.currentTimeline.mergeTimelineCollectedStyles(c)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){let i=e.strValue,r=t.params?it(i,t.params,t.errors):i;return ft(r,t.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){let i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());let o=e.style;o.type==N.Keyframes?this.visitKeyframes(o,t):(t.incrementTime(i.duration),this.visitStyle(o,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){let i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();let o=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(o):i.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){let i=t.currentAnimateTimings,r=t.currentTimeline.duration,o=i.duration,u=t.createSubContext().currentTimeline;u.easing=i.easing,e.styles.forEach(d=>{let h=d.offset||0;u.forwardTime(h*o),u.setStyles(d.styles,d.easing,t.errors,t.options),u.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(u),t.transformIntoNewTimeline(r+o),t.previousNode=e}visitQuery(e,t){let i=t.currentTimeline.currentTime,r=e.options||{},o=r.delay?xe(r.delay):0;o&&(t.previousNode.type===N.Style||i==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=ri);let c=i,u=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=u.length;let d=null;u.forEach((h,v)=>{t.currentQueryIndex=v;let g=t.createSubContext(e.options,h);o&&g.delayNextStep(o),h===t.element&&(d=g.currentTimeline),ae(this,e.animation,g),g.currentTimeline.applyStylesToKeyframe();let A=g.currentTimeline.currentTime;c=Math.max(c,A)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(c),d&&(t.currentTimeline.mergeTimelineCollectedStyles(d),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){let i=t.parentContext,r=t.currentTimeline,o=e.timings,c=Math.abs(o.duration),u=c*(t.currentQueryTotal-1),d=c*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":d=u-d;break;case"full":d=i.currentStaggerTime;break}let v=t.currentTimeline;d&&v.delayNextStep(d);let g=v.currentTime;ae(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-g+(r.startTime-i.currentTimeline.startTime)}},ri={},tn=class n{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=ri;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(e,t,i,r,o,c,u,d){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=c,this.timelines=u,this.currentTimeline=d||new si(this._driver,t,0),u.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;let i=e,r=this.options;i.duration!=null&&(r.duration=xe(i.duration)),i.delay!=null&&(r.delay=xe(i.delay));let o=i.params;if(o){let c=r.params;c||(c=this.options.params={}),Object.keys(o).forEach(u=>{(!t||!c.hasOwnProperty(u))&&(c[u]=it(o[u],c,this.errors))})}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){let r=t||this.element,o=new n(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=ri,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){let r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},o=new nn(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,o,c){let u=[];if(r&&u.push(this.element),e.length>0){e=e.replace(lo,"."+this._enterClassName),e=e.replace(uo,"."+this._leaveClassName);let d=i!=1,h=this._driver.query(this.element,e,d);i!==0&&(h=i<0?h.slice(h.length+i,h.length):h.slice(0,i)),u.push(...h)}return!o&&u.length==0&&c.push(Er(t)),u}},si=class n{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new n(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=oo,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||Se),this._currentKeyframe.set(t,Se);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);let o=r&&r.params||{},c=mo(e,this._globalTimelineStyles);for(let[u,d]of c){let h=it(d,o,i);this._pendingStyles.set(u,h),this._localTimelineStyles.has(u)||this._backFill.set(u,this._globalTimelineStyles.get(u)??Se),this._updateStyle(u,h)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{let r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,t=new Set,i=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((u,d)=>{let h=new Map([...this._backFill,...u]);h.forEach((v,g)=>{v===dt?e.add(g):v===Se&&t.add(g)}),i||h.set("offset",d/this.duration),r.push(h)});let o=[...e.values()],c=[...t.values()];if(i){let u=r[0],d=new Map(u);u.set("offset",0),d.set("offset",1),r=[u,d]}return dn(this.element,r,o,c,this.duration,this.startTime,this.easing,!1)}},nn=class extends si{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(e,t,i,r,o,c,u=!1){super(e,t,c.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=u,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){let o=[],c=i+t,u=t/c,d=new Map(e[0]);d.set("offset",0),o.push(d);let h=new Map(e[0]);h.set("offset",Br(u)),o.push(h);let v=e.length-1;for(let g=1;g<=v;g++){let A=new Map(e[g]),C=A.get("offset"),S=t+C*i;A.set("offset",Br(S/c)),o.push(A)}i=c,t=0,r="",e=o}return dn(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}};function Br(n,e=3){let t=Math.pow(10,e-1);return Math.round(n*t)/t}function mo(n,e){let t=new Map,i;return n.forEach(r=>{if(r==="*"){i??=e.keys();for(let o of i)t.set(o,Se)}else for(let[o,c]of r)t.set(o,c)}),t}function qr(n,e,t,i,r,o,c,u,d,h,v,g,A){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:o,toState:i,toStyles:c,timelines:u,queriedElements:d,preStyleProps:h,postStyleProps:v,totalTime:g,errors:A}}var Gi={},oi=class{_triggerName;ast;_stateStyles;constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return ho(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return e!==void 0&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,o,c,u,d,h,v){let g=[],A=this.ast.options&&this.ast.options.params||Gi,C=u&&u.params||Gi,S=this.buildStyles(i,C,g),k=d&&d.params||Gi,L=this.buildStyles(r,k,g),I=new Set,H=new Map,$=new Map,q=r==="void",_e={params:es(k,A),delay:this.ast.options?.delay},ie=v?[]:Jr(e,t,this.ast.animation,o,c,S,L,_e,h,g),G=0;return ie.forEach(B=>{G=Math.max(B.duration+B.delay,G)}),g.length?qr(t,this._triggerName,i,r,q,S,L,[],[],H,$,G,g):(ie.forEach(B=>{let me=B.element,le=oe(H,me,new Set);B.preStyleProps.forEach(be=>le.add(be));let Ue=oe($,me,new Set);B.postStyleProps.forEach(be=>Ue.add(be)),me!==t&&I.add(me)}),qr(t,this._triggerName,i,r,q,S,L,ie,[...I.values()],H,$,G))}};function ho(n,e,t,i,r){return n.some(o=>o(e,t,i,r))}function es(n,e){let t=It({},e);return Object.entries(n).forEach(([i,r])=>{r!=null&&(t[i]=r)}),t}var rn=class{styles;defaultParams;normalizer;constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){let i=new Map,r=es(e,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((c,u)=>{c&&(c=it(c,r,t));let d=this.normalizer.normalizePropertyName(u,t);c=this.normalizer.normalizeStyleValue(u,d,c,t),i.set(u,c)})}),i}};function fo(n,e,t){return new sn(n,e,t)}var sn=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,t.states.forEach(r=>{let o=r.options&&r.options.params||{};this.states.set(r.name,new rn(r.style,o,i))}),Kr(this.states,"true","1"),Kr(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new oi(e,r,this.states))}),this.fallbackTransition=po(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(c=>c.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}};function po(n,e,t){let i=[(c,u)=>!0],r={type:N.Sequence,steps:[],options:null},o={type:N.Transition,animation:r,matchers:i,options:null,queryCount:0,depCount:0};return new oi(n,o,e)}function Kr(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}var go=new gt,on=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i}register(e,t){let i=[],r=[],o=Zr(this._driver,t,i,r);if(i.length)throw Ar(i);this._animations.set(e,o)}_buildPlayer(e,t,i){let r=e.element,o=zi(this._normalizer,e.keyframes,t,i);return this._driver.animate(r,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){let r=[],o=this._animations.get(e),c,u=new Map;if(o?(c=Jr(this._driver,t,o,qi,Gt,new Map,new Map,i,go,r),c.forEach(v=>{let g=oe(u,v.element,new Map);v.postStyleProps.forEach(A=>g.set(A,null))})):(r.push(Cr()),c=[]),r.length)throw Pr(r);u.forEach((v,g)=>{v.forEach((A,C)=>{v.set(C,this._driver.computeStyle(g,C,Se))})});let d=c.map(v=>{let g=u.get(v.element);return this._buildPlayer(v,new Map,g)}),h=Le(d);return this._playersById.set(e,h),h.onDestroy(()=>this.destroy(e)),this.players.push(h),h}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw xr(e);return t}listen(e,t,i,r){let o=$t(t,"","","");return Kt(this._getPlayer(e),i,o,r),()=>{}}command(e,t,i,r){if(i=="register"){this.register(e,r[0]);return}if(i=="create"){let c=r[0]||{};this.create(e,t,c);return}let o=this._getPlayer(e);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e);break}}},$r="ng-animate-queued",yo=".ng-animate-queued",Qi="ng-animate-disabled",vo=".ng-animate-disabled",_o="ng-star-inserted",To=".ng-star-inserted",So=[],ts={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Eo={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},we="__ng_removed",yt=class{namespaceId;value;options;get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;let i=e&&e.hasOwnProperty("value"),r=i?e.value:e;if(this.value=bo(r),i){let o=e,{value:c}=o,u=Mn(o,["value"]);this.options=u}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let t=e.params;if(t){let i=this.options.params;Object.keys(t).forEach(r=>{i[r]==null&&(i[r]=t[r])})}}},pt="void",Yi=new yt(pt),an=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this._hostClassName="ng-tns-"+e,ve(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw Nr(i,t);if(i==null||i.length==0)throw Mr(t);if(!ko(i))throw Ir(i,t);let o=oe(this._elementListeners,e,[]),c={name:t,phase:i,callback:r};o.push(c);let u=oe(this._engine.statesByElement,e,new Map);return u.has(t)||(ve(e,mt),ve(e,mt+"-"+t),u.set(t,Yi)),()=>{this._engine.afterFlush(()=>{let d=o.indexOf(c);d>=0&&o.splice(d,1),this._triggers.has(t)||u.delete(t)})}}register(e,t){return this._triggers.has(e)?!1:(this._triggers.set(e,t),!0)}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw Dr(e);return t}trigger(e,t,i,r=!0){let o=this._getTrigger(t),c=new vt(this.id,t,e),u=this._engine.statesByElement.get(e);u||(ve(e,mt),ve(e,mt+"-"+t),this._engine.statesByElement.set(e,u=new Map));let d=u.get(t),h=new yt(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&d&&h.absorbOptions(d.options),u.set(t,h),d||(d=Yi),!(h.value===pt)&&d.value===h.value){if(!Po(d.params,h.params)){let k=[],L=o.matchStyles(d.value,d.params,k),I=o.matchStyles(h.value,h.params,k);k.length?this._engine.reportError(k):this._engine.afterFlush(()=>{We(e,L),Ee(e,I)})}return}let A=oe(this._engine.playersByElement,e,[]);A.forEach(k=>{k.namespaceId==this.id&&k.triggerName==t&&k.queued&&k.destroy()});let C=o.matchTransition(d.value,h.value,e,h.params),S=!1;if(!C){if(!r)return;C=o.fallbackTransition,S=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:C,fromState:d,toState:h,player:c,isFallbackTransition:S}),S||(ve(e,$r),c.onStart(()=>{nt(e,$r)})),c.onDone(()=>{let k=this.players.indexOf(c);k>=0&&this.players.splice(k,1);let L=this._engine.playersByElement.get(e);if(L){let I=L.indexOf(c);I>=0&&L.splice(I,1)}}),this.players.push(c),A.push(c),c}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){let i=this._engine.driver.query(e,ht,!0);i.forEach(r=>{if(r[we])return;let o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(c=>c.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){let o=this._engine.statesByElement.get(e),c=new Map;if(o){let u=[];if(o.forEach((d,h)=>{if(c.set(h,d.value),this._triggers.has(h)){let v=this.trigger(e,h,pt,r);v&&u.push(v)}}),u.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,c),i&&Le(u).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){let r=new Set;t.forEach(o=>{let c=o.name;if(r.has(c))return;r.add(c);let d=this._triggers.get(c).fallbackTransition,h=i.get(c)||Yi,v=new yt(pt),g=new vt(this.id,c,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:c,transition:d,fromState:h,toState:v,player:g,isFallbackTransition:!0})})}}removeNode(e,t){let i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){let o=i.players.length?i.playersByQueriedElement.get(e):[];if(o&&o.length)r=!0;else{let c=e;for(;c=c.parentNode;)if(i.statesByElement.get(c)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{let o=e[we];(!o||o===ts)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){ve(e,this._hostClassName)}drainQueuedTransitions(e){let t=[];return this._queue.forEach(i=>{let r=i.player;if(r.destroyed)return;let o=i.element,c=this._elementListeners.get(o);c&&c.forEach(u=>{if(u.name==i.triggerName){let d=$t(o,i.triggerName,i.fromState.value,i.toState.value);d._data=e,Kt(i.player,u.phase,d,u.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{let o=i.transition.ast.depCount,c=r.transition.ast.depCount;return o==0||c==0?o-c:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},ln=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(e,t)=>{};_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i}get queuedPlayers(){let e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){let i=new an(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){let i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let c=!1,u=this.driver.getParentElement(t);for(;u;){let d=r.get(u);if(d){let h=i.indexOf(d);i.splice(h+1,0,e),c=!0;break}u=this.driver.getParentElement(u)}c||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);let r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let t=new Set,i=this.statesByElement.get(e);if(i){for(let r of i.values())if(r.namespaceId){let o=this._fetchNamespace(r.namespaceId);o&&t.add(o)}}return t}trigger(e,t,i,r){if(ei(t)){let o=this._fetchNamespace(e);if(o)return o.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!ei(t))return;let o=t[we];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let c=this.collectedLeaveElements.indexOf(t);c>=0&&this.collectedLeaveElements.splice(c,1)}if(e){let c=this._fetchNamespace(e);c&&c.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),ve(e,Qi)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),nt(e,Qi))}removeNode(e,t,i){if(ei(t)){let r=e?this._fetchNamespace(e):null;r?r.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i);let o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,i)}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,i,r,o){this.collectedLeaveElements.push(t),t[we]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,i,r,o){return ei(t)?this._fetchNamespace(e).listen(t,i,r,o):()=>{}}_buildInstruction(e,t,i,r,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,ht,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(e,Qt,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Le(this.players).onDone(()=>e());e()})}processLeaveNode(e){let t=e[we];if(t&&t.setForRemoval){if(e[we]=ts,t.namespaceId){this.destroyInnerAnimations(e);let i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(Qi)&&this.markElementAsDisabled(e,!1),this.driver.query(e,vo,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++){let r=this.collectedEnterElements[i];ve(r,_o)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++){let r=this.collectedLeaveElements[i];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){let i=this._whenQuietFns;this._whenQuietFns=[],t.length?Le(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw Or(e)}_flushAnimations(e,t){let i=new gt,r=[],o=new Map,c=[],u=new Map,d=new Map,h=new Map,v=new Set;this.disabledNodes.forEach(T=>{v.add(T);let E=this.driver.query(T,yo,!0);for(let b=0;b<E.length;b++)v.add(E[b])});let g=this.bodyNode,A=Array.from(this.statesByElement.keys()),C=Qr(A,this.collectedEnterElements),S=new Map,k=0;C.forEach((T,E)=>{let b=qi+k++;S.set(E,b),T.forEach(M=>ve(M,b))});let L=[],I=new Set,H=new Set;for(let T=0;T<this.collectedLeaveElements.length;T++){let E=this.collectedLeaveElements[T],b=E[we];b&&b.setForRemoval&&(L.push(E),I.add(E),b.hasAnimation?this.driver.query(E,To,!0).forEach(M=>I.add(M)):H.add(E))}let $=new Map,q=Qr(A,Array.from(I));q.forEach((T,E)=>{let b=Gt+k++;$.set(E,b),T.forEach(M=>ve(M,b))}),e.push(()=>{C.forEach((T,E)=>{let b=S.get(E);T.forEach(M=>nt(M,b))}),q.forEach((T,E)=>{let b=$.get(E);T.forEach(M=>nt(M,b))}),L.forEach(T=>{this.processLeaveNode(T)})});let _e=[],ie=[];for(let T=this._namespaceList.length-1;T>=0;T--)this._namespaceList[T].drainQueuedTransitions(t).forEach(b=>{let M=b.player,K=b.element;if(_e.push(M),this.collectedEnterElements.length){let W=K[we];if(W&&W.setForMove){if(W.previousTriggersValues&&W.previousTriggersValues.has(b.triggerName)){let O=W.previousTriggersValues.get(b.triggerName),R=this.statesByElement.get(b.element);if(R&&R.has(b.triggerName)){let Ne=R.get(b.triggerName);Ne.value=O,R.set(b.triggerName,Ne)}}M.destroy();return}}let ee=!g||!this.driver.containsElement(g,K),ne=$.get(K),he=S.get(K),F=this._buildInstruction(b,i,he,ne,ee);if(F.errors&&F.errors.length){ie.push(F);return}if(ee){M.onStart(()=>We(K,F.fromStyles)),M.onDestroy(()=>Ee(K,F.toStyles)),r.push(M);return}if(b.isFallbackTransition){M.onStart(()=>We(K,F.fromStyles)),M.onDestroy(()=>Ee(K,F.toStyles)),r.push(M);return}let Et=[];F.timelines.forEach(W=>{W.stretchStartingKeyframe=!0,this.disabledNodes.has(W.element)||Et.push(W)}),F.timelines=Et,i.append(K,F.timelines);let X={instruction:F,player:M,element:K};c.push(X),F.queriedElements.forEach(W=>oe(u,W,[]).push(M)),F.preStyleProps.forEach((W,O)=>{if(W.size){let R=d.get(O);R||d.set(O,R=new Set),W.forEach((Ne,Me)=>R.add(Me))}}),F.postStyleProps.forEach((W,O)=>{let R=h.get(O);R||h.set(O,R=new Set),W.forEach((Ne,Me)=>R.add(Me))})});if(ie.length){let T=[];ie.forEach(E=>{T.push(Rr(E.triggerName,E.errors))}),_e.forEach(E=>E.destroy()),this.reportError(T)}let G=new Map,B=new Map;c.forEach(T=>{let E=T.element;i.has(E)&&(B.set(E,E),this._beforeAnimationBuild(T.player.namespaceId,T.instruction,G))}),r.forEach(T=>{let E=T.element;this._getPreviousPlayers(E,!1,T.namespaceId,T.triggerName,null).forEach(M=>{oe(G,E,[]).push(M),M.destroy()})});let me=L.filter(T=>Yr(T,d,h)),le=new Map;Gr(le,this.driver,H,h,Se).forEach(T=>{Yr(T,d,h)&&me.push(T)});let be=new Map;C.forEach((T,E)=>{Gr(be,this.driver,new Set(T),d,dt)}),me.forEach(T=>{let E=le.get(T),b=be.get(T);le.set(T,new Map([...E?.entries()??[],...b?.entries()??[]]))});let Fe=[],Tt=[],St={};c.forEach(T=>{let{element:E,player:b,instruction:M}=T;if(i.has(E)){if(v.has(E)){b.onDestroy(()=>Ee(E,M.toStyles)),b.disabled=!0,b.overrideTotalTime(M.totalTime),r.push(b);return}let K=St;if(B.size>1){let ne=E,he=[];for(;ne=ne.parentNode;){let F=B.get(ne);if(F){K=F;break}he.push(ne)}he.forEach(F=>B.set(F,K))}let ee=this._buildAnimation(b.namespaceId,M,G,o,be,le);if(b.setRealPlayer(ee),K===St)Fe.push(b);else{let ne=this.playersByElement.get(K);ne&&ne.length&&(b.parentPlayer=Le(ne)),r.push(b)}}else We(E,M.fromStyles),b.onDestroy(()=>Ee(E,M.toStyles)),Tt.push(b),v.has(E)&&r.push(b)}),Tt.forEach(T=>{let E=o.get(T.element);if(E&&E.length){let b=Le(E);T.setRealPlayer(b)}}),r.forEach(T=>{T.parentPlayer?T.syncPlayerEvents(T.parentPlayer):T.destroy()});for(let T=0;T<L.length;T++){let E=L[T],b=E[we];if(nt(E,Gt),b&&b.hasAnimation)continue;let M=[];if(u.size){let ee=u.get(E);ee&&ee.length&&M.push(...ee);let ne=this.driver.query(E,Qt,!0);for(let he=0;he<ne.length;he++){let F=u.get(ne[he]);F&&F.length&&M.push(...F)}}let K=M.filter(ee=>!ee.destroyed);K.length?Ao(this,E,K):this.processLeaveNode(E)}return L.length=0,Fe.forEach(T=>{this.players.push(T),T.onDone(()=>{T.destroy();let E=this.players.indexOf(T);this.players.splice(E,1)}),T.play()}),Fe}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,o){let c=[];if(t){let u=this.playersByQueriedElement.get(e);u&&(c=u)}else{let u=this.playersByElement.get(e);if(u){let d=!o||o==pt;u.forEach(h=>{h.queued||!d&&h.triggerName!=r||c.push(h)})}}return(i||r)&&(c=c.filter(u=>!(i&&i!=u.namespaceId||r&&r!=u.triggerName))),c}_beforeAnimationBuild(e,t,i){let r=t.triggerName,o=t.element,c=t.isRemovalTransition?void 0:e,u=t.isRemovalTransition?void 0:r;for(let d of t.timelines){let h=d.element,v=h!==o,g=oe(i,h,[]);this._getPreviousPlayers(h,v,c,u,t.toState).forEach(C=>{let S=C.getRealPlayer();S.beforeDestroy&&S.beforeDestroy(),C.destroy(),g.push(C)})}We(o,t.fromStyles)}_buildAnimation(e,t,i,r,o,c){let u=t.triggerName,d=t.element,h=[],v=new Set,g=new Set,A=t.timelines.map(S=>{let k=S.element;v.add(k);let L=k[we];if(L&&L.removedBeforeQueried)return new je(S.duration,S.delay);let I=k!==d,H=Co((i.get(k)||So).map(G=>G.getRealPlayer())).filter(G=>{let B=G;return B.element?B.element===k:!1}),$=o.get(k),q=c.get(k),_e=zi(this._normalizer,S.keyframes,$,q),ie=this._buildPlayer(S,_e,H);if(S.subTimeline&&r&&g.add(k),I){let G=new vt(e,u,k);G.setRealPlayer(ie),h.push(G)}return ie});h.forEach(S=>{oe(this.playersByQueriedElement,S.element,[]).push(S),S.onDone(()=>wo(this.playersByQueriedElement,S.element,S))}),v.forEach(S=>ve(S,Ki));let C=Le(A);return C.onDestroy(()=>{v.forEach(S=>nt(S,Ki)),Ee(d,t.toStyles)}),g.forEach(S=>{oe(r,S,[]).push(C)}),C}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new je(e.duration,e.delay)}},vt=class{namespaceId;triggerName;element;_player=new je;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>Kt(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){oe(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e)}};function wo(n,e,t){let i=n.get(e);if(i){if(i.length){let r=i.indexOf(t);i.splice(r,1)}i.length==0&&n.delete(e)}return i}function bo(n){return n??null}function ei(n){return n&&n.nodeType===1}function ko(n){return n=="start"||n=="done"}function jr(n,e){let t=n.style.display;return n.style.display=e??"none",t}function Gr(n,e,t,i,r){let o=[];t.forEach(d=>o.push(jr(d)));let c=[];i.forEach((d,h)=>{let v=new Map;d.forEach(g=>{let A=e.computeStyle(h,g,r);v.set(g,A),(!A||A.length==0)&&(h[we]=Eo,c.push(h))}),n.set(h,v)});let u=0;return t.forEach(d=>jr(d,o[u++])),c}function Qr(n,e){let t=new Map;if(n.forEach(u=>t.set(u,[])),e.length==0)return t;let i=1,r=new Set(e),o=new Map;function c(u){if(!u)return i;let d=o.get(u);if(d)return d;let h=u.parentNode;return t.has(h)?d=h:r.has(h)?d=i:d=c(h),o.set(u,d),d}return e.forEach(u=>{let d=c(u);d!==i&&t.get(d).push(u)}),t}function ve(n,e){n.classList?.add(e)}function nt(n,e){n.classList?.remove(e)}function Ao(n,e,t){Le(t).onDone(()=>n.processLeaveNode(e))}function Co(n){let e=[];return is(n,e),e}function is(n,e){for(let t=0;t<n.length;t++){let i=n[t];i instanceof Ut?is(i.players,e):e.push(i)}}function Po(n,e){let t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){let o=t[r];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}function Yr(n,e,t){let i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(o=>r.add(o)):e.set(n,i),t.delete(n),!0}var rt=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(e,t)=>{};constructor(e,t,i){this._driver=t,this._normalizer=i,this._transitionEngine=new ln(e.body,t,i),this._timelineEngine=new on(e.body,t,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(e,t,i,r,o){let c=e+"-"+r,u=this._triggerCache[c];if(!u){let d=[],h=[],v=Zr(this._driver,o,d,h);if(d.length)throw kr(r,d);u=fo(r,v,this._normalizer),this._triggerCache[c]=u}this._transitionEngine.registerTrigger(t,r,u)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i){this._transitionEngine.removeNode(e,t,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if(i.charAt(0)=="@"){let[o,c]=Wi(i),u=r;this._timelineEngine.command(o,t,c,u)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,o){if(i.charAt(0)=="@"){let[c,u]=Wi(i);return this._timelineEngine.listen(c,t,u,o)}return this._transitionEngine.listen(e,t,i,r,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function xo(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=Xi(e[0]),e.length>1&&(i=Xi(e[e.length-1]))):e instanceof Map&&(t=Xi(e)),t||i?new No(n,t,i):null}var No=(()=>{class n{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r;let o=n.initialStylesByElement.get(t);o||n.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Ee(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ee(this._element,this._initialStyles),this._endStyles&&(Ee(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(We(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(We(this._element,this._endStyles),this._endStyles=null),Ee(this._element,this._initialStyles),this._state=3)}}return n})();function Xi(n){let e=null;return n.forEach((t,i)=>{Mo(i)&&(e=e||new Map,e.set(i,t))}),e}function Mo(n){return n==="display"||n==="position"}var ai=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{r!=="offset"&&e.set(r,this._finished?i:Xt(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){let t=e==="start"?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}},li=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,t){return Ui(e,t)}getParentElement(e){return jt(e)}query(e,t,i){return Hi(e,t,i)}computeStyle(e,t,i){return Xt(e,t)}animate(e,t,i,r,o,c=[]){let u=r==0?"both":"forwards",d={duration:i,delay:r,fill:u};o&&(d.easing=o);let h=new Map,v=c.filter(C=>C instanceof ai);zr(i,r)&&v.forEach(C=>{C.currentSnapshot.forEach((S,k)=>h.set(k,S))});let g=Fr(t).map(C=>new Map(C));g=Wr(e,g,h);let A=xo(e,g);return new ai(e,g,d,A)}};var ti="@",ns="@.disabled",ci=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.parentNode(t)&&this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){t.charAt(0)==ti&&t==ns?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i,r){return this.delegate.listen(e,t,i,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}},cn=class extends ci{factory;constructor(e,t,i,r,o){super(t,i,r,o),this.factory=e,this.namespaceId=t}setProperty(e,t,i){t.charAt(0)==ti?t.charAt(1)=="."&&t==ns?(i=i===void 0?!0:!!i,this.disableAnimations(e,i)):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i,r){if(t.charAt(0)==ti){let o=Io(e),c=t.slice(1),u="";return c.charAt(0)!=ti&&([c,u]=Do(c)),this.engine.listen(this.namespaceId,o,c,u,d=>{let h=d._data||-1;this.factory.scheduleListenerCallback(h,i,d)})}return this.delegate.listen(e,t,i,r)}};function Io(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function Do(n){let e=n.indexOf("."),t=n.substring(0,e),i=n.slice(e+1);return[t,i]}var ui=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(e,t,i){this.delegate=e,this.engine=t,this._zone=i,t.onRemovalComplete=(r,o)=>{o?.removeChild(null,r)}}createRenderer(e,t){let i="",r=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){let h=this._rendererCache,v=h.get(r);if(!v){let g=()=>h.delete(r);v=new ci(i,r,this.engine,g),h.set(r,v)}return v}let o=t.id,c=t.id+"-"+this._currentId;this._currentId++,this.engine.register(c,e);let u=h=>{Array.isArray(h)?h.forEach(u):this.engine.registerTrigger(o,c,e,h.name,h)};return t.data.animation.forEach(u),new cn(this,c,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,i){if(e>=0&&e<this._microtaskId){this._zone.run(()=>t(i));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(o=>{let[c,u]=o;c(u)}),this._animationCallbacksBuffer=[]})}),r.push([t,i])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(e){this.engine.flush(),this.delegate.componentReplaced?.(e)}};var Ro=(()=>{class n extends rt{constructor(t,i,r){super(t,i,r)}ngOnDestroy(){this.flush()}static \u0275fac=function(i){return new(i||n)(Ot(On),Ot(Ye),Ot(Xe))};static \u0275prov=Dt({token:n,factory:n.\u0275fac})}return n})();function Lo(){return new ii}function Fo(n,e,t){return new ui(n,e,t)}var rs=[{provide:Xe,useFactory:Lo},{provide:rt,useClass:Ro},{provide:Ln,useFactory:Fo,deps:[jn,rt,zn]}],wa=[{provide:Ye,useClass:un},{provide:Ni,useValue:"NoopAnimations"},...rs],Vo=[{provide:Ye,useFactory:()=>new li},{provide:Ni,useFactory:()=>"BrowserAnimations"},...rs];function ss(){return Vn("NgEagerAnimations"),[...Vo]}function zo(n,e){n&1&&(p(0,"span",14),w(1,"(Today)"),y())}function Wo(n,e){if(n&1){let t=Re();p(0,"button",15),te("click",function(){ce(t);let r=U();return ue(r.goToToday())}),w(1," Jump to Today "),y()}}function Uo(n,e){n&1&&(p(0,"div",16)(1,"p",17),w(2,"Checking your schedule..."),y(),j(),p(3,"svg",18),z(4,"circle",19)(5,"path",20),y()())}function Ho(n,e){if(n&1&&(p(0,"p",35),w(1),y()),n&2){let t=U().ngIf;V("title",t.routine.description),P(),Pe(" ",t.routine.description," ")}}function Bo(n,e){if(n&1&&(p(0,"p",36),w(1),y()),n&2){let t=U().ngIf;P(),Pe(" Program Note: ",t.scheduledDayInfo.notes," ")}}function qo(n,e){if(n&1&&(p(0,"p",37),w(1),y()),n&2){let t=U().ngIf;P(),Pe(" Suggested Time: ",t.scheduledDayInfo.timeOfDay," ")}}function Ko(n,e){if(n&1){let t=Re();p(0,"div")(1,"div",22)(2,"h3",23),w(3," Scheduled: "),p(4,"span",24),w(5),y()(),J(6,Ho,2,2,"p",25)(7,Bo,2,1,"p",26)(8,qo,2,1,"p",27),p(9,"div",28)(10,"button",29),te("click",function(){let r=ce(t).ngIf,o=U(2);return ue(o.startWorkout(r.routine.id))}),j(),p(11,"svg",30),z(12,"path",31),y(),w(13," START "),y(),se(),p(14,"button",32),te("click",function(){let r=ce(t).ngIf,o=U(2);return ue(o.viewRoutineDetails(r.routine.id))}),j(),p(15,"svg",30),z(16,"path",33)(17,"path",34),y(),w(18," DETAILS "),y()()()()}if(n&2){let t=e.ngIf;P(5),de(t.routine.name),P(),V("ngIf",t.routine.description),P(),V("ngIf",t.scheduledDayInfo.notes),P(),V("ngIf",t.scheduledDayInfo.timeOfDay)}}function $o(n,e){if(n&1){let t=Re();p(0,"div",50)(1,"div",51)(2,"span",52),w(3),y(),p(4,"span",53),w(5),y()(),p(6,"button",54),te("click",function(){let r=ce(t).$implicit,o=U(4);return ue(o.startWorkout(r.id))}),j(),p(7,"svg",55),z(8,"path",56),y(),w(9," START "),y()()}if(n&2){let t=e.$implicit;P(3),de(t.name),P(2),Pe("",t.exercises.length," exercises")}}function jo(n,e){n&1&&(p(0,"p",57),w(1,"No routines available."),y())}function Go(n,e){if(n&1&&(p(0,"div",45)(1,"h4",46),w(2,"Or, pick a quick workout:"),y(),p(3,"div",47),J(4,$o,10,2,"div",48)(5,jo,2,0,"p",49),y()()),n&2){let t=e.ngIf;P(4),V("ngForOf",t),P(),V("ngIf",!t||t.length===0)}}function Qo(n,e){if(n&1){let t=Re();p(0,"div",38),j(),p(1,"svg",39),z(2,"path",40),y(),se(),p(3,"h3",41),w(4),Ke(5,"date"),y(),p(6,"p",42),w(7," You can "),p(8,"button",43),te("click",function(){ce(t);let r=U(2);return ue(r.managePrograms())}),w(9,"set an active program"),y(),w(10," or "),p(11,"button",43),te("click",function(){ce(t);let r=U(2);return ue(r.browseRoutines())}),w(12,"pick a routine"),y(),w(13," for today. "),y(),J(14,Go,6,2,"div",44),Ke(15,"async"),y()}if(n&2){let t=U(2);P(4),Pe(" No workout scheduled for ",Mi(5,2,t.currentDate(),"mediumDate"),". "),P(10),V("ngIf",Un(15,5,t.availableRoutines$))}}function Yo(n,e){if(n&1&&(p(0,"div"),J(1,Ko,19,4,"div",21)(2,Qo,16,7,"ng-template",null,0,Hn),y()),n&2){let t=Wn(3),i=U();P(),V("ngIf",i.todaysScheduledWorkout())("ngIfElse",t)}}var di=class n{trainingProgramService=Y(sr);workoutService=Y(Ht);router=Y(zt);spinnerService=Y(qt);isLoading=qe(!0);todaysScheduledWorkout=qe(null);currentDate=qe(new Date);availableRoutines$;ngOnInit(){this.loadTodaysWorkout(),this.availableRoutines$=this.workoutService.routines$}loadTodaysWorkout(){this.isLoading.set(!0),this.trainingProgramService.getRoutineForDay(this.currentDate()).subscribe({next:e=>{this.todaysScheduledWorkout.set(e),this.isLoading.set(!1)},error:e=>{console.error("Error fetching today's scheduled workout:",e),this.isLoading.set(!1)}})}startWorkout(e){e&&this.router.navigate(["/workout/play",e])}viewRoutineDetails(e){e&&this.router.navigate(["/workout/view",e])}managePrograms(){this.router.navigate(["/training-programs"])}browseRoutines(){this.router.navigate(["/workout"])}previousDay(){this.currentDate.update(e=>{let t=new Date(e);return t.setDate(e.getDate()-1),t}),this.loadTodaysWorkout()}nextDay(){this.currentDate.update(e=>{let t=new Date(e);return t.setDate(e.getDate()+1),t}),this.loadTodaysWorkout()}goToToday(){this.currentDate.set(new Date),this.loadTodaysWorkout()}isToday(e){let t=new Date;return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ge({type:n,selectors:[["app-todays-workout"]],decls:16,vars:8,consts:[["noScheduledWorkout",""],[1,"p-4","md:p-6","bg-white","dark:bg-gray-700","rounded-xl","shadow-xl","border","border-gray-200","dark:border-gray-700",3,"swipeleft","swiperight"],[1,"mb-4","flex","items-center","justify-between","pb-3","border-b","border-gray-200","dark:border-gray-700"],["title","Previous Day",1,"p-2","rounded-full","hover:bg-gray-100","dark:hover:bg-gray-700","text-gray-600","dark:text-gray-300",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","2","stroke","currentColor",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","d","M15.75 19.5L8.25 12l7.5-7.5"],[1,"text-center"],[1,"text-xl","font-semibold","text-gray-800","dark:text-gray-200"],["class","text-sm text-primary dark:text-primary-light",4,"ngIf"],["title","Next Day",1,"p-2","rounded-full","hover:bg-gray-100","dark:hover:bg-gray-700","text-gray-600","dark:text-gray-300",3,"click"],["stroke-linecap","round","stroke-linejoin","round","d","M8.25 4.5l7.5 7.5-7.5 7.5"],["class","mb-4 text-sm text-primary dark:text-primary-light hover:underline",3,"click",4,"ngIf"],["class","text-center py-8",4,"ngIf"],[4,"ngIf"],[1,"text-sm","text-primary","dark:text-primary-light"],[1,"mb-4","text-sm","text-primary","dark:text-primary-light","hover:underline",3,"click"],[1,"text-center","py-8"],[1,"text-gray-500","dark:text-gray-400"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","h-8","w-8","text-primary","dark:text-primary-light","mx-auto","mt-2"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],[4,"ngIf","ngIfElse"],[1,"border","border-primary","dark:border-primary-light","bg-primary-50","dark:bg-gray-700/30","p-4","rounded-lg","shadow-md"],[1,"text-lg","font-semibold","text-gray-700","dark:text-gray-100","mb-1"],[1,"text-primary","dark:text-primary-light"],["class","text-sm text-gray-600 dark:text-gray-400 mb-2 line-clamp-2",3,"title",4,"ngIf"],["class","text-sm text-blue-600 dark:text-blue-400 italic mb-2",4,"ngIf"],["class","text-xs text-gray-500 dark:text-gray-400 mb-3",4,"ngIf"],[1,"mt-4","flex","flex-col","sm:flex-row","gap-2"],[1,"flex-1","bg-green-500","hover:bg-green-600","text-white","font-semibold","py-2.5","px-4","rounded-md","shadow-sm","transition-colors","flex","items-center","justify-center","text-sm",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-5","h-5","mr-2"],["stroke-linecap","round","stroke-linejoin","round","d","M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 010 1.972l-11.54 6.347a1.125 1.125 0 01-1.667-.986V5.653z"],[1,"flex-1","bg-sky-500","hover:bg-sky-600","text-white","font-semibold","py-2.5","px-4","rounded-md","shadow-sm","transition-colors","flex","items-center","justify-center","text-sm",3,"click"],["stroke-linecap","round","stroke-linejoin","round","d","M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"],["stroke-linecap","round","stroke-linejoin","round","d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],[1,"text-sm","text-gray-600","dark:text-gray-400","mb-2","line-clamp-2",3,"title"],[1,"text-sm","text-blue-600","dark:text-blue-400","italic","mb-2"],[1,"text-xs","text-gray-500","dark:text-gray-400","mb-3"],[1,"text-center","py-6"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-12","h-12","mx-auto","text-gray-400","dark:text-gray-500","mb-3"],["stroke-linecap","round","stroke-linejoin","round","d","M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0v-7.5A2.25 2.25 0 015.25 9h13.5A2.25 2.25 0 0121 11.25v7.5m-9-3.75h.008v.008H12v-.008zM12 15h.008v.008H12V15zm0 2.25h.008v.008H12v-.008zM9.75 15h.008v.008H9.75V15zm0 2.25h.008v.008H9.75v-.008zM7.5 15h.008v.008H7.5V15zm0 2.25h.008v.008H7.5v-.008zm6.75-4.5h.008v.008h-.008v-.008zm0 2.25h.008v.008h-.008V15zm0 2.25h.008v.008h-.008v-.008zm2.25-4.5h.008v.008H16.5v-.008zm0 2.25h.008v.008H16.5V15z"],[1,"text-lg","font-medium","text-gray-700","dark:text-gray-300","mb-1"],[1,"text-sm","text-gray-500","dark:text-gray-400"],[1,"text-primary","dark:text-primary-light","hover:underline",3,"click"],["class","mt-6 pt-4 border-t dark:border-gray-700",4,"ngIf"],[1,"mt-6","pt-4","border-t","dark:border-gray-700"],[1,"text-md","font-semibold","text-gray-600","dark:text-gray-200","mb-2"],[1,"max-h-60","overflow-y-auto","space-y-2","pr-2","custom-scrollbar"],["class","p-3 bg-gray-50 dark:bg-gray-600 rounded-md shadow-sm hover:shadow-md transition-shadow flex justify-between items-center",4,"ngFor","ngForOf"],["class","text-sm text-gray-400 dark:text-gray-500",4,"ngIf"],[1,"p-3","bg-gray-50","dark:bg-gray-600","rounded-md","shadow-sm","hover:shadow-md","transition-shadow","flex","justify-between","items-center"],[1,"truncate"],[1,"font-medium","text-gray-800","dark:text-gray-100"],[1,"block","text-xs","text-gray-500","dark:text-gray-400"],[1,"flex","ml-2","text-xs","bg-primary","hover:bg-green-200","text-white","dark:hover:bg-primary-dark","font-semibold","py-1","px-2.5","rounded-md",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","2","stroke","currentColor",1,"size-4","mr-1"],["stroke-linecap","round","stroke-linejoin","round","d","M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"],[1,"text-sm","text-gray-400","dark:text-gray-500"]],template:function(t,i){t&1&&(p(0,"div",1),te("swipeleft",function(){return i.nextDay()})("swiperight",function(){return i.previousDay()}),p(1,"div",2)(2,"button",3),te("click",function(){return i.previousDay()}),j(),p(3,"svg",4),z(4,"path",5),y()(),se(),p(5,"div",6)(6,"h2",7),w(7),Ke(8,"date"),J(9,zo,2,0,"span",8),y()(),p(10,"button",9),te("click",function(){return i.nextDay()}),j(),p(11,"svg",4),z(12,"path",10),y()()(),J(13,Wo,2,0,"button",11)(14,Uo,6,0,"div",12)(15,Yo,4,2,"div",13),y()),t&2&&(P(7),Pe(" ",Mi(8,5,i.currentDate(),"fullDate")," "),P(2),V("ngIf",i.isToday(i.currentDate())),P(4),V("ngIf",!i.isToday(i.currentDate())),P(),V("ngIf",i.isLoading()),P(),V("ngIf",!i.isLoading()))},dependencies:[ye,et,ze,$n,Ft],styles:[".custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#9ca3af;border-radius:3px}.custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#6b7280}.dark[_ngcontent-%COMP%]   .custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#4b5563}.dark[_ngcontent-%COMP%]   .custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#6b7280}"]})};function Xo(n,e){if(n&1){let t=Re();p(0,"section",23)(1,"div",24)(2,"div",25)(3,"div",26),j(),p(4,"svg",27),z(5,"path",28),y()(),se(),p(6,"div",29)(7,"h2",30),w(8," You have a workout in progress! "),y(),p(9,"p",31),w(10," Routine: "),p(11,"strong",32),w(12),y()(),p(13,"p",33),w(14),Ke(15,"date"),y(),p(16,"p",33),w(17),Ke(18,"date"),y()()(),p(19,"div",34)(20,"button",35),te("click",function(){ce(t);let r=U();return ue(r.viewPausedSummary())}),w(21," View Details "),y(),p(22,"button",36),te("click",function(){ce(t);let r=U();return ue(r.discardPausedWorkout())}),w(23," Discard "),y(),p(24,"button",37),te("click",function(){ce(t);let r=U();return ue(r.resumePausedWorkout())}),w(25," Resume Workout "),y()()()()}if(n&2){let t=e.ngIf,i=U();P(12),de(i.pausedRoutineName()),P(2),Pe(" Logged on the: ",Ii(15,3,t.workoutDate,"dd-MM-yyyy","UTC")," "),P(3),Pe(" Paused at: ",Ii(18,7,t.sessionTimerElapsedSecondsBeforePause*1e3,"HH:mm:ss","UTC")," ")}}var hi=class n{platformId=Y(Rn);storageService=Y(rr);router=Y(zt);alertService=Y(nr);toastService=Y(Bt);workoutService=Y(Ht);userProfileService=Y(or);userName=Lt(()=>this.userProfileService.username()||"Fitness Enthusiast");pausedWorkoutInfo=qe(null);pausedRoutineName=qe("your workout");constructor(){qn(()=>{let e=this.pausedWorkoutInfo();e&&e.sessionRoutine&&e.sessionRoutine.name?this.pausedRoutineName.set(e.sessionRoutine.name):e&&e.routineId?this.workoutService.getRoutineById(e.routineId).subscribe(t=>{t?this.pausedRoutineName.set(t.name):this.pausedRoutineName.set("your workout")}):this.pausedRoutineName.set("your workout")})}ngOnInit(){Vt(this.platformId)&&(window.scrollTo(0,0),this.checkPausedWorkout())}checkPausedWorkout(){if(Vt(this.platformId)){let e=this.storageService.getItem("fitTrackPro_pausedWorkoutState");this.pausedWorkoutInfo.set(e)}}resumePausedWorkout(){let e=this.pausedWorkoutInfo();e?e.routineId?(console.log(`HomeComponent: Resuming paused workout for routineId: ${e.routineId}`),this.router.navigate(["/workout/play",e.routineId],{queryParams:{resume:"true"}})):(console.log("HomeComponent: Resuming ad-hoc paused workout."),this.router.navigate(["/workout/play"],{queryParams:{resume:"true"}})):this.toastService.warning("No paused workout found to resume.",3e3)}discardPausedWorkout(){return In(this,null,function*(){let e=yield this.alertService.showConfirm("Discard Paused Workout?","Are you sure you want to discard this paused workout session? This action cannot be undone.","Discard","Cancel");e&&e.data&&Vt(this.platformId)&&(this.storageService.removeItem("fitTrackPro_pausedWorkoutState"),this.pausedWorkoutInfo.set(null),this.toastService.info("Paused workout session discarded.",3e3))})}viewPausedSummary(){let e=this.pausedWorkoutInfo();if(e){let t=e.sessionRoutine?.name||"Ad-hoc Workout",i=e.currentWorkoutLogExercises.length,r=e.currentWorkoutLogExercises.reduce((c,u)=>c+u.sets.length,0),o=new Date(e.sessionTimerElapsedSecondsBeforePause*1e3).toISOString().slice(11,19);this.alertService.showAlert(`Paused: ${t}`,`You have ${i} exercise(s) with ${r} set(s) logged.
             Elapsed time: ${o}.
             Resume the workout to see full details or to complete it.`)}}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ge({type:n,selectors:[["app-home"]],decls:48,vars:2,consts:[[1,"container","mx-auto","p-1","md:p-6","space-y-6","md:space-y-8"],[1,"mb-4","p-2"],[1,"text-3xl","md:text-4xl","font-bold","text-gray-800","dark:text-gray-100"],[1,"text-primary","dark:text-primary-light"],[1,"text-md","text-gray-600","dark:text-gray-400","mt-1"],["class","mb-6 md:mb-8",4,"ngIf"],[1,"text-xl","font-semibold","text-gray-700","dark:text-gray-300","mb-3"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-3","gap-4"],["routerLink","/workout",1,"block","p-6","bg-white","dark:bg-gray-700","rounded-lg","shadow-md","hover:shadow-lg","transition-shadow","transform","hover:-translate-y-1"],[1,"flex","items-center","mb-2"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-7","h-7","text-blue-500","dark:text-blue-400","mr-3"],["stroke-linecap","round","stroke-linejoin","round","d","M3.75 12h16.5m-16.5 3.75h16.5M3.75 19.5h16.5M5.625 4.5h12.75a1.875 1.875 0 010 3.75H5.625a1.875 1.875 0 010-3.75z"],[1,"text-lg","font-semibold","text-gray-800","dark:text-gray-100"],[1,"text-sm","text-gray-600","dark:text-gray-400"],["routerLink","/training-programs",1,"block","p-6","bg-white","dark:bg-gray-700","rounded-lg","shadow-md","hover:shadow-lg","transition-shadow","transform","hover:-translate-y-1"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-7","h-7","text-green-500","dark:text-green-400","mr-3"],["stroke-linecap","round","stroke-linejoin","round","d","M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0v-7.5A2.25 2.25 0 015.25 9h13.5A2.25 2.25 0 0121 11.25v7.5"],["routerLink","/history",1,"block","p-6","bg-white","dark:bg-gray-700","rounded-lg","shadow-md","hover:shadow-lg","transition-shadow","transform","hover:-translate-y-1"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-7","h-7","text-purple-500","dark:text-purple-400","mr-3"],["stroke-linecap","round","stroke-linejoin","round","d","M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"],["routerLink","/profile",1,"block","p-6","bg-white","dark:bg-gray-700","rounded-lg","shadow-md","hover:shadow-lg","transition-shadow","transform","hover:-translate-y-1"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-7","h-7","text-orange-500","dark:text-orange-400","mr-3"],["stroke-linecap","round","stroke-linejoin","round","d","M17.982 18.725A7.488 7.488 0 0012 15.75a7.488 7.488 0 00-5.982 2.975m11.963 0a9 9 0 10-11.963 0m11.963 0A8.966 8.966 0 0112 21a8.966 8.966 0 01-5.982-2.275M15 9.75a3 3 0 11-6 0 3 3 0 016 0z"],[1,"mb-6","md:mb-8"],[1,"bg-yellow-50","dark:bg-yellow-900/30","border-2","border-yellow-400","dark:border-yellow-600","rounded-xl","shadow-lg","p-4","sm:p-6","animate-pulse-slow"],[1,"flex","flex-col","sm:flex-row","items-center"],[1,"flex-shrink-0","mb-3","sm:mb-0","sm:mr-4"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","currentColor",1,"w-10","h-10","sm:w-12","sm:h-12","text-yellow-500","dark:text-yellow-400"],["fill-rule","evenodd","d","M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12ZM12 8.25a.75.75 0 0 1 .75.75v3.75a.75.75 0 0 1-1.5 0V9a.75.75 0 0 1 .75-.75Zm0 8.25a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z","clip-rule","evenodd"],[1,"flex-grow","text-center","sm:text-left"],[1,"text-lg","sm:text-xl","font-semibold","text-yellow-700","dark:text-yellow-200"],[1,"text-sm","text-yellow-600","dark:text-yellow-300","mt-1"],[1,"font-medium"],[1,"text-xs","text-yellow-500","dark:text-yellow-400","mt-0.5"],[1,"mt-4","flex","flex-col","sm:flex-row","sm:justify-end","gap-2","sm:gap-3"],[1,"w-full","sm:w-auto","order-3","sm:order-1","px-4","py-2","text-xs","sm:text-sm","font-medium","text-yellow-700","dark:text-yellow-200","bg-yellow-200","dark:bg-yellow-700/50","hover:bg-yellow-300","dark:hover:bg-yellow-600/50","rounded-md","shadow-sm","transition-colors",3,"click"],[1,"w-full","sm:w-auto","order-2","sm:order-2","px-4","py-2","text-xs","sm:text-sm","font-medium","text-red-600","dark:text-red-300","hover:bg-red-100","dark:hover:bg-red-700/30","rounded-md","border","border-red-300","dark:border-red-500","transition-colors",3,"click"],[1,"w-full","sm:w-auto","order-1","sm:order-3","bg-green-500","hover:bg-green-600","text-white","font-semibold","py-2","px-4","rounded-md","shadow-sm","text-sm","transition-colors",3,"click"]],template:function(t,i){t&1&&(p(0,"div",0)(1,"header",1)(2,"h1",2),w(3," Welcome Back, "),p(4,"span",3),w(5),y(),w(6,"! "),y(),p(7,"p",4),w(8," Ready to crush your goals today? "),y()(),J(9,Xo,26,11,"section",5),p(10,"section"),z(11,"app-todays-workout"),y(),p(12,"section")(13,"h2",6),w(14,"Quick Actions"),y(),p(15,"div",7)(16,"a",8)(17,"div",9),j(),p(18,"svg",10),z(19,"path",11),y(),se(),p(20,"h3",12),w(21,"My Routines"),y()(),p(22,"p",13),w(23,"View, create, or edit your workout routines."),y()(),p(24,"a",14)(25,"div",9),j(),p(26,"svg",15),z(27,"path",16),y(),se(),p(28,"h3",12),w(29,"Training Programs"),y()(),p(30,"p",13),w(31,"Manage your long-term training schedules."),y()(),p(32,"a",17)(33,"div",9),j(),p(34,"svg",18),z(35,"path",19),y(),se(),p(36,"h3",12),w(37,"Workout History"),y()(),p(38,"p",13),w(39,"Review your past workout logs and progress."),y()(),p(40,"a",20)(41,"div",9),j(),p(42,"svg",21),z(43,"path",22),y(),se(),p(44,"h3",12),w(45,"Profile & Settings"),y()(),p(46,"p",13),w(47,"Manage your data and app preferences."),y()()()()()),t&2&&(P(5),de(i.userName()),P(4),V("ngIf",i.pausedWorkoutInfo()))},dependencies:[ye,ze,Ft,Wt,di],encapsulation:2})};var os=[{path:"",component:hi,pathMatch:"full"},{path:"home",redirectTo:"",pathMatch:"full"},{path:"workout",loadChildren:()=>import("./chunk-G2KGPVK6.js").then(n=>n.WORKOUT_TRACKER_ROUTES)},{path:"history",loadChildren:()=>import("./chunk-4HAH6ASP.js").then(n=>n.HISTORY_STATS_ROUTES)},{path:"library",loadChildren:()=>import("./chunk-6IUWENEH.js").then(n=>n.EXERCISE_LIBRARY_ROUTES)},{path:"profile",loadChildren:()=>import("./chunk-IA7M4ENI.js").then(n=>n.PROFILE_SETTINGS_ROUTES)},{path:"training-programs",loadChildren:()=>import("./chunk-4W5DY53P.js").then(n=>n.TRAINING_PROGRAM_ROUTES)},{path:"**",redirectTo:"/home"}];var as={providers:[Bn({eventCoalescing:!0}),Jn(os,er()),ss(),Qn(Yn())]};function Zo(n,e){if(n&1&&(p(0,"a",3),j(),p(1,"svg",4),z(2,"path",5),y(),se(),p(3,"span",6),w(4),y()()),n&2){let t=e.$implicit;V("routerLink",t.path),P(2),Rt("d",t.iconSvgPath),P(2),de(t.label)}}var fi=class n{navItems=[{path:"/home",label:"Home",iconSvgPath:"M3 9L12 3L21 9V20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V9Z M9 21V13H15V21Z"},{path:"/workout",label:"Workouts",iconSvgPath:"M3.75 12h16.5m-16.5 3.75h16.5M3.75 19.5h16.5M5.625 4.5h12.75a1.875 1.875 0 0 1 0 3.75H5.625a1.875 1.875 0 0 1 0-3.75Z"},{path:"/history",label:"History",iconSvgPath:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"},{path:"/training-programs",label:"Programs",iconSvgPath:"M3 4H21V22H3V4Z M3 8H21 M7 2V6 M17 2V6 M6 11H8V13H6V11Z M10 11H12V13H10V11Z M14 11H16V13H14V11Z M6 15H8V17H6V15Z M10 15H12V17H10V15Z M14 15H16V17H14V15Z"},{path:"/library",label:"Library",iconSvgPath:"M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6-2.292m0-14.25v14.25c0 .621.504 1.125 1.125 1.125H19.5A2.25 2.25 0 0 0 21.75 18V5.25c0-.621-.504-1.125-1.125-1.125H13.125c-.621 0-1.125.504-1.125 1.125Z"},{path:"/history/dashboard",label:"Stats",iconSvgPath:"M3 17l6-6 4 2 8-8 M17 7l4 0l0 4"},{path:"/profile",label:"Profile",iconSvgPath:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A1.875 1.875 0 0 1 18.126 22.5H5.874a1.875 1.875 0 0 1-1.373-2.382Z"}];static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ge({type:n,selectors:[["app-navigation"]],decls:3,vars:1,consts:[[1,"fixed","bottom-0","left-0","right-0","bg-white","dark:bg-gray-700","border-t","border-gray-200","dark:border-gray-700","shadow-","\u090A\u092A\u0930-md","z-40"],[1,"container","mx-auto","flex","justify-around","items-center","h-16","overflow-x-auto"],["routerLinkActive","text-primary dark:text-primary-light","class","flex flex-col items-center justify-center text-gray-600 dark:text-gray-400 hover:text-primary dark:hover:text-primary-light transition-colors p-1 w-1/4",3,"routerLink",4,"ngFor","ngForOf"],["routerLinkActive","text-primary dark:text-primary-light",1,"flex","flex-col","items-center","justify-center","text-gray-600","dark:text-gray-400","hover:text-primary","dark:hover:text-primary-light","transition-colors","p-1","w-1/4",3,"routerLink"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-6","h-6","mb-1"],["stroke-linecap","round","stroke-linejoin","round"],[1,"text-xs"]],template:function(t,i){t&1&&(p(0,"nav",0)(1,"div",1),J(2,Zo,5,3,"a",2),y()()),t&2&&(P(2),V("ngForOf",i.navItems))},dependencies:[Wt,Zn,ye,et],encapsulation:2})};function Jo(n,e){if(n&1&&(p(0,"div",5),w(1),y()),n&2){let t=U(2);P(),de(t.message)}}function ea(n,e){if(n&1&&(p(0,"div",1)(1,"div",2),z(2,"div",3),J(3,Jo,2,1,"div",4),y()()),n&2){let t=U();P(3),V("ngIf",t.message)}}var pi=class n{constructor(e){this.spinnerService=e;this.spinnerService.loading$.pipe(xi(this.destroy$)).subscribe(t=>{this.isLoading=t}),this.spinnerService.message$.pipe(xi(this.destroy$)).subscribe(t=>{this.message=t})}isLoading=!1;message=null;destroy$=new Dn;ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static \u0275fac=function(t){return new(t||n)(Fn(qt))};static \u0275cmp=ge({type:n,selectors:[["app-spinner"]],decls:1,vars:1,consts:[["class","spinner-overlay",4,"ngIf"],[1,"spinner-overlay"],[1,"spinner-content"],[1,"spinner"],["class","spinner-message",4,"ngIf"],[1,"spinner-message"]],template:function(t,i){t&1&&J(0,ea,4,1,"div",0),t&2&&V("ngIf",i.isLoading)},dependencies:[ye,ze],styles:[".spinner-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000a;display:flex;justify-content:center;align-items:center;z-index:9999}.spinner-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}.spinner[_ngcontent-%COMP%]{border:8px solid #f3f3f3;border-top:8px solid #3498db;border-radius:50%;width:60px;height:60px;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-bottom:10px}.spinner-message[_ngcontent-%COMP%]{color:#fff;font-size:1.2em;text-align:center;margin-top:10px}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})};function ta(n,e){if(n&1&&(p(0,"h5",13),w(1),y()),n&2){let t=U().$implicit;P(),de(t.title)}}function ia(n,e){if(n&1){let t=Re();p(0,"div",2)(1,"div",3),j(),p(2,"svg",4),z(3,"path",5),y()(),se(),p(4,"div",6),J(5,ta,2,1,"h5",7),p(6,"p",8),w(7),y()(),p(8,"button",9),te("click",function(){let r=ce(t).$implicit,o=U();return ue(o.removeToast(r.id))}),p(9,"span",10),w(10,"Close"),y(),j(),p(11,"svg",11),z(12,"path",12),y()()()}if(n&2){let t=e.$implicit,i=U();V("@toastAnimation",void 0)("ngClass",i.getToastClasses(t.type)),P(3),Rt("d",i.getIconPath(t.type)),P(2),V("ngIf",t.title),P(2),de(t.message)}}var gi=class n{toastService=Y(Bt);toasts=Lt(()=>this.toastService.toasts());constructor(){}removeToast(e){this.toastService.remove(e)}trackByToastId(e,t){return t.id}getToastClasses(e){switch(e){case"success":return"bg-green-500 border-green-600";case"error":return"bg-red-500 border-red-600";case"warning":return"bg-yellow-500 border-yellow-600";case"info":default:return"bg-blue-500 border-blue-600"}}getIconPath(e){switch(e){case"success":return"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z";case"error":return"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z";case"warning":return"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z";case"info":default:return"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ge({type:n,selectors:[["app-toast-container"]],decls:2,vars:2,consts:[[1,"fixed","bottom-5","right-1","z-[100]","space-y-3","m-5"],["class","flex items-start p-4 rounded-lg shadow-xl text-white border-l-4","role","alert",3,"ngClass",4,"ngFor","ngForOf","ngForTrackBy"],["role","alert",1,"flex","items-start","p-4","rounded-lg","shadow-xl","text-white","border-l-4",3,"ngClass"],[1,"flex-shrink-0","mr-3"],["fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round"],[1,"flex-grow"],["class","font-bold text-sm mb-0.5",4,"ngIf"],[1,"text-sm"],[1,"ml-3","-mr-1","-my-1","p-1.5","rounded-md","hover:bg-white/20","focus:outline-none","focus:ring-2","focus:ring-white/50",3,"click"],[1,"sr-only"],["fill","currentColor","viewBox","0 0 20 20","xmlns","http://www.w3.org/2000/svg",1,"w-4","h-4"],["fill-rule","evenodd","d","M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule","evenodd"],[1,"font-bold","text-sm","mb-0.5"]],template:function(t,i){t&1&&(p(0,"div",0),J(1,ia,13,5,"div",1),y()),t&2&&(P(),V("ngForOf",i.toasts())("ngForTrackBy",i.trackByToastId))},dependencies:[ye,Kn,et,ze],encapsulation:2,data:{animation:[tr("toastAnimation",[Oi("void",$e({transform:"translateY(100%) translateX(50%) scale(0.5)",opacity:0,height:0,margin:0,padding:0})),Oi("*",$e({transform:"translateY(0) translateX(0) scale(1)",opacity:1})),Ri("void => *",[Di("0.3s ease-out")]),Ri("* => void",[Di("0.2s ease-in",$e({opacity:0,transform:"translateX(100%)",height:0,margin:0,padding:0}))])])]}})};var yi=class n{themeService=Y(lr);trackingService=Y(ar);constructor(){}ngOnInit(){}testAddLog(){let e={exerciseId:"push-up",exerciseName:"Push-up",sets:[{id:"set1",exerciseId:"push-up",repsAchieved:10,timestamp:new Date().toISOString(),plannedSetId:"plan_set1"},{id:"set2",exerciseId:"push-up",repsAchieved:8,weightUsed:5,timestamp:new Date().toISOString(),plannedSetId:"plan_set2"}]},t={routineName:"Test Workout",date:new Date().toISOString(),startTime:Date.now()-60*60*1e3,endTime:Date.now(),exercises:[e]};this.trackingService.addWorkoutLog(t)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ge({type:n,selectors:[["app-root"]],decls:6,vars:0,consts:[[1,"flex","flex-col","min-h-screen","bg-gray-100","dark:bg-gray-900"],[1,"flex-grow","container","mx-auto","p-4","mb-16"]],template:function(t,i){t&1&&(p(0,"div",0)(1,"main",1),z(2,"router-outlet")(3,"app-spinner")(4,"app-toast-container"),y(),z(5,"app-navigation"),y())},dependencies:[Xn,fi,ye,pi,gi],encapsulation:2})};var Dl=Fs(ls());Gn(yi,as).catch(n=>console.error(n));
