import{Ea as i,Eb as L,Fa as c,Fb as z,Ga as l,Gb as K,Ha as d,Hb as $,Ia as u,Ib as N,Ja as g,La as k,Ma as f,Na as o,R as x,Rb as F,V as b,W as h,Wa as V,Ya as I,Za as H,Zb as P,_a as B,ba as A,da as T,ha as M,hc as S,ic as C,ka as D,kc as m,la as a,lc as E,mc as v,ta as O,ya as s,za as w}from"./chunk-W4Y6YFX6.js";function R(e,n){e&1&&d(0,"div",8)}function Y(e,n){if(e&1&&d(0,"span",11),e&2){let t=o(2).$implicit,r=o(3);i("innerHTML",r.sanitizeSvg(t.iconSvg),M)("ngClass",t.iconClass||"w-4 h-4 mr-2")}}function q(e,n){if(e&1){let t=k();c(0,"button",9),f("click",function(_){b(t);let p=o().$implicit,y=o(3);return h(y.onItemClicked(_,p))}),s(1,Y,1,2,"span",10),I(2),l()}if(e&2){let t=o().$implicit;i("ngClass",t.buttonClass||"w-full text-left px-3 py-1.5 sm:px-4 sm:py-2 text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-600 flex items-center text-sm"),a(),i("ngIf",t.iconSvg),a(),B(" ",t.label," ")}}function G(e,n){if(e&1&&(u(0),s(1,R,1,0,"div",6)(2,q,3,3,"button",7),g()),e&2){let t=n.$implicit;a(),i("ngIf",t.isDivider),a(),i("ngIf",!t.isDivider)}}function J(e,n){if(e&1&&(c(0,"div",4),s(1,G,3,2,"ng-container",5),l()),e&2){let t=o(2);i("@dropdownMenu",void 0)("ngClass",t.dropdownMenuClass),a(),i("ngForOf",t.items)}}function Q(e,n){if(e&1&&(c(0,"div"),s(1,J,2,3,"div",3),l()),e&2){let t=o();a(),i("ngIf",t.isVisible)}}function U(e,n){if(e&1&&d(0,"span",11),e&2){let t=o(2).$implicit,r=o(3);V("mr-1",r.showLabelInCompact(t)),i("innerHTML",r.sanitizeSvg(t.iconSvg),M)("ngClass",t.iconClass||"w-4 h-4")}}function W(e,n){if(e&1&&(c(0,"span"),I(1),l()),e&2){let t=o(2).$implicit;a(),H(t.label)}}function X(e,n){if(e&1){let t=k();c(0,"button",13),f("click",function(_){b(t);let p=o().$implicit,y=o(3);return h(y.onItemClicked(_,p))}),s(1,U,1,4,"span",14)(2,W,2,1,"span",15),l()}if(e&2){let t=o().$implicit,r=o(3);i("title",t.label)("ngClass",t.buttonClass||`flex-1 text-xs min-w-[60px] flex items-center justify-center p-1.5
                rounded-md transition-colors `),a(),i("ngIf",t.iconSvg),a(),i("ngIf",r.showLabelInCompact(t))}}function Z(e,n){if(e&1&&(u(0),s(1,X,3,4,"button",12),g()),e&2){let t=n.$implicit;a(),i("ngIf",!t.isDivider)}}function tt(e,n){if(e&1&&(c(0,"div",4),s(1,Z,2,1,"ng-container",5),l()),e&2){let t=o(2);i("@compactBar",void 0)("ngClass",t.compactBarClass),a(),i("ngForOf",t.items)}}function et(e,n){if(e&1&&(c(0,"div"),s(1,tt,2,3,"div",3),l()),e&2){let t=o();a(),i("ngIf",t.isVisible)}}var nt=S("dropdownMenu",[v(":enter",[m({opacity:0,transform:"scale(0.95) translateY(-10px)"}),C("100ms ease-out",m({opacity:1,transform:"scale(1) translateY(0)"}))]),v(":leave",[C("75ms ease-in",m({opacity:0,transform:"scale(0.95) translateY(-10px)"}))])]),it=S("compactBar",[E("void",m({height:"0px",opacity:0,overflow:"hidden",paddingTop:"0",paddingBottom:"0",marginTop:"0",marginBottom:"0"})),E("*",m({height:"*",opacity:1,overflow:"hidden",paddingTop:"0.5rem",paddingBottom:"0.5rem"})),v("void <=> *",C("200ms ease-in-out"))]),j=class e{sanitizer=x(P);elRef=x(T);items=[];isVisible=!1;displayMode="dropdown";dropdownMenuClass="origin-top-right absolute right-0 top-full mt-1 sm:mt-2 w-40 sm:w-48 rounded-md shadow-lg bg-white dark:bg-gray-800 ring-1 ring-black dark:ring-gray-600 ring-opacity-5 focus:outline-none py-1 z-[60]";compactBarClass="flex flex-wrap gap-1.5 justify-center z-20 rounded-b-lg grid-cols-3";itemClick=new w;closeMenu=new w;_boundOnEnterKey=this.handleEnterKey.bind(this);ngOnChanges(n){n.isVisible&&(n.isVisible.currentValue===!0?document.addEventListener("keydown",this._boundOnEnterKey):document.removeEventListener("keydown",this._boundOnEnterKey))}ngOnDestroy(){document.removeEventListener("keydown",this._boundOnEnterKey)}onDocumentClick(n){this.isVisible&&!this.elRef.nativeElement.contains(n.target)&&this.closeMenu.emit()}handleEnterKey(n){if(n.key!=="Enter")return;n.preventDefault();let t=this.items.find(r=>!r.isDivider);t&&this.onItemClicked({stopPropagation:()=>{}},t)}onItemClicked(n,t){n.stopPropagation(),t.isDivider||(navigator.vibrate&&navigator.vibrate(50),this.itemClick.emit({actionKey:t.actionKey??"",data:t.data}),this.displayMode==="dropdown"&&this.closeMenu.emit())}sanitizeSvg(n){return n?this.sanitizer.bypassSecurityTrustHtml(n):null}showLabelInCompact(n){return!!n.label}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=O({type:e,selectors:[["app-action-menu"]],hostBindings:function(t,r){t&1&&f("click",function(p){return r.onDocumentClick(p)},D)},inputs:{items:"items",isVisible:"isVisible",displayMode:"displayMode",dropdownMenuClass:"dropdownMenuClass",compactBarClass:"compactBarClass"},outputs:{itemClick:"itemClick",closeMenu:"closeMenu"},features:[A],decls:4,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"hidden","dark:hover:text-gray-100"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],[4,"ngFor","ngForOf"],["class","my-0.5 sm:my-1 border-t border-gray-200 dark:border-gray-600",4,"ngIf"],["type","button","class","transition-colors duration-150 ease-in-out",3,"ngClass","click",4,"ngIf"],[1,"my-0.5","sm:my-1","border-t","border-gray-200","dark:border-gray-600"],["type","button",1,"transition-colors","duration-150","ease-in-out",3,"click","ngClass"],[3,"innerHTML","ngClass",4,"ngIf"],[3,"innerHTML","ngClass"],["type","button",3,"title","ngClass","click",4,"ngIf"],["type","button",3,"click","title","ngClass"],[3,"innerHTML","ngClass","mr-1",4,"ngIf"],[4,"ngIf"]],template:function(t,r){t&1&&(u(0,0),s(1,Q,2,1,"div",1)(2,et,2,1,"div",1),g(),d(3,"div",2)),t&2&&(i("ngSwitch",r.displayMode),a(),i("ngSwitchCase","dropdown"),a(),i("ngSwitchCase","compact-bar"))},dependencies:[F,L,z,K,$,N],encapsulation:2,data:{animation:[nt,it]},changeDetection:0})};export{j as a};
