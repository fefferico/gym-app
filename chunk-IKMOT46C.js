import{c as T}from"./chunk-TPT37R4S.js";import{c as k,d as C,g as m,h as A,i as v}from"./chunk-BTTO6ZA4.js";import{a as Y}from"./chunk-L57QO76B.js";import{$ as D,Aa as i,Ab as N,Ba as c,Bb as L,Ca as l,Cb as $,Da as _,Db as F,Dc as K,Ea as u,Eb as O,Ec as P,Fa as g,Ha as I,Ia as f,Ja as a,Lb as R,P as y,R as b,S as M,Sa as B,Tb as j,Ua as S,Va as V,Wa as z,da as w,ga as E,ha as r,pa as H,ua as s,va as h}from"./chunk-YSGTLCDK.js";function q(e,n,t){let o=P(e,t?.in);return isNaN(n)?K(t?.in||e,NaN):(n&&o.setDate(o.getDate()+n),o)}function _t(e,n,t){let[o,p]=Y(t?.in,e,n);return+T(o)==+T(p)}function ft(e,n,t){return q(e,-n,t)}function J(e,n){e&1&&_(0,"div",8)}function Q(e,n){if(e&1&&_(0,"span",11),e&2){let t=a(2).$implicit,o=a(3);i("innerHTML",o.sanitizeSvg(t.iconSvg),w)("ngClass",t.iconClass||"w-4 h-4 mr-2")}}function U(e,n){if(e&1){let t=I();c(0,"button",9),f("click",function(p){b(t);let d=a().$implicit,x=a(3);return M(x.onItemClicked(p,d))}),s(1,Q,1,2,"span",10),S(2),l()}if(e&2){let t=a().$implicit;i("ngClass",t.buttonClass||"w-full text-left px-3 py-1.5 sm:px-4 sm:py-2 text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-600 flex items-center text-sm"),r(),i("ngIf",t.iconSvg),r(),z(" ",t.label," ")}}function W(e,n){if(e&1&&(u(0),s(1,J,1,0,"div",6)(2,U,3,3,"button",7),g()),e&2){let t=n.$implicit;r(),i("ngIf",t.isDivider),r(),i("ngIf",!t.isDivider)}}function X(e,n){if(e&1&&(c(0,"div",4),s(1,W,3,2,"ng-container",5),l()),e&2){let t=a(2);i("@dropdownMenu",void 0)("ngClass",t.dropdownMenuClass),r(),i("ngForOf",t.items)}}function Z(e,n){if(e&1&&(c(0,"div"),s(1,X,2,3,"div",3),l()),e&2){let t=a();r(),i("ngIf",t.isVisible)}}function tt(e,n){if(e&1&&_(0,"span",11),e&2){let t=a(2).$implicit,o=a(3);B("mr-1",o.showLabelInCompact(t)),i("innerHTML",o.sanitizeSvg(t.iconSvg),w)("ngClass",t.iconClass||"w-4 h-4")}}function et(e,n){if(e&1&&(c(0,"span"),S(1),l()),e&2){let t=a(2).$implicit;r(),V(t.label)}}function nt(e,n){if(e&1){let t=I();c(0,"button",13),f("click",function(p){b(t);let d=a().$implicit,x=a(3);return M(x.onItemClicked(p,d))}),s(1,tt,1,4,"span",14)(2,et,2,1,"span",15),l()}if(e&2){let t=a().$implicit,o=a(3);i("title",t.label)("ngClass",t.buttonClass||`flex-1 text-xs min-w-[60px] flex items-center justify-center p-1.5
                rounded-md transition-colors `),r(),i("ngIf",t.iconSvg),r(),i("ngIf",o.showLabelInCompact(t))}}function it(e,n){if(e&1&&(u(0),s(1,nt,3,4,"button",12),g()),e&2){let t=n.$implicit;r(),i("ngIf",!t.isDivider)}}function ot(e,n){if(e&1&&(c(0,"div",4),s(1,it,2,1,"ng-container",5),l()),e&2){let t=a(2);i("@compactBar",void 0)("ngClass",t.compactBarClass),r(),i("ngForOf",t.items)}}function at(e,n){if(e&1&&(c(0,"div"),s(1,ot,2,3,"div",3),l()),e&2){let t=a();r(),i("ngIf",t.isVisible)}}var rt=k("dropdownMenu",[v(":enter",[m({opacity:0,transform:"scale(0.95) translateY(-10px)"}),C("100ms ease-out",m({opacity:1,transform:"scale(1) translateY(0)"}))]),v(":leave",[C("75ms ease-in",m({opacity:0,transform:"scale(0.95) translateY(-10px)"}))])]),st=k("compactBar",[A("void",m({height:"0px",opacity:0,overflow:"hidden",paddingTop:"0",paddingBottom:"0",marginTop:"0",marginBottom:"0"})),A("*",m({height:"*",opacity:1,overflow:"hidden",paddingTop:"0.5rem",paddingBottom:"0.5rem"})),v("void <=> *",C("200ms ease-in-out"))]),G=class e{sanitizer=y(j);elRef=y(D);items=[];isVisible=!1;displayMode="dropdown";dropdownMenuClass="origin-top-right absolute right-0 top-full mt-1 sm:mt-2 w-40 sm:w-48 rounded-md shadow-lg bg-white dark:bg-gray-800 ring-1 ring-black dark:ring-gray-600 ring-opacity-5 focus:outline-none py-1 z-[60]";compactBarClass="flex flex-wrap gap-1.5 justify-center z-20 rounded-b-lg grid-cols-3";itemClick=new h;closeMenu=new h;onDocumentClick(n){this.isVisible&&!this.elRef.nativeElement.contains(n.target)&&this.closeMenu.emit()}onItemClicked(n,t){n.stopPropagation(),t.isDivider||(this.itemClick.emit({actionKey:t.actionKey??"",data:t.data}),this.displayMode==="dropdown"&&this.closeMenu.emit())}sanitizeSvg(n){return n?this.sanitizer.bypassSecurityTrustHtml(n):null}showLabelInCompact(n){return!!n.label}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=H({type:e,selectors:[["app-action-menu"]],hostBindings:function(t,o){t&1&&f("click",function(d){return o.onDocumentClick(d)},E)},inputs:{items:"items",isVisible:"isVisible",displayMode:"displayMode",dropdownMenuClass:"dropdownMenuClass",compactBarClass:"compactBarClass"},outputs:{itemClick:"itemClick",closeMenu:"closeMenu"},decls:4,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"hidden","dark:hover:text-gray-100"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],[4,"ngFor","ngForOf"],["class","my-0.5 sm:my-1 border-t border-gray-200 dark:border-gray-600",4,"ngIf"],["type","button","class","transition-colors duration-150 ease-in-out",3,"ngClass","click",4,"ngIf"],[1,"my-0.5","sm:my-1","border-t","border-gray-200","dark:border-gray-600"],["type","button",1,"transition-colors","duration-150","ease-in-out",3,"click","ngClass"],[3,"innerHTML","ngClass",4,"ngIf"],[3,"innerHTML","ngClass"],["type","button",3,"title","ngClass","click",4,"ngIf"],["type","button",3,"click","title","ngClass"],[3,"innerHTML","ngClass","mr-1",4,"ngIf"],[4,"ngIf"]],template:function(t,o){t&1&&(u(0,0),s(1,Z,2,1,"div",1)(2,at,2,1,"div",1),g(),_(3,"div",2)),t&2&&(i("ngSwitch",o.displayMode),r(),i("ngSwitchCase","dropdown"),r(),i("ngSwitchCase","compact-bar"))},dependencies:[R,N,L,$,F,O],encapsulation:2,data:{animation:[rt,st]},changeDetection:0})};export{q as a,_t as b,ft as c,G as d};
