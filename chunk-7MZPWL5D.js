import{e as Q,f as nt,g as ot,h as at,i as lt}from"./chunk-LSV4KZNQ.js";import{a as Z}from"./chunk-PCOTW6T7.js";import{a as it}from"./chunk-O5BRLS3O.js";import{a as tt}from"./chunk-2O7SPPOK.js";import{a as rt}from"./chunk-RMB45E4R.js";import"./chunk-4PTIEP3X.js";import{c as Ze,l as J,o as Je,p as Qe,q as O,s as Xe,t as et}from"./chunk-VQ3AAW44.js";import{$ as T,A as oe,Ac as We,B as L,Bc as Re,C as ae,Cc as Le,Dc as Ge,Eb as _e,Fc as He,Ga as s,H as le,Ha as a,Ia as o,Ic as $e,J as de,Ja as g,Jb as ye,Jc as je,Kb as ve,Kc as ze,Lb as xe,Lc as qe,Na as j,Nc as Ue,Oa as z,Oc as Ke,Q as P,Qa as k,Qc as Ye,Ra as h,Rb as fe,Sa as m,Tb as he,U as x,V as f,W as $,Wb as be,X as se,Xb as ke,Za as q,_a as pe,bb as c,cb as C,cc as we,db as D,eb as U,ec as Ce,ga as me,gc as Se,hc as Pe,ia as ce,k as re,kc as R,lc as Te,ma as l,mb as K,mc as De,nb as W,nc as I,o as H,ob as ie,oc as Ee,pc as Ie,rb as S,sb as B,sc as Fe,tb as V,tc as Me,ua as ue,uc as Ve,vb as Y,vc as Ne,xa as ge,xc as Ae,yb as N,yc as Be,za as _,zc as Oe}from"./chunk-OQYQOZHE.js";import{a as ee,b as te,g as A}from"./chunk-GAL4ENT6.js";var X=class i{transform(t,e=!1){if(t==null)return"";let r=Number(t);return e?`Day ${r}`:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][r]||`Day ${r}`}static \u0275fac=function(e){return new(e||i)};static \u0275pipe=ge({name:"dayOfWeek",type:i,pure:!0})};var dt=(i,t)=>({"text-primary dark:text-primary-light font-semibold":i,"text-gray-700 dark:text-gray-300":t}),gt=(i,t)=>({"border-red-500 dark:border-red-400":i,"border-gray-300 dark:border-gray-500":t}),pt=(i,t)=>({"bg-primary text-white focus:ring-primary-dark":i,"bg-gray-200 text-gray-700 hover:bg-gray-300 dark:bg-gray-600 dark:text-gray-200 dark:hover:bg-gray-500 focus:ring-gray-400":t}),mt=i=>({"mt-1":i}),_t=i=>({"ring-2 ring-offset-1 ring-red-500 dark:ring-red-400":i}),yt=(i,t)=>({"bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-300 placeholder-red-400":i,"rounded-r-md":t}),ct=(i,t,e)=>({"border-blue-300 dark:border-blue-500 bg-blue-50 dark:bg-blue-500 text-white hover:bg-blue-100 dark:hover:bg-blue-400":i,"border-green-500 dark:border-green-400 bg-green-50 dark:bg-green-700 text-green-700 dark:text-green-100 hover:bg-green-100 dark:hover:bg-green-600":t,"border-red-500 dark:border-red-400 bg-red-100 dark:bg-red-600 text-red-700 dark:text-red-200 hover:bg-red-200 dark:hover:bg-red-500":e});function vt(i,t){if(i&1){let e=k();a(0,"app-action-menu",38),h("itemClick",function(n){x(e);let d=m(2);return f(d.handleActionMenuItemClick(n))})("closeMenu",function(){x(e);let n=m(2);return f(n.onCloseActionMenu())}),o()}if(i&2){let e=m().ngIf,r=m();s("items",r.getProgramDropdownActionItems(e.id,"dropdown"))("isVisible",r.areActionsVisible(e.id))}}function xt(i,t){if(i&1){let e=k();a(0,"div",33)(1,"div",34)(2,"button",35),h("click",function(n){let d=x(e).ngIf,u=m();return f(u.toggleActions(d.id,n))}),g(3,"app-icon",36),o(),_(4,vt,1,2,"app-action-menu",37),o()()}if(i&2){let e=t.ngIf,r=m();l(4),s("ngIf",r.areActionsVisible(e.id))}}function ft(i,t){if(i&1&&(a(0,"div")(1,"label",39),c(2),o()()),i&2){let e,r=m();l(2),C((e=r.programForm.get("name"))==null?null:e.value)}}function ht(i,t){i&1&&(a(0,"div")(1,"div",40),$(),a(2,"svg",41),g(3,"path",42),o(),se(),a(4,"span",43),c(5,"Active"),o()()())}function bt(i,t){if(i&1&&(a(0,"div",46)(1,"div",47)(2,"h3",48),c(3),o(),a(4,"span",49),c(5),o()(),a(6,"div",50),g(7,"div",51),o()()),i&2){let e=t.ngIf,r=m(2);l(3),D(" ",(r.currentProgram==null?null:r.currentProgram.programType)==="linear"?"Overall Workout Progress":"Current Cycle Progress"," "),l(2),U(" ",e.completedCount," / ",e.totalCount," "),l(2),pe("width",e.percentage,"%")}}function kt(i,t){if(i&1&&(a(0,"div",44),_(1,bt,8,5,"div",45),o()),i&2){let e=m();l(),s("ngIf",e.programProgress())}}function wt(i,t){if(i&1&&g(0,"div",55),i&2){let e=t.$implicit;s("ngClass",e.isCompleted?"bg-primary":"bg-gray-200 dark:bg-gray-700")("title",e.name+(e.isCompleted?" - Completed":" - Incomplete"))}}function Ct(i,t){if(i&1&&(a(0,"div",46)(1,"h3",48),c(2,"Overall Progress (Weeks Completed) "),o(),a(3,"div",53),_(4,wt,1,2,"div",54),o()()),i&2){let e=t.ngIf;l(4),s("ngForOf",e)}}function St(i,t){if(i&1&&g(0,"div",58),i&2){let e=t.$implicit;s("ngClass",e.isCompleted?"bg-green-500":"bg-gray-200 dark:bg-gray-700")}}function Pt(i,t){if(i&1&&(a(0,"div",46)(1,"div",47)(2,"h3",48),c(3," Current Week Progress "),a(4,"span",56),c(5),o()(),a(6,"span",49),c(7),o()(),a(8,"div",53),_(9,St,1,1,"div",57),o()()),i&2){let e=t.ngIf;l(5),D("(",e.weekName,")"),l(2),U(" ",e.completedCount," / ",e.totalCount," Workouts "),l(2),s("ngForOf",e.segments)}}function Tt(i,t){if(i&1&&(a(0,"div",52),_(1,Ct,5,1,"div",45)(2,Pt,10,4,"div",45),o()),i&2){let e=m();l(),s("ngIf",e.overallWeekProgress()),l(),s("ngIf",e.currentWeekProgress())}}function Dt(i,t){i&1&&(a(0,"span"),c(1,"Program name is required"),o())}function Et(i,t){if(i&1&&(a(0,"div",62),_(1,Dt,2,0,"span",13),o()),i&2){let e,r=m(2);l(),s("ngIf",(e=r.programForm.get("name"))==null||e.errors==null?null:e.errors.required)}}function It(i,t){if(i&1&&(a(0,"div")(1,"label",59),c(2,"Program Name"),o(),g(3,"input",60),_(4,Et,2,1,"div",61),o()),i&2){let e,r,n=m();l(3),s("ngClass",W(2,gt,((e=n.programForm.get("name"))==null?null:e.invalid)&&((e=n.programForm.get("name"))==null?null:e.touched),!((e=n.programForm.get("name"))!=null&&e.invalid&&((e=n.programForm.get("name"))!=null&&e.touched)))),l(),s("ngIf",((r=n.programForm.get("name"))==null?null:r.invalid)&&(((r=n.programForm.get("name"))==null?null:r.dirty)||((r=n.programForm.get("name"))==null?null:r.touched)))}}function Ft(i,t){if(i&1&&(a(0,"div"),g(1,"p",63),o()),i&2){let e=m();l(),s("innerHTML",e.sanitizedDescription,ce)}}function Mt(i,t){i&1&&(a(0,"div")(1,"label",64),c(2,"Description (Optional)"),o(),g(3,"textarea",65),o())}function Vt(i,t){if(i&1){let e=k();a(0,"button",70),h("click",function(){let n=x(e).$implicit,d=m(2);return f(d.toggleGoal(n))}),c(1),S(2,"titlecase"),o()}if(i&2){let e=t.$implicit,r=m(2);s("disabled",r.isViewMode)("ngClass",W(5,pt,e&&e.value!==void 0&&r.selectedGoals().includes(e.value),e&&e.value!==void 0&&!r.selectedGoals().includes(e.value))),l(),D(" ",B(2,3,e.label)," ")}}function Nt(i,t){if(i&1&&(a(0,"div",66)(1,"label",67),c(2,"Goals"),o(),a(3,"div",68),_(4,Vt,3,8,"button",69),o()()),i&2){let e=m();l(4),s("ngForOf",e.programGoals)}}function At(i,t){i&1&&(a(0,"div")(1,"label",71),c(2,"Start Date"),o(),g(3,"input",72),o())}function Bt(i,t){i&1&&(a(0,"div",73)(1,"label",22),g(2,"input",74),a(3,"span",75),c(4,"Repeat weeks after completion"),o()(),a(5,"p",76),c(6," If checked, the weekly schedule will loop indefinitely until the program is manually stopped. "),o()())}function Ot(i,t){if(i&1&&(a(0,"div")(1,"label",77),c(2," Cycle Length (Days) "),a(3,"span",78),g(4,"app-icon",79),o()(),g(5,"input",80),a(6,"p",76),c(7," Total days in the cycle, including rest. Leave blank for a standard week. "),o()()),i&2){let e=m();l(4),s("appTooltip",e.infoTooltipString)}}function Wt(i,t){i&1&&(a(0,"div")(1,"label",81),c(2,"General Program Notes (Optional)"),o(),g(3,"textarea",82),o())}function Rt(i,t){if(i&1){let e=k();a(0,"button",88),h("shortPress",function(){x(e);let n=m(3);return f(n.addScheduledDay())}),g(1,"app-icon",89),a(2,"span",78),c(3,"ADD DAY TO SCHEDULE"),o()()}}function Lt(i,t){i&1&&(a(0,"div",104),g(1,"app-icon",105),o())}function Gt(i,t){if(i&1){let e=k();a(0,"button",106),h("shortPress",function(){x(e);let n=m().index,d=m(4);return f(d.removeScheduledDay(n))}),g(1,"app-icon",107),a(2,"span"),c(3,"REMOVE DAY"),o()()}}function Ht(i,t){if(i&1&&(a(0,"option",116),c(1),o()),i&2){let e=t.$implicit;s("value",e.value),l(),C(e.label)}}function $t(i,t){i&1&&(a(0,"div",62),c(1," Day is required. "),o())}function jt(i,t){if(i&1){let e=k();a(0,"button",117),h("shortPress",function(){x(e);let n=m(2).index,d=m(4);return f(d.openRoutineSelectionModal(n))}),g(1,"app-icon",118),a(2,"span",78),c(3),o()()}if(i&2){let e,r,n=m(2).index,d=m(4);s("ngClass",ie(2,ct,!((e=d.getScheduleDayControl(n).get("routineId"))!=null&&e.value)&&!((e=d.getScheduleDayControl(n).get("routineId"))!=null&&e.invalid&&((e=d.getScheduleDayControl(n).get("routineId"))!=null&&e.touched||d.submitted)),(e=d.getScheduleDayControl(n).get("routineId"))==null?null:e.value,((e=d.getScheduleDayControl(n).get("routineId"))==null?null:e.invalid)&&(((e=d.getScheduleDayControl(n).get("routineId"))==null?null:e.touched)||d.submitted))),l(3),D(" ",(r=d.getScheduleDayControl(n).get("routineId"))!=null&&r.value?"CHANGE":"SELECT"," ")}}function zt(i,t){i&1&&(a(0,"div",62),c(1," Routine selection is required. "),o())}function qt(i,t){if(i&1&&(a(0,"div",119)(1,"label",109),c(2,"Time (Optional)"),o(),g(3,"input",120),o()),i&2){let e=m(2).index;l(),s("for","timeOfDay-"+e),l(2),s("id","timeOfDay-"+e)}}function Ut(i,t){if(i&1&&(a(0,"div",119)(1,"label",109),c(2,"Notes for this Day (Optional)"),o(),g(3,"textarea",121),o()),i&2){let e=m(2).index;l(),s("for","dayNotes-"+e),l(2),s("id","dayNotes-"+e)}}function Kt(i,t){if(i&1&&(a(0,"div")(1,"div",108)(2,"div")(3,"label",109),c(4),o(),a(5,"select",110),_(6,Ht,2,2,"option",111),o(),_(7,$t,2,0,"div",61),o(),a(8,"div")(9,"label",109),c(10,"Routine"),o(),a(11,"div",112),g(12,"input",113),_(13,jt,4,6,"button",114),o(),_(14,zt,2,0,"div",61),o(),_(15,qt,4,2,"div",115)(16,Ut,4,2,"div",115),o()()),i&2){let e,r,n,d,u,p,b,y=m().index,v=m(4);l(3),s("for","dayOfWeek-"+y),l(),D(" ",v.f.cycleLength.value>0?"Cycle Day Number":"Day of Week"," "),l(),s("id","dayOfWeek-"+y),l(),s("ngForOf",v.currentDayOptions()),l(),s("ngIf",((e=v.getScheduleDayControl(y).get("dayOfWeek"))==null?null:e.invalid)&&((e=v.getScheduleDayControl(y).get("dayOfWeek"))==null?null:e.touched)),l(2),s("for","routineName-"+y),l(2),s("ngClass",K(14,_t,((r=v.getScheduleDayControl(y).get("routineId"))==null?null:r.invalid)&&(((r=v.getScheduleDayControl(y).get("routineId"))==null?null:r.touched)||v.submitted))),l(),s("id","routineName-"+y)("value",((n=v.getScheduleDayControl(y).get("routineName"))==null?null:n.value)||((n=v.getScheduleDayControl(y).get("routineId"))!=null&&n.value?"Loading routine...":"No Routine Selected"))("ngClass",W(16,yt,((d=v.getScheduleDayControl(y).get("routineId"))==null?null:d.invalid)&&(((d=v.getScheduleDayControl(y).get("routineId"))==null?null:d.touched)||v.submitted),v.isViewMode)),l(),s("ngIf",!v.isViewMode),l(),s("ngIf",((u=v.getScheduleDayControl(y).get("routineId"))==null?null:u.invalid)&&(((u=v.getScheduleDayControl(y).get("routineId"))==null?null:u.touched)||v.submitted)),l(),s("ngIf",((p=v.programForm.get("timeOfDay"))==null?null:p.value)||v.isEditableMode()),l(),s("ngIf",((b=v.programForm.get("notes"))==null?null:b.value)||v.isEditableMode())}}function Yt(i,t){if(i&1&&(a(0,"div",122)(1,"span",123),c(2),o()()),i&2){let e,r=m().$implicit;l(2),C(((e=r.get("routineName"))==null?null:e.value)||"No Routine Selected")}}function Zt(i,t){if(i&1){let e=k();a(0,"div",92)(1,"div",93)(2,"div",94),_(3,Lt,2,0,"div",95),a(4,"button",96),h("click",function(){let n,d=x(e).$implicit,u=m(4);return f(u.toggleDay((n=d.get("id"))==null?null:n.value))}),g(5,"app-icon",97),o()(),_(6,Gt,4,0,"button",98),o(),a(7,"div",99)(8,"h4",100)(9,"label",101),c(10,"Day Name"),o(),g(11,"input",102),o()(),_(12,Kt,17,19,"div",13)(13,Yt,3,1,"div",103),o()}if(i&2){let e,r,n,d=t.$implicit,u=t.index,p=m(4);s("formGroupName",u)("cdkDragDisabled",p.isViewMode),l(3),s("ngIf",!p.isViewMode),l(2),s("name",p.isDayExpanded((e=d.get("id"))==null?null:e.value)?"chevron-down":"chevron-right"),l(),s("ngIf",!p.isViewMode),l(),s("ngClass",K(10,mt,p.isEditableMode())),l(2),s("for","dayName-cycled-"+u),l(2),s("id","dayName-cycled-"+u),l(),s("ngIf",p.isDayExpanded((r=d.get("id"))==null?null:r.value)),l(),s("ngIf",!p.isDayExpanded((n=d.get("id"))==null?null:n.value))}}function Jt(i,t){if(i&1){let e=k();a(0,"div",90),h("cdkDropListDropped",function(n){x(e);let d=m(3);return f(d.onScheduleDrop(n))}),_(1,Zt,14,12,"div",91),o()}if(i&2){let e=m(3);s("cdkDropListData",e.scheduleFormGroups),l(),s("ngForOf",e.scheduleFormArray.controls)}}function Qt(i,t){if(i&1){let e=k();a(0,"button",126),h("click",function(){x(e);let n=m(4);return f(n.addScheduledDay())}),c(1," Add the first scheduled day "),o()}}function Xt(i,t){if(i&1&&(a(0,"div",124)(1,"p"),c(2,"No days scheduled for this program yet"),o(),_(3,Qt,2,0,"button",125),o()),i&2){let e=m(3);l(3),s("ngIf",!e.isViewMode)}}function er(i,t){if(i&1){let e=k();a(0,"button",88),h("shortPress",function(){x(e);let n=m(4);return f(n.addScheduledDay())}),g(1,"app-icon",89),a(2,"span",78),c(3,"ADD DAY TO SCHEDULE"),o()()}}function tr(i,t){if(i&1&&(a(0,"div",127),_(1,er,4,0,"button",85),o()),i&2){let e=m(3);l(),s("ngIf",!e.isViewMode)}}function rr(i,t){if(i&1&&(a(0,"section")(1,"div",83)(2,"h2",84),c(3,"Schedule"),o(),_(4,Rt,4,0,"button",85),o(),_(5,Jt,2,2,"div",86)(6,Xt,4,1,"div",87)(7,tr,2,1,"ng-template",null,0,Y),o()),i&2){let e=q(8),r=m(2);l(4),s("ngIf",!r.isViewMode),l(),s("ngIf",r.scheduleFormArray.length>0),l(),s("ngIf",r.scheduleFormArray.length===0)("ngIfElse",e)}}function ir(i,t){if(i&1){let e=k();a(0,"button",131),h("shortPress",function(){x(e);let n=m(3);return f(n.addWeek())}),g(1,"app-icon",89),a(2,"span",78),c(3,"ADD WEEK"),o()()}}function nr(i,t){i&1&&(a(0,"div",142),$(),a(1,"svg",143),g(2,"path",144),o()())}function or(i,t){if(i&1){let e=k();a(0,"button",145),h("shortPress",function(){x(e);let n=m().index,d=m(3);return f(d.removeWeek(n))}),g(1,"app-icon",107),c(2,"REMOVE WEEK "),o()}}function ar(i,t){i&1&&(a(0,"div",104),g(1,"app-icon",105),o())}function lr(i,t){if(i&1){let e=k();a(0,"button",152),h("shortPress",function(){x(e);let n=m().index,d=m(2).index,u=m(3);return f(u.removeScheduledDay(n,d))}),g(1,"app-icon",153),o()}}function dr(i,t){if(i&1&&(a(0,"option",116),c(1),o()),i&2){let e=t.$implicit;s("value",e.value),l(),D(" ",e.label)}}function sr(i,t){if(i&1){let e=k();a(0,"button",159),h("shortPress",function(){x(e);let n=m(2).index,d=m(2).index,u=m(3);return f(u.openRoutineSelectionModal(d,n))}),g(1,"app-icon",160),c(2),o()}if(i&2){let e,r,n=m(2).index,d=m(2).index,u=m(3);s("ngClass",ie(2,ct,!((e=u.getWeekScheduleDayControl(d,n).get("routineName"))!=null&&e.value)&&!((e=u.getWeekScheduleDayControl(d,n).get("routineName"))!=null&&e.invalid&&((e=u.getWeekScheduleDayControl(d,n).get("routineName"))!=null&&e.touched||u.submitted)),(e=u.getWeekScheduleDayControl(d,n).get("routineName"))==null?null:e.value,((e=u.getWeekScheduleDayControl(d,n).get("routineName"))==null?null:e.invalid)&&(((e=u.getWeekScheduleDayControl(d,n).get("routineName"))==null?null:e.touched)||u.submitted))),l(2),D(" ",(r=u.getWeekScheduleDayControl(d,n).get("routineName"))!=null&&r.value?"CHANGE":"SELECT"," ")}}function mr(i,t){if(i&1&&(a(0,"div")(1,"div",108)(2,"div")(3,"label",109),c(4,"Day of Week"),o(),a(5,"select",154),_(6,dr,2,2,"option",111),o()(),a(7,"div")(8,"label",109),c(9,"Routine"),o(),a(10,"div",155),g(11,"input",156),_(12,sr,3,6,"button",157),o()(),a(13,"div",119)(14,"label",109),c(15,"Notes (Optional)"),o(),g(16,"textarea",158),o()()()),i&2){let e,r=m().index,n=m(2).index,d=m(3);l(3),s("for","dayOfWeek-"+n+"-"+r),l(2),s("id","dayOfWeek-"+n+"-"+r),l(),s("ngForOf",d.dayOfWeekOptions),l(2),s("for","routineName-"+n+"-"+r),l(3),s("id","routineName-"+n+"-"+r)("value",((e=d.getWeekScheduleDayControl(n,r).get("routineName"))==null?null:e.value)||"No Routine"),l(),s("ngIf",!d.isViewMode),l(2),s("for","dayNotes-"+n+"-"+r),l(2),s("id","dayNotes-"+n+"-"+r)}}function cr(i,t){if(i&1&&(a(0,"div",122)(1,"span",123),c(2),o()()),i&2){let e,r=m().$implicit;l(2),C(((e=r.get("routineName"))==null?null:e.value)||"No Routine Selected")}}function ur(i,t){if(i&1){let e=k();a(0,"div",149)(1,"div",93)(2,"div",94),_(3,ar,2,0,"div",95),a(4,"button",96),h("click",function(){let n,d=x(e).$implicit,u=m(5);return f(u.toggleDay((n=d.get("id"))==null?null:n.value))}),g(5,"app-icon",97),o()(),_(6,lr,2,0,"button",150),o(),a(7,"div",99)(8,"h4",100)(9,"label",101),c(10,"Day Name"),o(),g(11,"input",151),o()(),_(12,mr,17,9,"div",13)(13,cr,3,1,"div",103),o()}if(i&2){let e,r,n,d=t.$implicit,u=t.index,p=m(5);s("formGroupName",u)("cdkDragDisabled",p.isViewMode),l(3),s("ngIf",!p.isViewMode),l(2),s("name",p.isDayExpanded((e=d.get("id"))==null?null:e.value)?"chevron-down":"chevron-right"),l(),s("ngIf",!p.isViewMode),l(),s("ngClass",K(10,mt,p.isEditableMode())),l(2),s("for","dayName-"+u),l(2),s("id","dayName-"+u),l(),s("ngIf",p.isDayExpanded((r=d.get("id"))==null?null:r.value)),l(),s("ngIf",!p.isDayExpanded((n=d.get("id"))==null?null:n.value))}}function gr(i,t){if(i&1){let e=k();a(0,"button",88),h("shortPress",function(){x(e);let n=m(3).index,d=m(3);return f(d.addScheduledDay(n))}),g(1,"app-icon",89),a(2,"span",78),c(3,"ADD DAY TO WEEK"),o()()}}function pr(i,t){if(i&1&&(a(0,"div",161),_(1,gr,4,0,"button",85),o()),i&2){let e=m(5);l(),s("ngIf",!e.isViewMode)}}function _r(i,t){i&1&&(a(0,"div",162),c(1,"This week is empty. "),o())}function yr(i,t){if(i&1){let e=k();a(0,"div")(1,"div",90),h("cdkDropListDropped",function(n){x(e);let d=m().index,u=m(3);return f(u.onDayDropInWeek(n,d))}),_(2,ur,14,12,"div",146),o(),_(3,pr,2,1,"div",147)(4,_r,2,0,"div",148),o()}if(i&2){let e=m().index,r=m(3);l(),s("cdkDropListData",r.getWeekScheduleGroups(e)),l(),s("ngForOf",r.getWeekScheduleGroups(e)),l(),s("ngIf",r.getWeekScheduleGroups(e).length<7),l(),s("ngIf",r.getWeekScheduleGroups(e).length===0)}}function vr(i,t){if(i&1&&(a(0,"li",167)(1,"span",56),c(2),S(3,"dayOfWeek"),o(),a(4,"span",168),c(5),o()()),i&2){let e,r,n=t.$implicit;l(2),D("",((e=n.get("dayName"))==null?null:e.value)||V(3,2,(e=n.get("dayOfWeek"))==null?null:e.value,!1),":"),l(3),C(((r=n.get("routineName"))==null?null:r.value)||"No routine")}}function xr(i,t){i&1&&(a(0,"li",169),c(1," This week is empty. "),o())}function fr(i,t){if(i&1&&(a(0,"div",163)(1,"ul",164),_(2,vr,6,5,"li",165)(3,xr,2,0,"li",166),o()()),i&2){let e=m().index,r=m(3);l(2),s("ngForOf",r.getWeekScheduleGroups(e)),l(),s("ngIf",r.getWeekScheduleGroups(e).length===0)}}function hr(i,t){if(i&1){let e=k();a(0,"div",132)(1,"div",133)(2,"div",134),_(3,nr,3,0,"div",135),a(4,"button",136),h("click",function(){let n,d=x(e).$implicit,u=m(3);return f(u.toggleWeek((n=d.get("id"))==null?null:n.value))}),g(5,"app-icon",137),o()(),a(6,"div",138)(7,"label",101),c(8,"Week Name"),o(),g(9,"input",139),o(),_(10,or,3,0,"button",140),o(),_(11,yr,5,4,"div",13)(12,fr,4,2,"div",141),o()}if(i&2){let e,r,n,d=t.$implicit,u=t.index,p=m(3);s("formGroupName",u)("cdkDragDisabled",p.isViewMode),l(3),s("ngIf",!p.isViewMode),l(2),s("name",p.isWeekExpanded((e=d.get("id"))==null?null:e.value)?"chevron-down":"chevron-right"),l(2),s("for","weekName-"+u),l(2),s("id","weekName-"+u),l(),s("ngIf",!p.isViewMode),l(),s("ngIf",p.isWeekExpanded((r=d.get("id"))==null?null:r.value)),l(),s("ngIf",!p.isWeekExpanded((n=d.get("id"))==null?null:n.value))}}function br(i,t){if(i&1){let e=k();a(0,"button",126),h("click",function(){x(e);let n=m(4);return f(n.addWeek())}),c(1," Add the first week "),o()}}function kr(i,t){if(i&1&&(a(0,"div",124)(1,"p"),c(2,"No weeks created for this program yet."),o(),_(3,br,2,0,"button",125),o()),i&2){let e=m(3);l(3),s("ngIf",!e.isViewMode)}}function wr(i,t){if(i&1){let e=k();a(0,"button",131),h("shortPress",function(){x(e);let n=m(4);return f(n.addWeek())}),g(1,"app-icon",170),c(2,"ADD WEEK "),o()}}function Cr(i,t){if(i&1&&(a(0,"div",127),_(1,wr,3,0,"button",128),o()),i&2){let e=m(3);l(),s("ngIf",!e.isViewMode)}}function Sr(i,t){if(i&1){let e=k();a(0,"section")(1,"div",83)(2,"h2",84),c(3,"Weekly Schedule"),o(),_(4,ir,4,0,"button",128),o(),a(5,"div",129),h("cdkDropListDropped",function(n){x(e);let d=m(2);return f(d.onWeekDrop(n))}),_(6,hr,13,9,"div",130),o(),_(7,kr,4,1,"div",87)(8,Cr,2,1,"ng-template",null,1,Y),o()}if(i&2){let e=q(9),r=m(2);l(4),s("ngIf",!r.isViewMode),l(2),s("ngForOf",r.weeksFormArray.controls),l(),s("ngIf",r.weeksFormArray.length===0)("ngIfElse",e)}}function Pr(i,t){if(i&1&&(j(0),_(1,rr,9,4,"section",13)(2,Sr,10,4,"section",13),z()),i&2){let e,r,n=m();l(),s("ngIf",((e=n.programForm.get("programType"))==null?null:e.value)==="cycled"),l(),s("ngIf",((r=n.programForm.get("programType"))==null?null:r.value)==="linear")}}function Tr(i,t){i&1&&g(0,"app-icon",176)}function Dr(i,t){i&1&&g(0,"app-icon",177)}function Er(i,t){if(i&1){let e=k();a(0,"div",171)(1,"button",172),h("shortPress",function(){x(e);let n=m();return f(n.navigateToPrograms())}),g(2,"app-icon",107),c(3," CANCEL "),o(),a(4,"button",173),_(5,Tr,1,0,"app-icon",174)(6,Dr,1,0,"app-icon",175),a(7,"span",78),c(8),o()()()}if(i&2){let e=m();l(4),s("disabled",e.programForm.invalid),l(),s("ngIf",e.isNewMode),l(),s("ngIf",!e.isNewMode),l(2),D(" ",e.isNewMode?"CREATE PROGRAM":"SAVE CHANGES"," ")}}function Ir(i,t){if(i&1){let e=k();a(0,"li",194),h("click",function(){let n=x(e).$implicit,d=m(2);return f(d.selectRoutineForDay(n))}),a(1,"div",195)(2,"span",123),c(3),o(),a(4,"span",196),c(5),S(6,"titlecase"),o()(),$(),a(7,"svg",197),g(8,"path",198),o()()}if(i&2){let e=t.$implicit;l(3),C(e.name),l(2),U("",B(6,3,e.goal)," - ",e.exercises.length," exercises")}}function Fr(i,t){i&1&&(a(0,"li",199),c(1,"No routines match your search"),o())}function Mr(i,t){i&1&&(a(0,"li",199),c(1,"No routines available to select. Create some routines first!"),o())}function Vr(i,t){if(i&1){let e=k();a(0,"div",178),h("click",function(){x(e);let n=m();return f(n.closeRoutineSelectionModal())}),a(1,"div",179),h("click",function(n){return x(e),f(n.stopPropagation())}),a(2,"div",180)(3,"div",181)(4,"div",182)(5,"div",183)(6,"h3",184),c(7,"Select a Routine"),o(),a(8,"button",185),h("click",function(){x(e);let n=m();return f(n.closeRoutineSelectionModal())}),g(9,"app-icon",186),o()(),a(10,"div",187)(11,"input",188),h("ngModelChange",function(n){x(e);let d=m();return f(d.modalSearchTerm.set(n))}),o()(),a(12,"div",189)(13,"ul",46),_(14,Ir,9,5,"li",190)(15,Fr,2,0,"li",191)(16,Mr,2,0,"li",191),o()()()()(),a(17,"div",192)(18,"button",193),h("click",function(){x(e);let n=m();return f(n.closeRoutineSelectionModal())}),c(19," Cancel "),o()()()()}if(i&2){let e=m();l(11),s("ngModel",e.modalSearchTerm()),l(3),s("ngForOf",e.filteredAvailableRoutines()),l(),s("ngIf",e.filteredAvailableRoutines().length===0&&e.availableRoutines.length>0),l(),s("ngIf",e.availableRoutines.length===0)}}function Nr(i,t){if(i&1){let e=k();j(0),a(1,"td",217),c(2),S(3,"date"),o(),a(4,"td",217),c(5),S(6,"date"),o(),a(7,"td",217),c(8),S(9,"titlecase"),o(),a(10,"td",217),c(11),S(12,"date"),o(),a(13,"td",218)(14,"div",219)(15,"button",220),h("click",function(){x(e);let n=m().$implicit,d=m(3);return f(d.editHistoryEntry(n))}),g(16,"app-icon",221),o(),a(17,"button",222),h("click",function(){x(e);let n=m().$implicit,d=m(3);return f(d.removeProgramHistoryEntry(n.id))}),g(18,"app-icon",223),o()()(),z()}if(i&2){let e=m().$implicit;l(2),C(e.startDate&&e.startDate!=="-"?V(3,4,e.startDate,"dd/MM/yy"):"-"),l(3),C(e.endDate&&e.endDate!=="-"?V(6,7,e.endDate,"dd/MM/yy"):"-"),l(3),C(B(9,10,e.status)),l(3),C(e.date&&e.date!=="-"?V(12,12,e.date,"dd/MM/yy HH:mm"):"-")}}function Ar(i,t){if(i&1&&(a(0,"option",116),c(1),S(2,"titlecase"),o()),i&2){let e=t.$implicit;s("value",e),l(),C(B(2,2,e))}}function Br(i,t){if(i&1){let e=k();j(0),a(1,"td",224),g(2,"input",225),o(),a(3,"td",224),g(4,"input",226),o(),a(5,"td",224)(6,"select",227),h("change",function(){let n;x(e);let d=m(4);return f(((n=d.historyEditForm.get("status"))==null?null:n.value)==="active"?d.forceEndDateToNull():d.enableEndDate())}),_(7,Ar,3,4,"option",111),o()(),a(8,"td",228),c(9,"Editing... "),o(),a(10,"td",229)(11,"div",230)(12,"button",231),g(13,"app-icon",232),o(),a(14,"button",233),h("click",function(){x(e);let n=m(4);return f(n.cancelEditHistoryEntry())}),g(15,"app-icon",234),o()()(),z()}if(i&2){let e=m(4);l(7),s("ngForOf",e.statusOptions),l(5),s("disabled",e.historyEditForm.invalid)}}function Or(i,t){if(i&1&&(a(0,"tr"),_(1,Nr,19,15,"ng-container",13)(2,Br,16,2,"ng-container",13),o()),i&2){let e=t.$implicit,r=m(3);l(),s("ngIf",r.editingHistoryEntryId()!==e.id),l(),s("ngIf",r.editingHistoryEntryId()===e.id)}}function Wr(i,t){if(i&1){let e=k();a(0,"div")(1,"div",237)(2,"div",238),c(3,"Status"),o(),a(4,"div",239),c(5),S(6,"titlecase"),o(),a(7,"div",238),c(8,"Start Date "),o(),a(9,"div",240),c(10),S(11,"date"),o(),a(12,"div",238),c(13,"End Date"),o(),a(14,"div",240),c(15),S(16,"date"),o(),a(17,"div",238),c(18,"Logged"),o(),a(19,"div",241),c(20),S(21,"date"),o()(),a(22,"div",242)(23,"button",243),h("click",function(){x(e);let n=m().$implicit,d=m(3);return f(d.editHistoryEntry(n))}),g(24,"app-icon",244),c(25," EDIT "),o(),a(26,"button",245),h("click",function(){x(e);let n=m().$implicit,d=m(3);return f(d.removeProgramHistoryEntry(n.id))}),g(27,"app-icon",246),c(28," DELETE "),o()()()}if(i&2){let e=m().$implicit;l(5),D("",B(6,4,e.status)," "),l(5),C(e.startDate&&e.startDate!=="-"?V(11,6,e.startDate,"MMM d, yyyy"):"-"),l(5),C(e.endDate&&e.endDate!=="-"?V(16,9,e.endDate,"MMM d, yyyy"):"-"),l(5),C(e.date&&e.date!=="-"?V(21,12,e.date,"MMM d, yyyy HH:mm"):"-")}}function Rr(i,t){if(i&1&&(a(0,"option",116),c(1),S(2,"titlecase"),o()),i&2){let e=t.$implicit;s("value",e),l(),C(B(2,2,e))}}function Lr(i,t){if(i&1){let e=k();a(0,"div",247)(1,"div")(2,"label",248),c(3,"Status"),o(),a(4,"select",249),h("change",function(){let n;x(e);let d=m(4);return f(((n=d.historyEditForm.get("status"))==null?null:n.value)==="active"?d.forceEndDateToNull():d.enableEndDate())}),_(5,Rr,3,4,"option",111),o()(),a(6,"div")(7,"label",248),c(8,"Start Date"),o(),g(9,"input",250),o(),a(10,"div")(11,"label",248),c(12,"End Date"),o(),g(13,"input",251),o(),a(14,"div",242)(15,"button",252),h("click",function(){x(e);let n=m(4);return f(n.cancelEditHistoryEntry())}),c(16," Cancel "),o(),a(17,"button",253),g(18,"app-icon",254),c(19," Save "),o()()()}if(i&2){let e=m(4);l(5),s("ngForOf",e.statusOptions),l(12),s("disabled",e.historyEditForm.invalid)}}function Gr(i,t){if(i&1&&(a(0,"div",235),_(1,Wr,29,15,"div",13)(2,Lr,20,2,"div",236),o()),i&2){let e=t.$implicit,r=m(3);l(),s("ngIf",r.editingHistoryEntryId()!==e.id),l(),s("ngIf",r.editingHistoryEntryId()===e.id)}}function Hr(i,t){if(i&1){let e=k();a(0,"div")(1,"form",209),h("ngSubmit",function(){x(e);let n=m(2);return f(n.saveHistoryEntry())}),a(2,"table",210)(3,"thead")(4,"tr")(5,"th",211),c(6," Start"),o(),a(7,"th",211),c(8," End"),o(),a(9,"th",211),c(10," Status"),o(),a(11,"th",211),c(12," Logged"),o(),a(13,"th",212),c(14," Actions"),o()()(),a(15,"tbody",213),_(16,Or,3,2,"tr",214),o()(),a(17,"div",215),_(18,Gr,3,2,"div",216),o()()()}if(i&2){let e=m(2);l(),s("formGroup",e.historyEditForm),l(15),s("ngForOf",e.currentProgram==null?null:e.currentProgram.history),l(2),s("ngForOf",e.currentProgram==null?null:e.currentProgram.history)}}function $r(i,t){i&1&&(a(0,"div",255),c(1," No previous executions found for this program. "),o())}function jr(i,t){if(i&1){let e=k();a(0,"div",200)(1,"div",201),h("click",function(n){return x(e),f(n.stopPropagation())}),a(2,"div",202)(3,"h2",203),c(4,"Program History"),o(),a(5,"button",204),h("click",function(){x(e);let n=m();return f(n.closeProgramHistoryModal())}),g(6,"app-icon",186),o()(),a(7,"div",205),_(8,Hr,19,3,"div",206)(9,$r,2,0,"ng-template",null,2,Y),o(),a(11,"div",207)(12,"button",208),h("click",function(){x(e);let n=m();return f(n.closeProgramHistoryModal())}),g(13,"app-icon",107),c(14," CLOSE "),o()()()()}if(i&2){let e=q(10),r=m();l(8),s("ngIf",r.currentProgram==null||r.currentProgram.history==null?null:r.currentProgram.history.length)("ngIfElse",e)}}var st=class i{fb=P($e);router=P(Se);route=P(Ce);trainingProgramService=P(et);workoutService=P(Ze);spinnerService=P(rt);alertService=P(Ke);toastService=P(Ye);cdr=P(_e);trackingService=P(Xe);programForm;submitted=!1;isEditMode=!1;isNewMode=!1;isViewMode=!1;isEditableMode=N(()=>this.isEditMode||this.isNewMode);currentProgramId=null;currentProgram=null;isCurrentProgramActive=T(!1);routeSub;sanitizer=P(we);sanitizedDescription="";infoTooltipString="The total number of days in the repeating cycle, INCLUDING rest days. Example: For an Upper/Lower split with a rest day after each workout (Upper, Rest, Lower, Rest), set Cycle Length to 4.";isRoutineModalOpen=T(!1);availableRoutines=[];modalSearchTerm=T("");targetScheduleIndexForRoutine=null;targetIndicesForRoutine=null;dayOfWeekOptions=[{value:1,label:"Monday"},{value:2,label:"Tuesday"},{value:3,label:"Wednesday"},{value:4,label:"Thursday"},{value:5,label:"Friday"},{value:6,label:"Saturday"},{value:0,label:"Sunday"}];cycleLengthSignal=T(null);cycleDayOptions=N(()=>{let t=this.cycleLengthSignal();return t&&t>0?Array.from({length:t},(e,r)=>({value:r+1,label:`Day ${r+1}`})):[]});currentDayOptions=N(()=>{let t=this.cycleLengthSignal();return t&&t>0?this.cycleDayOptions():this.dayOfWeekOptions});filteredAvailableRoutines=N(()=>{let t=this.modalSearchTerm().toLowerCase();return t?this.availableRoutines.filter(e=>e.name.toLowerCase().includes(t)):this.availableRoutines});selectedGoals=T([]);programGoals=[{value:"hypertrophy",label:"Hypertrophy"},{value:"strength",label:"Strength"},{value:"tabata",label:"Tabata"},{value:"muscular endurance",label:"Muscular endurance"},{value:"cardiovascular endurance",label:"Cardiovascular endurance"},{value:"fat loss / body composition",label:"Fat loss / body composition"},{value:"mobility & flexibility",label:"Mobility & flexibility"},{value:"power / explosiveness",label:"Power / explosiveness"},{value:"speed & agility",label:"Speed & agility"},{value:"balance & coordination",label:"Balance & coordination"},{value:"skill acquisition",label:"Skill acquisition"},{value:"rehabilitation / injury prevention",label:"Rehabilitation / injury prevention"},{value:"mental health / stress relief",label:"Mental health"},{value:"general health & longevity",label:"General health & longevity"},{value:"sport-specific performance",label:"Sport-specific performance"},{value:"maintenance",label:"Maintenance"},{value:"rest",label:"Rest"},{value:"custom",label:"Custom"}];historyEditForm;editingHistoryEntryId=T(null);statusOptions=["active","completed","archived","cancelled"];expandedWeekIds=T(new Set);expandedDayIds=T(new Set);constructor(){this.programForm=this.fb.group({name:["",I.required],programType:[null,I.required],goals:[""],description:[""],programNotes:[""],startDate:[null],cycleLength:[null,[I.min(1)]],iterationId:[null],isRepeating:[!1],schedule:this.fb.array([]),weeks:this.fb.array([])}),this.historyEditForm=this.fb.group({id:[null],startDate:[null],endDate:[""],status:["",I.required]})}platformId=P(me);programProgress=N(()=>{let t=this.currentProgram,e=this.allWorkoutLogs();if(!t||!t.isActive||!t.startDate)return{completedCount:0,totalCount:0,percentage:0};let r=0,n=0,d=O(t.startDate);if(t.programType==="linear"&&t.weeks?.length){n=t.weeks.reduce((y,v)=>y+v.schedule.length,0);let p=e.filter(y=>y.programId===t.id&&O(y.date)>=d&&t.iterationId===y.iterationId);r=new Set(p.map(y=>`${y.date}-${y.routineId}`)).size}else if(t.programType==="cycled"&&t.schedule.length>0){let p=t.cycleLength||7;n=t.schedule.length;let b=J(new Date,d);if(b>=0){let y=Math.floor(b/p),v=Z(d,y*p),F=e.filter(w=>{let E=O(w.date);return w.programId===t.id&&E>=v});r=new Set(F.map(w=>`${w.date}-${w.routineId}`)).size}}if(n===0)return{completedCount:0,totalCount:0,percentage:0};r=Math.min(r,n);let u=Math.round(r/n*100);return{completedCount:r,totalCount:n,percentage:u}});overallWeekProgress=N(()=>{let t=this.currentProgram,e=this.allWorkoutLogs();if(t?.programType!=="linear"||!t.isActive||!t.startDate||!t.weeks?.length)return[];let r=O(t.startDate),n=new Set(e.filter(d=>d.programId===t.id&&t.iterationId===d.iterationId).map(d=>`${d.date}-${d.routineId}`));return t.weeks.map(d=>{let u=d.schedule.every(p=>{let b=(d.weekNumber-1)*7+(p.dayOfWeek-Qe(r)+7)%7,y=Z(r,b),v=Je(y,"yyyy-MM-dd");return n.has(`${v}-${p.routineId}`)});return{weekNumber:d.weekNumber,name:d.name,isCompleted:u}})});currentWeekProgress=N(()=>{let t=this.currentProgram,e=this.allWorkoutLogs();if(t?.programType!=="linear"||!t.isActive||!t.startDate||!t.weeks?.length)return null;let r=new Date,n=O(t.startDate);if(r<n)return null;let d=J(r,n),u=Math.floor(d/7),p=t.weeks[u];if(!p)return null;let b=p.schedule.length;if(b===0)return null;let y=Z(n,u*7),v=e.filter(E=>{if(E.programId!==t.id)return!1;let G=O(E.date),ne=J(G,y);return ne>=0&&ne<7&&t.iterationId===E.iterationId}),F=new Set(v.map(E=>E.routineId)),M=0,w=p.schedule.map(E=>{let G=F.has(E.routineId);return G&&M++,{isCompleted:G}});return{weekName:p.name,completedCount:M,totalCount:b,segments:w}});allWorkoutLogs=T([]);workoutLogsSubscription;ngOnInit(){ke(this.platformId)&&window.scrollTo(0,0),this.loadAvailableRoutines(),this.workoutLogsSubscription=this.trackingService.workoutLogs$.subscribe(t=>this.allWorkoutLogs.set(t)),this.routeSub=this.route.data.pipe(le(t=>{let e=t.mode;return this.currentProgramId=this.route.snapshot.paramMap.get("programId"),this.submitted=!1,this.isNewMode=e==="new",this.isViewMode=e==="view"&&!!this.currentProgramId,this.isEditMode=e==="edit"&&!!this.currentProgramId,this.isNewMode?(this.programForm.reset({programType:null,cycleLength:null,schedule:[]}),this.updateFormEnabledState(),re(null)):this.currentProgramId?this.trainingProgramService.getProgramById(this.currentProgramId):re(null)}),de(t=>{t?this.patchFormWithProgramData(t):!this.isNewMode&&this.currentProgramId&&(this.toastService.error(`Program with ID ${this.currentProgramId} not found.`,0,"Error"),this.router.navigate(["/training-programs"])),this.currentProgram=t,this.updateFormEnabledState();let e=t?.isActive??!1;this.isCurrentProgramActive.set(e)})).subscribe(),this.programForm.get("cycleLength")?.valueChanges.subscribe(t=>{let e=parseInt(t,10);this.cycleLengthSignal.set(isNaN(e)?null:e),!isNaN(e)&&e>0&&this.scheduleFormArray.controls.forEach(r=>{let n=r.get("dayOfWeek");n&&n.value>e&&n.setValue(1)})}),this.programForm.get("programType")?.valueChanges.subscribe(t=>{this.handleProgramTypeChange(t)})}handleProgramTypeChange(t){let e=this.programForm.get("isRepeating");t==="linear"?(this.scheduleFormArray.clear(),this.programForm.get("cycleLength")?.setValue(null),this.programForm.get("cycleLength")?.disable(),e?.enable(),this.weeksFormArray.length===0&&!this.isViewMode&&this.addWeek()):(this.weeksFormArray.clear(),this.programForm.get("cycleLength")?.enable(),e?.setValue(!1),e?.disable())}get scheduleFormArray(){return this.programForm.get("schedule")}get weeksFormArray(){return this.programForm.get("weeks")}getWeekScheduleGroups(t){return this.weeksFormArray.at(t).get("schedule").controls}createWeekGroup(t){let e=this.fb.group({id:[t?.id||R()],weekNumber:[t?.weekNumber??this.weeksFormArray.length+1],name:[t?.name??`Week ${this.weeksFormArray.length+1}`,I.required],schedule:this.fb.array([])});return t?.schedule?.forEach(r=>{e.get("schedule").push(this.createScheduledDayGroup(r))}),e}addWeek(){let t=this.createWeekGroup();this.weeksFormArray.push(t),this.expandedWeekIds.update(e=>{let r=new Set(e);return r.add(t.get("id")?.value),r}),this.cdr.detectChanges(),setTimeout(()=>{},50)}removeWeek(t){this.weeksFormArray.removeAt(t)}loadAvailableRoutines(){this.workoutService.routines$.pipe(L(1)).subscribe(t=>{this.availableRoutines=t.sort((e,r)=>e.name.localeCompare(r.name))})}patchFormWithProgramData(t){let e=t.programType||"cycled";this.programForm.patchValue({name:t.name,description:t.description?this.updateSanitizedDescription(t.description):"",programNotes:t.programNotes,startDate:t.startDate?new Date(t.startDate).toISOString().split("T")[0]:null,cycleLength:t.cycleLength??null,iterationId:t.iterationId??null,programType:t.programType||"cycled",isRepeating:t.isRepeating??!1}),this.cycleLengthSignal.set(t.cycleLength??null);let r=new Set,n=new Set;if(e==="linear"&&t.weeks?(this.weeksFormArray.clear(),t.weeks.forEach(d=>{let u=this.createWeekGroup(d);this.weeksFormArray.push(u),r.add(u.value.id),u.get("schedule").controls.forEach(p=>{n.add(p.value.id)})})):(this.scheduleFormArray.clear(),t.schedule.forEach(d=>{let u=this.createScheduledDayGroup(d);this.scheduleFormArray.push(u),n.add(u.value.id)})),this.expandedWeekIds.set(r),this.expandedDayIds.set(n),this.handleProgramTypeChange(e),this.updateFormEnabledState(),t.goals?.length){let d=new Set(t.goals.filter(u=>u!=null));this.programGoals.filter(u=>u.value!=null&&d.has(u.value)).forEach(u=>{this.toggleGoal(u)})}}createScheduledDayGroup(t){let e=this.currentDayOptions()[0]?.value??1,r=t?.dayOfWeek??e,n=this.programForm.get("programType")?.value,d=this.programForm.get("cycleLength")?.value,u=n==="cycled"&&d>0,p="";u?p=`Day ${r}`:p=this.dayOfWeekOptions.find(y=>y.value===r)?.label||"";let b=this.fb.group({id:[t?.id||R()],dayOfWeek:[r,I.required],dayName:[t?.dayName||p,I.required],routineId:[t?.routineId??"",I.required],routineName:[t?.routineName??""],notes:[t?.notes??""],timeOfDay:[t?.timeOfDay??""],programId:[t?.programId??this.currentProgramId],isUnscheduled:[t?.isUnscheduled||!1]});return this.isEditableMode()&&n==="cycled"&&b.get("dayOfWeek")?.valueChanges.pipe(oe(400),ae()).subscribe(y=>{let v=b.get("dayName")?.value,F=this.currentDayOptions().find(w=>w.value===y),M=F?F.label:`Day ${y}`;v!==M&&this.toastService.info(`Reminder: Day name is "${v}". You might want to update it to match the new selection of "${M} or to give it a proper name".`,6e3,"Check Day Name")}),b}addScheduledDay(t){if(this.isViewMode)return;let e=parseInt(this.programForm.get("cycleLength")?.value,10),r=!e||e===7,n=this.programForm.get("programType")?.value,d=null;if(n==="linear"&&t!==void 0){let u=this.weeksFormArray.at(t).get("schedule");if(u.length>=7){this.toastService.info("All 7 days of this week have been scheduled.",3e3);return}let p=new Set(u.controls.map(v=>v.get("dayOfWeek")?.value)),b=[1,2,3,4,5,6,0],y=1;for(let v of b)if(!p.has(v)){y=v;break}d=this.createScheduledDayGroup({dayOfWeek:y}),u.push(d)}else if(r){if(this.scheduleFormArray.length>=7){this.toastService.info("All 7 days of the week have been scheduled.",3e3);return}let u=new Set(this.scheduleFormArray.controls.map(y=>y.get("dayOfWeek")?.value)),p=[1,2,3,4,5,6,0],b=1;for(let y of p)if(!u.has(y)){b=y;break}d=this.createScheduledDayGroup({dayOfWeek:b}),this.scheduleFormArray.push(d)}else{if(this.scheduleFormArray.length>=e){this.toastService.info(`All ${e} days of the cycle have been scheduled.`,3e3);return}let u=new Set(this.scheduleFormArray.controls.map(b=>b.get("dayOfWeek")?.value)),p=1;for(let b=1;b<=e;b++)if(!u.has(b)){p=b;break}d=this.createScheduledDayGroup({dayOfWeek:p}),this.scheduleFormArray.push(d)}d&&this.expandedDayIds.update(u=>{let p=new Set(u);return p.add(d.get("id")?.value),p}),this.cdr.detectChanges(),setTimeout(()=>{let u=document.querySelectorAll(".scheduled-day-card");u.length>0&&u[u.length-1].scrollIntoView({behavior:"smooth",block:"center"})},50)}removeScheduledDay(t,e){if(this.isViewMode)return;this.programForm.get("programType")?.value==="linear"&&e!==void 0?this.weeksFormArray.at(e).get("schedule").removeAt(t):this.scheduleFormArray.removeAt(t)}get scheduleFormGroups(){return this.scheduleFormArray.controls}onScheduleDrop(t){this.isViewMode||(Q(this.scheduleFormArray.controls,t.previousIndex,t.currentIndex),this.scheduleFormArray.updateValueAndValidity())}openRoutineSelectionModal(t,e){this.isViewMode||(e!==void 0?this.targetIndicesForRoutine={weekIndex:t,dayIndex:e}:this.targetIndicesForRoutine={dayIndex:t},this.modalSearchTerm.set(""),this.isRoutineModalOpen.set(!0))}closeRoutineSelectionModal(){this.isRoutineModalOpen.set(!1),this.targetScheduleIndexForRoutine=null}selectRoutineForDay(t){if(this.targetIndicesForRoutine){let e,{weekIndex:r,dayIndex:n}=this.targetIndicesForRoutine;r!==void 0?e=this.getWeekScheduleDayControl(r,n):e=this.scheduleFormArray.at(n),e?.patchValue({routineId:t.id,routineName:t.name})}this.closeRoutineSelectionModal()}updateFormEnabledState(){this.isViewMode?this.programForm.disable():this.programForm.enable()}enableEditModeFromView(){this.isViewMode&&this.currentProgramId&&this.router.navigate(["/training-programs/edit",this.currentProgramId])}onSubmit(){return A(this,null,function*(){if(this.submitted=!0,this.isViewMode)return;let t=this.programForm.getRawValue();if(t.programType==="linear"){if(!t.weeks||t.weeks.length===0){this.toastService.error("Linear programs must have at least one week.",0,"Validation Error");return}if(t.weeks.some(d=>!d.schedule||d.schedule.length===0)){this.toastService.error("Please add routines to every week or remove any empty weeks.",0,"Validation Error");return}}else if(t.programType==="cycled"&&(!t.schedule||t.schedule.length===0)){this.toastService.error("Please add at least one scheduled day to the program.",0,"Validation Error");return}if(this.programForm.invalid){this.programForm.markAllAsTouched(),this.toastService.error("Please fill all required fields, including selecting a routine for each scheduled day.",0,"Validation Error");return}let e=this.currentProgramId||R(),r={id:e,name:t.name,programType:t.programType,goals:this.selectedGoals(),description:t.description,programNotes:t.programNotes,startDate:t.startDate||null,iterationId:t.iterationId||null,cycleLength:t.programType==="cycled"&&t.cycleLength||null,isRepeating:t.programType==="linear"?t.isRepeating:!1,schedule:t.schedule.map(n=>({id:n.id||R(),dayOfWeek:Number(n.dayOfWeek),dayName:n.dayName||"",routineId:n.routineId,routineName:n.routineName,programId:e,notes:n.notes,timeOfDay:n.timeOfDay,isUnscheduled:n.isUnscheduled||!1,iterationId:t.iterationId||null})),weeks:t.programType==="linear"?t.weeks.map((n,d)=>te(ee({},n),{schedule:n.schedule.map(u=>({id:u.id||R(),dayOfWeek:Number(u.dayOfWeek),dayName:u.dayName||"",routineId:u.routineId,weekNumber:d+1,routineName:u.routineName,programId:e,notes:u.notes,timeOfDay:u.timeOfDay,isUnscheduled:u.isUnscheduled||!1,iterationId:t.iterationId||null}))})):[],isActive:this.currentProgram?.isActive??!1};try{if(this.spinnerService.show("Saving program..."),this.isNewMode){let n=yield this.trainingProgramService.addProgram(r);this.isNewMode=!1,this.isEditMode=!0,this.currentProgramId=n.id}else if(this.isEditMode&&this.currentProgramId){let n=yield H(this.trainingProgramService.getProgramById(this.currentProgramId).pipe(L(1)));r.isActive=n?.isActive??!1,yield this.trainingProgramService.updateProgram(r)}this.toastService.success("Program saved successfully",0,"Success")}catch(n){console.error("Error saving program:",n),this.toastService.error("Failed to save program",0,"Save Error")}finally{this.spinnerService.hide()}})}deleteProgram(){return A(this,null,function*(){if(!this.currentProgramId){this.toastService.error("No program selected for deletion",0,"Deletion Error");return}try{this.spinnerService.show("Deleting program..."),yield this.trainingProgramService.deleteProgram(this.currentProgramId),(this.router.url.includes(`/training-programs/edit/${this.currentProgramId}`)||this.router.url.includes(`/training-programs/view/${this.currentProgramId}`))&&this.router.navigate(["/training-programs"])}catch(t){console.error("Error during program deletion process in component:",t),this.toastService.error("An unexpected error occurred while deleting the program",0,"Deletion Error")}finally{this.spinnerService.hide()}})}ngOnDestroy(){this.routeSub&&this.routeSub.unsubscribe(),this.workoutLogsSubscription?.unsubscribe()}get f(){return this.programForm.controls}getScheduleDayControl(t){return this.scheduleFormArray.at(t)}getWeekScheduleDayControl(t,e){return this.weeksFormArray.at(t).get("schedule").at(e)}completeProgram(){return A(this,null,function*(){if(this.currentProgramId&&this.isCurrentProgramActive())try{let t=yield this.alertService.showConfirmationDialog("Finish Program","Are you sure you want to mark this program as completed?",[{text:"Cancel",role:"cancel",cssClass:"bg-gray-400 hover:bg-gray-600",icon:"cancel"},{text:"Finish Program",role:"confirm",cssClass:"bg-primary hover:bg-primary-dark",icon:"done"}]);if(!t||t.role!=="confirm")return;this.spinnerService.show("Completing program..."),yield this.trainingProgramService.toggleProgramActivation(this.currentProgramId,"completed")}catch{this.toastService.error("Failed to complete program",0,"Error")}finally{this.spinnerService.hide()}})}toggleActiveProgram(){return A(this,null,function*(){if(this.currentProgramId){if(this.isCurrentProgramActive()){let t=yield this.alertService.showConfirmationDialog("Program is currently active.","What would you like to do?",[{text:"Deactivate",role:"deactivate",data:"deactivate",icon:"deactivate"},{text:"Complete",role:"complete",data:"complete",icon:"goal",cssClass:"bg-green-500 hover:bg-green-600"},{text:"Cancel",role:"cancel",data:"cancel",icon:"cancel"}]);if(!t||!t.data||t.data==="cancel"){this.spinnerService.hide();return}if(t.data==="complete"){try{this.spinnerService.show("Completing program..."),yield this.trainingProgramService.toggleProgramActivation(this.currentProgramId,"completed"),this.toastService.success("Program is now completed")}catch{this.toastService.error("Failed to complete program",0,"Error")}finally{this.spinnerService.hide()}return}else try{this.spinnerService.show("Deactivating program..."),yield this.trainingProgramService.deactivateProgram(this.currentProgramId,"cancelled"),this.toastService.success("Program is now deactivated")}catch{this.toastService.error("Failed to deactivate",0,"Error")}finally{this.spinnerService.hide()}return}try{this.spinnerService.show("Setting active program..."),yield this.trainingProgramService.toggleProgramActivation(this.currentProgramId,"active"),this.toastService.success("Program is now active")}catch{this.toastService.error("Failed to set active program",0,"Error")}finally{this.spinnerService.hide()}}})}toggleProgramHistory(){if(!this.currentProgram?.history||this.currentProgram.history.length===0){this.toastService.info("No history available for this program.",3e3);return}this.isProgramHistoryModalOpen.set(!0)}isProgramHistoryModalOpen=T(!1);closeProgramHistoryModal(){this.isProgramHistoryModalOpen.set(!1),this.editingHistoryEntryId.set(null)}updateSanitizedDescription(t){this.sanitizedDescription=this.sanitizer.bypassSecurityTrustHtml(t)}toggleGoal(t){this.selectedGoals.update(e=>{let r=new Set(e);return t!==void 0&&t.value!==void 0&&(r.has(t.value)?r.delete(t.value):r.add(t.value)),Array.from(r)})}getProgramDropdownActionItems(t,e){let r="rounded text-left px-3 py-1.5 sm:px-4 sm:py-2 font-medium text-gray-600 dark:text-gray-300 hover:bg-primary flex items-center text-sm hover:text-white dark:hover:text-gray-100 dark:hover:text-white",n="rounded text-left px-3 py-1.5 sm:px-4 sm:py-2 font-medium text-gray-600 dark:text-gray-300 hover:bg-red-600 flex items-center text-sm hover:text-gray-100 hover:animate-pulse",d="rounded text-left px-3 py-1.5 sm:px-4 sm:py-2 font-medium text-gray-600 dark:text-gray-300 hover:bg-green-600 flex items-center text-sm hover:text-gray-100",u="rounded text-left px-3 py-1.5 sm:px-4 sm:py-2 font-medium text-gray-600 dark:text-gray-300 hover:bg-gray-500 flex items-center text-sm hover:text-gray-100",p=this.currentProgram,b={label:"EDIT",actionKey:"edit",iconName:"edit",iconClass:"w-8 h-8 mr-2",buttonClass:(e==="dropdown"?"w-full ":"")+r,data:{programId:t}},y={label:"ACTIVATE",actionKey:"activate",iconName:"activate",iconClass:"w-8 h-8 mr-2",buttonClass:(e==="dropdown"?"w-full ":"")+d,data:{programId:t}},v={label:"HISTORY",actionKey:"history",iconName:"clock",iconClass:"w-8 h-8 mr-2",buttonClass:(e==="dropdown"?"w-full ":"")+r,data:{programId:t}},F={label:"FINISH",actionKey:"finish",iconName:"goal",iconClass:"w-8 h-8 mr-2",buttonClass:(e==="dropdown"?"w-full ":"")+r,data:{programId:t}},M={label:"DEACTIVATE",actionKey:"deactivate",iconSvg:'<svg viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="50" cy="50" r="45" stroke="currentColor" stroke-width="10"/><line x1="25" y1="50" x2="75" y2="50" stroke="currentColor" stroke-width="10"/></svg>',iconClass:"w-7 h-7 mr-2",buttonClass:(e==="dropdown"?"w-full ":"")+u,data:{programId:t}},w=[];return p?.isActive?(w.push(F),w.push(M)):w.push(y),w.push(v),this.isViewMode&&w.push(b),w}handleActionMenuItemClick(t,e){if(t.data?.programId)switch(t.actionKey){case"activate":this.toggleActiveProgram();break;case"deactivate":this.toggleActiveProgram();break;case"finish":this.completeProgram();break;case"history":this.toggleProgramHistory();break;case"edit":this.enableEditModeFromView();break}}activeRoutineIdActions=T(null);toggleActions(t,e){e.stopPropagation(),this.activeRoutineIdActions.update(r=>r===t?null:t)}areActionsVisible(t){return this.activeRoutineIdActions()===t}onCloseActionMenu(){this.activeRoutineIdActions.set(null)}navigateToPrograms(){this.router.navigate(["/training-programs"])}removeProgramHistoryEntry(t){return A(this,null,function*(){if(!this.currentProgramId||!t){this.toastService.error("Missing program or history entry ID.",0,"Error");return}try{this.spinnerService.show("Removing history entry..."),yield this.trainingProgramService.removeProgramHistoryEntry(this.currentProgramId,t),this.toastService.success("History entry removed.",0,"Success");let e=yield H(this.trainingProgramService.getProgramById(this.currentProgramId).pipe(L(1)));this.currentProgram=e,e&&this.patchFormWithProgramData(e)}catch{this.toastService.error("Failed to remove history entry.",0,"Error")}finally{this.spinnerService.hide()}})}editHistoryEntry(t){this.editingHistoryEntryId.set(t.id),this.historyEditForm.patchValue({id:t.id,startDate:t.startDate&&t.startDate!=="-"?new Date(t.startDate).toISOString().split("T")[0]:"",endDate:t.endDate&&t.endDate!=="-"?new Date(t.endDate).toISOString().split("T")[0]:"",status:t.status})}cancelEditHistoryEntry(){this.editingHistoryEntryId.set(null)}saveHistoryEntry(){return A(this,null,function*(){if(this.historyEditForm.invalid){this.toastService.error("Please ensure all fields are valid.",0,"Validation Error");return}if(!this.currentProgramId)return;let t=this.historyEditForm.getRawValue(),e=te(ee({},t),{programId:this.currentProgramId,endDate:t.endDate||"-",date:new Date().toISOString()});try{this.spinnerService.show("Updating history..."),yield this.trainingProgramService.updateProgramHistory(this.currentProgramId,e);let r=yield H(this.trainingProgramService.getProgramById(this.currentProgramId).pipe(L(1)));this.currentProgram=r,this.editingHistoryEntryId.set(null)}catch{this.toastService.error("Failed to save history entry.",0,"Save Error")}finally{this.spinnerService.hide()}})}forceEndDateToNull(){this.historyEditForm.get("endDate")?.setValue(null),this.historyEditForm.get("endDate")?.disable()}enableEndDate(){this.historyEditForm.get("endDate")?.enable()}onWeekDrop(t){this.isViewMode||(Q(this.weeksFormArray.controls,t.previousIndex,t.currentIndex),this.weeksFormArray.controls.forEach((e,r)=>{e.get("weekNumber")?.setValue(r+1)}),this.weeksFormArray.updateValueAndValidity())}onDayDropInWeek(t,e){if(this.isViewMode)return;let r=this.weeksFormArray.at(e).get("schedule");Q(r.controls,t.previousIndex,t.currentIndex),r.updateValueAndValidity()}toggleWeek(t){this.expandedWeekIds.update(e=>{let r=new Set(e);return r.has(t)?r.delete(t):r.add(t),r})}isWeekExpanded(t){return this.expandedWeekIds().has(t)}toggleDay(t){this.expandedDayIds.update(e=>{let r=new Set(e);return r.has(t)?r.delete(t):r.add(t),r})}isDayExpanded(t){return this.expandedDayIds().has(t)}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=ue({type:i,selectors:[["app-training-program-builder"]],decls:46,vars:27,consts:[["addDayToSchedule",""],["addWeekButton",""],["noHistory",""],[1,"container","mx-auto","p-2","sm:p-4"],[1,"flex","items-center","justify-between","p-2"],[1,"flex","justify-between","items-center"],[1,"text-gray-600","dark:text-gray-300","hover:text-primary","dark:hover:text-primary-light","p-2","-ml-1",3,"routerLink"],["name","back",1,"w-6","h-6"],[1,"w-10","h-10"],[1,"flex","items-center","space-x-2","flex-shrink-0"],["class","",4,"ngIf"],[1,"space-y-6","mb-6",3,"ngSubmit","formGroup"],[1,"space-y-4","p-2","rounded-md"],[4,"ngIf"],["class","pt-2",4,"ngIf"],["class","pt-4 space-y-4",4,"ngIf"],["class","mt-4",4,"ngIf"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"md:col-span-2"],[1,"block","text-m","font-medium","text-gray-700","dark:text-gray-300","mb-2"],[1,"p-2","bg-gray-100","dark:bg-gray-700","rounded-md"],[1,"flex","items-center","space-x-4"],[1,"flex","items-center","space-x-2","cursor-pointer"],["type","radio","formControlName","programType","value","cycled",1,"form-radio","h-4","w-4","text-primary","focus:ring-primary-dark","dark:bg-gray-600","dark:border-gray-500"],[3,"ngClass"],["type","radio","formControlName","programType","value","linear",1,"form-radio","h-4","w-4","text-primary","focus:ring-primary-dark","dark:bg-gray-600","dark:border-gray-500"],["class","mt-3 pl-6",4,"ngIf"],["for","iterationId",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["type","text","id","iterationId","formControlName","iterationId","placeholder","",1,"mt-1","block","w-full","p-2","border","border-gray-300","dark:border-gray-500","rounded-md","shadow-sm","dark:bg-gray-600","dark:text-gray-200"],[1,"mt-1","text-xs","text-red","dark:text-primary-light"],["class","pt-6 flex justify-end space-x-3",4,"ngIf"],["class","fixed inset-0 bg-gray-700 bg-opacity-75 transition-opacity overflow-y-auto h-full w-full z-[70] flex items-center justify-center p-4",3,"click",4,"ngIf"],["class","fixed inset-0 bg-gray-700 bg-opacity-75 z-[80] flex items-center justify-center p-4 backdrop-blur-sm",4,"ngIf"],[1,""],[1,"relative"],[1,"text-gray-500","dark:text-gray-400","hover:bg-gray-200","dark:hover:bg-gray-500","rounded-full","focus:outline-none","flex","items-center",3,"click"],["name","menu-action",1,"h-7","w-7"],["displayMode","dropdown",3,"items","isVisible","itemClick","closeMenu",4,"ngIf"],["displayMode","dropdown",3,"itemClick","closeMenu","items","isVisible"],[1,"block","text-xl","font-black","text-gray-700","dark:text-gray-300"],[1,"flex","max-w-[100px]","px-3","py-1.5","text-xs","font-semibold","rounded-full","transition-colors","duration-200","ease-in-out","focus:outline-none","focus:ring-2","focus:ring-offset-2","dark:focus:ring-offset-green-800","bg-green-600","text-white","hover:bg-green-300","dark:bg-green-600","dark:hover:bg-green-500","focus:ring-green-400"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"w-5","h-5","ml-1"],["fill-rule","evenodd","d","M16.403 12.652a3 3 0 000-5.304 3 3 0 00-3.75-3.751 3 3 0 00-5.305 0 3 3 0 00-3.751 3.75 3 3 0 000 5.305 3 3 0 003.75 3.751 3 3 0 005.305 0 3 3 0 003.751-3.75Zm-2.546-4.46a.75.75 0 00-1.214-.883l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5Z","clip-rule","evenodd"],[1,"text-2xs","sm:text-xs","font-semibold","px-1.5","sm:px-2.5","py-0.5"],[1,"pt-2"],["class","space-y-1",4,"ngIf"],[1,"space-y-1"],[1,"flex","justify-between","items-baseline"],[1,"text-sm","font-medium","text-gray-600","dark:text-gray-300"],[1,"text-sm","font-semibold","text-primary","dark:text-primary-light"],[1,"w-full","bg-gray-200","rounded-full","h-2.5","dark:bg-gray-700"],[1,"bg-primary","h-2.5","rounded-full","transition-all","duration-500","ease-out"],[1,"pt-4","space-y-4"],[1,"flex","w-full","h-4","rounded-md","overflow-hidden","border","border-gray-300","dark:border-gray-600"],["class","flex-1 border-r border-gray-300 dark:border-gray-600 last:border-r-0 transition-colors duration-300",3,"ngClass","title",4,"ngFor","ngForOf"],[1,"flex-1","border-r","border-gray-300","dark:border-gray-600","last:border-r-0","transition-colors","duration-300",3,"ngClass","title"],[1,"font-semibold"],["class","flex-1 border-r border-gray-300 dark:border-gray-600 last:border-r-0 transition-colors duration-300",3,"ngClass",4,"ngFor","ngForOf"],[1,"flex-1","border-r","border-gray-300","dark:border-gray-600","last:border-r-0","transition-colors","duration-300",3,"ngClass"],["for","programName",1,"block","text-m","font-medium","text-gray-700","dark:text-gray-300"],["type","text","id","programName","formControlName","name","placeholder","Program name",1,"mt-1","block","w-full","p-2","border","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:border-gray-500","dark:text-gray-200",3,"ngClass"],["class","text-red-500 dark:text-red-400 text-xs mt-1",4,"ngIf"],[1,"text-red-500","dark:text-red-400","text-xs","mt-1"],[1,"mt-1","block","w-full","dark:text-gray-200",3,"innerHTML"],["for","description",1,"block","text-m","font-medium","text-gray-700","dark:text-gray-300"],["id","description","formControlName","description","rows","3","placeholder","Description (optional)",1,"mt-1","block","w-full","p-2","border","border-gray-300","dark:border-gray-500","rounded-md","shadow-sm","dark:bg-gray-600","dark:text-gray-200"],[1,"mt-4"],[1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-2"],[1,"flex","flex-wrap","gap-2"],["type","button","class","px-3 py-1.5 text-xs font-semibold rounded-full transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-gray-800",3,"disabled","ngClass","click",4,"ngFor","ngForOf"],["type","button",1,"px-3","py-1.5","text-xs","font-semibold","rounded-full","transition-colors","duration-200","ease-in-out","focus:outline-none","focus:ring-2","focus:ring-offset-2","dark:focus:ring-offset-gray-800",3,"click","disabled","ngClass"],["for","startDate",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["type","date","id","startDate","formControlName","startDate",1,"mt-1","block","w-full","p-2","border","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-700","dark:border-gray-600","dark:text-gray-300","dark:[color-scheme:dark]"],[1,"mt-3","pl-6"],["type","checkbox","formControlName","isRepeating",1,"form-checkbox","h-4","w-4","rounded","text-primary","focus:ring-primary-dark","dark:bg-gray-600","dark:border-gray-500"],[1,"text-sm","text-gray-700","dark:text-gray-300"],[1,"mt-1","text-xs","text-gray-500","dark:text-gray-400"],["for","cycleLength",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300","flex","items-center"],[1,"ml-1"],["name","info",1,"h-4","w-4","text-gray-400","dark:text-gray-500","cursor-help",3,"appTooltip"],["type","number","id","cycleLength","formControlName","cycleLength","min","1","placeholder","e.g., 4 for Upper/Lower/Rest/Rest",1,"mt-1","block","w-full","p-2","border","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-700","dark:border-gray-600","dark:text-gray-300","dark:[color-scheme:dark]"],["for","programNotes",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["id","programNotes","formControlName","programNotes","rows","3",1,"mt-1","block","w-full","p-2","border","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-700","dark:border-gray-600","dark:text-gray-300","dark:[color-scheme:dark]"],[1,"flex","justify-between","items-center","mb-1"],[1,"text-xl","font-semibold","text-gray-700","dark:text-gray-300"],["type","button","appPress","","class","flex items-center justify-center bg-blue-500 hover:bg-blue-600 text-white text-sm font-medium py-1.5 px-3 rounded-md shadow-sm",3,"shortPress",4,"ngIf"],["cdkDropList","","formArrayName","schedule","class","space-y-4",3,"cdkDropListData","cdkDropListDropped",4,"ngIf"],["class","text-center py-6 text-gray-500 dark:text-gray-400 border border-dashed dark:border-gray-700 rounded-md",4,"ngIf","ngIfElse"],["type","button","appPress","",1,"flex","items-center","justify-center","bg-blue-500","hover:bg-blue-600","text-white","text-sm","font-medium","py-1.5","px-3","rounded-md","shadow-sm",3,"shortPress"],["name","create",1,"h-4","w-4"],["cdkDropList","","formArrayName","schedule",1,"space-y-4",3,"cdkDropListDropped","cdkDropListData"],["cdkDrag","","class","scheduled-day-card p-3 border rounded-md shadow-sm bg-gray-50 dark:bg-gray-600/70 dark:border-gray-600 relative",3,"formGroupName","cdkDragDisabled",4,"ngFor","ngForOf"],["cdkDrag","",1,"scheduled-day-card","p-3","border","rounded-md","shadow-sm","bg-gray-50","dark:bg-gray-600/70","dark:border-gray-600","relative",3,"formGroupName","cdkDragDisabled"],[1,"flex","justify-between","items-start"],[1,"flex","items-center","flex-shrink-0"],["cdkDragHandle","","class","p-1 text-gray-400 hover:text-gray-600 dark:text-gray-500 dark:hover:text-gray-300 flex-shrink-0 cursor-grab","title","Drag to reorder day",4,"ngIf"],["type","button",1,"p-1","-ml-1","rounded-full","hover:bg-gray-200","dark:hover:bg-gray-500","focus:outline-none",3,"click"],[1,"w-5","h-5","text-gray-500","dark:text-gray-400",3,"name"],["type","button","appPress","","title","Remove DAY","class","flex px-1 items-center hover:text-red-700 dark:hover:text-red-300 rounded-md hover:bg-red-100 dark:hover:bg-red-900/30 disabled:opacity-50 bg-red-500 text-white text-sm font-medium",3,"shortPress",4,"ngIf"],[1,"flex","justify-between","items-center","mb-2",3,"ngClass"],[1,"text-md","font-medium","text-gray-800","dark:text-gray-100"],[1,"sr-only",3,"for"],["type","text","formControlName","dayName","placeholder","e.g., Push Day",1,"text-lg","font-bold","bg-transparent","border-0","border-b-2","border-gray-300","dark:border-gray-500","focus:ring-0","focus:border-primary","dark:text-gray-100","p-1","w-full","sm:w-1/2",3,"id"],["class","mt-2 text-sm",4,"ngIf"],["cdkDragHandle","","title","Drag to reorder day",1,"p-1","text-gray-400","hover:text-gray-600","dark:text-gray-500","dark:hover:text-gray-300","flex-shrink-0","cursor-grab"],["name","drag"],["type","button","appPress","","title","Remove DAY",1,"flex","px-1","items-center","hover:text-red-700","dark:hover:text-red-300","rounded-md","hover:bg-red-100","dark:hover:bg-red-900/30","disabled:opacity-50","bg-red-500","text-white","text-sm","font-medium",3,"shortPress"],["name","cancel",1,"h-5","w-5","mr-1"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-3","dark:text-gray-300"],[1,"block","text-xs","font-medium","text-gray-700","dark:text-gray-300",3,"for"],["formControlName","dayOfWeek",1,"mt-1","block","w-full","p-2","text-sm","border","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-700","dark:border-gray-500","dark:text-gray-300",3,"id"],[3,"value",4,"ngFor","ngForOf"],[1,"mt-1","flex","rounded-md","shadow-sm",3,"ngClass"],["type","text","readonly","",1,"flex-1","min-w-0","block","w-full","px-3","py-2","text-sm","rounded-none","rounded-l-md","border-gray-300","dark:border-gray-200","dark:bg-gray-400","cursor-default","focus:outline-none","focus:ring-0","focus:border-gray-300","dark:text-gray-800","font-medium",3,"id","value","ngClass"],["type","button","appPress","","class","inline-flex items-center px-3 py-2 border border-l-0 rounded-r-md text-sm font-medium transition-colors duration-150",3,"ngClass","shortPress",4,"ngIf"],["class","sm:col-span-2",4,"ngIf"],[3,"value"],["type","button","appPress","",1,"inline-flex","items-center","px-3","py-2","border","border-l-0","rounded-r-md","text-sm","font-medium","transition-colors","duration-150",3,"shortPress","ngClass"],["name","change",1,"h-4","w-4"],[1,"sm:col-span-2"],["type","text","formControlName","timeOfDay","placeholder","e.g., AM, PM, 08:00",1,"mt-1","block","w-full","p-2","text-sm","border","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-700","dark:border-gray-500",3,"id"],["formControlName","notes","rows","2",1,"mt-1","block","w-full","p-2","text-sm","border","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-700","dark:border-gray-500",3,"id"],[1,"mt-2","text-sm"],[1,"font-medium","text-gray-800","dark:text-gray-200"],[1,"text-center","py-6","text-gray-500","dark:text-gray-400","border","border-dashed","dark:border-gray-700","rounded-md"],["type","button","class","mt-2 text-sm text-primary hover:underline",3,"click",4,"ngIf"],["type","button",1,"mt-2","text-sm","text-primary","hover:underline",3,"click"],[1,"flex","justify-center","mt-2"],["type","button","appPress","","class","flex items-center justify-center bg-green-500 hover:bg-green-600 text-white text-sm font-medium py-1.5 px-3 rounded-md shadow-sm",3,"shortPress",4,"ngIf"],["cdkDropList","","formArrayName","weeks",1,"space-y-6","mt-4",3,"cdkDropListDropped"],["cdkDrag","","class","p-4 border-2 border-dashed dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-800/50",3,"formGroupName","cdkDragDisabled",4,"ngFor","ngForOf"],["type","button","appPress","",1,"flex","items-center","justify-center","bg-green-500","hover:bg-green-600","text-white","text-sm","font-medium","py-1.5","px-3","rounded-md","shadow-sm",3,"shortPress"],["cdkDrag","",1,"p-4","border-2","border-dashed","dark:border-gray-600","rounded-lg","bg-gray-50","dark:bg-gray-800/50",3,"formGroupName","cdkDragDisabled"],[1,"flex","justify-between","items-center","mb-3"],[1,"flex","items-center"],["cdkDragHandle","","class","p-1 text-gray-400 hover:text-gray-600 dark:text-gray-500 dark:hover:text-gray-300 flex-shrink-0 cursor-move","title","Drag to reorder week",4,"ngIf"],["type","button",1,"p-1","rounded-full","hover:bg-gray-200","dark:hover:bg-gray-600","focus:outline-none",3,"click"],[1,"w-6","h-6","text-gray-500","dark:text-gray-400",3,"name"],[1,"flex-grow","mx-2"],["type","text","formControlName","name","placeholder","e.g., Week 1: Volume",1,"text-lg","font-bold","bg-transparent","border-0","border-b-2","border-gray-300","dark:border-gray-500","focus:ring-0","focus:border-primary","dark:text-gray-100","p-1","w-full","sm:w-1/2",3,"id"],["type","button","appPress","","title","Remove WEEK","class","flex items-center p-1 hover:text-red-700 dark:hover:text-red-300 rounded-md hover:bg-red-100 dark:hover:bg-red-900/30 disabled:opacity-50 bg-red-500 text-white",3,"shortPress",4,"ngIf"],["class","mt-2 pl-4 border-l-2 border-gray-200 dark:border-gray-600",4,"ngIf"],["cdkDragHandle","","title","Drag to reorder week",1,"p-1","text-gray-400","hover:text-gray-600","dark:text-gray-500","dark:hover:text-gray-300","flex-shrink-0","cursor-move"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","currentColor",1,"w-6","h-6"],["d","M10 4h4v4h-4zM4 10h4v4H4zM10 10h4v4h-4zM16 10h4v4h-4zM10 16h4v4h-4z"],["type","button","appPress","","title","Remove WEEK",1,"flex","items-center","p-1","hover:text-red-700","dark:hover:text-red-300","rounded-md","hover:bg-red-100","dark:hover:bg-red-900/30","disabled:opacity-50","bg-red-500","text-white",3,"shortPress"],["cdkDrag","","class","scheduled-day-card p-3 border rounded-md shadow-sm bg-white dark:bg-gray-600/70 dark:border-gray-600 relative",3,"formGroupName","cdkDragDisabled",4,"ngFor","ngForOf"],["class","text-center mt-4",4,"ngIf"],["class","text-center text-sm text-gray-500 dark:text-gray-400 py-4",4,"ngIf"],["cdkDrag","",1,"scheduled-day-card","p-3","border","rounded-md","shadow-sm","bg-white","dark:bg-gray-600/70","dark:border-gray-600","relative",3,"formGroupName","cdkDragDisabled"],["type","button","appPress","","title","Remove DAY","class","flex p-1 items-center hover:text-red-700 dark:hover:text-red-300 rounded-full hover:bg-red-100 dark:hover:bg-red-900/30 disabled:opacity-50 bg-red-500 text-white",3,"shortPress",4,"ngIf"],["type","text","formControlName","dayName","placeholder","e.g., Day 1: Volume",1,"text-lg","font-bold","bg-transparent","border-0","border-b-2","border-gray-300","dark:border-gray-500","focus:ring-0","focus:border-primary","dark:text-gray-100","p-1","w-full","sm:w-1/2",3,"id"],["type","button","appPress","","title","Remove DAY",1,"flex","p-1","items-center","hover:text-red-700","dark:hover:text-red-300","rounded-full","hover:bg-red-100","dark:hover:bg-red-900/30","disabled:opacity-50","bg-red-500","text-white",3,"shortPress"],["name","cancel",1,"h-5","w-5"],["formControlName","dayOfWeek",1,"mt-1","block","w-full","p-2","text-sm","border","rounded-md","shadow-sm","dark:bg-gray-700","dark:border-gray-500",3,"id"],[1,"mt-1","flex","rounded-md","shadow-sm"],["type","text","readonly","",1,"flex-1","block","w-full","px-3","py-2","text-sm","rounded-l-md","dark:bg-gray-400","cursor-default","dark:text-gray-800","font-medium",3,"id","value"],["type","button","appPress","","class","inline-flex items-center px-3 py-2 border border-l-0 rounded-r-md text-sm transition-colors duration-150 border-green-500 dark:border-green-400 bg-green-50 dark:bg-green-700 text-green-700 dark:text-green-100 hover:bg-green-100 dark:hover:bg-green-600 font-medium ",3,"ngClass","shortPress",4,"ngIf"],["formControlName","notes","rows","2",1,"mt-1","block","w-full","p-2","text-sm","border","rounded-md","shadow-sm","dark:bg-gray-700","dark:border-gray-500",3,"id"],["type","button","appPress","",1,"inline-flex","items-center","px-3","py-2","border","border-l-0","rounded-r-md","text-sm","transition-colors","duration-150","border-green-500","dark:border-green-400","bg-green-50","dark:bg-green-700","text-green-700","dark:text-green-100","hover:bg-green-100","dark:hover:bg-green-600","font-medium",3,"shortPress","ngClass"],["name","change",1,"h-5","w-5","mr-1"],[1,"text-center","mt-4"],[1,"text-center","text-sm","text-gray-500","dark:text-gray-400","py-4"],[1,"mt-2","pl-4","border-l-2","border-gray-200","dark:border-gray-600"],[1,"list-none","space-y-1"],["class","text-sm text-gray-600 dark:text-gray-300",4,"ngFor","ngForOf"],["class","text-sm text-gray-500 italic",4,"ngIf"],[1,"text-sm","text-gray-600","dark:text-gray-300"],[1,"italic","ml-2"],[1,"text-sm","text-gray-500","italic"],["name","create",1,"h-7","w-7","mr-1"],[1,"pt-6","flex","justify-end","space-x-3"],["appPress","",1,"flex","items-center","px-4","py-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","text-sm","font-medium","text-gray-700","dark:text-gray-200","hover:bg-gray-50","dark:hover:bg-gray-700",3,"shortPress"],["type","submit","appPress","",1,"flex","items-center","justify-center","px-4","py-2","border","border-transparent","rounded-md","shadow-sm","text-sm","font-medium","text-white","bg-primary","hover:bg-primary-dark","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-primary-dark","disabled:opacity-50",3,"disabled"],["name","create","class","h-5 w-5",4,"ngIf"],["name","save","class","h-5 w-5",4,"ngIf"],["name","create",1,"h-5","w-5"],["name","save",1,"h-5","w-5"],[1,"fixed","inset-0","bg-gray-700","bg-opacity-75","transition-opacity","overflow-y-auto","h-full","w-full","z-[70]","flex","items-center","justify-center","p-4",3,"click"],[1,"relative","transform","overflow-hidden","rounded-md","bg-white","dark:bg-gray-700","text-left","shadow-xl","transition-all","sm:my-8","sm:w-full","sm:max-w-2xl",3,"click"],[1,"bg-white","dark:bg-gray-600","px-4","pt-5","pb-4","sm:p-6","sm:pb-4","backdrop-blur-sm"],[1,"sm:flex","sm:items-start","w-full"],[1,"mt-3","text-center","sm:mt-0","sm:text-left","w-full"],[1,"flex","justify-between","items-center","pb-3"],["id","modal-title",1,"text-xl","font-semibold","leading-6","text-gray-900","dark:text-gray-100"],["type","button",1,"p-1","rounded-full","text-gray-400","hover:text-gray-600","dark:hover:text-gray-300","focus:outline-none",3,"click"],["name","cancel",1,"h-6","w-6"],[1,"my-4"],["type","text","placeholder","Search routines...",1,"w-full","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-700","dark:text-gray-200",3,"ngModelChange","ngModel"],[1,"mt-2","max-h-80","overflow-y-auto","pr-2","custom-scrollbar"],["class","p-3 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md cursor-pointer transition-colors flex justify-between items-center",3,"click",4,"ngFor","ngForOf"],["class","text-gray-500 dark:text-gray-400 text-center p-4",4,"ngIf"],[1,"bg-gray-50","dark:bg-gray-600","px-4","py-3","sm:flex","sm:flex-row-reverse","sm:px-6"],["type","button",1,"mt-3","inline-flex","w-full","justify-center","rounded-md","bg-white","dark:bg-gray-700","px-3","py-2","text-sm","font-semibold","text-gray-900","dark:text-gray-200","shadow-sm","ring-1","ring-inset","ring-gray-300","dark:ring-gray-500","hover:bg-gray-50","dark:hover:bg-gray-500","sm:mt-0","sm:w-auto",3,"click"],[1,"p-3","hover:bg-gray-100","dark:hover:bg-gray-700","rounded-md","cursor-pointer","transition-colors","flex","justify-between","items-center",3,"click"],[1,"text-left"],[1,"block","text-xs","text-gray-500","dark:text-gray-400"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"w-5","h-5","text-primary","dark:text-primary-light"],["fill-rule","evenodd","d","M8.22 5.22a.75.75 0 011.06 0l4.25 4.25a.75.75 0 010 1.06l-4.25 4.25a.75.75 0 01-1.06-1.06L11.94 10 8.22 6.28a.75.75 0 010-1.06Z","clip-rule","evenodd"],[1,"text-gray-500","dark:text-gray-400","text-center","p-4"],[1,"fixed","inset-0","bg-gray-700","bg-opacity-75","z-[80]","flex","items-center","justify-center","p-4","backdrop-blur-sm"],[1,"relative","bg-white","dark:bg-gray-800","rounded-md","shadow-xl","w-full","max-w-3xl","h-full","max-h-[90vh]","flex","flex-col",3,"click"],[1,"flex","justify-between","items-center","px-4","py-3","border-b","dark:border-gray-700","flex-shrink-0"],[1,"text-lg","font-bold","text-gray-900","dark:text-gray-100"],["type","button",1,"p-1","rounded-full","text-gray-400","hover:text-gray-600","dark:hover:text-gray-300",3,"click"],[1,"p-4","overflow-y-auto","flex-grow"],[4,"ngIf","ngIfElse"],[1,"px-4","py-3","border-t","dark:border-gray-700","flex","justify-end","flex-shrink-0"],["type","button",1,"px-4","py-2","rounded-md","bg-primary","text-white","hover:bg-primary-dark","flex","items-center",3,"click"],[3,"ngSubmit","formGroup"],[1,"min-w-full","divide-y","divide-gray-200","dark:divide-gray-700","hidden","sm:table"],[1,"px-4","py-2","text-left","text-xs","font-medium","text-gray-500","dark:text-gray-400"],[1,"px-4","py-2","text-center","text-xs","font-medium","text-gray-500","dark:text-gray-400"],[1,"divide-y","divide-gray-200","dark:divide-gray-700"],[4,"ngFor","ngForOf"],[1,"space-y-4","sm:hidden"],["class","p-3 border rounded-md dark:border-gray-700 bg-gray-50 dark:bg-gray-700/50",4,"ngFor","ngForOf"],[1,"px-4","py-3","text-sm","text-gray-700","dark:text-gray-200"],[1,"px-4","py-3"],[1,"flex","items-center","space-x-2","justify-center"],["type","button","title","Edit entry",1,"p-1.5","text-gray-500","dark:text-gray-400","hover:bg-gray-200","dark:hover:bg-gray-500","rounded-md","flex","items-center",3,"click"],["name","edit",1,"w-8","h-8"],["type","button","title","Delete entry",1,"p-1.5","text-red-500","dark:text-red-400","hover:bg-red-100","dark:hover:bg-red-900/50","rounded-md",3,"click"],["name","trash",1,"w-8","h-8"],[1,"px-2","py-2"],["type","date","formControlName","startDate",1,"w-full","p-1.5","text-sm","border","rounded-md","shadow-sm","dark:bg-gray-700","dark:border-gray-600","dark:text-gray-300","dark:[color-scheme:dark]"],["type","date","formControlName","endDate",1,"w-full","p-1.5","text-sm","border","rounded-md","shadow-sm","dark:bg-gray-700","dark:border-gray-600","dark:text-gray-300","dark:[color-scheme:dark]"],["formControlName","status",1,"w-full","p-1.5","text-sm","border","rounded-md","shadow-sm","dark:bg-gray-700","dark:border-gray-600","dark:text-gray-300",3,"change"],[1,"px-4","py-2","text-sm","text-gray-500","dark:text-gray-400","italic"],[1,"px-4","py-2"],[1,"flex","items-center","space-x-2"],["type","submit","title","Save changes",1,"p-1.5","text-green-600","dark:text-green-400","hover:bg-green-100","dark:hover:bg-green-900/50","rounded-md","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled"],["name","save",1,"w-8","h-8"],["type","button","title","Cancel edit",1,"p-1.5","text-gray-500","dark:text-gray-400","hover:bg-gray-200","dark:hover:bg-gray-500","rounded-md","flex","items-center",3,"click"],["name","cancel",1,"w-8","h-8"],[1,"p-3","border","rounded-md","dark:border-gray-700","bg-gray-50","dark:bg-gray-700/50"],["class","space-y-3",4,"ngIf"],[1,"grid","grid-cols-2","gap-x-3","gap-y-2"],[1,"text-xs","font-medium","text-gray-500","dark:text-gray-400"],[1,"font-semibold","dark:text-gray-100"],[1,"dark:text-gray-300"],[1,"dark:text-gray-300","text-xs"],[1,"flex","justify-end","items-center","space-x-2","mt-3","pt-3","border-t","dark:border-gray-600"],["type","button",1,"flex","items-center","text-sm","px-3","py-1.5","rounded-md","text-gray-600","dark:text-gray-300","hover:bg-gray-200","dark:hover:bg-gray-600",3,"click"],["name","edit",1,"w-8","h-8","mr-1"],["type","button",1,"flex","items-center","text-sm","px-3","py-1.5","rounded-md","text-red-600","dark:text-red-400","hover:bg-red-100","dark:hover:bg-red-900/50",3,"click"],["name","trash",1,"w-8","h-8","mr-1"],[1,"space-y-3"],[1,"block","text-xs","font-medium","text-gray-500","dark:text-gray-400","mb-1"],["formControlName","status",1,"w-full","p-2","text-sm","border","rounded-md","shadow-sm","dark:bg-gray-600","dark:border-gray-500","dark:text-gray-200",3,"change"],["type","date","formControlName","startDate",1,"w-full","p-2","text-sm","border","rounded-md","shadow-sm","dark:bg-gray-600","dark:border-gray-500","dark:text-gray-200","dark:[color-scheme:dark]"],["type","date","formControlName","endDate",1,"w-full","p-2","text-sm","border","rounded-md","shadow-sm","dark:bg-gray-600","dark:border-gray-500","dark:text-gray-200","dark:[color-scheme:dark]"],["type","button",1,"flex","items-center","text-sm","px-3","py-1.5","rounded-md","text-gray-600","dark:text-gray-300","bg-gray-200","hover:bg-gray-300","dark:bg-gray-600","dark:hover:bg-gray-500",3,"click"],["type","submit",1,"flex","items-center","text-sm","px-3","py-1.5","rounded-md","text-white","bg-green-600","hover:bg-green-700","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled"],["name","save",1,"w-8","h-8","mr-1"],[1,"text-center","text-gray-500","dark:text-gray-400","py-6"]],template:function(e,r){if(e&1&&(a(0,"div",3)(1,"header",4)(2,"div",5)(3,"button",6),g(4,"app-icon",7),o(),g(5,"div",8),o(),a(6,"div",9),_(7,xt,5,1,"div",10),o()(),a(8,"form",11),h("ngSubmit",function(){return r.onSubmit()}),a(9,"section",12),_(10,ft,3,1,"div",13)(11,ht,6,0,"div",13)(12,kt,2,1,"div",14)(13,Tt,3,2,"div",15)(14,It,5,5,"div",13)(15,Ft,2,1,"div",13)(16,Mt,4,0,"div",13)(17,Nt,5,1,"div",16),a(18,"div",17),_(19,At,4,0,"div",13),a(20,"div",18)(21,"label",19),c(22,"Program Structure"),o(),a(23,"div",20)(24,"div",21)(25,"label",22),g(26,"input",23),a(27,"span",24),c(28,"Repeating Cycle"),o()(),a(29,"label",22),g(30,"input",25),a(31,"span",24),c(32,"Week-by-Week Progression"),o()()(),_(33,Bt,7,0,"div",26),o()(),_(34,Ot,8,1,"div",13),a(35,"div")(36,"label",27),c(37,"Based on Program Iteration"),o(),g(38,"input",28),a(39,"p",29),c(40," (EDIT IF YOU ONLY KNOW WHAT YOU ARE DOING) "),o()()(),_(41,Wt,4,0,"div",13),o(),_(42,Pr,3,2,"ng-container",13)(43,Er,9,4,"div",30),o(),_(44,Vr,20,4,"div",31)(45,jr,15,2,"div",32),o()),e&2){let n,d,u,p,b,y,v;l(3),s("routerLink","/training-programs"),l(4),s("ngIf",r.currentProgram),l(),s("formGroup",r.programForm),l(2),s("ngIf",r.isViewMode),l(),s("ngIf",r.currentProgram==null?null:r.currentProgram.isActive),l(),s("ngIf",r.isViewMode&&(r.currentProgram==null?null:r.currentProgram.isActive)),l(),s("ngIf",r.isViewMode&&(r.currentProgram==null?null:r.currentProgram.programType)==="linear"&&(r.currentProgram==null?null:r.currentProgram.isActive)),l(),s("ngIf",r.isEditableMode()),l(),s("ngIf",r.isViewMode),l(),s("ngIf",r.isEditableMode()),l(),s("ngIf",r.isViewMode&&(r.currentProgram==null?null:r.currentProgram.goals)||r.isEditableMode()),l(2),s("ngIf",((n=r.programForm.get("startDate"))==null?null:n.value)||r.isEditableMode()),l(8),s("ngClass",W(21,dt,((d=r.programForm.get("programType"))==null?null:d.value)==="cycled",((d=r.programForm.get("programType"))==null?null:d.value)!=="cycled")),l(4),s("ngClass",W(24,dt,((u=r.programForm.get("programType"))==null?null:u.value)==="linear",((u=r.programForm.get("programType"))==null?null:u.value)!=="linear")),l(2),s("ngIf",((p=r.programForm.get("programType"))==null?null:p.value)==="linear"),l(),s("ngIf",(((b=r.programForm.get("cycleLength"))==null?null:b.value)||r.isEditableMode())&&((b=r.programForm.get("programType"))==null?null:b.value)==="cycled"),l(7),s("ngIf",((y=r.programForm.get("programNotes"))==null?null:y.value)||r.isEditableMode()),l(),s("ngIf",(v=r.programForm.get("programType"))==null?null:v.value),l(),s("ngIf",!r.isViewMode),l(),s("ngIf",r.isRoutineModalOpen()),l(),s("ngIf",r.isProgramHistoryModalOpen())}},dependencies:[be,ye,ve,xe,ze,Me,Le,Ge,De,Ve,Te,Re,Ne,Ee,Ie,He,Ae,We,Be,Oe,Pe,lt,at,ot,nt,je,Fe,it,qe,tt,Ue,fe,he,X],styles:[".cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:.5rem;box-shadow:0 5px 5px -3px #0000001a,0 8px 10px 1px #00000012,0 3px 14px 2px #0000000f}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:.2;border:2px dashed #9ca3af;background-color:#f3f4f6;transition:transform .25s cubic-bezier(0,0,.2,1);border-radius:.5rem}.dark[_ngcontent-%COMP%]   .cdk-drag-placeholder[_ngcontent-%COMP%]{border-color:#4b5563;background-color:#374151}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.scheduled-day-card.cdk-drop-list-dragging[_ngcontent-%COMP%]   .scheduled-day-card[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#9ca3af;border-radius:3px}.custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#6b7280}.dark[_ngcontent-%COMP%]   .custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#4b5563}.dark[_ngcontent-%COMP%]   .custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#6b7280}"]})};export{st as TrainingProgramBuilderComponent};
