import{a as at}from"./chunk-QOS7IMK5.js";import{a as it,b as U,c as ke,d as Se,e as Te,f as Y,g as _e}from"./chunk-WTQT7I2A.js";import{a as Dt,b as gt,c as pt,d as ut,e as ht,f as vt,g as _t,h as ft,i as yt,j as xt}from"./chunk-SQX7JOJM.js";import{a as ve,b as nt}from"./chunk-N2OO7OC2.js";import"./chunk-KZQDGVQX.js";import{a as mt}from"./chunk-7IXVXBPY.js";import{a as oe}from"./chunk-EAXOAEA2.js";import{a as wt}from"./chunk-M3MD7EIL.js";import{b as bt}from"./chunk-2OLJ5PV4.js";import{a as Pt}from"./chunk-VEASBVPN.js";import"./chunk-GG6QRTVP.js";import{I as tt,L as he,N as ee,R as rt,S as se,X as le,Y as G,_ as R,ba as ot,ea as st,la as lt,ma as dt,na as ct}from"./chunk-DKF37G4Q.js";import{A as me,Bc as Ue,Bd as Xe,Cb as g,Cd as Qe,Da as v,Db as p,Dd as Je,Eb as A,Ed as et,Fb as Ae,Gb as Q,Hc as q,Ic as D,Jc as Ce,Kb as J,Lc as y,Mc as O,Na as d,Nc as V,Oa as s,Oc as B,Pa as o,Q as L,Qa as T,Qb as Be,V as w,Vb as We,W as b,Wb as Oe,X as j,Xa as E,Xb as Re,Y as ae,Ya as k,Yb as Ne,Za as m,Zb as He,a as Ie,aa as C,bb as Pe,cb as we,cc as Ge,db as be,eb as Z,ec as $e,fb as ge,gb as pe,gc as ze,ha as De,hc as je,ib as c,ja as Le,jb as _,jc as H,kb as x,l as ce,la as Me,lb as K,ma as Ee,na as a,qa as Ve,tc as qe,vb as ue,wb as X,wd as Ye,ya as Fe,yd as Ze,zd as Ke}from"./chunk-RAZEFHXM.js";import{f as It,g as z}from"./chunk-GAL4ENT6.js";function Ct(r){return+he(r)>Date.now()}function fe(r){return+he(r)<Date.now()}var ye=It(Dt());var Lt=["calendarSwipeContainerEl"],Mt=["viewSwipeContainerEl"],kt=(r,t)=>({"border-b-2 border-primary text-primary dark:text-primary-light dark:border-primary-light":r,"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200  border-b border-gray-200 dark:border-gray-700":t}),Et=(r,t)=>({count:r,total:t}),St=r=>({count:r}),Vt=r=>({"ring-4 ring-green-500 dark:ring-green-400":r}),Ft=(r,t)=>({time:r,duration:t}),At=(r,t)=>({"bg-green-500 hover:bg-green-600":r,"bg-gray-500":t});function Bt(r,t){if(r&1&&(s(0,"option",47),c(1),g(2,"titlecase"),o()),r&2){let e=t.$implicit;d("value",e),a(),_(p(2,2,e))}}function Wt(r,t){if(r&1&&(s(0,"option",47),c(1),g(2,"titlecase"),o()),r&2){let e=t.$implicit;d("value",e),a(),x("",p(2,2,e.name)," ")}}function Ot(r,t){if(r&1&&(s(0,"span"),c(1),g(2,"translate"),o()),r&2){let e=m(3);a(),x(" ",A(2,1,"trainingPrograms.filters.showingResultOf",X(4,Et,e.filteredPrograms().length,e.allProgramsForList().length))," ")}}function Rt(r,t){if(r&1&&(c(0),g(1,"translate")),r&2){let e=m(3);x(" ",A(1,1,"trainingPrograms.filters.showingResult",ue(4,St,e.filteredPrograms().length))," ")}}function Nt(r,t){if(r&1&&(s(0,"div",48),v(1,Ot,3,7,"span",46)(2,Rt,2,6,"ng-template",null,2,Q),o()),r&2){let e=Z(3),i=m(2);a(),d("ngIf",i.programSearchTerm()||i.selectedProgramCycleType()||i.selectedProgramGoal()||i.selectedProgramMuscleGroup())("ngIfElse",e)}}function Ht(r,t){r&1&&(s(0,"span",76),c(1),g(2,"translate"),o()),r&2&&(a(),_(p(2,1,"trainingPrograms.card.active")))}function Gt(r,t){if(r&1&&(s(0,"div",73),T(1,"app-icon",74),v(2,Ht,3,3,"span",75),o()),r&2){let e=m().$implicit;a(2),d("ngIf",e.isActive)}}function $t(r,t){if(r&1&&(s(0,"p",77),c(1),o()),r&2){let e=m().$implicit;d("title",e.description),a(),_(e.description)}}function zt(r,t){if(r&1&&(s(0,"div",59),T(1,"app-icon",78),s(2,"span",61),c(3),g(4,"translate"),o(),c(5),g(6,"date"),o()),r&2){let e=m().$implicit;a(),d("strokeWidth",2),a(2),x("",p(4,3,"trainingPrograms.card.started"),":"),a(2),x(" ",A(6,5,e.startDate,"mediumDate")," ")}}function jt(r,t){if(r&1&&(s(0,"div",59),T(1,"app-icon",79),s(2,"span",61),c(3),g(4,"translate"),o(),c(5),g(6,"date"),g(7,"date"),o()),r&2){let e=m().$implicit;a(),d("strokeWidth",2),a(2),x("",p(4,4,"trainingPrograms.card.lastScheduling"),":"),a(2),K(" ",e.history[0].startDate&&e.history[0].startDate!=="-"?A(6,6,e.history[0].startDate,"mediumDate"):"-"," - ",e.history[0].endDate&&e.history[0].endDate!=="-"?A(7,9,e.history[0].endDate,"mediumDate"):"-"," ")}}function qt(r,t){if(r&1&&(s(0,"span",84),c(1),g(2,"titlecase"),o()),r&2){let e=t.$implicit;a(),x(" ",p(2,1,e)," ")}}function Ut(r,t){r&1&&(s(0,"span",84),c(1," ... "),o())}function Yt(r,t){if(r&1&&(s(0,"div",80),T(1,"app-icon",81),s(2,"span",61),c(3),g(4,"translate"),o(),v(5,qt,3,3,"span",82),g(6,"slice"),v(7,Ut,2,0,"span",83),o()),r&2){let e=m().$implicit,i=m(4);a(),d("strokeWidth",2),a(2),x("",p(4,4,"trainingPrograms.card.goals"),":"),a(2),d("ngForOf",Ae(6,6,i.getProgramOverallGoals(e),0,2)),a(2),d("ngIf",i.getProgramOverallGoals(e).length>2)}}function Zt(r,t){if(r&1&&(s(0,"div",59),T(1,"app-icon",85),s(2,"span",61),c(3),g(4,"translate"),o(),c(5),o()),r&2){let e=m().$implicit;a(),d("strokeWidth",2),a(2),x("",p(4,3,"trainingPrograms.card.iteration"),":"),a(2),x(" ",e.iterationId," ")}}function Kt(r,t){if(r&1&&(s(0,"div",86),T(1,"app-icon",87),s(2,"span",61),c(3),g(4,"translate"),o(),c(5),o()),r&2){let e=t.ngIf;a(),d("strokeWidth",2),a(2),_(p(4,3,"trainingPrograms.card.currentWeek")),a(2),x(" ",e.name," ")}}function Xt(r,t){if(r&1&&(s(0,"div",88)(1,"div",89)(2,"h4",90),c(3),g(4,"translate"),o(),s(5,"span",91),c(6),o()(),s(7,"div",92),T(8,"div",93),o()()),r&2){let e=t.ngIf,i=m().$implicit;a(3),x(" ",p(4,5,i.programType==="linear"?"programBuilder.progress.overallWorkout":"programBuilder.progress.currentWeeklyCycle")," "),a(3),K(" ",e.completedCount," / ",e.totalCount," "),a(2),ge("width",e.percentage,"%")}}function Qt(r,t){if(r&1){let e=E();s(0,"app-action-menu",94),k("itemClick",function(n){w(e);let l=m(5);return b(l.handleActionMenuItemClick(n))})("closeMenu",function(){w(e);let n=m(5);return b(n.onCloseActionMenu())}),o()}if(r&2){let e=m().$implicit,i=m(4);d("items",i.getProgramDropdownActionItems(e.id,"dropdown"))("isVisible",i.areActionsVisible(e.id))}}function Jt(r,t){if(r&1){let e=E();s(0,"app-action-menu",95),k("itemClick",function(n){w(e);let l=m(5);return b(l.handleActionMenuItemClick(n))})("closeMenu",function(){w(e);let n=m(5);return b(n.onCloseActionMenu())}),o()}if(r&2){let e=m().$implicit,i=m(4);d("modalTitle","")("items",i.getProgramDropdownActionItems(e.id,"modal"))("isVisible",i.areActionsVisible(e.id))}}function ei(r,t){if(r&1){let e=E();s(0,"app-action-menu",96),k("itemClick",function(n){w(e);let l=m(5);return b(l.handleActionMenuItemClick(n))})("closeMenu",function(){w(e);let n=m(5);return b(n.onCloseActionMenu())}),o()}if(r&2){let e=m().$implicit,i=m(4);d("items",i.getProgramDropdownActionItems(e.id,"compact"))("isVisible",i.areActionsVisible(e.id))}}function ti(r,t){if(r&1){let e=E();s(0,"div",52),k("click",function(n){let l=w(e).$implicit,h=m(4);return b(h.toggleActions(l.id,n))}),s(1,"div",53)(2,"div",54)(3,"h2",55),c(4),o(),v(5,Gt,3,1,"div",56),o(),v(6,$t,2,2,"p",57),s(7,"div",58)(8,"div",59),T(9,"app-icon",60),s(10,"span",61),c(11),g(12,"translate"),o(),c(13),o(),v(14,zt,7,8,"div",62)(15,jt,8,12,"div",62)(16,Yt,8,10,"div",63)(17,Zt,6,5,"div",62)(18,Kt,6,5,"div",64),o(),v(19,Xt,9,7,"div",65),o(),s(20,"div",66)(21,"div",67)(22,"button",68),k("click",function(n){let l=w(e).$implicit,h=m(4);return b(h.toggleActions(l.id,n))}),T(23,"app-icon",69),o(),v(24,Qt,1,2,"app-action-menu",70)(25,Jt,1,3,"app-action-menu",71),o()(),v(26,ei,1,2,"app-action-menu",72),o()}if(r&2){let e=t.$implicit,i=m(4);ge("z-index",i.areActionsVisible(e.id)?50:"auto"),d("ngClass",ue(22,Vt,e.isActive)),a(3),d("title",e.name),a(),_(e.name),a(),d("ngIf",e.isActive),a(),d("ngIf",e.description),a(3),d("strokeWidth",2),a(2),x("",p(12,20,"trainingPrograms.card.schedule"),":"),a(2),K(" ",i.getDaysScheduled(e)," / ",i.getCycleInfo(e)," "),a(),d("ngIf",e.startDate&&e.isActive),a(),d("ngIf",e.history&&e.history[0]&&e.history[0].status!=="active"&&e.history[0].startDate&&e.history[0].endDate),a(),d("ngIf",i.getProgramOverallGoals(e).length>0),a(),d("ngIf",e.iterationId),a(),d("ngIf",i.getCurrentWeekInfo(e)),a(),d("ngIf",e.isActive&&i.getProgramProgress(e)),a(5),d("ngIf",i.areActionsVisible(e.id)&&i.menuModeDropdown),a(),d("ngIf",i.areActionsVisible(e.id)&&i.menuModeModal),a(),d("ngIf",i.areActionsVisible(e.id)&&i.menuModeCompact)}}function ii(r,t){if(r&1&&(s(0,"div",50),v(1,ti,27,24,"div",51),o()),r&2){let e=m(3);a(),d("ngForOf",e.filteredPrograms())}}function ri(r,t){if(r&1){let e=E();s(0,"button",103),k("shortPress",function(){w(e);let n=m(4);return b(n.navigateToCreateProgram())}),c(1),g(2,"translate"),o()}r&2&&(a(),_(p(2,1,"trainingPrograms.noPrograms.createFirstButton")))}function ni(r,t){if(r&1&&(s(0,"div",97),j(),s(1,"svg",98),T(2,"path",99),o(),ae(),s(3,"h3",100),c(4),g(5,"translate"),o(),s(6,"p",101),c(7),g(8,"translate"),o(),v(9,ri,3,3,"button",102),o()),r&2){let e=m(3);a(4),_(p(5,3,e.programSearchTerm()||e.selectedProgramCycleType()||e.selectedProgramGoal()||e.selectedProgramMuscleGroup()?"trainingPrograms.noPrograms.noMatchTitle":"trainingPrograms.noPrograms.noProgramsTitle")),a(3),_(p(8,5,e.programSearchTerm()||e.selectedProgramCycleType()||e.selectedProgramGoal()||e.selectedProgramMuscleGroup()?"trainingPrograms.noPrograms.noMatchMessage":"trainingPrograms.noPrograms.noProgramsMessage")),a(2),d("ngIf",!(e.programSearchTerm()||e.selectedProgramCycleType()||e.selectedProgramGoal()||e.selectedProgramMuscleGroup()))}}function ai(r,t){if(r&1&&(s(0,"div"),v(1,ii,2,1,"div",49)(2,ni,10,7,"ng-template",null,3,Q),o()),r&2){let e=Z(3),i=m(2);a(),d("ngIf",i.filteredPrograms().length>0)("ngIfElse",e)}}function oi(r,t){r&1&&(s(0,"div",104),j(),s(1,"svg",105),T(2,"circle",106)(3,"path",107),o(),ae(),s(4,"p",108),c(5),g(6,"translate"),o()()),r&2&&(a(5),_(p(6,1,"trainingPrograms.loading")))}function si(r,t){if(r&1){let e=E();s(0,"div")(1,"div",22)(2,"div",23)(3,"h2",24),c(4),g(5,"translate"),o(),s(6,"div",25)(7,"div")(8,"label",26),c(9),g(10,"translate"),o(),s(11,"input",27),g(12,"translate"),k("input",function(n){w(e);let l=m();return b(l.onProgramSearchTermChange(n))}),o()(),s(13,"div")(14,"label",28),c(15),g(16,"translate"),o(),s(17,"select",29),k("change",function(n){w(e);let l=m();return b(l.onProgramCycleTypeChange(n))}),s(18,"option",30),c(19),g(20,"translate"),o(),s(21,"option",31),c(22),g(23,"translate"),o(),s(24,"option",32),c(25),g(26,"translate"),o()()(),s(27,"div")(28,"label",33),c(29),g(30,"translate"),o(),s(31,"select",34),k("change",function(n){w(e);let l=m();return b(l.onProgramTypeChange(n))}),s(32,"option",30),c(33),g(34,"translate"),o(),s(35,"option",32),c(36),g(37,"translate"),o(),s(38,"option",35),c(39),g(40,"translate"),o()()(),s(41,"div")(42,"label",36),c(43),g(44,"translate"),o(),s(45,"select",37),k("change",function(n){w(e);let l=m();return b(l.onProgramGoalChange(n))}),s(46,"option",30),c(47),g(48,"translate"),o(),v(49,Bt,3,4,"option",38),o()(),s(50,"div")(51,"label",39),c(52),g(53,"translate"),o(),s(54,"select",40),k("change",function(n){w(e);let l=m();return b(l.onProgramMuscleGroupChange(n))}),s(55,"option",30),c(56),g(57,"translate"),o(),v(58,Wt,3,4,"option",38),o()()(),s(59,"div",41)(60,"button",42),k("shortPress",function(){w(e);let n=m();return b(n.clearProgramFilters())}),j(),s(61,"svg",43),T(62,"path",44),o(),c(63),g(64,"translate"),o(),v(65,Nt,4,2,"div",45),o()()(),v(66,ai,4,2,"div",46)(67,oi,7,3,"ng-template",null,1,Q),o()}if(r&2){let e=Z(68),i=m();a(),ge("max-height",i.isFilterAccordionOpen()?"600px":"0px"),pe("mb-6",i.isFilterAccordionOpen()),a(3),_(p(5,30,"trainingPrograms.filters.title")),a(5),_(p(10,32,"trainingPrograms.filters.searchLabel")),a(2),d("placeholder",p(12,34,"trainingPrograms.filters.searchPlaceholder"))("value",i.programSearchTerm()),a(4),_(p(16,36,"trainingPrograms.filters.cycleTypeLabel")),a(2),d("value",i.selectedProgramCycleType()||""),a(2),_(p(20,38,"trainingPrograms.filters.allCycleTypes")),a(3),_(p(23,40,"trainingPrograms.filters.weekly")),a(3),_(p(26,42,"trainingPrograms.filters.fixedCycle")),a(4),_(p(30,44,"trainingPrograms.filters.programTypeLabel")),a(2),d("value",i.selectedProgramType()||""),a(2),_(p(34,46,"trainingPrograms.filters.allProgramTypes")),a(3),_(p(37,48,"trainingPrograms.filters.cycled")),a(3),_(p(40,50,"trainingPrograms.filters.linear")),a(4),_(p(44,52,"trainingPrograms.filters.goalLabel")),a(2),d("value",i.selectedProgramGoal()||""),a(2),_(p(48,54,"trainingPrograms.filters.anyGoal")),a(2),d("ngForOf",i.uniqueProgramGoals()),a(3),_(p(53,56,"trainingPrograms.filters.muscleLabel")),a(2),d("value",i.selectedProgramMuscleGroup()||""),a(2),_(p(57,58,"trainingPrograms.filters.anyMuscle")),a(2),d("ngForOf",i.uniqueProgramMuscleGroups()),a(5),x(" ",p(64,60,"trainingPrograms.filters.clearButton")," "),a(2),d("ngIf",i.allProgramsForList().length>0),a(),d("ngIf",!i.isLoading())("ngIfElse",e)}}function li(r,t){if(r&1&&(s(0,"div",120),c(1),o()),r&2){let e=t.$implicit;a(),x(" ",e," ")}}function di(r,t){r&1&&T(0,"div")}function ci(r,t){if(r&1){let e=E();s(0,"div",121),k("click",function(){let n=w(e).$implicit,l=m(4);return b(l.selectCalendarDay(n))}),s(1,"span"),c(2),g(3,"date"),o()()}if(r&2){let e=t.$implicit,i=m(4);d("ngClass",i.getCalendarDayClasses(e)),a(2),_(A(3,2,e.date,"d"))}}function mi(r,t){if(r&1&&(s(0,"div",113)(1,"h2",114),c(2),o(),s(3,"div",115),v(4,li,2,1,"div",116),o(),s(5,"div",117),v(6,di,1,0,"div",118)(7,ci,4,5,"div",119),o()()),r&2){let e=t.$implicit,i=m(3);a(2),x(" ",e.monthName+" "+e.year," "),a(2),d("ngForOf",i.weekDayNames()),a(2),d("ngForOf",e.spacers),a(),d("ngForOf",e.days)}}function gi(r,t){r&1&&(s(0,"div",104)(1,"p",122),c(2),g(3,"translate"),o()()),r&2&&(a(2),_(p(3,1,"trainingPrograms.calendar.loadingMonths")))}function pi(r,t){if(r&1&&(s(0,"div")(1,"div",110),v(2,mi,8,4,"div",111),o(),v(3,gi,4,3,"div",112),o()),r&2){let e=m(2);a(2),d("ngForOf",e.calendarMonths()),a(),d("ngIf",e.calendarLoading())}}function ui(r,t){if(r&1){let e=E();s(0,"button",125),k("click",function(){w(e);let n=m(3);return b(n.setView("list"))}),c(1),g(2,"translate"),o()}r&2&&(a(),x(" ",p(2,1,"trainingPrograms.calendar.goToPrograms")," "))}function hi(r,t){if(r&1&&(s(0,"div",123),j(),s(1,"svg",98),T(2,"path",99),o(),ae(),s(3,"h3",100),c(4),g(5,"translate"),o(),s(6,"p",101),c(7),g(8,"translate"),o(),v(9,ui,3,3,"button",124),o()),r&2){let e=m(2);a(4),x(" ",p(5,3,e.activePrograms().length>1?"trainingPrograms.calendar.selectProgramTitle":"trainingPrograms.calendar.noActiveProgramTitle")," "),a(3),x(" ",p(8,5,e.activePrograms().length>1?"trainingPrograms.calendar.selectProgramMessage":"trainingPrograms.calendar.noActiveProgramMessage")," "),a(2),d("ngIf",e.activePrograms().length===0)}}function vi(r,t){if(r&1&&(s(0,"div",109),v(1,pi,4,2,"div",46)(2,hi,10,7,"ng-template",null,4,Q),o()),r&2){let e=Z(3),i=m();a(),d("ngIf",i.activeProgramForCalendar())("ngIfElse",e)}}function _i(r,t){r&1&&(s(0,"span",136),c(1),g(2,"translate"),o()),r&2&&(a(),_(p(2,1,"trainingPrograms.calendar.today")))}function fi(r,t){r&1&&(s(0,"span",152),c(1),g(2,"translate"),o()),r&2&&(a(),x(" ",p(2,1,"trainingPrograms.calendar.notScheduled")," "))}function yi(r,t){if(r&1&&(s(0,"span",153),c(1),g(2,"translate"),o()),r&2){let e=m().$implicit;a(),x(" ",A(2,1,"trainingPrograms.calendar.sessionsLogged",ue(4,St,e.logs.length)))}}function xi(r,t){if(r&1&&T(0,"p",154),r&2){let e=m().$implicit,i=m(3);d("title",e.routine.description)("innerHTML",i.updateSanitizedDescription(e.routine.description),Le)}}function Pi(r,t){if(r&1&&(s(0,"p",155),c(1),g(2,"translate"),o()),r&2){let e=m().$implicit;a(),K("",p(2,2,"trainingPrograms.calendar.programNote")," ",e.scheduledDayInfo.notes)}}function wi(r,t){if(r&1&&(s(0,"p",156),c(1),g(2,"translate"),o()),r&2){let e=m().$implicit;a(),K("",p(2,2,"trainingPrograms.calendar.suggestedTime")," ",e.scheduledDayInfo.timeOfDay)}}function bi(r,t){if(r&1){let e=E();s(0,"div",160)(1,"div",161)(2,"span",162),c(3),g(4,"date"),g(5,"translate"),o(),s(6,"button",163),k("shortPress",function(){let n=w(e).$implicit,l=m(5);return b(l.viewSessionSummary(n.id))}),T(7,"app-icon",164),c(8),g(9,"translate"),o()()()}if(r&2){let e=t.$implicit;a(3),_(A(5,5,"trainingPrograms.calendar.loggedAt",X(10,Ft,A(4,2,e.startTime,"shortTime"),e.durationMinutes))),a(5),x(" ",p(9,8,"trainingPrograms.calendar.viewButton")," ")}}function Ci(r,t){if(r&1&&(s(0,"div",157)(1,"p",158),c(2),g(3,"translate"),o(),v(4,bi,10,13,"div",159),o()),r&2){let e=m().$implicit;a(2),_(p(3,2,"trainingPrograms.calendar.loggedSessions")),a(2),d("ngForOf",e.logs)}}function ki(r,t){if(r&1){let e=E();s(0,"button",168),k("shortPress",function(){let n;w(e);let l=m(2).$implicit,h=m(3);return b(h.startScheduledWorkout(l.routine.id,(n=h.activeProgramForCalendar())==null?null:n.id,l.scheduledDayInfo.id))}),T(1,"app-icon",169),c(2),g(3,"translate"),o()}if(r&2){let e=m(4).ngIf;d("disabled",e.isPastDay&&!e.isToday)("ngClass",X(5,At,e.isToday,e.isPastDay&&!e.isToday)),a(2),x(" ",p(3,3,e.isToday?"trainingPrograms.calendar.startButton":"trainingPrograms.calendar.notLogged")," ")}}function Si(r,t){if(r&1){let e=E();s(0,"button",170),k("shortPress",function(){w(e);let n=m(2).$implicit,l=m(2).ngIf,h=m();return b(h.logPreviousSession(n,l.date))}),j(),s(1,"svg",171),T(2,"path",172),o(),c(3),g(4,"translate"),o()}if(r&2){let e=m(4).ngIf;pe("sm:col-start-2",!e.isToday),a(3),x(" ",p(4,3,"trainingPrograms.calendar.logPastButton")," ")}}function Ti(r,t){if(r&1&&(s(0,"div",165)(1,"div",139),v(2,ki,4,8,"button",166)(3,Si,5,5,"button",167),o()()),r&2){let e=m(3).ngIf;a(2),d("ngIf",e.isToday||e.isPastDay),a(),d("ngIf",e.isPastDay)}}function Ii(r,t){r&1&&T(0,"hr",173)}function Di(r,t){if(r&1&&(s(0,"div",142)(1,"h4",143),c(2),v(3,fi,3,3,"span",144)(4,yi,3,6,"span",145),o(),v(5,xi,1,2,"p",146)(6,Pi,3,4,"p",147)(7,wi,3,4,"p",148)(8,Ci,5,4,"div",149)(9,Ti,4,2,"div",150)(10,Ii,1,0,"hr",151),o()),r&2){let e=t.$implicit,i=t.index,n=m(2).ngIf;a(2),x(" ",e.routine.name," "),a(),d("ngIf",e.isUnscheduled),a(),d("ngIf",e.logs.length>1),a(),d("ngIf",e.routine.description),a(),d("ngIf",e.scheduledDayInfo.notes),a(),d("ngIf",e.scheduledDayInfo.timeOfDay),a(),d("ngIf",e.logs.length>0),a(),d("ngIf",e.logs.length===0),a(),d("ngIf",n.scheduledItems.length>1&&i<n.scheduledItems.length-1)}}function Li(r,t){if(r&1){let e=E();s(0,"div"),v(1,Di,11,9,"div",137),s(2,"div",138)(3,"div",139)(4,"button",140),k("shortPress",function(){let n;w(e);let l=m(2);return b(l.goToProgramLogs((n=l.activeProgramForCalendar())==null?null:n.id))}),T(5,"app-icon",141),c(6),g(7,"translate"),o()()()()}if(r&2){let e=m().ngIf;a(),d("ngForOf",e.scheduledItems),a(5),x(" ",p(7,2,"trainingPrograms.calendar.allLogsButton")," ")}}function Mi(r,t){if(r&1&&(s(0,"p",174),c(1),g(2,"translate"),o()),r&2){let e=m().ngIf;a(),_(p(2,1,e.isPastDay&&!e.isToday?"trainingPrograms.calendar.wasRestDay":"trainingPrograms.calendar.restDay"))}}function Ei(r,t){if(r&1){let e=E();s(0,"div")(1,"div",126),k("click",function(){w(e);let n=m();return b(n.selectCalendarDay(null))}),o(),s(2,"div",127)(3,"div",128)(4,"div",129)(5,"h3",130),c(6),g(7,"date"),v(8,_i,3,3,"span",131),o(),s(9,"button",132),k("click",function(){w(e);let n=m();return b(n.selectCalendarDay(null))}),j(),s(10,"svg",133),T(11,"path",134),o()()()(),ae(),s(12,"div",135),v(13,Li,8,4,"div",46)(14,Mi,3,3,"ng-template",null,5,Q),o()()()}if(r&2){let e=t.ngIf,i=Z(15);a(2),d("@slideUpDown",void 0),a(4),_(A(7,5,e.date,"fullDate")),a(2),d("ngIf",e.isToday),a(5),d("ngIf",e.scheduledItems.length>0)("ngIfElse",i)}}var xe=class r{trainingProgramService=L(ct);router=L(Ue);alertService=L(et);toastService=L(Ke);spinnerService=L(Pt);platformId=L(De);cdr=L(Be);trackingService=L(st);workoutService=L(dt);exerciseService=L(lt);ngZone=L(Ve);sanitizer=L(qe);appSettingsService=L(tt);subscriptionService=L(ot);translate=L(Xe);languageService=L(mt);dateFnsLocales={en:le,it:vt,es:ut,fr:ht,ru:yt,ja:_t,ar:gt,zh:xt,pt:ft,de:pt};isLoading=C(!0);allProgramsForList=C([]);dataSubscription;programsListSubscription;hammerInstanceCalendar=null;hammerInstanceMode=null;set calendarSwipeContainer(t){t&&H(this.platformId)?(this.hammerInstanceCalendar&&(this.hammerInstanceCalendar.destroy(),this.hammerInstanceCalendar=null),this.setupCalendarSwipe(t.nativeElement)):!t&&this.hammerInstanceCalendar&&(this.hammerInstanceCalendar.destroy(),this.hammerInstanceCalendar=null)}set modeSwipeContainer(t){t&&H(this.platformId)?(this.hammerInstanceMode&&(this.hammerInstanceMode.destroy(),this.hammerInstanceMode=null),this.setupModeSwipe(t.nativeElement)):!t&&this.hammerInstanceMode&&(this.hammerInstanceMode.destroy(),this.hammerInstanceMode=null)}activeProgramActions=C(null);menuModeDropdown=!1;menuModeCompact=!1;menuModeModal=!1;isFilterAccordionOpen=C(!1);programSearchTerm=C("");selectedProgramType=C(null);selectedProgramCycleType=C(null);selectedProgramGoal=C(null);selectedProgramMuscleGroup=C(null);uniqueProgramGoals=C([]);uniqueProgramMuscleGroups=C([]);subscriptions=new Ie;allRoutinesMap=new Map;allExercisesMap=new Map;currentCalendarDate=new Date;filteredPrograms=J(()=>{let t=this.allProgramsForList(),e=this.programSearchTerm().toLowerCase(),i=this.selectedProgramType(),n=this.selectedProgramGoal(),l=this.selectedProgramMuscleGroup(),h=u=>u.programType==="linear"&&u.weeks?u.weeks.flatMap(f=>f.schedule):u.schedule||[];return e&&(t=t.filter(u=>u.name.toLowerCase().includes(e))),i&&(t=t.filter(u=>u.programType===i)),n&&(t=t.filter(u=>h(u).some(P=>this.allRoutinesMap.get(P.routineId)?.goal?.toLowerCase()===n.toLowerCase()))),l&&(t=t.filter(u=>{let f=h(u);return f.length?f.some(P=>{let S=this.allRoutinesMap.get(P.routineId);return S?S.workoutExercises.some(M=>this.allExercisesMap.get(M.exerciseId)?.primaryMuscleGroup?.toLowerCase()===l.toLowerCase()):!1}):!1})),t});currentView=C("list");calendarMonths=C([]);selectedCalendarDayDetails=C(null);isFabActionsOpen=C(!1);viewAnimationParams=C({value:"list",params:{enterTransform:"translateX(100%)",leaveTransform:"translateX(-100%)"}});calendarViewDate=C(new Date);calendarDays=C([]);calendarLoading=C(!1);activePrograms=C([]);calendarViewProgram=C(null);activeProgramForCalendar=J(()=>{let t=this.activePrograms();return t.length===1?t[0]:this.calendarViewProgram()});weekStartsOn=1;monthStartsOn=1;calendarDisplayMode=C("week");selectedCalendarDayLoggedWorkouts=C(null);calendarAnimationState=C("center");isCalendarAnimating=!1;isCardAnimating=!1;weekDayNames=J(()=>{let t=this.languageService.currentLang(),e=this.dateFnsLocales[t]||le,i=ee(new Date,{weekStartsOn:this.weekStartsOn,locale:e});return se({start:i,end:oe(i,6)}).map(n=>G(n,"EE",{locale:e}))});monthNames=J(()=>{let t=this.languageService.currentLang(),e=this.dateFnsLocales[t]||le;return Array.from({length:12},(n,l)=>l).map(n=>{let l=at(new Date,n);return G(l,"LLLL",{locale:e})})});getWeekDayHeaders(){let t=ee(new Date,{weekStartsOn:this.weekStartsOn});return se({start:t,end:oe(t,6)}).map(e=>G(e,"EE"))}calendarHeaderFormat=J(()=>(this.calendarDisplayMode()==="month","MMMM yyyy"));constructor(){this.refreshFabMenuItems()}allWorkoutLogs=C([]);workoutLogsSubscription;isTouchDevice=!1;ngOnInit(){H(this.platformId)&&(window.scrollTo(0,0),this.isTouchDevice="ontouchstart"in window),this.menuModeDropdown=this.appSettingsService.isMenuModeDropdown(),this.menuModeCompact=this.appSettingsService.isMenuModeCompact(),this.menuModeModal=this.appSettingsService.isMenuModeModal();let t=this.workoutService.routines$.pipe(me(1)),e=this.trackingService.workoutLogs$,i=this.trainingProgramService.programs$;this.subscriptions.add(t.subscribe(n=>{n.forEach(l=>this.allRoutinesMap.set(l.id,l))})),this.subscriptions.add(e.subscribe(n=>{this.allWorkoutLogs.set(n)})),this.subscriptions.add(i.subscribe(n=>{this.allProgramsForList.set(n);let l=n.filter(u=>u.isActive);this.activePrograms.set(l);let h=this.calendarViewProgram()?.id;h&&!l.some(u=>u.id===h)&&this.calendarViewProgram.set(null),this.currentView()==="calendar"&&this.refreshCalendarView(),this.isLoading.set(!1)})),this.refreshFabMenuItems()}ngAfterViewInit(){}setupCalendarSwipe(t){let e=0,i=350;this.ngZone.runOutsideAngular(()=>{this.hammerInstanceCalendar=new ye.default(t),this.hammerInstanceCalendar.get("swipe").set({direction:ye.default.DIRECTION_HORIZONTAL,threshold:30,velocity:.2}),this.hammerInstanceCalendar.on("swipeleft",()=>{let n=Date.now();n-e<i||this.isCalendarAnimating||(e=n,this.ngZone.run(()=>this.nextPeriod()))}),this.hammerInstanceCalendar.on("swiperight",()=>{let n=Date.now();n-e<i||this.isCalendarAnimating||(e=n,this.ngZone.run(()=>this.previousPeriod()))})})}setupModeSwipe(t){H(this.platformId)&&t&&this.ngZone.runOutsideAngular(()=>{this.hammerInstanceMode=new ye.default(t),this.hammerInstanceMode.on("swipeleft",()=>{this.ngZone.run(()=>{this.currentView()==="list"&&this.setView("calendar")})}),this.hammerInstanceMode.on("swiperight",()=>{this.ngZone.run(()=>{this.currentView()==="calendar"&&this.setView("list")})})})}toggleFilterAccordion(){this.isFilterAccordionOpen.update(t=>!t)}onProgramSearchTermChange(t){this.programSearchTerm.set(t.target.value)}onProgramTypeChange(t){this.selectedProgramType.set(t.target.value||null)}onProgramCycleTypeChange(t){this.selectedProgramCycleType.set(t.target.value||null)}onProgramGoalChange(t){this.selectedProgramGoal.set(t.target.value||null)}onProgramMuscleGroupChange(t){this.selectedProgramMuscleGroup.set(t.target.value||null)}clearProgramFilters(){this.programSearchTerm.set(""),this.selectedProgramCycleType.set(null),this.selectedProgramType.set(null),this.selectedProgramGoal.set(null),this.selectedProgramMuscleGroup.set(null),document.getElementById("program-search-term").value="",document.getElementById("program-cycle-type-filter").value="",document.getElementById("program-type-filter").value="",document.getElementById("program-goal-filter").value="",document.getElementById("program-muscle-filter").value=""}navigateToCreateProgram(){this.router.navigate(["/training-programs/new"])}viewProgramDetails(t,e){e?.stopPropagation(),this.workoutService.vibrate(),this.router.navigate(["/training-programs/view",t]),this.activeProgramActions.set(null)}editProgram(t,e){e?.stopPropagation(),this.router.navigate(["/training-programs/edit",t]),this.activeProgramActions.set(null)}deleteProgram(t,e){return z(this,null,function*(){e?.stopPropagation(),this.activeProgramActions.set(null);try{this.spinnerService.show(this.translate.instant("trainingPrograms.alerts.deleting")),yield this.trainingProgramService.deleteProgram(t)}catch{this.toastService.error("An unexpected error occurred",0,"Deletion Error")}finally{this.spinnerService.hide()}})}toggleActiveProgram(t,e){return z(this,null,function*(){let i=this.allProgramsForList().find(n=>n.id===t);if(i){e?.stopPropagation(),this.activeProgramActions.set(null),this.spinnerService.show(this.translate.instant("trainingPrograms.alerts.updating"));try{if(i.isActive){let n=yield this.alertService.showConfirmationDialog(this.translate.instant("trainingPrograms.alerts.programActiveTitle"),this.translate.instant("trainingPrograms.alerts.programActiveMessage"),[{text:this.translate.instant("trainingPrograms.alerts.deactivate"),role:"deactivate",data:"deactivate",icon:"deactivate"},{text:this.translate.instant("trainingPrograms.alerts.complete"),role:"complete",data:"complete",icon:"goal",cssClass:"bg-green-500 hover:bg-green-600"},{text:this.translate.instant("common.cancel"),role:"cancel",data:"cancel",icon:"cancel"}]);if(!n||!n.data||n.data==="cancel"){this.spinnerService.hide();return}if(n.data==="complete"){try{this.spinnerService.show(this.translate.instant("trainingPrograms.alerts.completing")),yield this.trainingProgramService.toggleProgramActivation(t,"completed")}catch{this.toastService.error(this.translate.instant("trainingPrograms.toasts.finishFailed"),0,"Error")}finally{this.spinnerService.hide()}return}else try{this.spinnerService.show(this.translate.instant("trainingPrograms.alerts.deactivating")),yield this.trainingProgramService.deactivateProgram(t,"cancelled")}catch{this.toastService.error(this.translate.instant("trainingPrograms.toasts.deactivateFailed"),0,"Error")}finally{this.spinnerService.hide()}return}try{this.spinnerService.show(this.translate.instant("trainingPrograms.alerts.settingActive")),yield this.trainingProgramService.toggleProgramActivation(t,"active"),this.toastService.success(this.translate.instant("trainingPrograms.toasts.programActivated"),0,"Error")}catch{this.toastService.error(this.translate.instant("trainingPrograms.toasts.setActiveFailed"),0,"Error")}finally{this.spinnerService.hide()}}catch{this.toastService.error(this.translate.instant("trainingPrograms.toasts.statusUpdateFailed"),0,"Error")}finally{this.spinnerService.hide()}}})}setProgramAsFinished(t){return z(this,null,function*(){let e=yield this.alertService.showConfirmationDialog(this.translate.instant("trainingPrograms.alerts.finishTitle"),this.translate.instant("trainingPrograms.alerts.finishMessage"),[{text:this.translate.instant("common.cancel"),role:"cancel",cssClass:"bg-gray-400 hover:bg-gray-600",icon:"cancel"},{text:this.translate.instant("trainingPrograms.alerts.finishButton"),role:"confirm",cssClass:"bg-primary hover:bg-primary-dark",icon:"done"}]);if(!(!e||e.role!=="confirm")){this.activeProgramActions.set(null),this.spinnerService.show(this.translate.instant("trainingPrograms.alerts.completing"));try{yield this.trainingProgramService.toggleProgramActivation(t,"completed")}catch{this.toastService.error(this.translate.instant("trainingPrograms.toasts.finishFailed"),0,"Error")}finally{this.spinnerService.hide()}}})}setView(t){return z(this,null,function*(){if(this.currentView()!==t){if(t==="calendar"){let e=this.activePrograms();if(e.length>1&&!this.calendarViewProgram()){let i=e.map(l=>({text:l.name,role:"confirm",data:l}));i.push({text:this.translate.instant("common.cancel"),role:"cancel",data:null});let n=yield this.alertService.showConfirmationDialog(this.translate.instant("trainingPrograms.alerts.selectProgramTitle"),this.translate.instant("trainingPrograms.alerts.selectProgramMessage"),i);if(n?.data)this.calendarViewProgram.set(n.data);else return}}this.currentView.set(t),t==="calendar"&&this.calendarMonths().length===0&&this.refreshCalendarView()}})}selectCalendarDay(t){t?.hasWorkout?this.selectedCalendarDayDetails.set(t):t?(this.toastService.info(this.translate.instant(t.isPastDay?"trainingPrograms.calendar.wasRestDay":"trainingPrograms.calendar.restDay"),2e3,G(t.date,"EEEE")),this.selectedCalendarDayDetails.set(null)):this.selectedCalendarDayDetails.set(null)}refreshCalendarView(){this.calendarMonths.set([]),this.currentCalendarDate=new Date,this.generateCalendarMonths(this.currentCalendarDate,3)}handleActionMenuItemClick(t,e){let i=t.data?.programId;if(i){switch(t.actionKey){case"view":this.viewProgramDetails(i);break;case"activate":this.toggleActiveProgram(i);break;case"finish":this.setProgramAsFinished(i);break;case"deactivate":this.toggleActiveProgram(i);break;case"edit":this.editProgram(i);break;case"delete":this.deleteProgram(i);break}this.activeProgramIdActions.set(null)}}getDaysScheduled(t){if(t.programType==="linear"){if(!t.weeks||t.weeks.length===0)return this.translate.instant("trainingPrograms.card.days",{count:0});let e=t.weeks.length,i=t.weeks.reduce((h,u)=>h+u.schedule.length,0);if(i===0)return this.translate.instant("trainingPrograms.card.days",{count:0});let l=(i/e).toFixed(1).replace(/\.0$/,"");return this.translate.instant("trainingPrograms.card.avgDaysPerWeek",{count:l})}else{if(!t.schedule||t.schedule.length===0)return this.translate.instant("trainingPrograms.card.days",{count:0});let e=new Set(t.schedule.map(i=>i.dayOfWeek)).size;return this.translate.instant(e===1?"trainingPrograms.card.days":"trainingPrograms.card.days_plural",{count:e})}}getCycleInfo(t){return t.programType==="linear"&&t.weeks?.length?`${t.weeks.length}-Week Program`:t.cycleLength&&t.cycleLength>0?`${t.cycleLength}-day cycle`:"Weekly"}getProgramOverallGoals(t){if(this.allRoutinesMap.size===0||!t.schedule?.length)return[];let e=new Set;return t.schedule.forEach(i=>{let n=this.allRoutinesMap.get(i.routineId);n?.goal&&e.add(n.goal)}),t.goals||Array.from(e)}getProgramMainMuscleGroups(t){if(this.allRoutinesMap.size===0||this.allExercisesMap.size===0||!t.schedule?.length)return[];let e=new Set;return t.schedule.forEach(i=>{this.allRoutinesMap.get(i.routineId)?.workoutExercises.forEach(l=>{let h=this.allExercisesMap.get(l.exerciseId);h?.primaryMuscleGroup&&e.add(h.primaryMuscleGroup)})}),Array.from(e)}setCalendarDisplayMode(t){if(this.isCalendarAnimating||this.calendarDisplayMode()===t)return;this.isCalendarAnimating=!0;let e=this.calendarDisplayMode(),i="outLeft",n="preloadFromRight";e==="week"&&t==="month"?(i="outLeft",n="preloadFromRight"):e==="month"&&t==="week"&&(i="outRight",n="preloadFromLeft"),this.calendarAnimationState.set(i),this.selectedCalendarDayDetails.set(null),setTimeout(()=>{this.calendarDisplayMode.set(t),this.calendarAnimationState.set(n),this.activeProgramForCalendar()?this.generateCalendarDays():this.isCalendarAnimating=!1},200)}changeCalendarPeriod(t){if(this.isCalendarAnimating||!this.activeProgramForCalendar())return;this.isCalendarAnimating=!0,this.selectedCalendarDayDetails.set(null);let e,i;t==="next"?(e="outLeft",i="preloadFromRight",this.calendarDisplayMode()==="month"?this.calendarViewDate.update(n=>it(n,1)):this.calendarViewDate.update(n=>oe(n,7))):(e="outRight",i="preloadFromLeft",this.calendarDisplayMode()==="month"?this.calendarViewDate.update(n=>_e(n,1)):this.calendarViewDate.update(n=>nt(n,7))),this.calendarAnimationState.set(e),setTimeout(()=>{this.calendarAnimationState.set(i),this.generateCalendarDays()},200)}previousPeriod(){this.changeCalendarPeriod("previous")}nextPeriod(){this.changeCalendarPeriod("next")}goToTodayCalendar(){if(this.isCalendarAnimating||!this.activeProgramForCalendar()||this.isTodayDisplayedInCalendar())return;this.isCalendarAnimating=!0,this.selectedCalendarDayDetails.set(null);let t=new Date,e=this.calendarViewDate(),i,n;e>t?(i="outRight",n="preloadFromLeft"):(i="outLeft",n="preloadFromRight"),this.calendarAnimationState.set(i),setTimeout(()=>{this.calendarViewDate.set(new Date),this.calendarAnimationState.set(n),this.generateCalendarDays()},200)}isTodayDisplayedInCalendar(){let t=new Date,e=this.calendarViewDate();if(this.calendarDisplayMode()==="month")return Te(e,t);{let i=ee(e,{weekStartsOn:this.weekStartsOn}),n=ve(e,{weekStartsOn:this.weekStartsOn});return t>=i&&t<=n}}generateCalendarDays(t=!1){return z(this,null,function*(){let e=this.activeProgramForCalendar();if(!H(this.platformId)||!e){this.calendarDays.set([]),this.selectedCalendarDayDetails.set(null),this.calendarLoading.set(!1),t||this.calendarAnimationState.set("center"),this.isCalendarAnimating=!1;return}this.calendarLoading.set(!0),!t&&!this.isCalendarAnimating&&this.selectedCalendarDayDetails.set(null);let i=this.calendarViewDate(),n,l;if(this.calendarDisplayMode()==="month"){let u=Se(i),f=ke(i);n=ee(u,{weekStartsOn:this.weekStartsOn}),l=ve(f,{weekStartsOn:this.weekStartsOn})}else n=ee(i,{weekStartsOn:this.weekStartsOn}),l=ve(i,{weekStartsOn:this.weekStartsOn});let h=se({start:n,end:l});try{let u=yield ce(this.trainingProgramService.getScheduledRoutinesForDateRangeByProgramId(e.id,n,l).pipe(me(1))),f=yield ce(this.trackingService.getWorkoutLogsByProgramIdForDateRange(e.id,n,l).pipe(me(1))),P=h.map(S=>{let M=u.filter(I=>U(I.date,S)),$=new Set(M.map(I=>I.scheduledDayInfo.routineId)),W=M.map(I=>{let re=this.allRoutinesMap.get(I.scheduledDayInfo.routineId);if(!re)return null;let ne=f.filter(F=>U(R(F.date),S)&&F.routineId===re.id&&F.iterationId===e.iterationId).sort((F,Tt)=>new Date(Tt.startTime).getTime()-new Date(F.startTime).getTime());return{routine:re,scheduledDayInfo:I.scheduledDayInfo,logs:ne,isUnscheduled:!1}}).filter(I=>I!==null),de=f.filter(I=>U(R(I.date),S)&&I.programId===e.id&&I.routineId&&!$.has(I.routineId)),te=this.mapWorkoutLogToScheduledItemWithLogs(de,e),ie=[...W,...te],N=ie.some(I=>I.logs.length>0);return{date:S,isCurrentMonth:this.calendarDisplayMode()==="month"?Te(S,i):!0,isToday:Y(S),isPastDay:fe(S)&&!Y(S),hasWorkout:ie.length>0,isLogged:N,scheduledItems:ie}});this.calendarDays.set(P)}catch(u){console.error("Error generating calendar days:",u),this.toastService.error("Could not load calendar schedule",0,"Error"),this.calendarDays.set([])}finally{this.calendarLoading.set(!1),t||this.calendarAnimationState()==="center"?this.calendarAnimationState.set("center"):(this.calendarAnimationState()==="preloadFromLeft"||this.calendarAnimationState()==="preloadFromRight")&&Promise.resolve().then(()=>this.calendarAnimationState.set("center")),this.isCalendarAnimating=!1,this.cdr.detectChanges()}})}viewSessionSummary(t){t&&(this.router.navigate(["/workout/summary",t]),this.selectCalendarDay(null))}checkCalendarDayForLogs(t){return this.isCalendarAnimating,t?.hasWorkout?(this.selectedCalendarDayLoggedWorkouts.set(t),this.selectedCalendarDayLoggedWorkouts()?.scheduledItems?.some(e=>e.logs.length>0)||!1):(t&&!t.hasWorkout?(this.toastService.clearAll(),this.toastService.info("It's a rest day!",2e3,G(t.date,"EEEE")),this.selectedCalendarDayLoggedWorkouts.set(null)):this.selectedCalendarDayLoggedWorkouts.set(null),!1)}startScheduledWorkout(t,e,i){t&&(this.workoutService.navigateToPlayer(t,{queryParams:{programId:e,scheduledDayId:i}}),this.selectCalendarDay(null))}loadNextCalendarMonths(){this.generateCalendarMonths(this.currentCalendarDate,2)}generateCalendarMonths(t,e){return z(this,null,function*(){let i=this.activeProgramForCalendar();if(!i){this.calendarMonths.set([]);return}this.calendarLoading.set(!0);let n=this.languageService.currentLang(),l=this.dateFnsLocales[n]||le,h=[],u=this.allWorkoutLogs().filter(f=>f.programId===i.id);for(let f=0;f<e;f++){let P=_e(t,f),S=Se(P),M=ke(P),$=yield ce(this.trainingProgramService.getScheduledRoutinesForDateRangeByProgramId(i.id,S,M)),W=se({start:S,end:M}),te=W[0].getDay(),ie=this.weekStartsOn===1?te===0?6:te-1:te;h.push({monthName:G(P,"LLLL",{locale:l}),monthDate:P,year:P.getFullYear(),spacers:Array(ie).fill(0),days:W.map(N=>{let I=u.filter(F=>U(R(F.date),N)),re=$.filter(F=>U(F.date,N)),ne=this.correlateScheduleWithLogs(re,I,i);return{date:N,isToday:Y(N),isPastDay:fe(N)&&!Y(N),hasWorkout:ne.length>0,isLogged:ne.some(F=>F.logs.length>0),logCount:I.length,scheduledItems:ne}})})}this.calendarMonths.update(f=>[...f,...h]),this.currentCalendarDate=_e(t,e),this.calendarLoading.set(!1)})}correlateScheduleWithLogs(t,e,i){let n=new Set(t.map(f=>f.scheduledDayInfo.routineId)),l=t.map(f=>{let P=this.allRoutinesMap.get(f.scheduledDayInfo.routineId);return P?{routine:P,scheduledDayInfo:f.scheduledDayInfo,logs:e.filter(S=>S.routineId===P.id&&S.iterationId===i.iterationId),isUnscheduled:!1}:null}).filter(Boolean),h=e.filter(f=>f.routineId&&!n.has(f.routineId)),u=this.mapWorkoutLogToScheduledItemWithLogs(h,i);return[...l,...u]}startProgramWorkout(t,e,i,n){n?.stopPropagation(),t&&this.workoutService.navigateToPlayer(t,{queryParams:{programId:e,scheduledDayId:i}})}logPreviousSession(t,e){let i=this.activeProgramForCalendar()?.id;if(!i){this.toastService.error(this.translate.instant("trainingPrograms.toasts.logFailed"),0,"Error");return}this.router.navigate(["workout/log/manual/new/from/",t.routine.id],{queryParams:{programId:i,pastSession:!0,iterationId:this.activeProgramForCalendar()?.iterationId,scheduledDayId:t.scheduledDayInfo.id,date:G(e,"yyyy-MM-dd")}}),this.selectCalendarDay(null)}goToProgramLogs(t){this.router.navigate(["/history/list"],t?{queryParams:{programId:t}}:{}),this.selectCalendarDay(null)}isToday(t){return Y(t)}isPast(t){return fe(t)&&!Y(t)}isFuture(t){return Ct(t)}getPastWorkoutSessionsForRoutineOnDate(t,e,i=!0){if(!this.activeProgramForCalendar())return[];let h=this.allWorkoutLogs().filter(u=>u.routineId===t&&U(R(u.date),e));return console.log(h),h}mapWorkoutLogToScheduledItemWithLogs(t,e){let i=new Map;t.forEach(l=>{l.routineId&&(i.has(l.routineId)||i.set(l.routineId,[]),i.get(l.routineId).push(l))});let n=[];return i.forEach((l,h)=>{let u=this.allRoutinesMap.get(h);u&&n.push({routine:u,logs:l,isUnscheduled:!0,scheduledDayInfo:{id:l[0].id,routineId:h,dayOfWeek:R(l[0].date).getDay(),programId:e.id,programName:e.name}})}),n}getProgramDropdownActionItems(t,e){let i="rounded text-left p-4 font-medium text-gray-600 dark:text-gray-300 hover:bg-primary flex items-center hover:text-white dark:hover:text-gray-100 dark:hover:text-white",n="rounded text-left p-4 font-medium text-gray-600 dark:text-gray-300 hover:bg-red-600 flex items-center hover:text-gray-100 hover:animate-pulse",l="rounded text-left p-4 font-medium text-gray-600 dark:text-gray-300 hover:bg-green-600 flex items-center hover:text-gray-100",h="rounded text-left p-4 font-medium text-gray-600 dark:text-gray-300 hover:bg-gray-500 flex items-center hover:text-gray-100",u=this.allProgramsForList().find($=>$.id===t),f={label:this.translate.instant("trainingPrograms.actions.activate"),actionKey:"activate",iconName:"activate",iconClass:"w-8 h-8 mr-2",buttonClass:(e==="dropdown"?"w-full ":"")+l,data:{programId:t}},P={label:this.translate.instant("trainingPrograms.actions.deactivate"),actionKey:"deactivate",iconName:"deactivate",iconClass:"w-7 h-7 mr-2",buttonClass:(e==="dropdown"?"w-full ":"")+h,data:{programId:t}},S={label:this.translate.instant("trainingPrograms.actions.finish"),actionKey:"finish",iconName:"goal",iconClass:"w-8 h-8 mr-2",buttonClass:(e==="dropdown"?"w-full ":"")+i,data:{programId:t}},M=[{label:this.translate.instant("trainingPrograms.actions.view"),actionKey:"view",iconName:"eye",iconClass:"w-8 h-8 mr-2",buttonClass:(e==="dropdown"?"w-full ":"")+i,data:{programId:t}},{label:this.translate.instant("trainingPrograms.actions.edit"),actionKey:"edit",iconName:"edit",iconClass:"w-8 h-8 mr-2",buttonClass:(e==="dropdown"?"w-full ":"")+i,data:{programId:t}}];return u?.isActive?(M.push(S),M.push(P)):M.push(f),M.push({isDivider:!0}),M.push({label:this.translate.instant("trainingPrograms.actions.delete"),actionKey:"delete",iconName:"trash",iconClass:"w-8 h-8 mr-2",buttonClass:(e==="dropdown"?"w-full ":"")+n,data:{programId:t}}),M}activeProgramIdActions=C(null);toggleActions(t,e){e.stopPropagation(),this.activeProgramIdActions.update(i=>i===t?null:t)}areActionsVisible(t){return this.activeProgramIdActions()===t}onCloseActionMenu(){this.activeProgramIdActions.set(null)}onDocumentClick(t){this.activeProgramIdActions()!==null&&(t.target.closest(".action-menu-container")||this.activeProgramIdActions.set(null))}ngOnDestroy(){this.subscriptions.unsubscribe(),this.hammerInstanceCalendar&&this.hammerInstanceCalendar.destroy(),this.hammerInstanceMode&&this.hammerInstanceMode.destroy()}showBackToTopButton=C(!1);onWindowScroll(){if(!H(this.platformId))return;this.showBackToTopButton.set(window.pageYOffset>400),window.innerHeight+window.scrollY>=document.body.offsetHeight-200&&this.currentView()==="calendar"&&!this.calendarLoading()&&this.loadNextCalendarMonths()}scrollToTop(){H(this.platformId)&&window.scrollTo({top:0,behavior:"smooth"})}handleFabClick(){this.isFabActionsOpen.update(t=>!t)}handleFabMouseEnter(){this.isTouchDevice||this.isFabActionsOpen.set(!0)}handleFabMouseLeave(){this.isTouchDevice||this.isFabActionsOpen.set(!1)}updateSanitizedDescription(t){return this.sanitizer.bypassSecurityTrustHtml(t)}getCurrentWeekInfo(t){return this.trainingProgramService.getCurrentWeekInfo(t)}fabMenuItems=[];refreshFabMenuItems(){this.fabMenuItems=[{label:"trainingPrograms.fab.create",actionKey:"create_program",iconName:"plus-circle",cssClass:"bg-blue-500 focus:ring-blue-400",isPremium:!0}]}onFabAction(t){switch(t){case"create_program":this.navigateToCreateProgram();break}}getCalendarDayClasses(t){let e=["cursor-pointer","font-bold"],i=[],n=["text-gray-800","dark:text-gray-200"];if(t.hasWorkout)t.isLogged?(i.push("bg-green-500","hover:bg-green-700"),n=["text-white"]):(i.push("bg-yellow-500","hover:bg-yellow-600"),n=["text-white"]);else if(t.isLogged)i.push("bg-green-500","hover:bg-green-700");else return{"cursor-default text-gray-800 dark:text-gray-200 font-bold":!0};return t.isToday&&e.push("ring-4","ring-primary"),{[[...e,...i,...n].join(" ")]:!0}}getProgramProgress(t){let e=this.allWorkoutLogs();if(!t||!t.isActive||!t.startDate)return{completedCount:0,totalCount:0,percentage:0};let i=0,n=0,l=R(t.startDate);if(t.programType==="linear"&&t.weeks?.length){n=t.weeks.reduce((P,S)=>P+S.schedule.length,0);let u=e.filter(P=>P.programId===t.id&&R(P.date)>=l&&t.iterationId===P.iterationId);i=new Set(u.map(P=>`${P.date}-${P.routineId}`)).size}else if(t.programType==="cycled"&&t.schedule.length>0){let u=t.cycleLength||7;n=t.schedule.length;let f=rt(new Date,l);if(f>=0){let P=Math.floor(f/u),S=oe(l,P*u),M=e.filter(W=>{let de=R(W.date);return W.programId===t.id&&de>=S});i=new Set(M.map(W=>`${W.date}-${W.routineId}`)).size}}if(n===0)return{completedCount:0,totalCount:0,percentage:0};i=Math.min(i,n);let h=Math.round(i/n*100);return{completedCount:i,totalCount:n,percentage:h}}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=Fe({type:r,selectors:[["app-training-program-list"]],viewQuery:function(e,i){if(e&1&&(Pe(Lt,5),Pe(Mt,5)),e&2){let n;we(n=be())&&(i.calendarSwipeContainer=n.first),we(n=be())&&(i.modeSwipeContainer=n.first)}},hostBindings:function(e,i){e&1&&k("click",function(l){return i.onDocumentClick(l)},Ee)("scroll",function(){return i.onWindowScroll()},Me)},decls:26,vars:30,consts:[["viewSwipeContainerEl",""],["loadingProgramsOrList",""],["totalOnly",""],["noPrograms",""],["noActiveProgramForCalendar",""],["noWorkoutScheduledForSelectedDay",""],["view-swipe-container","",1,"container","mx-auto","p-2","sm:p-4","overflow-hidden"],[1,"flex","justify-between","items-center","pb-2"],[1,"flex","items-center","justify-start"],["name","program",1,"w-10","h-10","mr-2","text-primary","dark:text-primary-light"],[1,"text-2xl","font-bold","text-gray-800","dark:text-gray-200"],["appPress","","type","button",1,"rounded-md","text-gray-600","dark:text-gray-300","hover:bg-gray-300","dark:hover:bg-gray-700","focus:outline-none","focus:ring-2","focus:ring-primary","dark:focus:ring-primary-light","transition-all","duration-300","ease-in-out","disabled:opacity-50",3,"shortPress","disabled","pressDisabled"],["name","filter",1,"w-10","h-10","transition-transform","duration-300"],[1,"sr-only"],[1,"mb-2","flex"],["appPress","",1,"px-3","sm:px-4","py-2","sm:py-3","-mb-px","text-md","font-semibold","focus:outline-none",2,"min-width","150px",3,"shortPress","ngClass"],[1,"relative","min-h-[400px]"],[3,"ngSwitch"],[4,"ngSwitchCase"],["class","min-h-[500px]",4,"ngSwitchCase"],[4,"ngIf"],[3,"actionClicked","actions"],[1,"overflow-y-auto","transition-all","duration-500","ease-in-out","rounded-md"],[1,"p-4","bg-white","dark:bg-gray-700","rounded-md","shadow-md","border","dark:border-gray-600"],[1,"text-xl","font-semibold","text-gray-700","dark:text-gray-300","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-4","items-end"],["for","program-search-term",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-1"],["type","text","id","program-search-term",1,"block","w-full","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200",3,"input","placeholder","value"],["for","program-cycle-type-filter",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-1"],["id","program-cycle-type-filter",1,"block","w-full","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200",3,"change","value"],["value",""],["value","weekly"],["value","cycled"],["for","program-type-filter",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-1"],["id","program-type-filter",1,"block","w-full","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200",3,"change","value"],["value","linear"],["for","program-goal-filter",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-1"],["id","program-goal-filter",1,"block","w-full","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200",3,"change","value"],[3,"value",4,"ngFor","ngForOf"],["for","program-muscle-filter",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-1"],["id","program-muscle-filter",1,"block","w-full","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200",3,"change","value"],[1,"mt-4","flex","justify-between","items-center"],["appPress","",1,"flex","px-4","py-2","bg-yellow-200","dark:bg-yellow-700","text-gray-700","dark:text-gray-200","rounded-md","hover:bg-yellow-300","dark:hover:bg-yellow-500","text-sm","items-center",3,"shortPress"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"size-5","mr-2"],["stroke-linecap","round","stroke-linejoin","round","d","m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"],["class","text-sm text-gray-600 dark:text-gray-400",4,"ngIf"],[4,"ngIf","ngIfElse"],[3,"value"],[1,"text-sm","text-gray-600","dark:text-gray-400"],["class","grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mt-4",4,"ngIf","ngIfElse"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-4","mt-4"],["class","bg-white dark:bg-gray-700 border dark:border-none rounded-md shadow-md hover:shadow-lg transition-shadow duration-200 relative group transform hover:-translate-y-1",3,"zIndex","ngClass","click",4,"ngFor","ngForOf"],[1,"bg-white","dark:bg-gray-700","border","dark:border-none","rounded-md","shadow-md","hover:shadow-lg","transition-shadow","duration-200","relative","group","transform","hover:-translate-y-1",3,"click","ngClass"],[1,"p-4","flex-grow","cursor-pointer","text-primary","dark:text-primary-light","dark:hover:text-yellow-200"],[1,"flex","flex-col","justify-between","items-start","mb-1.5","space-y-1"],[1,"text-lg","sm:text-xl","font-semibold","truncate","pr-10","text-wrap",3,"title"],["class","flex items-center bg-green-700 text-green-100 rounded-full",4,"ngIf"],["class","text-sm sm:text-xs text-gray-600 dark:text-gray-400 mb-2 line-clamp-2",3,"title",4,"ngIf"],[1,"space-y-2","text-sm","text-gray-500","dark:text-gray-300"],[1,"flex","items-center","gap-1"],["name","schedule",1,"w-6","h-6","text-gray-500","dark:text-gray-300",3,"strokeWidth"],[1,"font-medium"],["class","flex items-center gap-1",4,"ngIf"],["class","mt-1 flex items-center gap-1",4,"ngIf"],["class","flex items-center gap-1 text-green-700 dark:text-green-300 font-semibold animate-pulse",4,"ngIf"],["class","mt-4 space-y-1 border-t pt-4 dark:border-gray-600",4,"ngIf"],[1,"absolute","top-2","right-2"],[1,"relative"],[1,"text-gray-500","dark:text-gray-400","hover:bg-gray-200","dark:hover:bg-gray-500","rounded-full","focus:outline-none","flex","items-center",3,"click"],["name","menu-action",1,"h-10","w-10"],["displayMode","dropdown",3,"items","isVisible","itemClick","closeMenu",4,"ngIf"],["displayMode","modal",3,"modalTitle","items","isVisible","itemClick","closeMenu",4,"ngIf"],["displayMode","compact",3,"items","isVisible","itemClick","closeMenu",4,"ngIf"],[1,"flex","items-center","bg-green-700","text-green-100","rounded-full"],["name","activate",1,"h-6","w-6"],["class"," text-2xs sm:text-xs font-semibold p-1 ",4,"ngIf"],[1,"text-2xs","sm:text-xs","font-semibold","p-1"],[1,"text-sm","sm:text-xs","text-gray-600","dark:text-gray-400","mb-2","line-clamp-2",3,"title"],["name","calendar",1,"w-6","h-6","text-gray-500","dark:text-gray-300",3,"strokeWidth"],["name","clock",1,"w-6","h-6","text-gray-500","dark:text-gray-300",3,"strokeWidth"],[1,"mt-1","flex","items-center","gap-1"],["name","goal",1,"w-6","h-6","text-gray-500","dark:text-gray-300",3,"strokeWidth"],["class","text-center text-xs bg-blue-100 text-blue-700 dark:bg-blue-700 dark:text-blue-200 px-1.5 py-0.5 rounded-full mx-1 inline-block",4,"ngFor","ngForOf"],["class","text-center text-xs bg-blue-100 text-blue-700 dark:bg-blue-700 dark:text-blue-200 px-1.5 py-0.5 rounded-full mx-1 inline-block",4,"ngIf"],[1,"text-center","text-xs","bg-blue-100","text-blue-700","dark:bg-blue-700","dark:text-blue-200","px-1.5","py-0.5","rounded-full","mx-1","inline-block"],["name","change",1,"w-6","h-6","text-gray-500","dark:text-gray-300",3,"strokeWidth"],[1,"flex","items-center","gap-1","text-green-700","dark:text-green-300","font-semibold","animate-pulse"],["name","calendar-page",1,"w-6","h-6",3,"strokeWidth"],[1,"mt-4","space-y-1","border-t","pt-4","dark:border-gray-600"],[1,"flex","justify-between","items-baseline"],[1,"text-sm","font-medium","text-gray-600","dark:text-gray-300"],[1,"text-xs","font-semibold","text-primary","dark:text-primary-light"],[1,"w-full","bg-gray-200","dark:bg-gray-700","rounded-full","h-3","relative","flex","items-center"],[1,"bg-primary","h-1.5","my-1","mx-1","absolute","rounded-full","transition-all","duration-500","ease-out"],["displayMode","dropdown",3,"itemClick","closeMenu","items","isVisible"],["displayMode","modal",3,"itemClick","closeMenu","modalTitle","items","isVisible"],["displayMode","compact",3,"itemClick","closeMenu","items","isVisible"],[1,"text-center","py-12","px-6","bg-white","dark:bg-gray-700","rounded-md","shadow-md"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-16","h-16","mx-auto","text-gray-400","dark:text-gray-200","mb-4"],["stroke-linecap","round","stroke-linejoin","round","d","M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0v-7.5A2.25 2.25 0 015.25 9h13.5A2.25 2.25 0 0121 11.25v7.5m-9-3.75h.008v.008H12v-.008zM12 15h.008v.008H12V15zm0 2.25h.008v.008H12v-.008zM9.75 15h.008v.008H9.75V15zm0 2.25h.008v.008H9.75v-.008zM7.5 15h.008v.008H7.5V15zm0 2.25h.008v.008H7.5v-.008zm6.75-4.5h.008v.008h-.008v-.008zm0 2.25h.008v.008h-.008V15zm0 2.25h.008v.008h-.008v-.008zm2.25-4.5h.008v.008H16.5v-.008zm0 2.25h.008v.008H16.5V15z"],[1,"text-xl","font-semibold","text-gray-700","dark:text-gray-300","mb-2"],[1,"text-gray-500","dark:text-gray-400","mb-6"],["appPress","","class","bg-primary hover:bg-primary-dark text-white font-semibold py-2 px-6 rounded-md shadow-md hover:shadow-lg transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-primary-light focus:ring-opacity-75",3,"shortPress",4,"ngIf"],["appPress","",1,"bg-primary","hover:bg-primary-dark","text-white","font-semibold","py-2","px-6","rounded-md","shadow-md","hover:shadow-lg","transition-all","duration-300","focus:outline-none","focus:ring-2","focus:ring-primary-light","focus:ring-opacity-75",3,"shortPress"],[1,"text-center","py-10"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","h-8","w-8","text-primary","dark:text-primary-light","mx-auto"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],[1,"text-lg","text-gray-600","dark:text-gray-400","mt-3"],[1,"min-h-[500px]"],[1,"calendar-scroll-container"],["class","month-container mb-8",4,"ngFor","ngForOf"],["class","text-center py-10",4,"ngIf"],[1,"month-container","mb-8"],[1,"text-xl","font-semibold","text-gray-800","dark:text-gray-200","mb-4","text-center"],[1,"grid","grid-cols-7","gap-x-2","text-center","mb-2"],["class","text-sm font-bold text-gray-500 dark:text-gray-400",4,"ngFor","ngForOf"],[1,"grid","grid-cols-7","gap-x-2","gap-y-2"],[4,"ngFor","ngForOf"],["class","day-cell flex items-center justify-center h-10 w-full rounded-full text-md font-medium transition-colors duration-200",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"text-sm","font-bold","text-gray-500","dark:text-gray-400"],[1,"day-cell","flex","items-center","justify-center","h-10","w-full","rounded-full","text-md","font-medium","transition-colors","duration-200",3,"click","ngClass"],[1,"text-gray-500","dark:text-gray-400"],[1,"text-center","py-12","bg-white","dark:bg-gray-700","rounded-md","shadow-md"],["class","mt-4 text-primary dark:text-primary-light hover:underline font-semibold",3,"click",4,"ngIf"],[1,"mt-4","text-primary","dark:text-primary-light","hover:underline","font-semibold",3,"click"],["aria-hidden","true",1,"fixed","inset-0","z-30","bg-black/50","backdrop-blur-sm",3,"click"],[1,"fixed","inset-x-0","bottom-0","mb-[65px]","z-40","bg-white","dark:bg-gray-700","shadow-2xl","rounded-t-2xl","border-t-2","border-primary","dark:border-primary-light","max-h-[75vh]","flex","flex-col",2,"min-height","500px"],[1,"p-4","sm:p-5","flex-shrink-0"],[1,"flex","justify-between","items-center","mb-2"],[1,"text-lg","sm:text-xl","font-semibold","text-gray-800","dark:text-gray-100"],["class","text-xs text-primary dark:text-primary-light ml-2",4,"ngIf"],[1,"p-1.5","rounded-full","text-gray-500","dark:text-gray-400","hover:bg-gray-100","dark:hover:bg-gray-700","focus:outline-none",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"w-6","h-6"],["d","M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22Z"],[1,"overflow-y-auto","px-4","sm:px-5","pb-4","flex-grow","min-h-0","custom-scrollbar"],[1,"text-xs","text-primary","dark:text-primary-light","ml-2"],["class","mb-4 last:mb-0 p-3 bg-gray-50 dark:bg-gray-700/70 rounded-md",4,"ngFor","ngForOf"],[1,"mt-4","border-t","border-gray-200","dark:border-gray-600","pt-3"],[1,"flex","flex-col","sm:flex-row","justify-center","items-center","space-y-2","sm:space-y-0","sm:space-x-4","pt-4"],["appPress","",1,"flex","justify-center","items-center","w-full","sm:w-auto","px-6","py-3","bg-yellow-500","hover:bg-yellow-600","text-white","font-semibold","rounded-md","shadow-sm","text-lg","disabled:opacity-50","disabled:cursor-not-allowed",3,"shortPress"],["name","clock",1,"h-7","w-7","mr-1"],[1,"mb-4","last:mb-0","p-3","bg-gray-50","dark:bg-gray-700/70","rounded-md"],[1,"text-md","sm:text-lg","font-semibold","text-primary","dark:text-primary-light","mb-1"],["class","text-xs font-semibold bg-yellow-200 text-yellow-800 dark:bg-yellow-700 dark:text-yellow-100 px-2 py-1 rounded-full",4,"ngIf"],["class","text-xs text-gray-500 dark:text-gray-400",4,"ngIf"],["class","text-xs sm:text-sm text-gray-600 dark:text-gray-400 mb-1.5 line-clamp-3",3,"title","innerHTML",4,"ngIf"],["class","text-xs sm:text-sm text-blue-600 dark:text-blue-400 italic mb-1.5",4,"ngIf"],["class","text-2xs sm:text-xs text-gray-500 dark:text-gray-400 mb-2",4,"ngIf"],["class","mt-2 space-y-2 mb-2",4,"ngIf"],["class","mt-3",4,"ngIf"],["class","my-4 border-gray-300 dark:border-gray-600",4,"ngIf"],[1,"text-xs","font-semibold","bg-yellow-200","text-yellow-800","dark:bg-yellow-700","dark:text-yellow-100","px-2","py-1","rounded-full"],[1,"text-xs","text-gray-500","dark:text-gray-400"],[1,"text-xs","sm:text-sm","text-gray-600","dark:text-gray-400","mb-1.5","line-clamp-3",3,"title","innerHTML"],[1,"text-xs","sm:text-sm","text-blue-600","dark:text-blue-400","italic","mb-1.5"],[1,"text-2xs","sm:text-xs","text-gray-500","dark:text-gray-400","mb-2"],[1,"mt-2","space-y-2","mb-2"],[1,"text-xs","font-medium","text-gray-700","dark:text-gray-300"],["class","p-2 bg-sky-50 dark:bg-sky-900/50 rounded-md border border-sky-200 dark:border-sky-700",4,"ngFor","ngForOf"],[1,"p-2","bg-sky-50","dark:bg-sky-900/50","rounded-md","border","border-sky-200","dark:border-sky-700"],[1,"flex","justify-between","items-center"],[1,"text-md","text-sky-700","dark:text-sky-300"],["appPress","",1,"flex","justify-center","items-center","max-w-[200px]","sm:w-auto","px-6","py-3","bg-sky-500","hover:bg-sky-600","text-white","font-semibold","rounded-md","shadow-sm","text-lg","disabled:opacity-50","disabled:cursor-not-allowed","ng-tns-c2615860199-17",3,"shortPress"],["name","eye",1,"h-6","w-6","mr-1"],[1,"mt-3"],["appPress","","class","flex justify-center items-center w-full sm:max-w-[200px] px-6 py-3  text-white font-semibold rounded-md shadow-sm text-lg disabled:opacity-50 disabled:cursor-not-allowed",3,"disabled","ngClass","shortPress",4,"ngIf"],["appPress","","class","flex justify-center items-center w-full sm:max-w-[200px] px-6 py-3 bg-blue-500 hover:bg-blue-600 text-white font-semibold rounded-md shadow-sm text-lg disabled:opacity-50 disabled:cursor-not-allowed",3,"sm:col-start-2","shortPress",4,"ngIf"],["appPress","",1,"flex","justify-center","items-center","w-full","sm:max-w-[200px]","px-6","py-3","text-white","font-semibold","rounded-md","shadow-sm","text-lg","disabled:opacity-50","disabled:cursor-not-allowed",3,"shortPress","disabled","ngClass"],["name","play",1,"h-7","w-7","mr-1"],["appPress","",1,"flex","justify-center","items-center","w-full","sm:max-w-[200px]","px-6","py-3","bg-blue-500","hover:bg-blue-600","text-white","font-semibold","rounded-md","shadow-sm","text-lg","disabled:opacity-50","disabled:cursor-not-allowed",3,"shortPress"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-10","h-10","sm:w-5","sm:h-5","mr-2"],["stroke-linecap","round","stroke-linejoin","round","d","M2 17.25V21h3.75L17.81 9.94l-3.75-3.75L2 17.25zM20.71 7.04a1 1 0 0 0 0-1.41l-2.34-2.34a1 1 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"],[1,"my-4","border-gray-300","dark:border-gray-600"],[1,"text-sm","text-gray-500","dark:text-gray-400","text-center","py-5"]],template:function(e,i){if(e&1){let n=E();s(0,"div",6,0)(2,"header",7)(3,"div",8),T(4,"app-icon",9),s(5,"h1",10),c(6),g(7,"translate"),o()(),s(8,"button",11),k("shortPress",function(){return w(n),b(i.toggleFilterAccordion())}),T(9,"app-icon",12),s(10,"span",13),c(11),g(12,"translate"),o()()(),s(13,"div",14)(14,"button",15),k("shortPress",function(){return w(n),b(i.setView("list"))}),c(15),g(16,"translate"),o(),s(17,"button",15),k("shortPress",function(){return w(n),b(i.setView("calendar"))}),c(18),g(19,"translate"),o()(),s(20,"div",16)(21,"div",17),v(22,si,69,62,"div",18)(23,vi,4,2,"div",19),o()(),v(24,Ei,16,8,"div",20),o(),s(25,"app-fab-menu",21),k("actionClicked",function(h){return w(n),b(i.onFabAction(h))}),o()}e&2&&(a(6),_(p(7,16,"trainingPrograms.title")),a(2),d("disabled",i.currentView()!=="list")("pressDisabled",i.currentView()!=="list"),a(),pe("rotate-180",i.currentView()==="list"&&i.isFilterAccordionOpen()),a(2),_(p(12,18,"trainingPrograms.toggleFilters")),a(3),d("ngClass",X(24,kt,i.currentView()==="list",i.currentView()!=="list")),a(),x(" ",p(16,20,"trainingPrograms.view.myPrograms")," "),a(2),d("ngClass",X(27,kt,i.currentView()==="calendar",i.currentView()!=="calendar")),a(),x(" ",p(19,22,"trainingPrograms.view.calendar")," "),a(3),d("@slideView",i.currentView())("ngSwitch",i.currentView()),a(),d("ngSwitchCase","list"),a(),d("ngSwitchCase","calendar"),a(),d("ngIf",i.selectedCalendarDayDetails()),a(),d("actions",i.fabMenuItems))},dependencies:[je,We,Oe,Re,Ne,He,wt,Ye,Ze,bt,Je,ze,Ge,$e,Qe],encapsulation:2,data:{animation:[q("slideView",[V("list => calendar",[y({position:"relative"}),B(":enter, :leave",[y({position:"absolute",top:0,left:0,width:"100%",height:"100%"})],{optional:!0}),B(":enter",[y({left:"100%",opacity:0})],{optional:!0}),B(":leave",[y({left:"0%",opacity:1})],{optional:!0}),Ce([B(":leave",[D("300ms ease-out",y({left:"-100%",opacity:0}))],{optional:!0}),B(":enter",[D("300ms ease-out",y({left:"0%",opacity:1}))],{optional:!0}),D("300ms ease-out",y({height:"*"}))])]),V("calendar => list",[y({position:"relative"}),B(":enter, :leave",[y({position:"absolute",top:0,left:0,width:"100%",height:"100%"})],{optional:!0}),B(":enter",[y({left:"-100%",opacity:0})],{optional:!0}),B(":leave",[y({left:"0%",opacity:1})],{optional:!0}),Ce([B(":leave",[D("300ms ease-out",y({left:"100%",opacity:0}))],{optional:!0}),B(":enter",[D("300ms ease-out",y({left:"0%",opacity:1}))],{optional:!0}),D("300ms ease-out",y({height:"*"}))])])]),q("fabSlideUp",[V(":enter",[y({opacity:0,transform:"translateY(200%)"}),D("250ms ease-out",y({opacity:1,transform:"translateY(0)"}))]),V(":leave",[D("200ms ease-in",y({opacity:0,transform:"translateY(100%)"}))])]),q("slideUpDown",[V(":enter",[y({transform:"translateY(100%)",opacity:0}),D("300ms ease-out",y({transform:"translateY(0%)",opacity:1}))]),V(":leave",[D("250ms ease-in",y({transform:"translateY(100%)",opacity:0}))])]),q("slideInOutActions",[O("void",y({height:"0px",opacity:0,overflow:"hidden",paddingTop:"0",paddingBottom:"0",marginTop:"0",marginBottom:"0"})),O("*",y({height:"*",opacity:1,overflow:"hidden",paddingTop:"0.5rem",paddingBottom:"0.5rem"})),V("void <=> *",D("200ms ease-in-out"))]),q("dropdownMenu",[O("void",y({opacity:0,transform:"scale(0.75) translateY(-10px)",transformOrigin:"top right"})),O("*",y({opacity:1,transform:"scale(1) translateY(0)",transformOrigin:"top right"})),V("void => *",[D("150ms cubic-bezier(0.25, 0.8, 0.25, 1)")]),V("* => void",[D("100ms cubic-bezier(0.25, 0.8, 0.25, 1)")])]),q("calendarPeriodSlide",[O("center",y({transform:"translateX(0%)",opacity:1})),O("outLeft",y({transform:"translateX(-100%)",opacity:0})),O("outRight",y({transform:"translateX(100%)",opacity:0})),O("preloadFromRight",y({transform:"translateX(100%)",opacity:0})),O("preloadFromLeft",y({transform:"translateX(-100%)",opacity:0})),V("center => outLeft",D("200ms ease-in")),V("center => outRight",D("200ms ease-in")),V("preloadFromRight => center",D("200ms ease-out")),V("preloadFromLeft => center",D("200ms ease-out"))])]}})};var Br=[{path:"",component:xe,title:"Training Programs"},{path:"new",loadComponent:()=>import("./chunk-WKT2GLR5.js").then(r=>r.TrainingProgramBuilderComponent),data:{mode:"new",showPausedWorkoutBanner:!1},title:"New Training Program"},{path:"edit/:programId",loadComponent:()=>import("./chunk-WKT2GLR5.js").then(r=>r.TrainingProgramBuilderComponent),data:{mode:"edit",showPausedWorkoutBanner:!1},title:"Edit Training Program"},{path:"view/:programId",loadComponent:()=>import("./chunk-WKT2GLR5.js").then(r=>r.TrainingProgramBuilderComponent),data:{mode:"view",showPausedWorkoutBanner:!1},title:"View Training Program"},{path:"completed/:programId",loadComponent:()=>import("./chunk-L5RATZHN.js").then(r=>r.ProgramCompletionComponent),data:{mode:"view",showPausedWorkoutBanner:!1},title:"Program Completed"}];export{Br as TRAINING_PROGRAM_ROUTES};
