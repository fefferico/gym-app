import{a as ct}from"./chunk-ZVOVVNYZ.js";import{a as Ye,c as Ee}from"./chunk-GF6QYRYG.js";import{a as Pe}from"./chunk-3P6XZOUX.js";import"./chunk-GFZGWDBB.js";import{d as dt,e as pt}from"./chunk-7HPXGK63.js";import{a as mt}from"./chunk-MYMKSRHQ.js";import{a as st}from"./chunk-B5HIVGFK.js";import{a as lt}from"./chunk-OSQVHM7R.js";import{a as ke,b as Ce}from"./chunk-HGGWE2BZ.js";import{c as Be,d as me,f as Z,g as Q,h as de}from"./chunk-4PTIEP3X.js";import{a as rt,b as it,c as nt,o as ot,r as at}from"./chunk-4FWDYPHY.js";import{$ as F,$a as ne,A as B,Ac as he,B as Le,Bc as Je,Cc as ve,Dc as be,Ec as Ze,Fc as Qe,Ga as d,Gc as et,Ha as r,Ia as t,Ic as xe,J as re,Ja as c,Jb as ae,Kb as U,Kc as _e,Lb as G,Lc as Se,M as Re,Na as Fe,Nc as W,Oa as Ae,Ob as Ge,Oc as we,Pc as tt,Q as v,Qa as C,Qc as $,Ra as g,Rb as je,Sa as u,Sb as We,Tb as se,U as b,Ub as $e,V as x,W as M,Wb as j,X as I,Xb as J,Za as A,_a as Ue,bb as o,cb as E,d as Ne,db as _,fb as oe,ga as ie,gc as le,hc as ze,ja as V,ka as He,lc as Ke,ma as l,mb as De,mc as pe,nb as D,nc as f,o as N,oc as ce,pc as ge,rb as S,sb as R,tb as T,tc as ue,ua as L,ub as H,uc as fe,vb as X,vc as qe,x as te,xc as ye,yb as O,yc as Xe,za as y}from"./chunk-OVAULOJF.js";import{a as K,b as q,g as w}from"./chunk-GAL4ENT6.js";var z=class s{STORE_NAME="progress_photos";dbService=v(Ye);saveImage(i,e){return w(this,null,function*(){return N(this.dbService.update(this.STORE_NAME,{date:i,image:e}))})}getImage(i){return w(this,null,function*(){if(!i)return Promise.resolve(void 0);let e=yield N(this.dbService.getByKey(this.STORE_NAME,i));return e?e.image:void 0})}deleteImage(i){return w(this,null,function*(){return i?N(this.dbService.delete(this.STORE_NAME,i)):Promise.resolve()})}getAllImagesForBackup(){return w(this,null,function*(){let i=yield N(this.dbService.getAll(this.STORE_NAME)),e=[];for(let n of i)if(n.image instanceof Blob){let a=yield this.blobToBase64(n.image);e.push({date:n.date,type:n.image.type,data:a})}return e})}importImages(i){return w(this,null,function*(){if(!i||i.length===0)return Promise.resolve();let e=i.map(n=>{let a=this.base64ToBlob(n.data,n.type);return{date:n.date,image:a}});return N(this.dbService.bulkPut(this.STORE_NAME,e))})}blobToBase64(i){return new Promise((e,n)=>{let a=new FileReader;a.onloadend=()=>e(a.result),a.onerror=n,a.readAsDataURL(i)})}base64ToBlob(i,e=""){let n=atob(i.split(",")[1]),a=[];for(let m=0;m<n.length;m+=512){let p=n.slice(m,m+512),h=new Array(p.length);for(let P=0;P<p.length;P++)h[P]=p.charCodeAt(P);let k=new Uint8Array(h);a.push(k)}return new Blob(a,{type:e})}static \u0275fac=function(e){return new(e||s)};static \u0275prov=Re({token:s,factory:s.\u0275fac,providedIn:"root"})};var gt=(s,i)=>({"bg-primary hover:bg-primary-dark text-white border-primary dark:border-primary":s,"border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700":i}),Oe=(s,i)=>({"bg-primary text-white border-primary dark:border-primary":s,"border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700":i});function bt(s,i){if(s&1&&(r(0,"option",100),o(1),t()),s&2){let e=i.$implicit;d("value",e.value),l(),_("",e.label," ")}}function xt(s,i){s&1&&(r(0,"div",101),o(1," Must be a positive number (e.g., 2.5 or 5). Max 50. "),t())}function _t(s,i){s&1&&(r(0,"div",101),o(1," Must be 1-20s. "),t())}function St(s,i){if(s&1){let e=C();r(0,"div",10)(1,"label",102),o(2,"Countdown From (seconds)"),t(),r(3,"input",103),g("change",function(){b(e);let a=u();return x(a.currentVibrator.vibrate(50))}),t(),y(4,_t,2,0,"div",58),t()}if(s&2){let e,n=u();l(4),d("ngIf",((e=n.appSettingsForm.get("countdownSoundSeconds"))==null?null:e.invalid)&&((e=n.appSettingsForm.get("countdownSoundSeconds"))==null?null:e.touched))}}function wt(s,i){s&1&&(r(0,"div",101),o(1," Must be 3-60s. "),t())}function kt(s,i){if(s&1){let e=C();r(0,"div",104)(1,"label",105),o(2,"Pre-Set Timer Duration (seconds)"),t(),r(3,"input",106),g("change",function(){b(e);let a=u();return x(a.currentVibrator.vibrate(50))}),t(),y(4,wt,2,0,"div",58),t()}if(s&2){let e,n=u();l(4),d("ngIf",((e=n.appSettingsForm.get("presetTimerDurationSeconds"))==null?null:e.invalid)&&((e=n.appSettingsForm.get("presetTimerDurationSeconds"))==null?null:e.touched))}}function Ct(s,i){if(s&1&&(r(0,"div",114),c(1,"input",115),r(2,"label",116),o(3),t()()),s&2){let e=i.$implicit;l(),d("id","strategy-"+e.value)("value",e.value),l(),d("for","strategy-"+e.value),l(),E(e.label)}}function Et(s,i){s&1&&(r(0,"div",101),o(1," Please select a strategy. "),t())}function Pt(s,i){s&1&&(r(0,"div",101),o(1," Must be a positive number. "),t())}function Tt(s,i){if(s&1&&(r(0,"div")(1,"label",117),o(2),S(3,"uppercase"),t(),c(4,"input",118),y(5,Pt,2,0,"div",58),t()),s&2){let e,n=u(2);l(2),_("Weight Increment (",R(3,2,n.unitsService.currentUnit()),")"),l(3),d("ngIf",((e=n.progressiveOverloadForm.get("weightIncrement"))==null?null:e.invalid)&&((e=n.progressiveOverloadForm.get("weightIncrement"))==null?null:e.touched))}}function Mt(s,i){s&1&&(r(0,"div",101),o(1," Must be a whole number (e.g., 1, 2). "),t())}function It(s,i){if(s&1&&(r(0,"div")(1,"label",119),o(2,"Repetitions Increment"),t(),c(3,"input",120),y(4,Mt,2,0,"div",58),t()),s&2){let e,n=u(2);l(4),d("ngIf",((e=n.progressiveOverloadForm.get("repsIncrement"))==null?null:e.invalid)&&((e=n.progressiveOverloadForm.get("repsIncrement"))==null?null:e.touched))}}function Ft(s,i){s&1&&(r(0,"div",101),o(1," Must be at least 1 session. "),t())}function At(s,i){if(s&1&&(r(0,"div",107)(1,"div")(2,"label",108),o(3,"Progression Strategy"),t(),r(4,"p",97),o(5,"Choose what to increase when you meet your goals."),t(),r(6,"div",109),y(7,Ct,4,4,"div",110),t(),y(8,Et,2,0,"div",58),t(),y(9,Tt,6,4,"div",111)(10,It,5,1,"div",111),r(11,"div")(12,"label",112),o(13,"Apply After # Successful Sessions"),t(),r(14,"p",56),o(15,"Increase after completing this many workouts for an exercise successfully."),t(),c(16,"input",113),y(17,Ft,2,0,"div",58),t()()),s&2){let e,n,a,m,p=u();l(7),d("ngForOf",p.progressiveOverloadStrategies),l(),d("ngIf",((e=p.progressiveOverloadForm.get("strategy"))==null?null:e.invalid)&&((e=p.progressiveOverloadForm.get("strategy"))==null?null:e.touched)),l(),d("ngIf",((n=p.progressiveOverloadForm.get("strategy"))==null?null:n.value)==="weight"),l(),d("ngIf",((a=p.progressiveOverloadForm.get("strategy"))==null?null:a.value)==="reps"),l(7),d("ngIf",((m=p.progressiveOverloadForm.get("sessionsToIncrement"))==null?null:m.invalid)&&((m=p.progressiveOverloadForm.get("sessionsToIncrement"))==null?null:m.touched))}}var Te=class s{fb=v(xe);router=v(le);workoutService=v(nt);trackingService=v(Ce);personalGymService=v(ct);trainingProgramService=v(at);exerciseService=v(ke);storageService=v(tt);unitsService=v(Pe);alertService=v(we);spinnerService=v(lt);themeService=v(mt);userProfileService=v(Ee);appSettingsService=v(it);progressiveOverloadService=v(rt);platformId=v(ie);toastService=v($);imageStorageService=v(z);currentVibrator=navigator;syncHistoryTooltipString='This will scan all workout logs to update the "Last Used" date for every exercise in your library. Run this if the dates seem out of sync after an import or an update.';goalsForm;profileForm;appSettingsForm;progressiveOverloadForm;currentUnit=this.unitsService.currentUnit;genders=[{label:"Male",value:"male"},{label:"Female",value:"female"},{label:"Other",value:"other"},{label:"Prefer not to say",value:"prefer_not_to_say"}];progressiveOverloadStrategies=[{label:"Increase Weight",value:"weight"},{label:"Increase Reps",value:"reps"}];BACKUP_VERSION=6;constructor(){this.profileForm=this.fb.group({general:this.fb.group({username:[""],gender:[null],age:[null,[f.min(0),f.max(150),f.required]]}),measurements:this.fb.group({heightCm:[null,[f.min(0),f.required]],weightKg:[null,[f.min(0),f.required]],chestCm:[null,[f.min(0)]],neckCm:[null,[f.min(0)]],waistCm:[null,[f.min(0)]],hipsCm:[null,[f.min(0)]],rightArmCm:[null,[f.min(0)]]})}),this.goalsForm=this.fb.group({weightKg:[null,[f.min(0)]],waistCm:[null,[f.min(0)]]}),this.appSettingsForm=this.fb.group({enableTimerCountdownSound:[!0],playerMode:["focus"],countdownSoundSeconds:[5,[f.required,f.min(1),f.max(60)]],enablePresetTimer:[!1],presetTimerDurationSeconds:[10,[f.required,f.min(3),f.max(60)]],weightStep:[2.5,[f.required,f.min(.01),f.max(50)]]}),this.progressiveOverloadForm=this.fb.group({enabled:[!1],strategy:[null],weightIncrement:[null,[f.min(.1)]],repsIncrement:[null,[f.min(1),f.pattern("^[0-9]*$")]],sessionsToIncrement:[1,[f.required,f.min(1)]]})}ngOnInit(){J(this.platformId)&&window.scrollTo(0,0),this.loadProfileData(),this.loadAppSettingsData(),this.loadProgressiveOverloadSettings(),this.appSettingsForm.valueChanges.pipe(B(700),te(()=>this.appSettingsForm.valid&&this.appSettingsForm.dirty),re(i=>{this.appSettingsService.saveSettings(i),this.appSettingsForm.markAsPristine({onlySelf:!1}),this.toastService.info("App settings auto-saved",1500)})).subscribe(),this.listenForProgressiveOverloadChanges(),this.profileForm.get("general")?.valueChanges.pipe(B(700)).subscribe(()=>this.saveGeneralData()),this.loadGoalsData(),this.goalsForm.valueChanges.pipe(B(700),te(()=>this.goalsForm.valid&&this.goalsForm.dirty),re(i=>{this.userProfileService.saveGoals(i),this.goalsForm.markAsPristine(),this.toastService.info("Goals auto-saved",1500)})).subscribe()}loadGoalsData(){let i=this.userProfileService.getProfile()?.measurementGoals;i&&this.goalsForm.reset(i,{emitEvent:!1})}saveMeasurements(){let i=this.profileForm?.get("measurements");if(!this.profileForm||!i||i.invalid){this.toastService.error("Please fill in all required fields correctly: at least age, height and weight should be filled.");return}let e=this.profileForm.get("measurements")?.value;this.userProfileService.addOrUpdateMeasurementEntry(e),this.profileForm.get("measurements").markAsPristine(),this.toastService.info("Measurements history updated",1500)}saveGeneralData(){let i={username:this.profileForm.get("general.username")?.value,gender:this.profileForm.get("general.gender")?.value,age:this.profileForm.get("general.age")?.value};this.userProfileService.saveProfile(i),this.toastService.info("Profile auto-saved",1500),this.profileForm.markAsPristine()}listenForProgressiveOverloadChanges(){this.progressiveOverloadForm.valueChanges.pipe(B(700),te(()=>this.progressiveOverloadForm.valid&&this.progressiveOverloadForm.dirty),re(m=>{this.progressiveOverloadService.saveSettings(m),this.progressiveOverloadForm.markAsPristine({onlySelf:!1}),this.toastService.info("Progressive Overload settings auto-saved",1500)})).subscribe();let i=this.progressiveOverloadForm.get("enabled"),e=this.progressiveOverloadForm.get("strategy"),n=this.progressiveOverloadForm.get("weightIncrement"),a=this.progressiveOverloadForm.get("repsIncrement");i?.valueChanges.subscribe(m=>{m?e?.setValidators(f.required):(e?.clearValidators(),e?.setValue(null,{emitEvent:!1})),e?.updateValueAndValidity()}),e?.valueChanges.subscribe(m=>{m==="weight"?(n?.setValidators([f.required,f.min(.1)]),a?.clearValidators(),a?.setValue(null,{emitEvent:!1})):m==="reps"?(a?.setValidators([f.required,f.min(1),f.pattern("^[0-9]*$")]),n?.clearValidators(),n?.setValue(null,{emitEvent:!1})):(n?.clearValidators(),a?.clearValidators(),n?.setValue(null,{emitEvent:!1}),a?.setValue(null,{emitEvent:!1})),n?.updateValueAndValidity(),a?.updateValueAndValidity()})}loadProfileData(){let i=this.userProfileService.getProfile();if(i){let e=this.userProfileService.getMeasurements();this.profileForm.reset({general:{username:i.username||"",gender:i.gender||null,age:i.age||null},measurements:e||{}},{emitEvent:!1})}else this.profileForm.reset({general:{username:null,gender:null,age:null},measurements:{heightCm:null,weightKg:null,age:null,chestCm:null,waistCm:null,hipsCm:null,rightArmCm:null}},{emitEvent:!1})}loadAppSettingsData(){let i=this.appSettingsService.getSettings();this.appSettingsForm.reset(i,{emitEvent:!1})}loadProgressiveOverloadSettings(){let i=this.progressiveOverloadService.getSettings();this.progressiveOverloadForm.reset(i,{emitEvent:!1})}exportData(){return w(this,null,function*(){this.spinnerService.show("Exporting data...");let i=yield this.imageStorageService.getAllImagesForBackup(),e={version:this.BACKUP_VERSION,timestamp:new Date().toISOString(),profile:this.userProfileService.getDataForBackup(),progressPhotos:i,appSettings:this.appSettingsService.getDataForBackup(),progressiveOverload:this.progressiveOverloadService.getDataForBackup(),routines:this.workoutService.getDataForBackup(),programs:this.trainingProgramService.getDataForBackup(),exercises:this.exerciseService.getDataForBackup(),workoutLogs:this.trackingService.getLogsForBackup(),personalBests:this.trackingService.getPBsForBackup(),personalGym:this.personalGymService.getDataForBackup()},n=JSON.stringify(e,null,2),a=new Blob([n],{type:"application/json"}),m=URL.createObjectURL(a),p=document.createElement("a"),h=ot(new Date,"yyyyMMdd_HHmmss");p.download=`FitTrackPro_backup_v${this.BACKUP_VERSION}_${h}.json`,p.href=m,p.click(),URL.revokeObjectURL(m),this.spinnerService.hide(),this.toastService.success("Data export initiated",3e3)})}importData(i){let e=i.target,n=e.files?.[0];if(!n)return;if(n.type!=="application/json"){this.alertService.showAlert("Error","Invalid file type. Please select a JSON file."),e.value="";return}let a=new FileReader;a.onload=m=>{try{let p=m.target?.result,h=JSON.parse(p);if(typeof h!="object"||h===null){this.alertService.showAlert("Error","Invalid backup file format. Expected an object."),e.value="";return}let k=h.version;if(k>this.BACKUP_VERSION){this.alertService.showAlert("Error",`Backup version ${k} is newer than the app's supported version ${this.BACKUP_VERSION}. Please update the app.`),e.value="";return}this.alertService.showConfirm("WARNING","Importing data will try to MERGE your current data with the IMPORTED one. Are you sure?").then(P=>w(this,null,function*(){P&&P.data?(this.spinnerService.show("Importing data..."),k>=6&&h.progressPhotos&&(yield this.imageStorageService.importImages(h.progressPhotos)),k>=5?this.userProfileService.mergeData(h.profile):k>=2?this.userProfileService.replaceData(h.profile):this.userProfileService.replaceData(null),this.workoutService.mergeData(h.routines),this.trackingService.replaceLogs(h.workoutLogs),this.trackingService.replacePBs(h.personalBests),h.personalGym&&this.personalGymService.mergeData(h.personalGym),k>=4&&this.progressiveOverloadService.replaceData(h.progressiveOverload),k>=3&&(this.exerciseService.mergeData(h.exercises),this.trainingProgramService.mergeData(h.programs)),k>=2&&this.appSettingsService.replaceData(h.appSettings),this.loadProfileData(),this.loadAppSettingsData(),this.loadProgressiveOverloadSettings(),this.loadGoalsData(),this.spinnerService.hide(),this.toastService.success("Data imported successfully!",5e3,"Import Complete")):this.toastService.info("Data import cancelled",2e3)}))}catch(p){console.error("Error processing imported file:",p),this.alertService.showAlert("Error","Error processing backup file. Ensure it is valid JSON.")}finally{e.value=""}},a.onerror=()=>{this.alertService.showAlert("Error","Error reading file."),e.value=""},a.readAsText(n)}clearAllAppData(){return w(this,null,function*(){let i=yield this.alertService.showConfirmationDialog("WARNING","This will delete ALL your workout data, profile, and settings. This cannot be undone. Are you sure?",[{text:"Cancel",role:"cancel",data:!1,icon:"cancel"},{text:"Clear all data",role:"confirm",data:!0,cssClass:"bg-red-600",icon:"trash"}]);if(i&&i.data){let e=yield this.alertService.showPromptDialog("Confirm Data Deletion",'To confirm, please type "DELETE" in the input below. This will delete ALL your workout data, profile, and settings. This cannot be undone.',[{name:"confirmDialogInput",type:"text",placeholder:"Type DELETE to confirm",value:"",autofocus:!0}],"CLEAR ALL DATA"),n=e&&typeof e.confirmDialogInput=="string"?e.confirmDialogInput:null;if(!n||n.toUpperCase()!=="DELETE"){this.alertService.showAlert("Cancelled","Data clearing cancelled. No changes made.");return}this.trackingService.clearAllWorkoutLogs_DEV_ONLY&&(yield this.trackingService.clearAllWorkoutLogs_DEV_ONLY()),this.trackingService.clearAllPersonalBests_DEV_ONLY&&(yield this.trackingService.clearAllPersonalBests_DEV_ONLY()),this.workoutService.clearAllRoutines_DEV_ONLY&&(yield this.workoutService.clearAllRoutines_DEV_ONLY()),this.userProfileService.clearUserProfile_DEV_ONLY&&this.userProfileService.clearUserProfile_DEV_ONLY(),this.appSettingsService.clearAppSettings_DEV_ONLY&&this.appSettingsService.clearAppSettings_DEV_ONLY(),this.progressiveOverloadService.clearSettings_DEV_ONLY&&this.progressiveOverloadService.clearSettings_DEV_ONLY(),this.trainingProgramService.deactivateAllPrograms&&this.trainingProgramService.deactivateAllPrograms(),this.loadProfileData(),this.loadAppSettingsData(),this.loadProgressiveOverloadSettings(),yield this.alertService.showAlert("Info","All application data has been cleared")}})}selectUnit(i){this.unitsService.setUnitPreference(i)}toggleWipDisclaimer(){let i=this.userProfileService.getHideWipDisclaimer();this.userProfileService.updateHideWipDisclaimer(!i)}navigateToExerciseLibrary(){this.router.navigate(["/library"])}navigateToPersonalGym(){this.vibrate(),this.router.navigate(["/personal-gym"])}navigateToPersonalBests(){this.router.navigate(["/profile/personal-bests"])}onSyncExerciseHistoryClick(){return w(this,null,function*(){let i=yield this.alertService.showConfirm("Sync Exercise History",'This will scan your workout logs to update the "Last Used" date for all exercises. This may take a moment. Proceed?');i&&i.data&&(yield this.trackingService.backfillLastUsedExerciseTimestamps())})}navigateToBodyMeasurements(){this.router.navigate(["/profile/measurements"])}showSyncHistoryTooltip(){if(this.platformId==="browser"&&window.innerWidth<=768){this.vibrate(),this.alertService.showAlert("Sync Exercise History",this.syncHistoryTooltipString);return}}vibrate(){let i=navigator;i&&"vibrate"in i&&i.vibrate(50)}selectMenuMode(i){this.vibrate(),this.appSettingsService.setMenuMode(i)}static \u0275fac=function(e){return new(e||s)};static \u0275cmp=L({type:s,selectors:[["app-profile-settings"]],decls:261,vars:42,consts:[[1,"container","mx-auto","p-2","sm:p-4"],[1,"flex","justify-between","items-center","pb-2"],[1,"text-2xl","font-bold","text-gray-800","dark:text-gray-200"],[1,"space-y-6","sm:space-y-8"],[1,"bg-white","dark:bg-gray-700","p-4","sm:p-6","rounded-md","shadow-md"],[1,"text-xl","font-semibold","text-gray-700","dark:text-gray-300","mb-4"],[1,"space-y-4","dark:text-gray-300",3,"formGroup"],["formGroupName","general",1,"space-y-4","pt-4","border-t","border-gray-200","dark:border-gray-600"],["for","username",1,"block","text-md","font-medium","text-gray-700","dark:text-gray-300"],["type","text","id","username","formControlName","username","placeholder","Your display name",1,"mt-1","block","w-full","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","text-lg",3,"change"],[1,"dark:text-gray-300"],["for","gender",1,"block","text-md","font-medium","text-gray-700","dark:text-gray-300"],["id","gender","formControlName","gender",1,"mt-1","block","w-full","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","text-lg",3,"change"],[3,"ngValue"],[3,"value",4,"ngFor","ngForOf"],["for","saveAppSettings",1,"block","text-md","font-medium","text-gray-700","dark:text-gray-300"],["type","number","min","0","id","age","formControlName","age","placeholder","Years","required","",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200","text-lg"],["formGroupName","measurements",1,"space-y-4","pt-4","border-t","border-gray-200","dark:border-gray-600"],[1,"text-lg","font-medium","text-gray-700","dark:text-gray-300"],[1,"grid","grid-cols-2","md:grid-cols-4","gap-4"],["for","heightCm",1,"block","text-md","font-medium","text-gray-600","dark:text-gray-400"],[1,"text-red-500"],["type","number","min","0","id","heightCm","formControlName","heightCm","placeholder","cm",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200","text-lg"],["for","weightKg",1,"block","text-md","font-medium","text-gray-600","dark:text-gray-400"],["type","number","min","0","id","weightKg","formControlName","weightKg","placeholder","kg",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200","text-lg"],["for","chestCm",1,"block","text-md","font-medium","text-gray-600","dark:text-gray-400"],["type","number","min","0","id","chestCm","formControlName","chestCm","placeholder","cm",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200","text-lg"],["for","neckCm",1,"block","text-md","font-medium","text-gray-600","dark:text-gray-400"],["type","number","min","0","id","neckCm","formControlName","neckCm","placeholder","cm",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200","text-lg"],["for","waistCm",1,"block","text-md","font-medium","text-gray-600","dark:text-gray-400"],["type","number","min","0","id","waistCm","formControlName","waistCm","placeholder","cm",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200","text-lg"],["for","hipsCm",1,"block","text-md","font-medium","text-gray-600","dark:text-gray-400"],["type","number","min","0","id","hipsCm","formControlName","hipsCm","placeholder","cm",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200","text-lg"],["for","rightArmCm",1,"block","text-md","font-medium","text-gray-600","dark:text-gray-400"],["type","number","min","0","id","rightArmCm","formControlName","rightArmCm","placeholder","cm",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200","text-lg"],[1,"flex","flex-col","sm:flex-row","justify-center","items-center","space-y-4","sm:space-y-0","sm:space-x-4","pt-4"],["type","button",1,"flex","justify-center","items-center","w-full","sm:w-auto","px-6","py-3","bg-green-500","hover:bg-green-600","text-white","font-semibold","rounded-md","shadow-sm","text-lg","disabled:opacity-50","disabled:cursor-not-allowed",3,"click"],["name","save",1,"w-8","h-8","mr-1"],["type","button",1,"flex","justify-center","items-center","w-full","sm:w-auto","px-6","py-3","bg-blue-500","hover:bg-blue-600","text-white","font-semibold","rounded-md","shadow-sm","text-lg","disabled:opacity-50","disabled:cursor-not-allowed",3,"click"],["name","chart2",1,"w-8","h-8","mr-1"],[1,"space-y-4",3,"formGroup"],[1,"grid","grid-cols-1","sm:grid-cols-2","md:grid-cols-3","gap-4"],["for","goalWeightKg",1,"block","text-md","font-medium","text-gray-600","dark:text-gray-400"],["type","number","min","0","id","goalWeightKg","formControlName","weightKg","placeholder","kg",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200","text-lg"],["for","goalWaistCm",1,"block","text-md","font-medium","text-gray-600","dark:text-gray-400"],["type","number","min","0","id","goalWaistCm","formControlName","waistCm","placeholder","cm",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200","text-lg"],[1,"flex","items-center","justify-between"],[1,"text-md","font-medium","text-gray-700","dark:text-gray-300"],[1,"text-sm","text-gray-500","dark:text-gray-400","mr-1"],["for","player-mode-toggle",1,"inline-flex","items-center","cursor-pointer"],[1,"sr-only"],["type","checkbox","id","player-mode-toggle","formControlName","playerMode",1,"sr-only","peer",3,"change"],[1,"relative","w-11","h-6","bg-gray-200","peer-focus:outline-none","peer-focus:ring-4","peer-focus:ring-blue-300","dark:peer-focus:ring-blue-800","rounded-full","peer","dark:bg-gray-600","peer-checked:after:translate-x-full","rtl:peer-checked:after:-translate-x-full","peer-checked:after:border-white","after:content-['']","after:absolute","after:top-[2px]","after:start-[2px]","after:bg-white","after:border-gray-300","after:border","after:rounded-full","after:h-5","after:w-5","after:transition-all","dark:border-gray-600","peer-checked:bg-primary","dark:peer-checked:bg-primary-dark"],[1,"ms-3","text-sm","font-medium","text-gray-900","dark:text-gray-300"],[1,"border-b","border-gray-200","dark:border-gray-600","pb-4"],["for","weightStep",1,"block","text-md","font-medium","text-gray-700","dark:text-gray-300"],[1,"text-sm","text-gray-500","dark:text-gray-400","mb-1"],["type","number","id","weightStep","formControlName","weightStep","min","0.01","step","any",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200","text-lg",3,"change"],["class","text-red-500 dark:text-red-400 text-xs mt-1",4,"ngIf"],[1,"flex","items-center","justify-between","pt-4"],["for","countdown-sound-toggle",1,"inline-flex","items-center","cursor-pointer"],["type","checkbox","id","countdown-sound-toggle","formControlName","enableTimerCountdownSound",1,"sr-only","peer",3,"change"],["class"," dark:text-gray-300",4,"ngIf"],[1,"pt-4","border-t","border-gray-200","dark:border-gray-600"],["for","preset-timer-toggle",1,"inline-flex","items-center","cursor-pointer"],["type","checkbox","id","preset-timer-toggle","formControlName","enablePresetTimer",1,"sr-only","peer",3,"change"],["class","text-gray-700 dark:text-gray-300",4,"ngIf"],[1,"flex","items-center","justify-between","pb-4","border-b","border-gray-200","dark:border-gray-600"],["for","po-enabled-toggle",1,"inline-flex","items-center","cursor-pointer"],["type","checkbox","id","po-enabled-toggle","formControlName","enabled",1,"sr-only","peer",3,"change"],["class","space-y-4 pt-4",4,"ngIf"],[1,"space-y-4"],[1,"text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-2"],["appPress","",1,"flex","items-center","px-4","py-2","bg-blue-500","hover:bg-blue-600","text-white","font-semibold","rounded-md","shadow-sm","transition-colors","text-sm",3,"shortPress"],["name","export",1,"w-6","h-6","mr-1"],["type","file","accept","application/json",1,"block","w-full","text-sm","text-gray-700","dark:text-gray-300","file:mr-4","file:py-2","file:px-4","file:rounded-md","file:border-0","file:text-sm","file:font-semibold","file:bg-gray-200","file:text-gray-700","hover:file:bg-gray-300","dark:file:bg-gray-600","dark:file:text-gray-200","dark:hover:file:bg-gray-700",3,"change"],["name","info",1,"h-4","w-4","text-gray-400","dark:text-gray-300","cursor-help",3,"click","appTooltip"],["appPress","",1,"flex","items-center","px-4","py-2","bg-indigo-500","hover:bg-indigo-600","text-white","font-semibold","rounded-md","shadow-sm","transition-colors","text-sm",3,"shortPress"],["name","change",1,"w-6","h-6","mr-1"],[1,"pt-4","border-t","border-gray-200","dark:border-gray-700"],[1,"text-lg","font-semibold","text-gray-700","dark:text-gray-300","mb-2"],[1,"text-sm","font-medium","text-red-600","dark:text-red-400","mb-2"],["appPress","",1,"flex","items-center","px-4","py-2","bg-red-500","hover:bg-red-600","text-white","font-semibold","rounded-md","shadow-sm","transition-colors","text-sm",3,"shortPress"],["name","trash",1,"w-6","h-6","mr-1"],[1,"grid","sm:grid-cols-2","gap-2"],["appPress","",1,"px-4","py-2","bg-indigo-500","hover:bg-indigo-700","text-white","font-semibold","rounded-md","shadow-sm","transition-colors","inline-flex","items-center","text-sm",3,"shortPress"],["name","dumbbell",1,"w-6","h-6","mr-1"],["appPress","",1,"px-4","py-2","bg-primary","hover:bg-primary-dark","text-white","font-semibold","rounded-md","shadow-sm","transition-colors","inline-flex","items-center","text-sm",3,"shortPress"],["name","exercise-list",1,"w-6","h-6","mr-1"],["name","pb",1,"w-6","h-6","mr-1"],[1,"flex","space-x-4"],["appPress","",1,"px-4","py-2","border","rounded-md","transition-colors","text-sm",3,"shortPress","ngClass"],["for","show-wip-message",1,"inline-flex","items-center","cursor-pointer"],["type","checkbox","id","show-wip-message",1,"sr-only","peer",3,"change","checked"],["for","theme-toggle",1,"inline-flex","items-center","cursor-pointer"],["type","checkbox","id","theme-toggle",1,"sr-only","peer",3,"change","checked"],[1,"pt-5","border-t","border-gray-200","dark:border-gray-600","mt-5"],[1,"text-sm","text-gray-500","dark:text-gray-400","mb-2"],[1,"flex","flex-wrap","gap-2"],["appPress","",1,"px-4","py-2","border","rounded-md","transition-colors","text-sm","font-semibold",3,"shortPress","ngClass"],[3,"value"],[1,"text-red-500","dark:text-red-400","text-xs","mt-1"],["for","countdownSeconds",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["type","number","id","countdownSeconds","formControlName","countdownSoundSeconds","min","1","max","20",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","text-lg",3,"change"],[1,"text-gray-700","dark:text-gray-300"],["for","presetTimerDurationSeconds",1,"block","text-sm","font-medium"],["type","number","id","presetTimerDurationSeconds","formControlName","presetTimerDurationSeconds","min","3","max","60",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","text-lg",3,"change"],[1,"space-y-4","pt-4"],[1,"block","text-md","font-medium","text-gray-700","dark:text-gray-300"],[1,"flex","flex-col","sm:flex-row","sm:space-x-4"],["class","flex items-center",4,"ngFor","ngForOf"],[4,"ngIf"],["for","sessionsToIncrement",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["type","number","id","sessionsToIncrement","formControlName","sessionsToIncrement","min","1","step","1",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200","text-lg"],[1,"flex","items-center"],["type","radio","formControlName","strategy",1,"focus:ring-primary","h-4","w-4","text-primary","border-gray-300","dark:border-gray-600","dark:bg-gray-700",3,"id","value"],[1,"ml-3","block","text-sm","font-medium","text-gray-700","dark:text-gray-300",3,"for"],["for","weightIncrement",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["type","number","id","weightIncrement","formControlName","weightIncrement","min","0.1","step","any","placeholder","e.g., 2.5",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200","text-lg"],["for","repsIncrement",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["type","number","id","repsIncrement","formControlName","repsIncrement","min","1","step","1","placeholder","e.g., 1",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200","text-lg"]],template:function(e,n){if(e&1&&(r(0,"div",0)(1,"header",1)(2,"h1",2),o(3,"Profile & Settings"),t()(),r(4,"div",3)(5,"section",4)(6,"h2",5),o(7,"User Profile"),t(),r(8,"form",6)(9,"div",7)(10,"div")(11,"label",8),o(12,"Username"),t(),r(13,"input",9),g("change",function(){return n.currentVibrator.vibrate(50)}),t()(),r(14,"div",10)(15,"label",11),o(16,"Gender"),t(),r(17,"select",12),g("change",function(){return n.currentVibrator.vibrate(50)}),r(18,"option",13),o(19,"Select Gender..."),t(),y(20,bt,2,2,"option",14),t()(),r(21,"div",10)(22,"label",15),o(23,"Age"),t(),c(24,"input",16),t()(),r(25,"div",17)(26,"h3",18),o(27,"Measurements"),t(),r(28,"div",19)(29,"div")(30,"label",20),o(31," Height (cm)"),r(32,"span",21),o(33,"*"),t()(),c(34,"input",22),t(),r(35,"div")(36,"label",23),o(37," Weight (kg)"),r(38,"span",21),o(39,"*"),t()(),c(40,"input",24),t(),r(41,"div")(42,"label",25),o(43,"Chest (cm)"),t(),c(44,"input",26),t(),r(45,"div")(46,"label",27),o(47,"Neck (cm)"),t(),c(48,"input",28),t(),r(49,"div")(50,"label",29),o(51,"Waist (cm)"),t(),c(52,"input",30),t(),r(53,"div")(54,"label",31),o(55,"Hips (cm)"),t(),c(56,"input",32),t(),r(57,"div")(58,"label",33),o(59,"Right Arm (cm)"),t(),c(60,"input",34),t()(),r(61,"div",35)(62,"button",36),g("click",function(){return n.saveMeasurements()}),c(63,"app-icon",37),r(64,"span"),o(65,"SAVE MEASUREMENTS"),t()(),r(66,"button",38),g("click",function(){return n.navigateToBodyMeasurements()}),c(67,"app-icon",39),r(68,"span"),o(69,"MEASUREMENTS HISTORY"),t()()()()()(),r(70,"section",4)(71,"h2",5),o(72,"Measurement Goals"),t(),r(73,"form",40)(74,"div",41)(75,"div")(76,"label",42),o(77,"Target Weight (kg)"),t(),c(78,"input",43),t(),r(79,"div")(80,"label",44),o(81,"Target Waist (cm)"),t(),c(82,"input",45),t()()()(),r(83,"section",4)(84,"h2",5),o(85,"Workout Player Settings"),t(),r(86,"form",40)(87,"div",46)(88,"div")(89,"h3",47),o(90,"Player Mode"),t(),r(91,"p",48),o(92,"Choose the player mode"),t()(),r(93,"label",49)(94,"span",50),o(95,"Toggle Player Mode"),t(),r(96,"input",51),g("change",function(){return n.currentVibrator.vibrate(50)}),t(),c(97,"div",52),r(98,"span",53),o(99),t()()(),r(100,"div",54)(101,"label",55),o(102,"Weight Increment Step"),t(),r(103,"p",56),o(104),S(105,"uppercase"),t(),r(106,"input",57),g("change",function(){return n.currentVibrator.vibrate(50)}),t(),y(107,xt,2,0,"div",58),t(),r(108,"div",59)(109,"div")(110,"h3",47),o(111,"Timed Set Countdown Sound"),t(),r(112,"p",48),o(113,"Play sound X seconds before a timed set ends"),t()(),r(114,"label",60)(115,"input",61),g("change",function(){return n.currentVibrator.vibrate(50)}),t(),c(116,"div",52),r(117,"span",53),o(118),t()()(),y(119,St,5,1,"div",62),c(120,"div",63),r(121,"div",46)(122,"div")(123,"h3",47),o(124,"Pre-Set Timer"),t(),r(125,"p",48),o(126,"Show a countdown before each set starts"),t()(),r(127,"label",64)(128,"span",50),o(129,"Toggle Pre-Set Timer"),t(),r(130,"input",65),g("change",function(){return n.currentVibrator.vibrate(50)}),t(),c(131,"div",52),r(132,"span",53),o(133),t()()(),y(134,kt,5,1,"div",66),t()(),r(135,"section",4)(136,"h2",5),o(137,"Progressive Overload"),t(),r(138,"form",40)(139,"div",67)(140,"div")(141,"h3",47),o(142,"Enable Automatic Progression "),t(),r(143,"p",48),o(144,"Automatically increase weight or reps based on performance."),t()(),r(145,"label",68)(146,"input",69),g("change",function(){return n.currentVibrator.vibrate(50)}),t(),c(147,"div",52),r(148,"span",53),o(149),t()()(),y(150,At,18,5,"div",70),t()(),r(151,"section",4)(152,"h2",5),o(153,"Data Management"),t(),r(154,"div",71)(155,"div")(156,"p",72),o(157,"Backup your data to a JSON file"),t(),r(158,"button",73),g("shortPress",function(){return n.exportData()}),c(159,"app-icon",74),o(160," EXPORT DATA"),t()(),r(161,"div")(162,"p",72),o(163,"Restore your data from a JSON backup file"),t(),r(164,"input",75),g("change",function(m){return n.importData(m),n.currentVibrator.vibrate(50)}),t()(),r(165,"div",63)(166,"p",72),o(167,"Sync Exercise History"),r(168,"app-icon",76),g("click",function(){return n.showSyncHistoryTooltip()}),t()(),r(169,"button",77),g("shortPress",function(){return n.onSyncExerciseHistoryClick()}),c(170,"app-icon",78),o(171," SYNC HISTORY "),t()(),r(172,"div",79)(173,"h3",80),o(174,"Reset / Clear Data"),t(),r(175,"p",81),o(176,"WARNING: This action will delete ALL your saved data"),t(),r(177,"button",82),g("shortPress",function(){return n.clearAllAppData()}),c(178,"app-icon",83),o(179," CLEAR ALL DATA"),t()()()(),r(180,"div",84)(181,"section",4)(182,"h2",5),o(183,"Personal Gym"),t(),r(184,"div")(185,"p",72),o(186,"View your own equipment"),t(),r(187,"button",85),g("shortPress",function(){return n.navigateToPersonalGym()}),c(188,"app-icon",86),o(189," PERSONAL GYM "),t()()(),r(190,"section",4)(191,"h2",5),o(192,"Exercise library"),t(),r(193,"div")(194,"p",72),o(195,"View all the available exercise and add your own ones"),t(),r(196,"button",87),g("shortPress",function(){return n.navigateToExerciseLibrary()}),c(197,"app-icon",88),o(198," EXERCISES "),t()()()(),r(199,"section",4)(200,"h2",5),o(201,"Your Achievements"),t(),r(202,"div")(203,"p",72),o(204,"View all your tracked Personal Bests"),t(),r(205,"button",87),g("shortPress",function(){return n.navigateToPersonalBests()}),c(206,"app-icon",89),o(207," VIEW PBs "),t()()(),r(208,"section",4)(209,"h2",5),o(210,"General Settings"),t(),r(211,"div",71)(212,"div")(213,"p",72),o(214,"Weight Units"),t(),r(215,"div",90)(216,"button",91),g("shortPress",function(){return n.selectUnit("kg")}),o(217,"kg"),t(),r(218,"button",91),g("shortPress",function(){return n.selectUnit("lbs")}),o(219,"lbs"),t()()(),r(220,"div",46)(221,"div")(222,"h3",47),o(223,"WIP Message"),t(),r(224,"p",48),o(225,"Toggle between showing or hiding WIP message"),t()(),r(226,"label",92)(227,"span",50),o(228,"Show WIP Disclaimer"),t(),r(229,"input",93),g("change",function(){return n.toggleWipDisclaimer()}),t(),c(230,"div",52),r(231,"span",53),o(232),t()()()()(),r(233,"section",4)(234,"h2",5),o(235,"Appearance"),t(),r(236,"div",46)(237,"div")(238,"h3",47),o(239,"Dark Mode"),t(),r(240,"p",48),o(241,"Toggle between light and dark themes"),t()(),r(242,"label",94)(243,"span",50),o(244,"Toggle Dark Mode"),t(),r(245,"input",95),g("change",function(){return n.themeService.toggleTheme()}),t(),c(246,"div",52),r(247,"span",53),o(248),t()()(),r(249,"div",96)(250,"h3",47),o(251,"Menu Mode"),t(),r(252,"p",97),o(253,"Toggle between dropdown, compact or modal mode "),t(),r(254,"div",98)(255,"button",99),g("shortPress",function(){return n.selectMenuMode("dropdown")}),o(256," DROPDOWN "),t(),r(257,"button",99),g("shortPress",function(){return n.selectMenuMode("compact")}),o(258," COMPACT "),t(),r(259,"button",99),g("shortPress",function(){return n.selectMenuMode("modal")}),o(260," MODAL "),t()()()()()()),e&2){let a,m,p,h,k,P,Y,ee;l(8),d("formGroup",n.profileForm),l(10),d("ngValue",null),l(2),d("ngForOf",n.genders),l(53),d("formGroup",n.goalsForm),l(13),d("formGroup",n.appSettingsForm),l(13),_(" ",(a=n.appSettingsForm.get("playerMode"))!=null&&a.value?"Compact":"Focus"," "),l(5),_("Default step for +/- weight buttons in player (in ",R(105,25,n.unitsService.currentUnit()),")"),l(3),d("ngIf",((m=n.appSettingsForm.get("weightStep"))==null?null:m.invalid)&&((m=n.appSettingsForm.get("weightStep"))==null?null:m.touched)),l(11),_(" ",(p=n.appSettingsForm.get("enableTimerCountdownSound"))!=null&&p.value?"On":"Off"," "),l(),d("ngIf",(h=n.appSettingsForm.get("enableTimerCountdownSound"))==null?null:h.value),l(14),_(" ",(k=n.appSettingsForm.get("enablePresetTimer"))!=null&&k.value?"On":"Off"," "),l(),d("ngIf",(P=n.appSettingsForm.get("enablePresetTimer"))==null?null:P.value),l(4),d("formGroup",n.progressiveOverloadForm),l(11),_(" ",(Y=n.progressiveOverloadForm.get("enabled"))!=null&&Y.value?"On":"Off"," "),l(),d("ngIf",(ee=n.progressiveOverloadForm.get("enabled"))==null?null:ee.value),l(18),d("appTooltip",n.syncHistoryTooltipString),l(48),d("ngClass",D(27,gt,n.currentUnit()==="kg",n.currentUnit()!=="kg")),l(2),d("ngClass",D(30,gt,n.currentUnit()==="lbs",n.currentUnit()!=="lbs")),l(11),d("checked",!n.userProfileService.getHideWipDisclaimer()),l(3),E(n.userProfileService.getHideWipDisclaimer()?"Off":"On"),l(13),d("checked",n.themeService.isDarkTheme()),l(3),E(n.themeService.isDarkTheme()?"On":"Off"),l(7),d("ngClass",D(33,Oe,n.appSettingsService.menuMode()==="dropdown",n.appSettingsService.menuMode()!=="dropdown")),l(2),d("ngClass",D(36,Oe,n.appSettingsService.menuMode()==="compact",n.appSettingsService.menuMode()!=="compact")),l(2),d("ngClass",D(39,Oe,n.appSettingsService.menuMode()==="modal",n.appSettingsService.menuMode()!=="modal"))}},dependencies:[j,ae,U,G,_e,ue,ve,be,pe,fe,Ke,Je,qe,ce,ge,et,Qe,Ze,ye,he,Xe,Se,W,st,We],encapsulation:2})};var yt=["bodyweight/calisthenics","dumbbells","kettlebells","barbells","machines","cables","bands","cardio","stretching","plyometrics","strongman","custom","other"];function Dt(s,i){if(s&1&&(r(0,"option",42),o(1),t()),s&2){let e=i.$implicit;d("value",e),l(),_(" ",e," ")}}function Bt(s,i){if(s&1&&(r(0,"option",42),o(1),S(2,"titlecase"),t()),s&2){let e=i.$implicit;d("value",e),l(),_(" ",R(2,2,e)," ")}}function Vt(s,i){if(s&1&&(r(0,"span"),o(1," of "),r(2,"strong",44),o(3),t()()),s&2){let e=u(2);l(3),E(e.combinedPersonalBests().length)}}function Ot(s,i){if(s&1&&(r(0,"div",43),o(1," Showing "),r(2,"strong",44),o(3),t(),y(4,Vt,4,1,"span",45),o(5," PBs "),t()),s&2){let e=u();l(3),E(e.displayPersonalBests().length),l(),d("ngIf",e.exerciseNameFilter()||e.exerciseCategoryFilter()||e.pbTypeFilter())}}function Nt(s,i){if(s&1&&(r(0,"span"),o(1),S(2,"date"),S(3,"date"),t()),s&2){let e=i.$implicit,n=i.last,a=u(2).$implicit,m=u(2);l(),oe(" ",m.formatPbValue(e,a.pbType)," (",H(3,6,T(2,3,e.timestamp,"shortDate"),"dd-MM-yy","UTC"),")",n?"":", "," ")}}function Lt(s,i){s&1&&(r(0,"span"),o(1," ..."),t())}function Rt(s,i){if(s&1&&(r(0,"div",59)(1,"span",60),o(2,"Prev:"),t(),y(3,Nt,4,10,"span",61)(4,Lt,2,0,"span",45),t()),s&2){let e=u().$implicit;l(3),d("ngForOf",e.history.slice(0,1)),l(),d("ngIf",e.history.length>1)}}function Ht(s,i){if(s&1&&(r(0,"div",62)(1,"p",63),o(2),t()()),s&2){let e=u().$implicit;ne("mt-2",e.history&&e.history.length>0)("mt-1",!(e.history&&e.history.length>0)),l(),d("title",e.notes),l(),_(" ",e.notes," ")}}function Ut(s,i){if(s&1){let e=C();r(0,"div",64)(1,"button",65),g("click",function(a){b(e);let m=u().$implicit,p=u(2);return x(p.navigateToLogDetail(m.workoutLogId,a))}),c(2,"app-icon",66),r(3,"span"),o(4,"VIEW LOG"),t()(),r(5,"button",67),g("click",function(){b(e);let a=u().$implicit,m=u(2);return x(m.showPbTrend(a.exerciseId,a.pbType))}),c(6,"app-icon",68),r(7,"span"),o(8,"TREND"),t()()()}}function Gt(s,i){if(s&1&&(r(0,"div",48)(1,"div",49)(2,"div",50)(3,"div")(4,"h2",51),o(5),t(),r(6,"p",52),o(7),S(8,"titlecase"),t()()(),r(9,"div",53)(10,"span",54),o(11),t()(),r(12,"div",55)(13,"span"),o(14),t(),r(15,"span"),o(16),S(17,"date"),S(18,"date"),t()(),y(19,Rt,5,2,"div",56)(20,Ht,3,6,"div",57),t(),y(21,Ut,9,0,"div",58),t()),s&2){let e=i.$implicit,n=u(2);l(4),d("title",e.exerciseName),l(),_(" ",e.exerciseName," "),l(2),_(" (",R(8,9,e.primaryMuscleGroup),") "),l(4),E(n.formatPbValue(e)),l(3),E(e.pbType),l(2),E(H(18,14,T(17,11,e.timestamp,"shortDate"),"dd-MM-yy","UTC")),l(3),d("ngIf",e.history&&e.history.length>0),l(),d("ngIf",e.notes),l(),d("ngIf",e.pbType!=="1RM (Estimated)"&&e.workoutLogId)}}function jt(s,i){if(s&1&&(r(0,"div")(1,"div",46),y(2,Gt,22,18,"div",47),t()()),s&2){let e=u();l(2),d("ngForOf",e.displayPersonalBests())}}function Wt(s,i){s&1&&(r(0,"span"),o(1,"No Personal Bests Match Your Filters"),t())}function $t(s,i){s&1&&o(0,"No Personal Bests Yet!")}function zt(s,i){if(s&1){let e=C();r(0,"span"),o(1,"Try adjusting your filter criteria or "),r(2,"button",74),g("shortPress",function(){b(e);let a=u(2);return x(a.resetFiltersAndShow())}),o(3,"reset all filters"),t()()}}function Yt(s,i){s&1&&(r(0,"span"),o(1,"Keep logging your workouts to track your progress and achievements here"),t())}function Kt(s,i){if(s&1){let e=C();r(0,"span"),o(1," Try clearing filters, or perhaps "),r(2,"button",74),g("shortPress",function(){b(e);let a=u(2);return x(a.triggerRecalculatePBs())}),o(3,"recalculate PBs"),t(),o(4," if you've recently imported data. "),t()}}function qt(s,i){if(s&1&&(r(0,"div",69),M(),r(1,"svg",70),c(2,"path",71),t(),I(),r(3,"h2",72),y(4,Wt,2,0,"span",40)(5,$t,1,0,"ng-template",null,4,X),t(),r(7,"p",73),y(8,zt,4,0,"span",45)(9,Yt,2,0,"span",45)(10,Kt,5,0,"span",45),t()()),s&2){let e=A(6),n=u();l(4),d("ngIf",n.hasActiveFilters())("ngIfElse",e),l(4),d("ngIf",n.hasActiveFilters()),l(),d("ngIf",!n.hasActiveFilters()&&n.allPersonalBestsSignalEmpty()),l(),d("ngIf",!n.allPersonalBestsSignalEmpty()&&n.displayPersonalBests().length===0&&!n.hasActiveFilters())}}function Xt(s,i){if(s&1){let e=C();r(0,"button",75),g("shortPress",function(){b(e);let a=u();return x(a.scrollToTop())}),M(),r(1,"svg",76),c(2,"path",77),t(),I(),r(3,"span",15),o(4,"Back to Top"),t()()}}var Me=class s{trackingService=v(Ce);exerciseService=v(ke);unitsService=v(Pe);router=v(le);toastService=v($);platformId=v(ie);allPersonalBestsRaw=F({});allExercisesRaw=F([]);filtersVisible=F(!1);exerciseNameFilter=F("");pbTypeFilter=F("");exerciseCategoryFilter=F("");decimalPipe=new $e("en-US");availableCategories=O(()=>[...yt].sort());availablePbTypes=O(()=>{let i=this.allPersonalBestsRaw(),e=new Set;return Object.values(i).forEach(n=>{n.forEach(a=>{a.pbType&&e.add(a.pbType)})}),Array.from(e).sort()});combinedPersonalBests=O(()=>{let i=this.allPersonalBestsRaw(),e=this.allExercisesRaw();if(Object.keys(i).length===0||e.length===0)return[];let n=new Map(e.map(m=>[m.id,m])),a=[];for(let m in i)if(i.hasOwnProperty(m)){let p=n.get(m),h=i[m];p&&h.forEach(k=>{a.push(q(K({},k),{exerciseName:p.name,exerciseCategory:p.category,primaryMuscleGroup:p.primaryMuscleGroup}))})}return a});displayPersonalBests=O(()=>{let i=this.combinedPersonalBests(),e=this.exerciseNameFilter().toLowerCase().trim(),n=this.exerciseCategoryFilter(),a=this.pbTypeFilter();if(!e&&!n&&!a)return this.sortPBs(i);let m=i.filter(p=>!(e&&!p.exerciseName.toLowerCase().includes(e)||n&&p.exerciseCategory!==n||a&&p.pbType!==a));return this.sortPBs(m)});hasActiveFilters=O(()=>this.exerciseNameFilter().trim()!==""||this.exerciseCategoryFilter()!==""||this.pbTypeFilter().trim()!=="");allPersonalBestsSignalEmpty=O(()=>Object.keys(this.allPersonalBestsRaw()).length===0);constructor(){}ngOnInit(){J(this.platformId)&&window.scrollTo(0,0),this.trackingService.personalBests$.subscribe(i=>{this.allPersonalBestsRaw.set(i)}),this.exerciseService.getExercises().pipe(Le(1)).subscribe(i=>{this.allExercisesRaw.set(i)})}toggleFiltersVisibility(){this.filtersVisible.update(i=>!i)}resetFilters(){this.exerciseNameFilter.set(""),this.exerciseCategoryFilter.set("")}resetFiltersAndShow(){this.resetFilters(),this.filtersVisible.set(!0)}getPbTypeSortOrder(i){return i.includes("1RM (Actual)")?0:i.includes("1RM (Estimated)")?1:i.includes("3RM (Actual)")?2:i.includes("5RM (Actual)")?3:i.includes("Heaviest Lifted")?4:i.includes("Max Reps (Bodyweight)")?5:i.includes("Max Duration")?6:100}sortPBs(i){return[...i].sort((e,n)=>{let a=e.exerciseName.localeCompare(n.exerciseName);if(a!==0)return a;let m=this.getPbTypeSortOrder(e.pbType),p=this.getPbTypeSortOrder(n.pbType);return m!==p?m-p:e.weightUsed!==void 0&&n.weightUsed!==void 0?(n.weightUsed??0)-(e.weightUsed??0):e.repsAchieved!==void 0&&n.repsAchieved!==void 0&&e.pbType.includes("Max Reps")?(n.repsAchieved??0)-(e.repsAchieved??0):e.durationPerformed!==void 0&&n.durationPerformed!==void 0&&e.pbType.includes("Max Duration")?(n.durationPerformed??0)-(e.durationPerformed??0):new Date(n.timestamp).getTime()-new Date(e.timestamp).getTime()})}formatPbValue(i,e){let n="",a=i.pbType||e;if(i.weightUsed!==void 0&&i.weightUsed!==null){if(n+=`${this.decimalPipe.transform(i.weightUsed,"1.0-2")}${this.unitsService.getUnitSuffix()}`,i.repsAchieved>0){let m=!0;if(a&&a.includes("RM (Actual)")){let p=a.split("RM")[0],h=parseInt(p,10);!isNaN(h)&&i.repsAchieved===h&&(m=!1)}m&&(n+=` x ${i.repsAchieved}`)}}else i.repsAchieved>0&&a?.includes("Max Reps")?n=`${i.repsAchieved} reps`:i.durationPerformed&&i.durationPerformed>0&&a?.includes("Max Duration")?n=`${i.durationPerformed}s`:i.repsAchieved>0?n=`${i.repsAchieved} reps`:i.durationPerformed&&i.durationPerformed>0&&(n=`${i.durationPerformed}s`);return n||"N/A"}vibrate(){let i=navigator;i&&"vibrate"in i&&i.vibrate(50)}navigateToLogDetail(i,e){e?.stopPropagation(),i?(this.vibrate(),this.router.navigate(["/workout/summary",i])):(this.toastService.error("Could not find the associated workout log for this personal best. It's possible that the related workout session has been removed.",0,"Navigation Error"),console.warn("Attempted to navigate to log detail, but workoutLogId is undefined for PB:",e))}triggerRecalculatePBs(){return w(this,null,function*(){try{yield this.trackingService.recalculateAllPersonalBests(),this.filtersVisible.set(!1)}catch(i){console.error("Error initiating PB recalculation:",i),this.toastService.error("An error occurred while trying to recalculate personal bests.")}})}resetPBs(){return w(this,null,function*(){try{yield this.trackingService.clearAllPersonalBests_DEV_ONLY()}catch(i){console.error("Error clearAllPersonalBests_DEV_ONLY:",i),this.toastService.error("An error occurred while trying to reset personal bests.")}})}showPbTrend(i,e){if(!i||!e){this.toastService.error("Cannot show trend: Missing exercise ID or PB type.",0,"Error");return}let n=encodeURIComponent(e);this.vibrate(),this.router.navigate(["/profile/pb-trend",i,n]),console.log(`Requesting trend for Exercise ID: ${i}, PB Type: ${e}`)}showBackToTopButton=F(!1);onWindowScroll(){let i=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;this.showBackToTopButton.set(i>400)}scrollToTop(){J(this.platformId)&&window.scrollTo({top:0,behavior:"smooth"})}static \u0275fac=function(e){return new(e||s)};static \u0275cmp=L({type:s,selectors:[["app-personal-bests"]],hostBindings:function(e,n){e&1&&g("scroll",function(){return n.onWindowScroll()},He)},decls:59,vars:15,consts:[["nameFilterInput",""],["pbTypeFilterInput",""],["categoryFilterInput",""],["noPBsOrFilters",""],["noPBsMessage",""],[1,"container","mx-auto","p-2","sm:p-4"],[1,"mb-6","flex","items-center"],["routerLink","/profile",1,"text-gray-600","dark:text-gray-300","hover:text-primary","dark:hover:text-primary-light","p-2","-ml-2","rounded-full","focus:outline-none","focus:ring-2","focus:ring-primary-focus"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 19l-7-7 7-7"],[1,"flex","flex-grow","justify-between","items-center","pb-2"],[1,"text-2xl","font-bold","text-gray-800","dark:text-gray-200"],["type","button",1,"rounded-md","text-gray-600","dark:text-gray-300","hover:bg-gray-200","dark:hover:bg-gray-700","focus:outline-none","focus:ring-2","focus:ring-primary","dark:focus:ring-primary-light","transition-all","duration-300","ease-in-out",3,"click"],["stroke","currentColor","viewBox","0 0 24 24","stroke-width","0.02","fill","currentColor","xmlns","http://www.w3.org/2000/svg",1,"w-10","h-10","transition-transform","duration-300"],["stroke-linecap","round","stroke-linejoin","round","d","M9 5a1 1 0 1 0 0 2 1 1 0 0 0 0-2zM6.17 5a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 0 1 0-2h1.17zM15 11a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-1.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h7.17zM9 17a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h1.17z"],[1,"sr-only"],[1,"overflow-hidden","transition-all","duration-500","ease-in-out"],[1,"p-4","bg-white","dark:bg-gray-700","rounded-md","shadow-md","border","dark:border-gray-600"],[1,"text-xl","font-semibold","text-gray-700","dark:text-gray-300","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","mb-4"],["for","exerciseNameFilter",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-1"],["type","text","id","exerciseNameFilter","placeholder","e.g., Bench Press",1,"mt-1","block","w-full","px-3","py-2","bg-white","dark:bg-gray-800","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:outline-none","focus:ring-primary","focus:border-primary","sm:text-sm","text-gray-900","dark:text-gray-100","placeholder-gray-400","dark:placeholder-gray-500",3,"input","value"],["for","pbTypeFilter",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-1"],["id","pbTypeFilter",1,"mt-1","block","w-full","px-3","py-2","bg-white","dark:bg-gray-800","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:outline-none","focus:ring-primary","focus:border-primary","sm:text-sm","text-gray-900","dark:text-gray-100",3,"change","value"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","categoryFilter",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-1"],["id","categoryFilter",1,"mt-1","block","w-full","px-3","py-2","bg-white","dark:bg-gray-800","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:outline-none","focus:ring-primary","focus:border-primary","sm:text-sm","text-gray-900","dark:text-gray-100",3,"change","value"],[1,"mt-4","flex","justify-between","items-center"],["appPress","",1,"flex","px-4","py-2","bg-yellow-200","dark:bg-yellow-700","text-gray-700","dark:text-gray-200","rounded-md","hover:bg-yellow-300","dark:hover:bg-yellow-500","text-sm","items-center",3,"shortPress"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"size-5","mr-2"],["stroke-linecap","round","stroke-linejoin","round","d","m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"],["appPress","","title","Recalculate all Personal Bests from your workout history",1,"ml-2","p-2","text-sm","text-gray-500","dark:text-gray-400","hover:text-primary","dark:hover:text-primary-light","rounded-md","border","border-gray-300","dark:border-gray-600","hover:bg-gray-100","dark:hover:bg-gray-700","transition-colors","flex","items-center",3,"shortPress"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-10","h-10","transition-transform","duration-300"],["stroke-linecap","round","stroke-linejoin","round","d","M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"],[1,"hidden","sm:inline-block","ml-1"],["appPress","","title","Reset all PBs",1,"ml-2","p-2","text-sm","text-gray-500","dark:text-gray-400","hover:text-red-600","dark:hover:text-red-500","rounded-md","border","border-gray-300","dark:border-gray-600","hover:bg-red-100","dark:hover:bg-red-900/50","transition-colors","flex","items-center",3,"shortPress"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"w-10","h-10","transition-transform","duration-300"],["fill-rule","evenodd","d","M8.75 1A2.75 2.75 0 006 3.75v.443c-.795.077-1.58.177-2.365.298a.75.75 0 10.23 1.482l.149-.022.841 10.518A2.75 2.75 0 007.596 19h4.807a2.75 2.75 0 002.742-2.53l.841-10.52.149.023a.75.75 0 00.23-1.482A41.03 41.03 0 0014 4.193V3.75A2.75 2.75 0 0011.25 1h-2.5ZM10 4c.84 0 1.673.025 2.5.075V3.75c0-.69-.56-1.25-1.25-1.25h-2.5c-.69 0-1.25.56-1.25 1.25v.325C8.327 4.025 9.16 4 10 4ZM8.58 7.72a.75.75 0 00-1.5.06l.3 7.5a.75.75 0 101.5-.06l-.3-7.5Zm4.34.06a.75.75 0 10-1.5-.06l-.3 7.5a.75.75 0 101.5.06l.3-7.5Z","clip-rule","evenodd"],["class","text-sm text-gray-600 dark:text-gray-400",4,"ngIf"],[4,"ngIf","ngIfElse"],["appPress","","type","button","class","fixed bottom-20 right-4 z-40 bg-primary dark:bg-primary text-white rounded-full p-3 shadow-lg hover:bg-primary-dark dark:hover:bg-primary-light focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-focus dark:focus:ring-offset-gray-900 transition-opacity animate-fade-in",3,"shortPress",4,"ngIf"],[3,"value"],[1,"text-sm","text-gray-600","dark:text-gray-400"],[1,"text-gray-800","dark:text-gray-200"],[4,"ngIf"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-3","xl:grid-cols-4","gap-4"],["class","flex flex-col bg-white dark:bg-gray-700 rounded-md shadow-md hover:shadow-lg transition-shadow duration-200 relative group transform hover:-translate-y-1",4,"ngFor","ngForOf"],[1,"flex","flex-col","bg-white","dark:bg-gray-700","rounded-md","shadow-md","hover:shadow-lg","transition-shadow","duration-200","relative","group","transform","hover:-translate-y-1"],[1,"p-3","flex-grow"],[1,"flex","justify-between","items-start","mb-1"],[1,"text-md","font-semibold","text-primary","dark:text-primary-light","truncate",3,"title"],[1,"text-xs","text-gray-500","dark:text-gray-400"],[1,"mb-2"],[1,"text-xl","font-bold","text-gray-900","dark:text-white"],[1,"flex","justify-between","items-center","text-xs","text-gray-500","dark:text-gray-400","mb-2"],["class","mt-2 pt-1 border-t border-gray-200 dark:border-gray-600 text-xs text-gray-500 dark:text-gray-400",4,"ngIf"],["class","pt-1 border-t border-gray-200 dark:border-gray-600",3,"mt-2","mt-1",4,"ngIf"],["class","grid grid-cols-1 sm:grid-cols-2 gap-4 pt-4 bg-gray-50 dark:bg-gray-800 border-t border-gray-200 rounded-b dark:border-gray-600 p-2",4,"ngIf"],[1,"mt-2","pt-1","border-t","border-gray-200","dark:border-gray-600","text-xs","text-gray-500","dark:text-gray-400"],[1,"font-medium"],[4,"ngFor","ngForOf"],[1,"pt-1","border-t","border-gray-200","dark:border-gray-600"],[1,"text-xs","text-gray-600","dark:text-gray-400","italic","max-h-16","overflow-y-auto","custom-scrollbar","pr-1",3,"title"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-4","pt-4","bg-gray-50","dark:bg-gray-800","border-t","border-gray-200","rounded-b","dark:border-gray-600","p-2"],[1,"flex","justify-center","items-center","px-6","py-3","bg-indigo-500","hover:bg-indigo-600","text-white","font-semibold","rounded-md","shadow-sm","text-lg","disabled:opacity-50","disabled:cursor-not-allowed",3,"click"],["name","eye",1,"w-8","h-8","mr-1"],["title","Show Trend for this PB",1,"flex","justify-center","items-center","px-6","py-3","bg-primary","hover:bg-primary-light","text-white","font-semibold","rounded-md","shadow-sm","text-lg","disabled:opacity-50","disabled:cursor-not-allowed",3,"click"],["name","trend",1,"w-8","h-8","mr-1"],[1,"text-center","py-10","bg-white","dark:bg-gray-700","rounded-xl","shadow-lg"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-16","h-16","mx-auto","text-gray-400","dark:text-gray-500","mb-4"],["stroke-linecap","round","stroke-linejoin","round","d","M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607zM13.5 10.5h-6"],[1,"text-xl","font-semibold","text-gray-700","dark:text-gray-300","mb-2"],[1,"text-gray-500","dark:text-gray-400","px-4"],["appPress","",1,"text-primary","dark:text-primary-light","hover:underline",3,"shortPress"],["appPress","","type","button",1,"fixed","bottom-20","right-4","z-40","bg-primary","dark:bg-primary","text-white","rounded-full","p-3","shadow-lg","hover:bg-primary-dark","dark:hover:bg-primary-light","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-primary-focus","dark:focus:ring-offset-gray-900","transition-opacity","animate-fade-in",3,"shortPress"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","2.5","stroke","currentColor",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","d","M4.5 15.75l7.5-7.5 7.5 7.5"]],template:function(e,n){if(e&1){let a=C();r(0,"div",5)(1,"div",6)(2,"button",7),M(),r(3,"svg",8),c(4,"path",9),t()(),I(),r(5,"header",10)(6,"h1",11),o(7,"Personal Bests"),t(),r(8,"button",12),g("click",function(){return b(a),x(n.toggleFiltersVisibility())}),M(),r(9,"svg",13),c(10,"path",14),t(),I(),r(11,"span",15),o(12,"Toggle Filters"),t()()()(),r(13,"div",16)(14,"div",17)(15,"h2",18),o(16,"Filter PBs"),t(),r(17,"div",19)(18,"div")(19,"label",20),o(20," Filter by Exercise Name "),t(),r(21,"input",21,0),g("input",function(){b(a);let p=A(22);return x(n.exerciseNameFilter.set(p.value))}),t()(),r(23,"div")(24,"label",22),o(25," Filter by PB Type "),t(),r(26,"select",23,1),g("change",function(){b(a);let p=A(27);return x(n.pbTypeFilter.set(p.value))}),r(28,"option",24),o(29,"All PB Types"),t(),y(30,Dt,2,2,"option",25),t()(),r(31,"div")(32,"label",26),o(33," Filter by Category "),t(),r(34,"select",27,2),g("change",function(){b(a);let p=A(35);return x(n.exerciseCategoryFilter.set(p.value))}),r(36,"option",24),o(37,"All Categories"),t(),y(38,Bt,3,4,"option",25),t()()(),r(39,"div",28)(40,"button",29),g("shortPress",function(){return b(a),x(n.resetFilters())}),M(),r(41,"svg",30),c(42,"path",31),t(),o(43," CLEAR FILTERS "),t(),I(),r(44,"button",32),g("shortPress",function(){return b(a),x(n.triggerRecalculatePBs())}),M(),r(45,"svg",33),c(46,"path",34),t(),I(),r(47,"span",35),o(48,"RECALCULATE"),t()(),r(49,"button",36),g("shortPress",function(){return b(a),x(n.resetPBs())}),M(),r(50,"svg",37),c(51,"path",38),t(),I(),r(52,"span",35),o(53,"RESET PBs"),t()(),y(54,Ot,6,2,"div",39),t()()(),y(55,jt,3,1,"div",40)(56,qt,11,5,"ng-template",null,3,X)(58,Xt,5,0,"button",41),t()}if(e&2){let a=A(57);l(9),ne("rotate-180",n.filtersVisible()),l(4),Ue("max-height",n.filtersVisible()?"1000px":"0px"),ne("mb-6",n.filtersVisible()),l(8),d("value",n.exerciseNameFilter()),l(5),d("value",n.pbTypeFilter()),l(4),d("ngForOf",n.availablePbTypes()),l(4),d("value",n.exerciseCategoryFilter()),l(4),d("ngForOf",n.availableCategories()),l(16),d("ngIf",n.combinedPersonalBests().length>0),l(),d("ngIf",n.displayPersonalBests().length>0)("ngIfElse",a),l(3),d("ngIf",n.showBackToTopButton())}},dependencies:[j,U,G,ze,Se,W,je,se],styles:[".custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent;border-radius:3px}.custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#9ca3af;border-radius:3px}.custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#6b7280}.dark[_ngcontent-%COMP%]   .custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#4b5563}.dark[_ngcontent-%COMP%]   .custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#6b7280}"],data:{animation:[Be("slideInOutActions",[Q("void",Z({height:"0px",opacity:0,overflow:"hidden",paddingTop:"0",paddingBottom:"0",marginTop:"0",marginBottom:"0"})),Q("*",Z({height:"*",opacity:1,overflow:"hidden",paddingTop:"0.5rem",paddingBottom:"0.5rem"})),de("void <=> *",me("200ms ease-in-out"))]),Be("dropdownMenu",[Q("void",Z({opacity:0,transform:"scale(0.75) translateY(-10px)",transformOrigin:"top right"})),Q("*",Z({opacity:1,transform:"scale(1) translateY(0)",transformOrigin:"top right"})),de("void => *",[me("150ms cubic-bezier(0.25, 0.8, 0.25, 1)")]),de("* => void",[me("100ms cubic-bezier(0.25, 0.8, 0.25, 1)")])])]}})};var Jt=s=>({"clip-path":s}),Zt=s=>({left:s}),Qt=(s,i)=>({"text-yellow-500":s,"text-gray-500":i});function er(s,i){if(s&1&&(r(0,"option",18),o(1),S(2,"date"),t()),s&2){let e=i.$implicit;d("value",e.date),l(),_("",T(2,2,e.date,"mediumDate")," ")}}function tr(s,i){if(s&1&&(r(0,"option",18),o(1),S(2,"date"),t()),s&2){let e=i.$implicit;d("value",e.date),l(),_("",T(2,2,e.date,"mediumDate")," ")}}function rr(s,i){if(s&1&&(r(0,"option",18),o(1),t()),s&2){let e=i.$implicit;d("value",e.key),l(),E(e.label)}}function ir(s,i){if(s&1){let e=C();r(0,"img",41),g("click",function(){b(e);let a=u().$implicit,m=u(2);return x(m.openFullScreenImage(a.photoUrl))}),t()}if(s&2){let e=u().$implicit;d("src",e.photoUrl,V)}}function nr(s,i){if(s&1){let e=C();r(0,"div",27)(1,"div",28)(2,"div",29)(3,"p",30),o(4),S(5,"date"),t(),y(6,ir,1,1,"img",31),r(7,"label",32),o(8),r(9,"input",33),g("change",function(a){let m=b(e).$implicit,p=u(2);return x(p.uploadPhoto(a,m.date))}),t()(),r(10,"div")(11,"button",34),g("click",function(){let a=b(e).$implicit,m=u(2);return x(m.confirmDeleteEntry(a.date))}),c(12,"app-icon",35),t(),r(13,"button",36),g("click",function(){let a=b(e).$implicit,m=u(2);return x(m.editEntry(a.date))}),c(14,"app-icon",37),t()()(),r(15,"div",38)(16,"p")(17,"strong"),o(18,"Weight:"),t(),o(19),t(),r(20,"p")(21,"strong"),o(22,"Chest:"),t(),o(23),t(),r(24,"p")(25,"strong"),o(26,"Waist:"),t(),o(27),t(),r(28,"p")(29,"strong"),o(30,"Hips:"),t(),o(31),t(),r(32,"p")(33,"strong"),o(34,"Neck:"),t(),o(35),t(),r(36,"p")(37,"strong"),o(38,"R. Arm:"),t(),o(39),t()(),r(40,"div")(41,"label",39),o(42,"Notes:"),t(),r(43,"textarea",40),g("input",function(a){let m=b(e).$implicit,p=u(2);return x(p.updateNotes(m.date,a))}),t()()()()}if(s&2){let e=i.$implicit;l(4),E(T(5,10,e.date,"fullDate")),l(2),d("ngIf",e.photoUrl),l(2),_(" ",e.photoUrl?"Change Photo":"Add Photo"," "),l(11),_(" ",e.weightKg||"N/A"," kg"),l(4),_(" ",e.chestCm||"N/A"," cm"),l(4),_(" ",e.waistCm||"N/A"," cm"),l(4),_(" ",e.hipsCm||"N/A"," cm"),l(4),_(" ",e.neckCm||"N/A"," cm"),l(4),_(" ",e.rightArmCm||"N/A"," cm"),l(4),d("value",e.notes||"")}}function or(s,i){if(s&1){let e=C();r(0,"div")(1,"section",19)(2,"h2",20),o(3,"Progress Chart"),t(),r(4,"div",21)(5,"select",22),g("change",function(a){b(e);let m=u();return x(m.updateChart(a))}),y(6,rr,2,2,"option",11),t()(),r(7,"div",23),c(8,"ngx-charts-line-chart",24),t()(),r(9,"section",25)(10,"h2",20),o(11,"Log History"),t(),y(12,nr,44,13,"div",26),t()()}if(s&2){let e=u();l(6),d("ngForOf",e.availableMetrics),l(2),d("results",e.chartData)("scheme",e.colorScheme)("xAxis",!0)("yAxis",!0)("legend",!0)("showXAxisLabel",!0)("showYAxisLabel",!0)("xAxisLabel","Date")("yAxisLabel",e.yAxisLabel)("autoScale",!0)("referenceLines",e.referenceLines),l(4),d("ngForOf",e.measurementHistory)}}function ar(s,i){s&1&&(r(0,"div",42)(1,"p",43),o(2,"No measurement history found."),t(),r(3,"p",44),o(4,"Go to your profile settings to add your first entry!"),t()())}function sr(s,i){if(s&1){let e=C();r(0,"div",45),g("click",function(){b(e);let a=u();return x(a.closeFullScreenImage())}),c(1,"img",46),t()}if(s&2){let e=u();l(),d("src",e.fullScreenImageUrl,V)}}function lr(s,i){if(s&1){let e=C();r(0,"div",47)(1,"div",48)(2,"h2",49),o(3,"Add Measurement Entry"),t(),r(4,"form",50),g("ngSubmit",function(){b(e);let a=u();return x(a.saveEntry())}),r(5,"label",51),o(6,"Date"),t(),c(7,"input",52),r(8,"div",53)(9,"div")(10,"label",54),o(11,"Target Weight (kg)"),t(),c(12,"input",55),t(),r(13,"div")(14,"label",56),o(15,"Chest (cm)"),t(),c(16,"input",57),t(),r(17,"div")(18,"label",58),o(19,"Waist (cm)"),t(),c(20,"input",59),t(),r(21,"div")(22,"label",60),o(23,"Hips (cm)"),t(),c(24,"input",61),t(),r(25,"div")(26,"label",62),o(27,"Neck (cm)"),t(),c(28,"input",63),t(),r(29,"div")(30,"label",64),o(31,"Right Arm (cm)"),t(),c(32,"input",65),t()(),c(33,"textarea",66),r(34,"div",67)(35,"button",68),g("click",function(){b(e);let a=u();return x(a.isAddEntryModalOpen=!1)}),c(36,"app-icon",69),o(37," CANCEL"),t(),r(38,"button",70),c(39,"app-icon",71),o(40,"SAVE"),t()()()()()}if(s&2){let e=u();l(4),d("formGroup",e.entryForm),l(34),d("disabled",e.entryForm.invalid)}}function mr(s,i){s&1&&(r(0,"span"),o(1,"Side-by-Side View"),t())}function dr(s,i){s&1&&(r(0,"span"),o(1,"Slider View"),t())}function pr(s,i){if(s&1&&(r(0,"div",95)(1,"div",96),c(2,"img",97),r(3,"p",98),o(4),S(5,"date"),t()(),r(6,"div",96),c(7,"img",99),r(8,"p",98),o(9),S(10,"date"),t()()()),s&2){let e=u(2);l(2),d("src",e.comparisonData.from.photoUrl||"./assets/images/no_data.png",V),l(2),E(T(5,4,e.comparisonData.from.date,"fullDate")),l(3),d("src",e.comparisonData.to.photoUrl||"./assets/images/no_data.png",V),l(2),E(T(10,7,e.comparisonData.to.date,"fullDate"))}}function cr(s,i){if(s&1){let e=C();r(0,"div",100)(1,"h3",101),o(2,"Image Comparison Slider"),t(),r(3,"div",102)(4,"div",103),c(5,"img",104),r(6,"span",105),o(7),S(8,"date"),t()(),r(9,"div",106),c(10,"img",107),r(11,"span",108),o(12),S(13,"date"),t()(),r(14,"div",109)(15,"div",110),M(),r(16,"svg",111),c(17,"path",112),t()()(),I(),r(18,"input",113),g("input",function(a){b(e);let m=u(2);return x(m.onSliderChange(a))}),t()()()}if(s&2){let e=u(2);l(5),d("src",e.comparisonData.from.photoUrl||"./assets/images/no_data.png",V),l(2),_(" BEFORE: ",H(8,7,e.comparisonData.from.date,"dd-MM-yy","UTC")," "),l(2),d("ngStyle",De(15,Jt,"inset(0 "+(100-e.comparisonSliderValue)+"% 0 0)")),l(),d("src",e.comparisonData.to.photoUrl||"./assets/images/no_data.png",V),l(2),_(" AFTER: ",H(13,11,e.comparisonData.to.date,"dd-MM-yy","UTC")," "),l(2),d("ngStyle",De(17,Zt,"calc("+e.comparisonSliderValue+"% - 1px)")),l(4),d("value",e.comparisonSliderValue)}}function gr(s,i){if(s&1&&(r(0,"span"),o(1),t()),s&2){let e=u().$implicit;l(),E(e.unit)}}function ur(s,i){if(s&1&&(r(0,"span"),o(1),t()),s&2){let e=u().$implicit;l(),E(e.unit)}}function fr(s,i){if(s&1&&(Fe(0),o(1),Ae()),s&2){let e=u().$implicit;l(),oe(" ",e.difference>0?"+":"","",e.difference," ",e.unit," ")}}function yr(s,i){s&1&&(Fe(0),o(1,"N/A"),Ae())}function hr(s,i){if(s&1&&(r(0,"tr",114)(1,"th",115),o(2),t(),r(3,"td",116),o(4),y(5,gr,2,1,"span",82),t(),r(6,"td",116),o(7),y(8,ur,2,1,"span",82),t(),r(9,"td",117),y(10,fr,2,3,"ng-container",82)(11,yr,2,0,"ng-container",82),t()()),s&2){let e=i.$implicit;l(2),E(e.metricLabel),l(2),_("",e.fromValue," "),l(),d("ngIf",e.fromValue!=="N/A"),l(2),_("",e.toValue," "),l(),d("ngIf",e.toValue!=="N/A"),l(),d("ngClass",D(8,Qt,e.difference!==null&&e.difference!==null,e.difference===0||e.difference===null)),l(),d("ngIf",e.difference!==null),l(),d("ngIf",e.difference===null)}}function vr(s,i){if(s&1){let e=C();r(0,"div",72)(1,"div",73)(2,"div",74)(3,"div",75)(4,"h2",76),o(5,"Side-by-Side Comparison"),t(),r(6,"button",77),g("click",function(){b(e);let a=u();return x(a.comparisonData=null)}),c(7,"app-icon",78),t()(),r(8,"div",79)(9,"button",80),g("click",function(){b(e);let a=u();return x(a.toggleComparisonMode())}),c(10,"app-icon",81),y(11,mr,2,0,"span",82)(12,dr,2,0,"span",82),t()()(),y(13,pr,11,10,"div",83)(14,cr,19,19,"div",84),r(15,"div",85)(16,"table",86)(17,"thead",87)(18,"tr")(19,"th",88),o(20,"Metric"),t(),r(21,"th",89),o(22),S(23,"date"),t(),r(24,"th",89),o(25),S(26,"date"),t(),r(27,"th",90),o(28,"Change"),t()()(),r(29,"tbody"),y(30,hr,12,11,"tr",91),t()()(),r(31,"div",92)(32,"button",93),g("click",function(){b(e);let a=u();return x(a.comparisonData=null)}),c(33,"app-icon",94),o(34," CLOSE"),t()()()()}if(s&2){let e=u();l(11),d("ngIf",e.comparisonMode==="slider"),l(),d("ngIf",e.comparisonMode==="side-by-side"),l(),d("ngIf",e.comparisonMode==="side-by-side"),l(),d("ngIf",e.comparisonMode==="slider"),l(8),_("",T(23,7,e.comparisonData.from.date,"shortDate")," "),l(3),_("",T(26,10,e.comparisonData.to.date,"shortDate")," "),l(5),d("ngForOf",e.comparisonData.rows)}}var Ie=class s{userProfileService=v(Ee);imageStorageService=v(z);toastService=v($);fb=v(xe);alertService=v(we);compareFromDate="";compareToDate="";userProfile=null;measurementHistory=[];fullScreenImageUrl=null;isAddEntryModalOpen=!1;comparisonData=null;entryForm;chartData=[];yAxisLabel="Value";referenceLines=[];colorScheme="vivid";availableMetrics=[];notesUpdate$=new Ne;ngOnInit(){this.userProfile=this.userProfileService.getProfile(),this.setupAvailableMetrics(),this.loadHistory(),this.initEntryForm(),this.notesUpdate$.pipe(B(1e3)).subscribe(i=>this.saveNotes(i.date,i.notes))}setupAvailableMetrics(){this.availableMetrics=[{key:"weightKg",label:"Weight (kg)"},{key:"bmi",label:"Body Mass Index (BMI)"},{key:"bodyFat",label:"Body Fat % (Navy)"},{key:"chestCm",label:"Chest (cm)"},{key:"waistCm",label:"Waist (cm)"},{key:"hipsCm",label:"Hips (cm)"},{key:"neckCm",label:"Neck (cm)"},{key:"rightArmCm",label:"Right Arm (cm)"}]}loadHistory(){return w(this,null,function*(){this.userProfile=this.userProfileService.getProfile();let i=this.userProfile?.measurementHistory?.slice().sort((e,n)=>new Date(n.date).getTime()-new Date(e.date).getTime())||[];if(this.measurementHistory=yield Promise.all(i.map(e=>w(this,null,function*(){if(!e.date)return null;let n=yield this.imageStorageService.getImage(e.date),a=n?URL.createObjectURL(n):void 0;return q(K({},e),{photoUrl:a})}))).then(e=>e.filter(Boolean)),this.measurementHistory.length>0){let e=document.getElementById("metric-select");this.prepareChartData(e?.value||"weightKg")}else this.chartData=[]})}prepareChartData(i){let e=this.availableMetrics.find(m=>m.key===i);this.yAxisLabel=e?e.label:"Value";let a=this.measurementHistory.slice().reverse().map(m=>{let p=null;if(i==="bmi")m.weightKg&&this.userProfile?.heightCm&&this.userProfile.heightCm>0&&(p=this.userProfileService.calculateBMI(m.weightKg,this.userProfile.heightCm));else if(i==="bodyFat"){let{gender:h,heightCm:k}=this.userProfile||{},{waistCm:P,neckCm:Y,hipsCm:ee}=m;if(h&&k&&P&&Y){let ht={waistCm:P,neckCm:Y,heightCm:k,hipsCm:ee??void 0};p=this.userProfileService.calculateBodyFatNavy(h,ht)}}else{let h=m[i];typeof h=="number"&&(p=h)}return{name:m.date,value:p}}).filter(m=>m.value!==null&&m.value!==void 0&&!isNaN(m.value));this.chartData=[{name:this.yAxisLabel,series:a}],this.updateReferenceLine(i)}updateReferenceLine(i){let e=this.userProfile?.measurementGoals?.[i];typeof e=="number"?this.referenceLines=[{name:"Goal",value:e}]:this.referenceLines=[]}updateChart(i){let e=i.target;this.prepareChartData(e.value)}initEntryForm(){this.entryForm=this.fb.group({date:["",f.required],weightKg:[null,[f.min(0)]],waistCm:[null,[f.min(0)]],neckCm:[null,[f.min(0)]],chestCm:[null,[f.min(0)]],hipsCm:[null,[f.min(0)]],rightArmCm:[null,[f.min(0)]],notes:[""]})}openAddEntryModal(){this.entryForm.reset({date:new Date().toISOString().split("T")[0]}),this.isAddEntryModalOpen=!0}saveEntry(){this.entryForm.invalid||(this.userProfileService.addOrUpdateMeasurementEntry(this.entryForm.value),this.isAddEntryModalOpen=!1,this.loadHistory(),this.toastService.success("Entry Saved!"))}updateNotes(i,e){let n=e.target.value;this.notesUpdate$.next({date:i,notes:n})}saveNotes(i,e){let n=this.measurementHistory.find(a=>a.date===i);if(n){let a=q(K({},n),{notes:e});delete a.photoUrl,this.userProfileService.addOrUpdateMeasurementEntry(a),this.toastService.info("Notes auto-saved.",1500)}}uploadPhoto(i,e){return w(this,null,function*(){let n=i.target;if(!n.files||n.files.length===0)return;let a=n.files[0];try{yield this.imageStorageService.saveImage(e,a);let m=this.measurementHistory.find(p=>p.date===e);m&&(m.photoUrl&&URL.revokeObjectURL(m.photoUrl),m.photoUrl=URL.createObjectURL(a)),this.toastService.success("Photo saved!")}catch(m){console.error("Failed to save photo:",m),this.toastService.error("Could not save photo.")}finally{n.value=""}})}openFullScreenImage(i){this.fullScreenImageUrl=i}closeFullScreenImage(){this.fullScreenImageUrl=null}onCompareFromChange(i){let e=i.target;this.compareFromDate=e.value}onCompareToChange(i){let e=i.target;this.compareToDate=e.value}closeCompareModal(){this.comparisonData=null,this.compareFromDate="",this.compareToDate=""}openCompareModal(i,e){if(this.comparisonMode="slider",this.comparisonSliderValue=50,!i||!e){this.toastService.error("Please select two dates to compare.");return}let n=this.measurementHistory.find(p=>p.date===i),a=this.measurementHistory.find(p=>p.date===e);if(!n||!a){this.toastService.error("Could not find the selected entries.");return}new Date(n.date)>new Date(a.date)&&([n,a]=[a,n]);let m=this.calculateComparisonRows(n,a);this.comparisonData={from:n,to:a,rows:m}}calculateComparisonRows(i,e){return[{key:"weightKg",label:"Weight",unit:"kg"},{key:"chestCm",label:"Chest",unit:"cm"},{key:"waistCm",label:"Waist",unit:"cm"},{key:"hipsCm",label:"Hips",unit:"cm"},{key:"neckCm",label:"Neck",unit:"cm"},{key:"rightArmCm",label:"Right Arm",unit:"cm"}].map(a=>{let m=i[a.key],p=e[a.key],h=null;return typeof m=="number"&&typeof p=="number"&&(h=parseFloat((p-m).toFixed(2))),{metricLabel:a.label,unit:a.unit,fromValue:m??"N/A",toValue:p??"N/A",difference:h}})}editEntry(i){let e=this.measurementHistory.find(n=>n.date===i);if(!e){this.toastService.error("Entry not found.");return}this.entryForm.setValue({date:e.date,weightKg:e.weightKg??null,waistCm:e.waistCm??null,neckCm:e.neckCm??null,chestCm:e.chestCm??null,hipsCm:e.hipsCm??null,rightArmCm:e.rightArmCm??null,notes:e.notes??""}),this.isAddEntryModalOpen=!0}confirmDeleteEntry(i){return w(this,null,function*(){let e=yield this.alertService.showConfirm("Delete Entry",`Are you sure you want to permanently delete all data for ${i}? This includes any associated photo and cannot be undone.`);if(e&&e.data)try{this.userProfileService.deleteMeasurementEntry(i),yield this.imageStorageService.deleteImage(i),this.toastService.success("Entry deleted successfully."),yield this.loadHistory()}catch(n){console.error("Failed to delete entry:",n),this.toastService.error("Could not delete the entry.")}})}comparisonSliderValue=50;comparisonMode="slider";onSliderChange(i){let e=i.target.value;this.comparisonSliderValue=Number(e)}toggleComparisonMode(){this.comparisonMode=this.comparisonMode==="slider"?"side-by-side":"slider"}static \u0275fac=function(e){return new(e||s)};static \u0275cmp=L({type:s,selectors:[["app-measurement-history"]],decls:28,vars:9,consts:[["noData",""],[1,"container","mx-auto","p-2","sm:p-4","text-gray-800","dark:text-gray-200"],[1,"flex","justify-between","items-center","pb-4","border-b","border-gray-200","dark:border-gray-700","mb-4"],[1,"text-2xl","font-bold"],[1,"px-4","py-2","bg-primary","hover:bg-primary-dark","text-white","font-semibold","rounded-md","shadow-sm","transition-colors","inline-flex","items-center","text-sm",3,"click"],["name","plus-circle"],[1,"bg-white","dark:bg-gray-800","p-4","rounded-md","shadow-md","mb-6"],[1,"font-semibold","mb-2"],[1,"flex","flex-col","sm:flex-row","gap-4","items-center"],[1,"flex-1","p-2","border","dark:border-gray-600","rounded-md","dark:bg-gray-700",3,"change"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"px-4","py-2","bg-indigo-500","hover:bg-indigo-600","text-white","rounded-md","disabled:opacity-50","flex","items-center",3,"click","disabled"],["name","magnifier",1,"h-6","w-6","mr-1",3,"strokeWidth"],[4,"ngIf","ngIfElse"],["class","fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 p-4",3,"click",4,"ngIf"],["class","fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4 text-gray-800 dark:text-gray-200 backdrop-blur-sm animate-fade-in",4,"ngIf"],["class","fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 p-4 animate-fade-in text-gray-800 dark:text-gray-200",4,"ngIf"],[3,"value"],[1,"bg-white","dark:bg-gray-800","p-4","sm:p-6","rounded-md","shadow-md","mb-6"],[1,"text-xl","font-semibold","mb-4"],[1,"mb-4"],[1,"p-2","border","dark:border-gray-600","rounded-md","dark:bg-gray-700",3,"change"],[1,"w-full","h-[300px]"],[3,"results","scheme","xAxis","yAxis","legend","showXAxisLabel","showYAxisLabel","xAxisLabel","yAxisLabel","autoScale","referenceLines"],[1,"bg-white","dark:bg-gray-800","p-4","sm:p-6","rounded-md","shadow-md"],["class","border-b dark:border-gray-700 py-4 last:border-b-0",4,"ngFor","ngForOf"],[1,"border-b","dark:border-gray-700","py-4","last:border-b-0"],[1,"grid","grid-cols-1","sm:grid-cols-3","gap-4","items-start"],[1,"flex","flex-col","items-center"],[1,"font-medium","text-lg","mb-2"],["alt","Progress photo","class","w-24 h-24 object-cover rounded-md shadow-lg cursor-pointer hover:opacity-80 transition-opacity",3,"src","click",4,"ngIf"],[1,"cursor-pointer","text-sm","text-primary","dark:text-primary-dark","hover:underline","mt-2"],["type","file","accept","image/*",1,"hidden",3,"change"],["title","Delete Entry",1,"p-1","rounded-full","text-gray-400","hover:bg-red-100","hover:text-red-500","dark:hover:bg-red-900/50","transition-colors",3,"click"],["name","trash",1,"w-4","h-4"],["title","Edit Entry",1,"p-1","rounded-full","text-gray-400","hover:bg-red-100","hover:text-red-500","dark:hover:bg-red-900/50","transition-colors",3,"click"],["name","edit",1,"w-4","h-4"],[1,"text-sm","grid","grid-cols-2","gap-x-4","gap-y-1"],[1,"font-semibold","text-sm"],["placeholder","Add notes...",1,"w-full","p-2","mt-1","border","rounded-md","dark:bg-gray-700","dark:border-gray-600","h-24",3,"input","value"],["alt","Progress photo",1,"w-24","h-24","object-cover","rounded-md","shadow-lg","cursor-pointer","hover:opacity-80","transition-opacity",3,"click","src"],[1,"text-center","bg-white","dark:bg-gray-800","p-10","rounded-md","shadow-md"],[1,"text-lg"],[1,"text-gray-500","dark:text-gray-400","mt-2"],[1,"fixed","inset-0","bg-black","bg-opacity-80","flex","items-center","justify-center","z-50","p-4",3,"click"],[1,"max-w-full","max-h-full","object-contain",3,"src"],[1,"fixed","inset-0","bg-black","bg-opacity-60","flex","items-center","justify-center","z-50","p-4","text-gray-800","dark:text-gray-200","backdrop-blur-sm","animate-fade-in"],[1,"bg-white","dark:bg-gray-800","rounded-lg","shadow-xl","p-6","w-full","max-w-md"],[1,"text-xl","font-bold","mb-4"],[3,"ngSubmit","formGroup"],["for","date",1,"block","text-xs","font-medium","text-gray-600","dark:text-gray-400"],["type","date","formControlName","date","id","date",1,"w-full","p-2","border","rounded","mb-4","dark:bg-gray-700","dark:border-gray-600"],[1,"grid","grid-cols-2","gap-4","mb-4"],["for","weightKg",1,"block","text-xs","font-medium","text-gray-600","dark:text-gray-400"],["type","number","formControlName","weightKg","id","weightKg","placeholder","Weight (kg)",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200","text-lg"],["for","chestCm",1,"block","text-xs","font-medium","text-gray-600","dark:text-gray-400"],["type","number","formControlName","chestCm","id","chestCm","placeholder","Chest (cm)",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200","text-lg"],["for","waistCm",1,"block","text-xs","font-medium","text-gray-600","dark:text-gray-400"],["type","number","formControlName","waistCm","id","waistCm","placeholder","Waist (cm)",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200","text-lg"],["for","hipsCm",1,"block","text-xs","font-medium","text-gray-600","dark:text-gray-400"],["type","number","formControlName","hipsCm","id","hipsCm","placeholder","Hips (cm)",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200","text-lg"],["for","neckCm",1,"block","text-xs","font-medium","text-gray-600","dark:text-gray-400"],["type","number","formControlName","neckCm","id","neckCm","placeholder","Neck (cm)",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200","text-lg"],["for","rightArmCm",1,"block","text-xs","font-medium","text-gray-600","dark:text-gray-400"],["type","number","formControlName","rightArmCm","id","rightArmCm","placeholder","Right Arm (cm)",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200","text-lg"],["formControlName","notes","placeholder","Notes...",1,"w-full","p-2","border","rounded","mb-4","h-24","dark:bg-gray-700","dark:border-gray-600"],[1,"flex","justify-end","gap-4","text-white"],["type","button",1,"px-4","py-2","rounded","flex","items-center",3,"click"],["name","cancel",1,"h-6","w-6","text-white"],["type","submit",1,"px-4","py-2","bg-primary","text-white","rounded","disabled:opacity-50","flex","items-center",3,"disabled"],["name","save",1,"h-7","w-7","mr-1"],[1,"fixed","inset-0","bg-black","bg-opacity-70","flex","items-center","justify-center","z-50","p-4","animate-fade-in","text-gray-800","dark:text-gray-200"],[1,"bg-white","dark:bg-gray-800","rounded-lg","shadow-xl","p-4","sm:p-6","w-full","max-w-3xl","max-h-[90vh]","overflow-y-auto"],[1,"flex","flex-col","sm:flex-row","justify-between","items-start","sm:items-center","mb-4"],[1,"flex","items-center","justify-between","w-full","sm:w-auto","mb-2","sm:mb-0"],[1,"text-xl","sm:text-2xl","font-bold","mb-2","sm:mb-0"],[1,"text-gray-500","hover:text-gray-800","dark:hover:text-gray-200",3,"click"],["name","cancel",1,"h-6","w-6"],[1,"flex","items-center","gap-4"],[1,"px-3","py-1.5","text-xs","font-medium","text-gray-600","dark:text-gray-300","bg-gray-100","dark:bg-gray-700","rounded-md","hover:bg-gray-200","dark:hover:bg-gray-600","transition-colors","flex","items-center",3,"click"],["name","change",1,"w-4","h-4","mr-1"],[4,"ngIf"],["class","grid grid-cols-2 gap-4 mb-6",4,"ngIf"],["class","mb-6",4,"ngIf"],[1,"overflow-x-auto"],[1,"w-full","text-sm","text-left"],[1,"text-xs","text-gray-700","uppercase","bg-gray-50","dark:bg-gray-700","dark:text-gray-400","rounded-lg"],["scope","col",1,"px-2","py-3","rounded-l-lg"],["scope","col",1,"px-2","py-3","text-center"],["scope","col",1,"px-2","py-3","text-center","rounded-r-lg"],["class","border-b dark:border-gray-700",4,"ngFor","ngForOf"],[1,"flex","justify-end","mt-6"],[1,"px-5","py-2.5","rounded-lg","bg-gray-200","hover:bg-gray-300","dark:bg-gray-600","dark:hover:bg-gray-700","text-sm","font-medium","flex","items-center",3,"click"],["name","cancel"],[1,"grid","grid-cols-2","gap-4","mb-6"],[1,"text-center"],["alt","Start photo",1,"w-full","h-48","sm:h-64","object-cover","rounded-md","bg-gray-200","dark:bg-gray-700",3,"src"],[1,"mt-2","font-semibold","text-sm"],["alt","End photo",1,"w-full","h-48","sm:h-64","object-cover","rounded-md","bg-gray-200","dark:bg-gray-700",3,"src"],[1,"mb-6"],[1,"font-semibold","text-center","mb-2"],[1,"relative","w-full","aspect-[4/3]","rounded-md","overflow-hidden","select-none","bg-gray-200","dark:bg-gray-700"],[1,"absolute","inset-0","z-10"],["alt","Start photo",1,"w-full","h-full","object-cover","max-w-none",3,"src"],[1,"absolute","top-2","left-2","bg-black/50","text-white","text-xs","font-bold","py-1","px-2","rounded-full","z-10"],[1,"absolute","inset-0","z-20",3,"ngStyle"],["alt","End photo",1,"w-full","h-full","object-cover","max-w-none",3,"src"],[1,"absolute","top-2","right-2","bg-black/50","text-white","text-xs","font-bold","py-1","px-2","rounded-full","z-10"],[1,"absolute","top-0","bottom-0","bg-white","w-1","pointer-events-none","z-30",3,"ngStyle"],[1,"absolute","top-1/2","-translate-y-1/2","-translate-x-1/2","bg-white","border-2","border-primary","rounded-full","h-8","w-8","flex","items-center","justify-center","shadow-lg"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-primary"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","3","d","M8 9l4-4 4 4m0 6l-4 4-4-4"],["type","range","min","0","max","100",1,"absolute","inset-0","w-full","h-full","cursor-ew-resize","appearance-none","bg-transparent","z-40",2,"--thumb-color","transparent",3,"input","value"],[1,"border-b","dark:border-gray-700"],["scope","row",1,"px-2","py-4","font-medium","whitespace-nowrap"],[1,"px-2","py-4","text-center"],[1,"px-2","py-4","text-center","font-bold",3,"ngClass"]],template:function(e,n){if(e&1){let a=C();r(0,"div",1)(1,"header",2)(2,"h1",3),o(3,"Measurement History"),t(),r(4,"button",4),g("click",function(){return b(a),x(n.openAddEntryModal())}),c(5,"app-icon",5),o(6," ADD PAST ENTRY "),t()(),r(7,"section",6)(8,"h3",7),o(9,"Side-by-Side Comparison"),t(),r(10,"div",8)(11,"select",9),g("change",function(p){return b(a),x(n.onCompareFromChange(p))}),r(12,"option",10),o(13,"-- Select Start Date --"),t(),y(14,er,3,5,"option",11),t(),r(15,"select",9),g("change",function(p){return b(a),x(n.onCompareToChange(p))}),r(16,"option",10),o(17,"-- Select End Date --"),t(),y(18,tr,3,5,"option",11),t(),r(19,"button",12),g("click",function(){return b(a),x(n.openCompareModal(n.compareFromDate,n.compareToDate))}),c(20,"app-icon",13),o(21," COMPARE "),t()()(),y(22,or,13,13,"div",14)(23,ar,5,0,"ng-template",null,0,X),t(),y(25,sr,2,1,"div",15)(26,lr,41,2,"div",16)(27,vr,35,13,"div",17)}if(e&2){let a=A(24);l(14),d("ngForOf",n.measurementHistory),l(4),d("ngForOf",n.measurementHistory),l(),d("disabled",!n.compareFromDate||!n.compareToDate),l(),d("strokeWidth",2),l(2),d("ngIf",n.measurementHistory.length>0)("ngIfElse",a),l(3),d("ngIf",n.fullScreenImageUrl),l(),d("ngIf",n.isAddEntryModalOpen),l(),d("ngIf",n.comparisonData)}},dependencies:[j,ae,U,G,Ge,pt,dt,_e,ue,ve,be,pe,fe,ce,ge,ye,he,W,se],encapsulation:2})};var Ki=[{path:"",component:Te,title:"Profile & Settings"},{path:"personal-bests",component:Me,title:"Personal Bests"},{path:"measurements",component:Ie,title:"Body Measurements"}];export{Ki as PROFILE_SETTINGS_ROUTES};
