import{a as ct}from"./chunk-P664ZRNM.js";import{a as We}from"./chunk-FVAYAULE.js";import{a as Tt}from"./chunk-EGZUX577.js";import{a as Ft}from"./chunk-WVQ72XQX.js";import{e as It,f as Mt}from"./chunk-2BMXPUF2.js";import{a as Ct}from"./chunk-TFQ2OJWM.js";import{a as Pt}from"./chunk-S2MUZOG7.js";import{a as Re}from"./chunk-T4SJ5DHT.js";import{a as St,b as He,g as se,h as Le,j as oe,k as Et}from"./chunk-LRT4BF4H.js";import{a as W}from"./chunk-MZ2D64ZH.js";import{a as _t,s as wt,t as ae,u as kt,v as Bt}from"./chunk-UQBSZDXS.js";import{$c as Ne,Ac as mt,Bc as Ee,Cc as _,Db as at,Dc as Pe,Ec as Ce,Gc as ut,H as he,Hb as Se,Ia as c,Ib as Z,Ic as Ie,J as ye,Ja as a,Jb as ee,Jc as Me,Ka as n,La as v,Ma as qe,Mb as st,Mc as gt,N as S,Na as Ke,Nc as Te,Oc as vt,Pa as F,Pb as ot,Qa as h,Qb as lt,Qc as Fe,Ra as x,Rb as _e,Rc as ft,S as B,Sb as pt,Sc as De,T as E,Tc as Oe,U as K,Ub as te,Uc as ht,V as X,Vc as yt,Wb as me,Wc as bt,Ya as U,Yc as Ae,Z as N,Za as rt,_a as V,_c as Ue,a as Ze,ab as o,bb as u,bd as ie,c as et,ca as be,cb as f,cd as H,db as z,eb as xe,ed as L,fa as $,fd as re,ga as it,gd as ne,hd as Ve,ia as i,ic as we,id as xt,jc as dt,l as q,lb as I,mb as T,nb as nt,oc as Je,pb as p,pc as ke,qa as J,qb as d,rb as P,sb as Xe,sc as ue,tb as Q,tc as ge,uc as Be,v as fe,va as w,xb as Y,y as j,z as tt}from"./chunk-2LJXGSDB.js";import{a as R,b as G,g as C}from"./chunk-GAL4ENT6.js";var le=class s{STORE_NAME="progress_photos";dbService=S(ct);saveImage(r,e){return C(this,null,function*(){return q(this.dbService.update(this.STORE_NAME,{date:r,image:e}))})}getImage(r){return C(this,null,function*(){if(!r)return Promise.resolve(void 0);let e=yield q(this.dbService.getByKey(this.STORE_NAME,r));return e?e.image:void 0})}deleteImage(r){return C(this,null,function*(){return r?q(this.dbService.delete(this.STORE_NAME,r)):Promise.resolve()})}getAllImagesForBackup(){return C(this,null,function*(){let r=yield q(this.dbService.getAll(this.STORE_NAME)),e=[];for(let t of r)if(t.image instanceof Blob){let l=yield this.blobToBase64(t.image);e.push({date:t.date,type:t.image.type,data:l})}return e})}importImages(r){return C(this,null,function*(){if(!r||r.length===0)return Promise.resolve();let e=r.map(t=>{let l=this.base64ToBlob(t.data,t.type);return{date:t.date,image:l}});return q(this.dbService.bulkPut(this.STORE_NAME,e))})}blobToBase64(r){return new Promise((e,t)=>{let l=new FileReader;l.onloadend=()=>e(l.result),l.onerror=t,l.readAsDataURL(r)})}base64ToBlob(r,e=""){let t=atob(r.split(",")[1]),l=[];for(let m=0;m<t.length;m+=512){let g=t.slice(m,m+512),b=new Array(g.length);for(let y=0;y<g.length;y++)b[y]=g.charCodeAt(y);let k=new Uint8Array(b);l.push(k)}return new Blob(l,{type:e})}static \u0275fac=function(e){return new(e||s)};static \u0275prov=ye({token:s,factory:s.\u0275fac,providedIn:"root"})};var je=class s{unitsService=S(W);trackingService=S(oe);workoutService=S(se);userProfileService=S(ae);personalGymService=S(We);progressiveOverloadService=S(He);spinnerService=S(Re);toastService=S(H);translate=S(L);constructor(){}convertAllWeightData(r,e){return C(this,null,function*(){this.spinnerService.show(this.translate.instant("dataConversionService.spinner.convertingWeight"));let t=this.trackingService.getDataForBackup();t.forEach(y=>{y.exercises.forEach(M=>{M.sets.forEach(D=>{D.weightUsed!=null&&(D.weightUsed=this.unitsService.convertWeight(D.weightUsed,r,e)),D.targetWeight!=null&&(D.targetWeight=this.unitsService.convertWeight(D.targetWeight,r,e))})})}),yield this.trackingService.replaceLogs(t);let l=this.workoutService.getDataForBackup();l.forEach(y=>{y.exercises.forEach(M=>{M.sets.forEach(D=>{D.targetWeight!=null&&(D.targetWeight=this.unitsService.convertWeight(D.targetWeight,r,e))})})}),this.workoutService.mergeData(l);let m=this.personalGymService.getDataForBackup();m.forEach(y=>{switch(y.category){case"Dumbbell":case"Kettlebell":case"Macebell":case"Club":y.weightType==="fixed"&&y.weight!=null?y.weight=this.unitsService.convertWeight(y.weight,r,e):y.weightType==="adjustable"&&(y.minweight!=null&&(y.minweight=this.unitsService.convertWeight(y.minweight,r,e)),y.maxweight!=null&&(y.maxweight=this.unitsService.convertWeight(y.maxweight,r,e)),y.increment!=null&&(y.increment=this.unitsService.convertWeight(y.increment,r,e)));break;case"Plate":case"Barbell":y.weight!=null&&(y.weight=this.unitsService.convertWeight(y.weight,r,e));break;case"Bag":y.maxweight!=null&&(y.maxweight=this.unitsService.convertWeight(y.maxweight,r,e)),y.currentWeightKg!=null&&(y.currentWeightKg=this.unitsService.convertWeight(y.currentWeightKg,r,e));break;case"Band":y.resistance!=null&&(y.resistance=this.unitsService.convertWeight(y.resistance,r,e));break;case"Machine":y.maxLoad!=null&&(y.maxLoad=this.unitsService.convertWeight(y.maxLoad,r,e));break}}),this.personalGymService.mergeData(m);let g=this.progressiveOverloadService.getDataForBackup();g.weightIncrement!=null&&(g.weightIncrement=this.unitsService.convertWeight(g.weightIncrement,r,e),this.progressiveOverloadService.replaceData(g)),this.spinnerService.hide();let b=this.translate.instant("dataConversionService.toast.conversionCompleteTitle"),k=this.translate.instant("dataConversionService.toast.weightSuccess");this.toastService.success(k,3e3,b)})}convertAllBodyWeightData(r,e){return C(this,null,function*(){this.spinnerService.show(this.translate.instant("dataConversionService.spinner.convertingBodyWeight"));let t=this.userProfileService.getDataForBackup();t&&(t.measurementHistory&&t.measurementHistory.forEach(g=>{g.weight!=null&&(g.weight=this.unitsService.convertWeight(g.weight,r,e))}),t.measurementGoals?.weight!=null&&(t.measurementGoals.weight=this.unitsService.convertWeight(t.measurementGoals.weight,r,e)),this.userProfileService.replaceData(t)),this.spinnerService.hide();let l=this.translate.instant("dataConversionService.toast.conversionCompleteTitle"),m=this.translate.instant("dataConversionService.toast.bodyWeightSuccess");this.toastService.success(m,3e3,l)})}convertAllBodyMeasureData(r,e){return C(this,null,function*(){this.spinnerService.show(this.translate.instant("dataConversionService.spinner.convertingBodyMeasure"));let t=this.userProfileService.getDataForBackup();if(t){let g=["height","chest","neck","waist","hips","rightArm"];t.measurementHistory&&t.measurementHistory.forEach(b=>{g.forEach(k=>{b[k]!=null&&(b[k]=this.unitsService.convertMeasure(b[k],r,e))})}),t.measurementGoals&&g.forEach(b=>{let k=b;t.measurementGoals[k]!=null&&(t.measurementGoals[k]=this.unitsService.convertMeasure(t.measurementGoals[k],r,e))}),this.userProfileService.replaceData(t)}this.spinnerService.hide();let l=this.translate.instant("dataConversionService.toast.conversionCompleteTitle"),m=this.translate.instant("dataConversionService.toast.bodyMeasureSuccess");this.toastService.success(m,3e3,l)})}convertAllMeasureData(r,e){return C(this,null,function*(){this.spinnerService.show(this.translate.instant("dataConversionService.spinner.convertingMeasure"));let t=this.personalGymService.getDataForBackup();t.forEach(g=>{g.category==="Band"&&g.length!=null&&(g.length=this.unitsService.convertMeasure(g.length,r,e))}),this.personalGymService.mergeData(t),this.spinnerService.hide();let l=this.translate.instant("dataConversionService.toast.conversionCompleteTitle"),m=this.translate.instant("dataConversionService.toast.measureSuccess");this.toastService.success(m,3e3,l)})}convertAllDistanceMeasureData(r,e){return C(this,null,function*(){this.spinnerService.show(this.translate.instant("dataConversionService.spinner.convertingDistance"));let t=this.trackingService.getDataForBackup();t.forEach(k=>{k.exercises.forEach(y=>{y.sets.forEach(M=>{M.distanceAchieved!=null&&(M.distanceAchieved=this.unitsService.convertDistance(M.distanceAchieved,r,e)),M.targetDistance!=null&&(M.targetDistance=this.unitsService.convertDistance(M.targetDistance,r,e))})})}),yield this.trackingService.replaceLogs(t);let l=this.workoutService.getDataForBackup();l.forEach(k=>{k.exercises.forEach(y=>{y.sets.forEach(M=>{M.targetDistance!=null&&(M.targetDistance=this.unitsService.convertDistance(M.targetDistance,r,e))})})}),this.workoutService.mergeData(l);let m=this.progressiveOverloadService.getDataForBackup();m.distanceIncrement!=null&&(m.distanceIncrement=this.unitsService.convertDistance(m.distanceIncrement,r,e),this.progressiveOverloadService.replaceData(m)),this.spinnerService.hide();let g=this.translate.instant("dataConversionService.toast.conversionCompleteTitle"),b=this.translate.instant("dataConversionService.toast.distanceSuccess");this.toastService.success(b,3e3,g)})}static \u0275fac=function(e){return new(e||s)};static \u0275prov=ye({token:s,factory:s.\u0275fac,providedIn:"root"})};var A=s=>({unit:s}),ve=(s,r)=>({"left-1 right-1/2":s,"left-1/2 right-1":r}),O=(s,r)=>({"text-white":s,"text-gray-700 dark:text-gray-300":r}),Lt=(s,r,e)=>({"translate-x-1":s,"translate-x-full":r,"translate-x-[195%]":e});function Wt(s,r){if(s&1&&(a(0,"option",119),o(1),p(2,"translate"),n()),s&2){let e=r.$implicit;c("value",e.value),i(),f("",d(2,2,e.label)," ")}}function Rt(s,r){s&1&&(a(0,"span",120),v(1,"app-icon",121),o(2),p(3,"translate"),n()),s&2&&(i(2),f(" ",d(3,1,"common.premium")," "))}function Gt(s,r){s&1&&(a(0,"div",122),o(1),p(2,"translate"),n()),s&2&&(i(),f(" ",d(2,1,"settings.player.weightIncrementError")," "))}function jt(s,r){s&1&&(a(0,"div",122),o(1),p(2,"translate"),n()),s&2&&(i(),f(" ",d(2,1,"settings.player.countdownSoundError")," "))}function $t(s,r){if(s&1){let e=F();a(0,"div",16)(1,"label",123),o(2),p(3,"translate"),n(),a(4,"input",124),h("change",function(){B(e);let l=x();return E(l.currentVibrator.vibrate(50))}),n(),w(5,jt,3,3,"div",65),n()}if(s&2){let e,t=x();i(2),u(d(3,2,"settings.player.countdownSoundSecondsLabel")),i(3),c("ngIf",((e=t.appSettingsForm.get("countdownSoundSeconds"))==null?null:e.invalid)&&((e=t.appSettingsForm.get("countdownSoundSeconds"))==null?null:e.touched))}}function zt(s,r){s&1&&(a(0,"span",120),v(1,"app-icon",121),o(2),p(3,"translate"),n()),s&2&&(i(2),f(" ",d(3,1,"common.premium")," "))}function Yt(s,r){if(s&1){let e=F();a(0,"div",134)(1,"input",135),h("change",function(l){B(e);let m=x(2);return E(m.onStrategyChange(l))}),n(),a(2,"label",136),o(3),p(4,"translate"),n()()}if(s&2){let e=r.$implicit,t=x(2);i(),c("id","strategy-"+e.value)("value",e.value)("checked",t.isStrategySelected(e.value)),i(),c("for","strategy-"+e.value),i(),f(" ",d(4,5,e.label)," ")}}function qt(s,r){s&1&&(a(0,"div",122),o(1),p(2,"translate"),n()),s&2&&(i(),f(" ",d(2,1,"settings.progressiveOverload.strategyError")," "))}function Kt(s,r){s&1&&(a(0,"div",122),o(1),p(2,"translate"),n()),s&2&&(i(),f(" ",d(2,1,"settings.progressiveOverload.weightIncrementError")," "))}function Xt(s,r){if(s&1&&(a(0,"div")(1,"label",137),o(2),p(3,"uppercase"),p(4,"translate"),n(),v(5,"input",138),p(6,"translate"),w(7,Kt,3,3,"div",65),n()),s&2){let e,t=x(2);i(2),f(" ",P(4,5,"settings.progressiveOverload.weightIncrementLabel",I(10,A,d(3,3,t.unitsService.currentWeightUnit())))," "),i(3),c("placeholder",d(6,8,"settings.progressiveOverload.weightIncrementPlaceholder")),i(2),c("ngIf",((e=t.progressiveOverloadForm.get("weightIncrement"))==null?null:e.invalid)&&((e=t.progressiveOverloadForm.get("weightIncrement"))==null?null:e.touched))}}function Jt(s,r){s&1&&(a(0,"div",122),o(1),p(2,"translate"),n()),s&2&&(i(),f(" ",d(2,1,"settings.progressiveOverload.repsIncrementError")," "))}function Qt(s,r){if(s&1&&(a(0,"div")(1,"label",139),o(2),p(3,"translate"),n(),v(4,"input",140),p(5,"translate"),w(6,Jt,3,3,"div",65),n()),s&2){let e,t=x(2);i(2),f(" ",d(3,3,"settings.progressiveOverload.repsIncrementLabel")," "),i(2),c("placeholder",d(5,5,"settings.progressiveOverload.repsIncrementPlaceholder")),i(2),c("ngIf",((e=t.progressiveOverloadForm.get("repsIncrement"))==null?null:e.invalid)&&((e=t.progressiveOverloadForm.get("repsIncrement"))==null?null:e.touched))}}function Zt(s,r){s&1&&(a(0,"div",122),o(1),p(2,"translate"),n()),s&2&&(i(),f(" ",d(2,1,"settings.progressiveOverload.distanceIncrementError")," "))}function ei(s,r){if(s&1&&(a(0,"div")(1,"label",141),o(2),p(3,"uppercase"),p(4,"translate"),n(),v(5,"input",142),p(6,"translate"),w(7,Zt,3,3,"div",65),n()),s&2){let e,t=x(2);i(2),f(" ",P(4,5,"settings.progressiveOverload.distanceIncrementLabel",I(10,A,d(3,3,t.unitsService.currentDistanceMeasureUnit())))," "),i(3),c("placeholder",d(6,8,"settings.progressiveOverload.distanceIncrementPlaceholder")),i(2),c("ngIf",((e=t.progressiveOverloadForm.get("distanceIncrement"))==null?null:e.invalid)&&((e=t.progressiveOverloadForm.get("distanceIncrement"))==null?null:e.touched))}}function ti(s,r){s&1&&(a(0,"div",122),o(1),p(2,"translate"),n()),s&2&&(i(),f(" ",d(2,1,"settings.progressiveOverload.durationIncrementError")," "))}function ii(s,r){if(s&1&&(a(0,"div")(1,"label",143),o(2),p(3,"translate"),n(),v(4,"input",144),p(5,"translate"),w(6,ti,3,3,"div",65),n()),s&2){let e,t=x(2);i(2),f(" ",d(3,3,"settings.progressiveOverload.durationIncrementLabel")," "),i(2),c("placeholder",d(5,5,"settings.progressiveOverload.durationIncrementPlaceholder")),i(2),c("ngIf",((e=t.progressiveOverloadForm.get("durationIncrement"))==null?null:e.invalid)&&((e=t.progressiveOverloadForm.get("durationIncrement"))==null?null:e.touched))}}function ri(s,r){s&1&&(a(0,"div",122),o(1),p(2,"translate"),n()),s&2&&(i(),f(" ",d(2,1,"settings.progressiveOverload.sessionsToIncrementError")," "))}function ni(s,r){if(s&1&&(a(0,"div",125)(1,"div")(2,"label",126),o(3),p(4,"translate"),n(),a(5,"p",127),o(6),p(7,"translate"),n(),a(8,"div",128),w(9,Yt,5,7,"div",129),n(),w(10,qt,3,3,"div",65),n(),a(11,"div",130),w(12,Xt,8,12,"div",131)(13,Qt,7,7,"div",131)(14,ei,8,12,"div",131)(15,ii,7,7,"div",131),n(),a(16,"div")(17,"label",132),o(18),p(19,"translate"),n(),a(20,"p",63),o(21),p(22,"translate"),n(),v(23,"input",133),w(24,ri,3,3,"div",65),n()()),s&2){let e,t,l=x();i(3),u(d(4,11,"settings.progressiveOverload.strategyLabel")),i(3),u(d(7,13,"settings.progressiveOverload.strategyDescription")),i(3),c("ngForOf",l.progressiveOverloadStrategies),i(),c("ngIf",((e=l.progressiveOverloadForm.get("enabled"))==null?null:e.value)&&l.strategiesFormArray.length===0&&l.progressiveOverloadForm.dirty),i(2),c("ngIf",l.isStrategySelected(l.ProgressiveOverloadStrategy.WEIGHT)),i(),c("ngIf",l.isStrategySelected(l.ProgressiveOverloadStrategy.REPS)),i(),c("ngIf",l.isStrategySelected(l.ProgressiveOverloadStrategy.DISTANCE)),i(),c("ngIf",l.isStrategySelected(l.ProgressiveOverloadStrategy.DURATION)),i(3),u(d(19,15,"settings.progressiveOverload.sessionsToIncrementLabel")),i(3),u(d(22,17,"settings.progressiveOverload.sessionsToIncrementDescription")),i(3),c("ngIf",((t=l.progressiveOverloadForm.get("sessionsToIncrement"))==null?null:t.invalid)&&((t=l.progressiveOverloadForm.get("sessionsToIncrement"))==null?null:t.touched))}}function ai(s,r){s&1&&(a(0,"span",145),v(1,"app-icon",121),o(2),p(3,"translate"),n()),s&2&&(i(2),f(" ",d(3,1,"common.premium")," "))}function si(s,r){if(s&1&&(a(0,"option",119),o(1),p(2,"translate"),n()),s&2){let e=r.$implicit,t=x();c("value",e),i(),f(" ",d(2,2,t.languageDisplayNames[e])," ")}}function oi(s,r){s&1&&(a(0,"span",120),v(1,"app-icon",121),o(2),p(3,"translate"),n()),s&2&&(i(2),f(" ",d(3,1,"common.premium")," "))}var $e=class s{fb=S(Ae);router=S(we);workoutService=S(se);trackingService=S(oe);activityService=S(Tt);personalGymService=S(We);trainingProgramService=S(Et);exerciseService=S(Le);storageService=S(xt);unitsService=S(W);alertService=S(Ve);spinnerService=S(Re);themeService=S(Ct);userProfileService=S(ae);appSettingsService=S(_t);progressiveOverloadService=S(He);platformId=S(be);toastService=S(H);imageStorageService=S(le);dataConversionService=S(je);subscriptionService=S(Bt);languageService=S(Ft);cdr=S(at);translate=S(L);languageDisplayNames={en:"settings.languageSelector.english",es:"settings.languageSelector.spanish",it:"settings.languageSelector.italian",de:"settings.languageSelector.german",fr:"settings.languageSelector.french",ru:"settings.languageSelector.russian",ja:"settings.languageSelector.japanese",zh:"settings.languageSelector.chinese",pt:"settings.languageSelector.portuguese",ar:"settings.languageSelector.arabic"};subscriptions=new Ze;PremiumFeature=kt;currentVibrator=navigator;syncHistoryTooltipString=this.translate.instant("settings.dataManagement.syncTooltip");goalsForm;profileForm;appSettingsForm;progressiveOverloadForm;handleUpgradeClick(){this.subscriptionService.togglePremium_DEV_ONLY();let r=this.subscriptionService.isPremium()?this.translate.instant("settings.subscription.premiumMember"):this.translate.instant("settings.subscription.freeTier");this.toastService.success(this.translate.instant("toasts.upgradeSuccess",{status:r}),3e3,this.translate.instant("toasts.statusUpdated")),this.subscriptionService.isPremium()&&(this.toastService.veryImportant(this.translate.instant("toasts.upgradeGratitude"),1e4,this.translate.instant("toasts.thankYou")),this.workoutService.enableAllRoutines_DEV_ONLY())}handlePremiumFeatureOrNavigate(r,e,t){this.workoutService.vibrate(),this.subscriptionService.canAccess(r)?t&&this.router.navigate(t):(e.preventDefault(),e.stopPropagation(),this.subscriptionService.showUpgradeModal())}genders=[{label:"settings.userProfile.genders.male",value:"male"},{label:"settings.userProfile.genders.female",value:"female"},{label:"settings.userProfile.genders.other",value:"other"},{label:"settings.userProfile.genders.preferNotToSay",value:"prefer_not_to_say"}];progressiveOverloadStrategies=[{label:"settings.progressiveOverload.strategies.increaseWeight",value:"weight"},{label:"settings.progressiveOverload.strategies.increaseReps",value:"reps"},{label:"settings.progressiveOverload.strategies.increaseDistance",value:"distance"},{label:"settings.progressiveOverload.strategies.increaseDuration",value:"duration"}];BACKUP_VERSION=6;constructor(){this.profileForm=this.fb.group({general:this.fb.group({username:[""],gender:[null],age:[null,[_.min(0),_.max(150),_.required]]}),measurements:this.fb.group({height:[null,[_.min(0),_.required]],weight:[null,[_.min(0),_.required]],chest:[null,[_.min(0)]],neck:[null,[_.min(0)]],waist:[null,[_.min(0)]],hips:[null,[_.min(0)]],rightArm:[null,[_.min(0)]]})}),this.goalsForm=this.fb.group({weight:[null,[_.min(0)]],waist:[null,[_.min(0)]]}),this.appSettingsForm=this.fb.group({enableTimerCountdownSound:[!0],playerMode:["compact"],countdownSoundSeconds:[5,[_.required,_.min(1),_.max(60)]],enablePresetTimer:[!1],presetTimerDurationSeconds:[10,[_.required,_.min(3),_.max(60)]],weightStep:[2.5,[_.required,_.min(.01),_.max(50)]]}),this.progressiveOverloadForm=this.fb.group({enabled:[!1],strategies:this.fb.array([]),weightIncrement:[null,[_.min(.1)]],repsIncrement:[null,[_.min(1),_.pattern("^[0-9]*$")]],distanceIncrement:[null,[_.min(.01)]],durationIncrement:[null,[_.min(1),_.pattern("^[0-9]*$")]],sessionsToIncrement:[1,[_.required,_.min(1)]]})}togglePlayerMode(r){this.workoutService.vibrate();let e=r.target,t=e.checked,l=t?"focus":"compact";this.workoutService.isPausedSession()?(this.alertService.showAlert(this.translate.instant("alerts.playerModeChangeDisabledTitle"),this.translate.instant("alerts.playerModeChangeDisabledMessage")),e.checked=!t,this.cdr.detectChanges()):(this.appSettingsForm.get("playerMode")?.setValue(l),this.appSettingsService.saveSettings({playerMode:l}))}selectWeightUnit(r){return C(this,null,function*(){let e=this.unitsService.currentWeightUnit();r!==e&&(yield this.dataConversionService.convertAllWeightData(e,r),this.unitsService.setWeightUnitPreference(r))})}selectMeasureUnit(r){return C(this,null,function*(){let e=this.unitsService.currentMeasureUnit();r!==e&&(yield this.dataConversionService.convertAllMeasureData(e,r),this.unitsService.setMeasureUnitPreference(r))})}selectDistanceMeasureUnit(r){return C(this,null,function*(){let e=this.unitsService.currentDistanceMeasureUnit();r!==e&&(yield this.dataConversionService.convertAllDistanceMeasureData(e,r),this.unitsService.setDistanceMeasureUnitPreference(r))})}selectBodyWeightUnit(r){return C(this,null,function*(){let e=this.unitsService.currentBodyWeightUnit();r!==e&&(yield this.dataConversionService.convertAllBodyWeightData(e,r),this.unitsService.setBodyWeightUnitPreference(r))})}selectBodyMeasureUnit(r){return C(this,null,function*(){let e=this.unitsService.currentBodyMeasureUnit();r!==e&&(yield this.dataConversionService.convertAllBodyMeasureData(e,r),this.unitsService.setBodyMeasureUnitPreference(r))})}ngOnInit(){me(this.platformId)&&window.scrollTo(0,0),this.loadProfileData(),this.loadProgressiveOverloadSettings(),this.loadGoalsData(),this.languageControl=new ut(this.languageService.currentLang(),{nonNullable:!0}),this.subscriptions.add(this.languageControl.valueChanges.subscribe(r=>{if(r&&r!==this.languageService.currentLang()){this.workoutService.vibrate(),this.languageService.setLanguage(r);let e=this.translate.instant(this.languageDisplayNames[r]||r);this.toastService.success(this.translate.instant("toasts.languageSet",{language:e}),2e3)}})),this.subscriptions.add(this.appSettingsService.appSettings$.subscribe(r=>{r&&(this.appSettingsForm.reset(r,{emitEvent:!1}),this.cdr.detectChanges())})),this.subscriptions.add(this.appSettingsForm.valueChanges.pipe(j(700),fe(()=>this.appSettingsForm.valid&&this.appSettingsForm.dirty),he(r=>{this.appSettingsService.saveSettings(r),this.appSettingsForm.markAsPristine({onlySelf:!1}),this.toastService.info(this.translate.instant("toasts.appSettingsSaved"),1500)})).subscribe()),this.listenForProgressiveOverloadChanges(),this.subscriptions.add(this.profileForm.get("general")?.valueChanges.pipe(j(700)).subscribe(()=>this.saveGeneralData())),this.subscriptions.add(this.goalsForm.valueChanges.pipe(j(700),fe(()=>this.goalsForm.valid&&this.goalsForm.dirty),he(r=>{this.userProfileService.saveGoals(r),this.goalsForm.markAsPristine(),this.toastService.info(this.translate.instant("toasts.goalsSaved"),1500)})).subscribe())}ngOnDestroy(){this.subscriptions.unsubscribe()}loadGoalsData(){let r=this.userProfileService.getProfile()?.measurementGoals;r&&this.goalsForm.reset(r,{emitEvent:!1})}saveMeasurements(){let r=this.profileForm?.get("measurements");if(!this.profileForm||!r||r.invalid){this.toastService.error(this.translate.instant("alerts.invalidFields"));return}let e=this.profileForm.get("measurements")?.value;this.userProfileService.addOrUpdateMeasurementEntry(e),this.profileForm.get("measurements").markAsPristine(),this.toastService.info(this.translate.instant("toasts.measurementsSaved"),1500)}saveGeneralData(){let r={username:this.profileForm.get("general.username")?.value,gender:this.profileForm.get("general.gender")?.value,age:this.profileForm.get("general.age")?.value};this.userProfileService.saveProfile(r),this.toastService.info(this.translate.instant("toasts.profileSaved"),1500),this.profileForm.markAsPristine()}listenForProgressiveOverloadChanges(){this.subscriptions.add(this.progressiveOverloadForm.valueChanges.pipe(j(700),fe(()=>this.progressiveOverloadForm.valid&&this.progressiveOverloadForm.dirty),he(t=>{this.progressiveOverloadService.saveSettings(t),this.progressiveOverloadForm.markAsPristine({onlySelf:!1}),this.toastService.info(this.translate.instant("toasts.progressiveOverloadSaved"),1500)})).subscribe());let r=this.progressiveOverloadForm.get("enabled"),e=t=>{let l=this.progressiveOverloadForm.get("weightIncrement"),m=this.progressiveOverloadForm.get("repsIncrement"),g=this.progressiveOverloadForm.get("distanceIncrement"),b=this.progressiveOverloadForm.get("durationIncrement"),k=(y,M,D)=>{M?y?.setValidators(D):(y?.clearValidators(),y?.setValue(null,{emitEvent:!1})),y?.updateValueAndValidity()};k(l,t.includes("weight"),[_.required,_.min(.1)]),k(m,t.includes("reps"),[_.required,_.min(1),_.pattern("^[0-9]*$")]),k(g,t.includes("distance"),[_.required,_.min(.01)]),k(b,t.includes("duration"),[_.required,_.min(1),_.pattern("^[0-9]*$")])};this.subscriptions.add(this.strategiesFormArray.valueChanges.subscribe(t=>e(t))),this.subscriptions.add(r?.valueChanges.subscribe(t=>e(t?this.strategiesFormArray.value:[])))}loadProfileData(){let r=this.userProfileService.getProfile();if(r){let e=this.userProfileService.getMeasurements();this.profileForm.reset({general:{username:r.username||"",gender:r.gender||null,age:r.age||null},measurements:e||{}},{emitEvent:!1})}else this.profileForm.reset({general:{username:null,gender:null,age:null},measurements:{height:null,weight:null,age:null,chest:null,waist:null,hips:null,rightArm:null}},{emitEvent:!1})}loadProgressiveOverloadSettings(){let r=this.progressiveOverloadService.getSettings();this.strategiesFormArray.clear(),r.strategies&&r.strategies.length>0&&r.strategies.forEach(e=>{this.strategiesFormArray.push(this.fb.control(e),{emitEvent:!1})}),this.progressiveOverloadForm.reset(G(R({},r),{strategies:this.strategiesFormArray.value}),{emitEvent:!1})}exportData(){return C(this,null,function*(){this.spinnerService.show(this.translate.instant("spinners.exporting"));let r=yield this.imageStorageService.getAllImagesForBackup(),e={version:this.BACKUP_VERSION,timestamp:new Date().toISOString(),profile:this.userProfileService.getDataForBackup(),progressPhotos:r,appSettings:this.appSettingsService.getDataForBackup(),progressiveOverload:this.progressiveOverloadService.getDataForBackup(),routines:this.workoutService.getDataForBackup(),programs:this.trainingProgramService.getDataForBackup(),exercises:this.exerciseService.getDataForBackup(),workoutLogs:this.trackingService.getDataForBackup(),activityLogs:this.activityService.getLogsForBackup(),personalBests:this.trackingService.getPBsForBackup(),personalGym:this.personalGymService.getDataForBackup()},t=JSON.stringify(e,null,2),l=new Blob([t],{type:"application/json"}),m=URL.createObjectURL(l),g=document.createElement("a"),b=wt(new Date,"yyyyMMdd_HHmmss");g.download=`FitTrackPro_backup_v${this.BACKUP_VERSION}_${b}.json`,g.href=m,g.click(),URL.revokeObjectURL(m),this.spinnerService.hide(),this.toastService.success(this.translate.instant("toasts.exportInitiated"),3e3)})}importData(r){let e=r.target,t=e.files?.[0];if(!t)return;if(t.type!=="application/json"){this.alertService.showAlert(this.translate.instant("common.error"),this.translate.instant("alerts.invalidFileType")),e.value="";return}let l=new FileReader;l.onload=m=>{try{let g=m.target?.result,b=JSON.parse(g);if(typeof b!="object"||b===null){this.alertService.showAlert(this.translate.instant("common.error"),this.translate.instant("alerts.invalidBackupFormat")),e.value="";return}let k=b.version;if(k>this.BACKUP_VERSION){this.alertService.showAlert(this.translate.instant("common.error"),this.translate.instant("alerts.backupVersionTooNew",{version:k,appVersion:this.BACKUP_VERSION})),e.value="";return}this.alertService.showConfirm(this.translate.instant("common.warning"),this.translate.instant("alerts.importWarning")).then(y=>C(this,null,function*(){if(y&&y.data){if(this.spinnerService.show(this.translate.instant("spinners.importing")),k>=6&&b.progressPhotos&&(yield this.imageStorageService.importImages(b.progressPhotos)),k>=5?this.userProfileService.mergeData(b.profile):k>=2?this.userProfileService.replaceData(b.profile):this.userProfileService.replaceData(null),this.subscriptionService.isPremium())this.workoutService.mergeData(b.routines);else{let D=this.workoutService.getCurrentRoutines().filter(ce=>!ce.isDisabled),de=Array.isArray(b.routines)?b.routines:[],Qe=de.filter(ce=>!ce.isDisabled);D.length+Qe.length>4&&(de.forEach((ce,Vt)=>ce.isDisabled=Vt>3),this.toastService.veryImportant(this.translate.instant("toasts.routinesDisabledOnImport",{count:Qe.length}),1e4,this.translate.instant("toasts.routinesDisabledTitle")),this.workoutService.mergeData(de))}b.workoutLogs&&(this.trackingService.replaceLogs(b.workoutLogs||[]),this.trackingService.replacePBs(b.personalBests||{}));let M=b.activityLogs||b.activitiyLogs;Array.isArray(M)&&this.activityService.mergeData(M),b.personalGym&&this.personalGymService.mergeData(b.personalGym),k>=4&&this.progressiveOverloadService.replaceData(b.progressiveOverload),k>=3&&(this.exerciseService.mergeData(b.exercises),this.trainingProgramService.mergeData(b.programs)),k>=2&&this.appSettingsService.replaceData(b.appSettings),this.loadProfileData(),this.loadProgressiveOverloadSettings(),this.loadGoalsData(),this.spinnerService.hide(),this.toastService.success(this.translate.instant("toasts.importSuccess"),5e3,this.translate.instant("toasts.importComplete"))}else this.toastService.info(this.translate.instant("toasts.importCancelled"),2e3)}))}catch(g){console.error("Error processing imported file:",g),this.alertService.showAlert(this.translate.instant("common.error"),this.translate.instant("alerts.errorProcessingFile"))}finally{e.value=""}},l.onerror=()=>{this.alertService.showAlert(this.translate.instant("common.error"),this.translate.instant("alerts.errorReadingFile")),e.value=""},l.readAsText(t)}clearAllAppData(){return C(this,null,function*(){let r=yield this.alertService.showConfirmationDialog(this.translate.instant("alerts.clearAllDataWarningTitle"),this.translate.instant("alerts.clearAllDataWarningMessage"),[{text:this.translate.instant("common.cancel"),role:"cancel",data:!1,icon:"cancel"},{text:this.translate.instant("settings.dataManagement.resetButton"),role:"confirm",data:!0,cssClass:"bg-red-600",icon:"trash"}]);if(r&&r.data){let e=yield this.alertService.showPromptDialog(this.translate.instant("alerts.clearAllDataConfirmationTitle"),this.translate.instant("alerts.clearAllDataConfirmationMessage"),[{name:"confirmDialogInput",type:"text",placeholder:this.translate.instant("alerts.clearAllDataConfirmationPlaceholder"),value:"",autofocus:!0}],this.translate.instant("alerts.clearAllDataButton")),t=e&&typeof e.confirmDialogInput=="string"?e.confirmDialogInput:null;if(!t||t.toUpperCase()!=="DELETE"){this.alertService.showAlert(this.translate.instant("common.cancelled"),this.translate.instant("alerts.clearAllDataCancelledMessage"));return}this.trackingService.clearAllWorkoutLogs_DEV_ONLY&&(yield this.trackingService.clearAllWorkoutLogs_DEV_ONLY()),this.trackingService.clearAllPersonalBests_DEV_ONLY&&(yield this.trackingService.clearAllPersonalBests_DEV_ONLY()),this.workoutService.clearAllRoutines_DEV_ONLY&&(yield this.workoutService.clearAllRoutines_DEV_ONLY()),this.userProfileService.clearUserProfile_DEV_ONLY&&this.userProfileService.clearUserProfile_DEV_ONLY(),this.appSettingsService.clearAppSettings_DEV_ONLY&&this.appSettingsService.clearAppSettings_DEV_ONLY(),this.progressiveOverloadService.clearSettings_DEV_ONLY&&this.progressiveOverloadService.clearSettings_DEV_ONLY(),this.trainingProgramService.deactivateAllPrograms&&this.trainingProgramService.deactivateAllPrograms(),this.loadProfileData(),this.loadProgressiveOverloadSettings(),yield this.alertService.showAlert(this.translate.instant("common.info"),this.translate.instant("alerts.clearAllDataSuccessMessage"))}})}selectUnit(r){this.unitsService.setWeightUnitPreference(r)}toggleWipDisclaimer(){let r=this.userProfileService.getHideWipDisclaimer();this.userProfileService.updateHideWipDisclaimer(!r)}navigateToExerciseLibrary(){this.router.navigate(["/library"])}navigateToPersonalGym(r){if(this.workoutService.vibrate(),!this.subscriptionService.canAccess("personal_gym")){this.subscriptionService.showUpgradeModal();return}this.router.navigate(["/personal-gym"])}navigateToPersonalBests(){this.router.navigate(["/profile/personal-bests"])}navigateToBodyMeasurements(){this.router.navigate(["/profile/measurements"])}showSyncHistoryTooltip(){if(this.platformId==="browser"&&window.innerWidth<=768){this.workoutService.vibrate(),this.alertService.showAlert(this.translate.instant("alerts.syncHistoryTitle"),this.syncHistoryTooltipString);return}}selectMenuMode(r){if(this.workoutService.vibrate(),!this.subscriptionService.canAccess("menu_mode")){this.subscriptionService.showUpgradeModal();return}this.appSettingsService.setMenuMode(r)}onSyncHistoryClick(){return C(this,null,function*(){let r=yield this.alertService.showConfirm(this.translate.instant("alerts.syncFullHistoryTitle"),this.translate.instant("alerts.syncFullHistoryMessage"));r&&r.data&&(yield this.trackingService.syncAllHistory())})}get strategiesFormArray(){return this.progressiveOverloadForm.get("strategies")}onStrategyChange(r){let e=r.target,t=e.value;if(e.checked)this.strategiesFormArray.push(this.fb.control(t));else{let l=this.strategiesFormArray.controls.findIndex(m=>m.value===t);l!==-1&&this.strategiesFormArray.removeAt(l)}this.progressiveOverloadForm.markAsDirty()}isStrategySelected(r){return this.strategiesFormArray.value.includes(r)}ProgressiveOverloadStrategy=St;onLanguageChange(r){let t=r.target.value;if(t){this.workoutService.vibrate(),this.languageService.setLanguage(t);let l=this.translate.instant(this.languageDisplayNames[t]||t);this.toastService.success(this.translate.instant("toasts.languageSet",{language:l}),2e3)}}languageControl;static \u0275fac=function(e){return new(e||s)};static \u0275cmp=J({type:s,selectors:[["app-profile-settings"]],decls:380,vars:381,consts:[[1,"container","mx-auto","p-2","sm:p-4"],[1,"flex","justify-between","items-center","pb-2"],[1,"text-2xl","font-bold","text-gray-800","dark:text-gray-200"],[1,"space-y-6","sm:space-y-8"],[1,"bg-gradient-to-r","from-primary","to-indigo-600","dark:from-primary-dark","dark:to-indigo-700","p-4","sm:p-6","rounded-md","shadow-lg","text-white"],[1,"text-xl","font-semibold","mb-2"],[1,"flex","items-center","justify-between"],[1,"text-lg","font-bold"],[1,"text-sm","opacity-90"],["appPress","",1,"px-4","py-2","bg-white","text-primary-dark","font-semibold","rounded-md","shadow-md","hover:bg-gray-200","transition-colors",3,"shortPress"],[1,"bg-white","dark:bg-gray-700","p-4","sm:p-6","rounded-md","shadow-md"],[1,"text-xl","font-semibold","text-gray-700","dark:text-gray-300","mb-4"],[1,"space-y-4","dark:text-gray-300",3,"formGroup"],["formGroupName","general",1,"space-y-4","pt-4","border-t","border-gray-200","dark:border-gray-600"],["for","username",1,"block","text-md","font-medium","text-gray-700","dark:text-gray-300"],["type","text","id","username","formControlName","username",1,"mt-1","block","w-full","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","text-lg",3,"change","placeholder"],[1,"dark:text-gray-300"],["for","gender",1,"block","text-md","font-medium","text-gray-700","dark:text-gray-300"],["id","gender","formControlName","gender",1,"mt-1","block","w-full","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","text-lg",3,"change"],[3,"ngValue"],[3,"value",4,"ngFor","ngForOf"],["for","age",1,"block","text-md","font-medium","text-gray-700","dark:text-gray-300"],["type","number","min","0","id","age","formControlName","age","required","",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200","text-lg",3,"placeholder"],["formGroupName","measurements",1,"space-y-4","pt-4","border-t","border-gray-200","dark:border-gray-600"],[1,"text-lg","font-medium","text-gray-700","dark:text-gray-300"],[1,"grid","grid-cols-2","md:grid-cols-4","gap-4"],["for","height",1,"block","text-md","font-medium","text-gray-600","dark:text-gray-400"],[1,"text-red-500"],["type","number","min","0","id","height","formControlName","height",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200","text-lg",3,"placeholder"],["for","weight",1,"block","text-md","font-medium","text-gray-600","dark:text-gray-400"],["type","number","min","0","id","weight","formControlName","weight",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200","text-lg",3,"placeholder"],["for","chest",1,"block","text-md","font-medium","text-gray-600","dark:text-gray-400"],["type","number","min","0","id","chest","formControlName","chest",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200","text-lg",3,"placeholder"],["for","neck",1,"block","text-md","font-medium","text-gray-600","dark:text-gray-400"],["type","number","min","0","id","neck","formControlName","neck",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200","text-lg",3,"placeholder"],["for","waist",1,"block","text-md","font-medium","text-gray-600","dark:text-gray-400"],["type","number","min","0","id","waist","formControlName","waist",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200","text-lg",3,"placeholder"],["for","hips",1,"block","text-md","font-medium","text-gray-600","dark:text-gray-400"],["type","number","min","0","id","hips","formControlName","hips",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200","text-lg",3,"placeholder"],["for","rightArm",1,"block","text-md","font-medium","text-gray-600","dark:text-gray-400"],["type","number","min","0","id","rightArm","formControlName","rightArm",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200","text-lg",3,"placeholder"],[1,"flex","flex-col","sm:flex-row","justify-center","items-center","space-y-4","sm:space-y-0","sm:space-x-4","pt-4"],["type","button",1,"flex","justify-center","items-center","w-full","sm:w-auto","px-6","py-3","bg-green-500","hover:bg-green-600","text-white","font-semibold","rounded-md","shadow-sm","text-lg","disabled:opacity-50","disabled:cursor-not-allowed",3,"click"],["name","save",1,"w-8","h-8","mr-1"],["type","button",1,"flex","justify-center","items-center","w-full","sm:w-auto","px-6","py-3","bg-blue-500","hover:bg-blue-600","text-white","font-semibold","rounded-md","shadow-sm","text-lg","disabled:opacity-50","disabled:cursor-not-allowed",3,"click"],["name","chart2",1,"w-8","h-8","mr-1"],[1,"space-y-4",3,"formGroup"],[1,"grid","grid-cols-1","sm:grid-cols-2","md:grid-cols-3","gap-4"],["for","goalweight",1,"block","text-md","font-medium","text-gray-600","dark:text-gray-400"],["type","number","min","0","id","goalweight","formControlName","weight",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200","text-lg",3,"placeholder"],["for","goalwaist",1,"block","text-md","font-medium","text-gray-600","dark:text-gray-400"],["type","number","min","0","id","goalwaist","formControlName","waist",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200","text-lg",3,"placeholder"],[1,"flex","items-center","justify-between","py-2","rounded-md","transition-colors",3,"click"],[1,"text-md","font-medium","text-gray-700","dark:text-gray-300","flex","items-center"],["class","ml-2 px-2 py-0.5 text-xs font-semibold rounded-full bg-yellow-400 text-yellow-900 flex items-center justify-center ",4,"ngIf"],[1,"text-sm","text-gray-500","dark:text-gray-400","mr-1"],[1,"inline-flex","items-center"],[1,"sr-only"],["type","checkbox",1,"sr-only","peer",3,"change","checked","disabled"],[1,"relative","w-11","h-6","bg-gray-200","peer-focus:outline-none","peer-focus:ring-4","peer-focus:ring-blue-300","dark:peer-focus:ring-blue-800","rounded-full","peer","dark:bg-gray-600","peer-checked:after:translate-x-full","peer-checked:after:border-white","after:content-['']","after:absolute","after:top-[2px]","after:start-[2px]","after:bg-white","after:border-gray-300","after:border","after:rounded-full","after:h-5","after:w-5","after:transition-all","dark:border-gray-600","peer-checked:bg-primary","dark:peer-checked:bg-primary-dark","peer-disabled:opacity-50"],[1,"ms-3","text-sm","font-medium","text-gray-900","dark:text-gray-300"],[1,"border-b","border-gray-200","dark:border-gray-600","pb-4"],["for","weightStep",1,"block","text-md","font-medium","text-gray-700","dark:text-gray-300"],[1,"text-sm","text-gray-500","dark:text-gray-400","mb-1"],["type","number","id","weightStep","formControlName","weightStep","min","0.01","step","any",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200","text-lg",3,"change"],["class","text-red-500 dark:text-red-400 text-xs mt-1",4,"ngIf"],[1,"flex","items-center","justify-between","pt-4"],[1,"text-md","font-medium","text-gray-700","dark:text-gray-300"],["for","countdown-sound-toggle",1,"inline-flex","items-center","cursor-pointer"],["type","checkbox","id","countdown-sound-toggle","formControlName","enableTimerCountdownSound",1,"sr-only","peer",3,"change"],[1,"relative","w-11","h-6","bg-gray-200","peer-focus:outline-none","peer-focus:ring-4","peer-focus:ring-blue-300","dark:peer-focus:ring-blue-800","rounded-full","peer","dark:bg-gray-600","peer-checked:after:translate-x-full","rtl:peer-checked:after:-translate-x-full","peer-checked:after:border-white","after:content-['']","after:absolute","after:top-[2px]","after:start-[2px]","after:bg-white","after:border-gray-300","after:border","after:rounded-full","after:h-5","after:w-5","after:transition-all","dark:border-gray-600","peer-checked:bg-primary","dark:peer-checked:bg-primary-dark"],["class"," dark:text-gray-300",4,"ngIf"],[1,"text-xl","font-medium","text-gray-700","dark:text-gray-300","flex","items-center"],["for","po-enabled-toggle",1,"inline-flex","items-center","cursor-pointer"],["type","checkbox","id","po-enabled-toggle","formControlName","enabled",1,"sr-only","peer",3,"change"],["class","space-y-4 pt-4",4,"ngIf"],[1,"divide-y","divide-gray-200","dark:divide-gray-600"],[1,"py-3","flex","flex-col","sm:flex-row","sm:items-center","sm:justify-between"],[1,"text-sm","font-medium","text-gray-700","dark:text-gray-300"],[1,"text-xs","text-gray-500","dark:text-gray-400"],[1,"mt-2","sm:mt-0","flex-shrink-0","flex","items-center","justify-center","px-4","py-2","bg-blue-500","hover:bg-blue-600","text-white","font-semibold","rounded-md","shadow-sm","transition-colors","text-sm",3,"click"],["name","export",1,"w-5","h-5","mr-2"],["type","file","accept","application/json",1,"mt-2","sm:mt-0","inline-block","w-auto","text-sm","text-gray-700","dark:text-gray-300","file:mr-4","file:py-2","file:px-4","file:rounded-md","file:border-0","file:text-sm","file:font-semibold","file:bg-gray-200","file:text-gray-700","hover:file:bg-gray-300","dark:file:bg-gray-600","dark:file:text-gray-200","dark:hover:file:bg-gray-700",3,"change"],[1,"text-sm","font-medium","text-gray-700","dark:text-gray-300","flex","items-center"],["name","info",1,"ml-1","h-4","w-4","text-gray-400","dark:text-gray-300","cursor-help",3,"click","appTooltip"],[1,"mt-2","sm:mt-0","flex-shrink-0","flex","items-center","justify-center","px-4","py-2","bg-indigo-500","hover:bg-indigo-600","text-white","font-semibold","rounded-md","shadow-sm","transition-colors","text-sm",3,"click"],["name","change",1,"w-5","h-5","mr-2"],[1,"text-sm","font-medium","text-red-600","dark:text-red-400"],[1,"mt-2","sm:mt-0","flex-shrink-0","flex","items-center","justify-center","px-4","py-2","bg-red-500","hover:bg-red-600","text-white","font-semibold","rounded-md","shadow-sm","transition-colors","text-sm",3,"click"],["name","trash",1,"w-5","h-5","mr-2"],[1,"grid","grid-cols-2","gap-2"],["class","ml-2 px-2 py-0.5 text-xs font-semibold rounded-full bg-yellow-400 text-yellow-900 flex items-center justify-center w-fit",4,"ngIf"],[1,"text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-2"],[1,"px-4","py-2","bg-indigo-500","hover:bg-indigo-700","text-white","font-semibold","rounded-md","shadow-sm","transition-colors","inline-flex","items-center","text-sm","text-left",3,"click"],["name","dumbbell",1,"w-6","h-6","mr-1"],[1,"px-4","py-2","bg-primary","hover:bg-primary-dark","text-white","font-semibold","rounded-md","shadow-sm","transition-colors","inline-flex","items-center","text-sm",3,"click"],["name","exercise-list",1,"w-6","h-6","mr-1"],["name","pb",1,"w-6","h-6","mr-1"],[1,"space-y-5"],[1,"flex","items-center","justify-between","pb-4","border-b","border-gray-200","dark:border-gray-600"],[1,"block","w-40","p-2","border","border-gray-300","dark:border-gray-500","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","text-sm","dark:text-gray-200",3,"formControl"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-x-8","gap-y-4"],[1,"relative","w-28","flex","rounded-lg","bg-gray-200","dark:bg-gray-600","p-1"],[1,"absolute","top-1","bottom-1","bg-primary","rounded-md","shadow","transition-all","duration-300","ease-in-out",3,"ngClass"],["type","button","appPress","",1,"relative","z-10","flex-1","px-4","py-2","text-sm","font-bold","text-center","transition-colors","duration-300",3,"shortPress","ngClass"],[1,"space-y-4","pt-4","border-t","border-gray-200","dark:border-gray-600"],[1,"grid","grid-cols-2","items-center"],["for","theme-toggle",1,"inline-flex","items-center","cursor-pointer","justify-self-end"],["type","checkbox","id","theme-toggle",1,"sr-only","peer",3,"change","checked"],[1,"relative","w-11","h-6","bg-gray-200","rounded-full","peer","dark:bg-gray-600","peer-checked:after:translate-x-full","peer-checked:after:border-white","after:content-['']","after:absolute","after:top-[2px]","after:start-[2px]","after:bg-white","after:border-gray-300","after:border","after:rounded-full","after:h-5","after:w-5","after:transition-all","dark:border-gray-500","peer-checked:bg-primary","dark:peer-checked:bg-primary-dark"],["for","show-wip-message",1,"inline-flex","items-center","cursor-pointer","justify-self-end"],["type","checkbox","id","show-wip-message",1,"sr-only","peer",3,"change","checked"],[1,"pt-4","border-t","border-gray-200","dark:border-gray-600"],[1,"flex","flex-col","sm:flex-row","items-start","sm:items-center","justify-between"],[1,"mb-2","sm:mb-0"],["class","ml-2 px-2 py-0.5 text-xs font-semibold rounded-full bg-yellow-400 text-yellow-900 flex items-center justify-center",4,"ngIf"],[1,"relative","grid","grid-cols-3","w-full","sm:w-auto","rounded-lg","bg-gray-200","dark:bg-gray-600","p-1"],[1,"absolute","top-1","bottom-1","w-1/3","bg-primary","rounded-md","shadow","transition-transform","duration-300","ease-in-out",3,"ngClass"],["appPress","",1,"relative","z-10","px-3","py-1.5","text-xs","font-semibold","transition-colors","duration-300",3,"shortPress","ngClass"],[3,"value"],[1,"ml-2","px-2","py-0.5","text-xs","font-semibold","rounded-full","bg-yellow-400","text-yellow-900","flex","items-center","justify-center"],["name","crown",1,"h-5","w-5","mr-1"],[1,"text-red-500","dark:text-red-400","text-xs","mt-1"],["for","countdownSeconds",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["type","number","id","countdownSeconds","formControlName","countdownSoundSeconds","min","1","max","20",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","text-lg",3,"change"],[1,"space-y-4","pt-4"],[1,"block","text-md","font-medium","text-gray-700","dark:text-gray-300"],[1,"text-sm","text-gray-500","dark:text-gray-400","mb-2"],[1,"grid","grid-cols-2","gap-x-8","gap-y-2"],["class","flex items-center",4,"ngFor","ngForOf"],[1,"mt-4","grid","grid-cols-1","sm:grid-cols-2","gap-x-8","gap-y-4"],[4,"ngIf"],["for","sessionsToIncrement",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["type","number","id","sessionsToIncrement","formControlName","sessionsToIncrement","min","1","step","1",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200","text-lg"],[1,"flex","items-center"],["type","checkbox",1,"focus:ring-primary","h-4","w-4","text-primary","border-gray-300","rounded","dark:border-gray-600","dark:bg-gray-700",3,"change","id","value","checked"],[1,"ml-3","block","text-sm","font-medium","text-gray-700","dark:text-gray-300",3,"for"],["for","weightIncrement",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["type","number","id","weightIncrement","formControlName","weightIncrement","min","0.1","step","any",1,"mt-1","block","w-full","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200","text-lg",3,"placeholder"],["for","repsIncrement",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["type","number","id","repsIncrement","formControlName","repsIncrement","min","1","step","1",1,"mt-1","block","w-full","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200","text-lg",3,"placeholder"],["for","distanceIncrement",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["type","number","id","distanceIncrement","formControlName","distanceIncrement","min","0.01","step","any",1,"mt-1","block","w-full","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200","text-lg",3,"placeholder"],["for","durationIncrement",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["type","number","id","durationIncrement","formControlName","durationIncrement","min","1","step","1",1,"mt-1","block","w-full","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200","text-lg",3,"placeholder"],[1,"ml-2","px-2","py-0.5","text-xs","font-semibold","rounded-full","bg-yellow-400","text-yellow-900","flex","items-center","justify-center","w-fit"]],template:function(e,t){if(e&1&&(a(0,"div",0)(1,"header",1)(2,"h1",2),o(3),p(4,"translate"),n()(),a(5,"div",3)(6,"section",4)(7,"h2",5),o(8),p(9,"translate"),n(),a(10,"div",6)(11,"div")(12,"p",7),o(13),p(14,"translate"),n(),a(15,"p",8),o(16),p(17,"translate"),n()(),a(18,"button",9),h("shortPress",function(){return t.handleUpgradeClick()}),o(19),p(20,"translate"),n()()(),a(21,"section",10)(22,"h2",11),o(23),p(24,"translate"),n(),a(25,"form",12)(26,"div",13)(27,"div")(28,"label",14),o(29),p(30,"translate"),n(),a(31,"input",15),p(32,"translate"),h("change",function(){return t.currentVibrator.vibrate(50)}),n()(),a(33,"div",16)(34,"label",17),o(35),p(36,"translate"),n(),a(37,"select",18),h("change",function(){return t.currentVibrator.vibrate(50)}),a(38,"option",19),o(39),p(40,"translate"),n(),w(41,Wt,3,4,"option",20),n()(),a(42,"div",16)(43,"label",21),o(44),p(45,"translate"),n(),v(46,"input",22),p(47,"translate"),n()(),a(48,"div",23)(49,"h3",24),o(50),p(51,"translate"),n(),a(52,"div",25)(53,"div")(54,"label",26),o(55),p(56,"translate"),a(57,"span",27),o(58,"*"),n()(),v(59,"input",28),n(),a(60,"div")(61,"label",29),o(62),p(63,"translate"),a(64,"span",27),o(65,"*"),n()(),v(66,"input",30),n(),a(67,"div")(68,"label",31),o(69),p(70,"translate"),n(),v(71,"input",32),n(),a(72,"div")(73,"label",33),o(74),p(75,"translate"),n(),v(76,"input",34),n(),a(77,"div")(78,"label",35),o(79),p(80,"translate"),n(),v(81,"input",36),n(),a(82,"div")(83,"label",37),o(84),p(85,"translate"),n(),v(86,"input",38),n(),a(87,"div")(88,"label",39),o(89),p(90,"translate"),n(),v(91,"input",40),n()(),a(92,"div",41)(93,"button",42),h("click",function(){return t.saveMeasurements()}),v(94,"app-icon",43),a(95,"span"),o(96),p(97,"translate"),n()(),a(98,"button",44),h("click",function(){return t.navigateToBodyMeasurements()}),v(99,"app-icon",45),a(100,"span"),o(101),p(102,"translate"),n()()()()()(),a(103,"section",10)(104,"h2",11),o(105),p(106,"translate"),n(),a(107,"form",46)(108,"div",47)(109,"div")(110,"label",48),o(111),p(112,"translate"),n(),v(113,"input",49),n(),a(114,"div")(115,"label",50),o(116),p(117,"translate"),n(),v(118,"input",51),n()()()(),a(119,"section",10)(120,"h2",11),o(121),p(122,"translate"),n(),a(123,"form",46)(124,"div",52),h("click",function(m){return t.handlePremiumFeatureOrNavigate(t.PremiumFeature.FOCUS_PLAYER,m)}),a(125,"div")(126,"h3",53),o(127),p(128,"translate"),w(129,Rt,4,3,"span",54),n(),a(130,"p",55),o(131),p(132,"translate"),n()(),a(133,"label",56)(134,"span",57),o(135,"Toggle Player Mode"),n(),a(136,"input",58),h("change",function(m){return t.togglePlayerMode(m)}),n(),v(137,"div",59),a(138,"span",60),o(139),p(140,"translate"),p(141,"translate"),n()()(),a(142,"div",61)(143,"label",62),o(144),p(145,"translate"),n(),a(146,"p",63),o(147),p(148,"uppercase"),p(149,"translate"),n(),a(150,"input",64),h("change",function(){return t.currentVibrator.vibrate(50)}),n(),w(151,Gt,3,3,"div",65),n(),a(152,"div",66)(153,"div")(154,"h3",67),o(155),p(156,"translate"),n(),a(157,"p",55),o(158),p(159,"translate"),n()(),a(160,"label",68)(161,"input",69),h("change",function(){return t.currentVibrator.vibrate(50)}),n(),v(162,"div",70),a(163,"span",60),o(164),p(165,"translate"),p(166,"translate"),n()()(),w(167,$t,6,4,"div",71),n()(),a(168,"section",10)(169,"div")(170,"h2",72),o(171),p(172,"translate"),w(173,zt,4,3,"span",54),n()(),a(174,"form",46)(175,"div",52),h("click",function(m){return t.handlePremiumFeatureOrNavigate(t.PremiumFeature.PROGRESSIVE_OVERLOAD,m)}),a(176,"div")(177,"h3",67),o(178),p(179,"translate"),n(),a(180,"p",55),o(181),p(182,"translate"),n()(),a(183,"label",73)(184,"input",74),h("change",function(){return t.currentVibrator.vibrate(50)}),n(),v(185,"div",70),a(186,"span",60),o(187),p(188,"translate"),p(189,"translate"),n()()(),w(190,ni,25,19,"div",75),n()(),a(191,"section",10)(192,"h2",11),o(193),p(194,"translate"),n(),a(195,"div",76)(196,"div",77)(197,"div")(198,"p",78),o(199),p(200,"translate"),n(),a(201,"p",79),o(202),p(203,"translate"),n()(),a(204,"button",80),h("click",function(){return t.exportData()}),v(205,"app-icon",81),o(206),p(207,"translate"),n()(),a(208,"div",77)(209,"div")(210,"p",78),o(211),p(212,"translate"),n(),a(213,"p",79),o(214),p(215,"translate"),n()(),a(216,"input",82),h("change",function(m){return t.importData(m),t.currentVibrator.vibrate(50)}),n()(),a(217,"div",77)(218,"div")(219,"p",83),o(220),p(221,"translate"),a(222,"app-icon",84),h("click",function(){return t.showSyncHistoryTooltip()}),n()(),a(223,"p",79),o(224),p(225,"translate"),n()(),a(226,"button",85),h("click",function(){return t.onSyncHistoryClick()}),v(227,"app-icon",86),o(228),p(229,"translate"),n()(),a(230,"div",77)(231,"div")(232,"p",87),o(233),p(234,"translate"),n(),a(235,"p",79),o(236),p(237,"translate"),n()(),a(238,"button",88),h("click",function(){return t.clearAllAppData()}),v(239,"app-icon",89),o(240),p(241,"translate"),n()()()(),a(242,"div",90)(243,"section",10)(244,"div")(245,"h2",11),o(246),p(247,"translate"),w(248,ai,4,3,"span",91),n()(),a(249,"div")(250,"p",92),o(251),p(252,"translate"),n(),a(253,"button",93),h("click",function(m){return t.handlePremiumFeatureOrNavigate(t.PremiumFeature.PERSONAL_GYM,m,["/personal-gym"])}),v(254,"app-icon",94),o(255),p(256,"translate"),n()()(),a(257,"section",10)(258,"h2",11),o(259),p(260,"translate"),n(),a(261,"div")(262,"p",92),o(263),p(264,"translate"),n(),a(265,"button",95),h("click",function(){return t.navigateToExerciseLibrary()}),v(266,"app-icon",96),o(267),p(268,"translate"),n()()()(),a(269,"section",10)(270,"h2",11),o(271),p(272,"translate"),n(),a(273,"div")(274,"p",92),o(275),p(276,"translate"),n(),a(277,"button",95),h("click",function(){return t.navigateToPersonalBests()}),v(278,"app-icon",97),o(279),p(280,"translate"),n()()(),a(281,"section",10)(282,"h2",11),o(283),p(284,"translate"),n(),a(285,"div",98)(286,"div",99)(287,"div")(288,"h3",78),o(289),p(290,"translate"),n(),a(291,"p",79),o(292),p(293,"translate"),n()(),a(294,"select",100),w(295,si,3,4,"option",20),n()(),a(296,"div",101)(297,"div",6)(298,"p",78),o(299),p(300,"translate"),n(),a(301,"div",102),v(302,"div",103),a(303,"button",104),h("shortPress",function(){return t.selectWeightUnit("kg")}),o(304,"kg"),n(),a(305,"button",104),h("shortPress",function(){return t.selectWeightUnit("lbs")}),o(306,"lbs"),n()()(),a(307,"div",6)(308,"p",78),o(309),p(310,"translate"),n(),a(311,"div",102),v(312,"div",103),a(313,"button",104),h("shortPress",function(){return t.selectMeasureUnit("cm")}),o(314,"cm"),n(),a(315,"button",104),h("shortPress",function(){return t.selectMeasureUnit("in")}),o(316,"in"),n()()(),a(317,"div",6)(318,"p",78),o(319),p(320,"translate"),n(),a(321,"div",102),v(322,"div",103),a(323,"button",104),h("shortPress",function(){return t.selectDistanceMeasureUnit("km")}),o(324,"km"),n(),a(325,"button",104),h("shortPress",function(){return t.selectDistanceMeasureUnit("mi")}),o(326,"mi"),n()()(),a(327,"div",6)(328,"p",78),o(329),p(330,"translate"),n(),a(331,"div",102),v(332,"div",103),a(333,"button",104),h("shortPress",function(){return t.selectBodyWeightUnit("kg")}),o(334,"kg"),n(),a(335,"button",104),h("shortPress",function(){return t.selectBodyWeightUnit("lbs")}),o(336,"lbs"),n()()(),a(337,"div",6)(338,"p",78),o(339),p(340,"translate"),n(),a(341,"div",102),v(342,"div",103),a(343,"button",104),h("shortPress",function(){return t.selectBodyMeasureUnit("cm")}),o(344,"cm"),n(),a(345,"button",104),h("shortPress",function(){return t.selectBodyMeasureUnit("in")}),o(346,"in"),n()()()(),a(347,"div",105)(348,"div",106)(349,"h3",78),o(350),p(351,"translate"),n(),a(352,"label",107)(353,"input",108),h("change",function(){return t.themeService.toggleTheme()}),n(),v(354,"div",109),n()(),a(355,"div",106)(356,"h3",78),o(357),p(358,"translate"),n(),a(359,"label",110)(360,"input",111),h("change",function(){return t.toggleWipDisclaimer()}),n(),v(361,"div",109),n()()(),a(362,"div",112)(363,"div",113)(364,"div",114)(365,"h3",53),o(366),p(367,"translate"),w(368,oi,4,3,"span",115),n()(),a(369,"div",116),v(370,"div",117),a(371,"button",118),h("shortPress",function(){return t.selectMenuMode("dropdown")}),o(372),p(373,"translate"),n(),a(374,"button",118),h("shortPress",function(){return t.selectMenuMode("compact")}),o(375),p(376,"translate"),n(),a(377,"button",118),h("shortPress",function(){return t.selectMenuMode("modal")}),o(378),p(379,"translate"),n()()()()()()()()),e&2){let l,m,g,b,k,y,M;i(3),u(d(4,139,"settings.title")),i(5),u(d(9,141,"settings.subscription.title")),i(5),f(" ",d(14,143,t.subscriptionService.isPremium()?"settings.subscription.premiumMember":"settings.subscription.freeTier")," "),i(3),f(" ",d(17,145,t.subscriptionService.isPremium()?"settings.subscription.allFeaturesUnlocked":"settings.subscription.upgradeMessage")," "),i(3),f(" ",d(20,147,t.subscriptionService.isPremium()?"settings.subscription.manageButton":"settings.subscription.upgradeButton")," "),i(4),u(d(24,149,"settings.userProfile.title")),i(2),c("formGroup",t.profileForm),i(4),u(d(30,151,"settings.userProfile.usernameLabel")),i(2),c("placeholder",d(32,153,"settings.userProfile.usernamePlaceholder")),i(4),u(d(36,155,"settings.userProfile.genderLabel")),i(3),c("ngValue",null),i(),u(d(40,157,"settings.userProfile.genderPlaceholder")),i(2),c("ngForOf",t.genders),i(3),u(d(45,159,"settings.userProfile.ageLabel")),i(2),c("placeholder",d(47,161,"settings.userProfile.agePlaceholder")),i(4),u(d(51,163,"settings.measurements.title")),i(5),f(" ",P(56,165,"settings.measurements.heightLabel",I(303,A,t.unitsService.getBodyMeasureUnitSuffix()))),i(4),c("placeholder",t.unitsService.getBodyMeasureUnitSuffix()),i(3),f(" ",P(63,168,"settings.measurements.weightLabel",I(305,A,t.unitsService.getBodyWeightUnitSuffix()))),i(4),c("placeholder",t.unitsService.getBodyWeightUnitSuffix()),i(3),u(P(70,171,"settings.measurements.chestLabel",I(307,A,t.unitsService.getBodyMeasureUnitSuffix()))),i(2),c("placeholder",t.unitsService.getBodyMeasureUnitSuffix()),i(3),u(P(75,174,"settings.measurements.neckLabel",I(309,A,t.unitsService.getBodyMeasureUnitSuffix()))),i(2),c("placeholder",t.unitsService.getBodyMeasureUnitSuffix()),i(3),u(P(80,177,"settings.measurements.waistLabel",I(311,A,t.unitsService.getBodyMeasureUnitSuffix()))),i(2),c("placeholder",t.unitsService.getBodyMeasureUnitSuffix()),i(3),u(P(85,180,"settings.measurements.hipsLabel",I(313,A,t.unitsService.getBodyMeasureUnitSuffix()))),i(2),c("placeholder",t.unitsService.getBodyMeasureUnitSuffix()),i(3),u(P(90,183,"settings.measurements.rightArmLabel",I(315,A,t.unitsService.getBodyMeasureUnitSuffix()))),i(2),c("placeholder",t.unitsService.getBodyMeasureUnitSuffix()),i(5),u(d(97,186,"settings.measurements.saveButton")),i(5),u(d(102,188,"settings.measurements.historyButton")),i(4),u(d(106,190,"settings.goals.title")),i(2),c("formGroup",t.goalsForm),i(4),u(P(112,192,"settings.goals.targetWeightLabel",I(317,A,t.unitsService.getBodyWeightUnitSuffix()))),i(2),c("placeholder",t.unitsService.getBodyWeightUnitSuffix()),i(3),u(P(117,195,"settings.goals.targetWaistLabel",I(319,A,t.unitsService.getBodyMeasureUnitSuffix()))),i(2),c("placeholder",t.unitsService.getBodyMeasureUnitSuffix()),i(3),u(d(122,198,"settings.player.title")),i(2),c("formGroup",t.appSettingsForm),i(),V("hover:bg-gray-100",t.subscriptionService.isPremium())("dark:hover:bg-gray-600/50",t.subscriptionService.isPremium())("cursor-pointer",t.subscriptionService.isPremium())("cursor-not-allowed",!t.subscriptionService.isPremium()),i(3),f(" ",d(128,200,"settings.player.playerModeLabel")," "),i(2),c("ngIf",!t.subscriptionService.isPremium()),i(2),f("",d(132,202,"settings.player.playerModeDescription")," "),i(2),V("cursor-not-allowed",!t.subscriptionService.isPremium()),i(3),c("checked",((l=t.appSettingsForm.get("playerMode"))==null?null:l.value)==="focus")("disabled",!t.subscriptionService.isPremium()),i(3),f(" ",((m=t.appSettingsForm.get("playerMode"))==null?null:m.value)==="focus"?d(140,204,"settings.player.playerModeFocus"):d(141,206,"settings.player.playerModeCompact")," "),i(5),u(d(145,208,"settings.player.weightIncrementLabel")),i(3),u(P(149,212,"settings.player.weightIncrementDescription",I(321,A,d(148,210,t.unitsService.currentWeightUnit())))),i(4),c("ngIf",((g=t.appSettingsForm.get("weightStep"))==null?null:g.invalid)&&((g=t.appSettingsForm.get("weightStep"))==null?null:g.touched)),i(4),u(d(156,215,"settings.player.countdownSoundLabel")),i(3),u(d(159,217,"settings.player.countdownSoundDescription")),i(6),f(" ",(b=t.appSettingsForm.get("enableTimerCountdownSound"))!=null&&b.value?d(165,219,"common.on"):d(166,221,"common.off")," "),i(3),c("ngIf",(k=t.appSettingsForm.get("enableTimerCountdownSound"))==null?null:k.value),i(4),f(" ",d(172,223,"settings.progressiveOverload.title")," "),i(2),c("ngIf",!t.subscriptionService.isPremium()),i(),c("formGroup",t.progressiveOverloadForm),i(),V("hover:bg-gray-100",t.subscriptionService.isPremium())("dark:hover:bg-gray-600/50",t.subscriptionService.isPremium())("cursor-pointer",t.subscriptionService.isPremium())("cursor-not-allowed",!t.subscriptionService.isPremium()),i(3),f("",d(179,225,"settings.progressiveOverload.enableLabel")," "),i(3),u(d(182,227,"settings.progressiveOverload.enableDescription")),i(6),f(" ",(y=t.progressiveOverloadForm.get("enabled"))!=null&&y.value?d(188,229,"common.on"):d(189,231,"common.off")," "),i(3),c("ngIf",(M=t.progressiveOverloadForm.get("enabled"))==null?null:M.value),i(3),u(d(194,233,"settings.dataManagement.title")),i(6),u(d(200,235,"settings.dataManagement.exportTitle")),i(3),u(d(203,237,"settings.dataManagement.exportDescription")),i(4),f(" ",d(207,239,"settings.dataManagement.exportButton")," "),i(5),u(d(212,241,"settings.dataManagement.importTitle")),i(3),u(d(215,243,"settings.dataManagement.importDescription")),i(6),f(" ",d(221,245,"settings.dataManagement.syncTitle")," "),i(2),c("appTooltip",t.syncHistoryTooltipString),i(2),u(d(225,247,"settings.dataManagement.syncDescription")),i(4),f(" ",d(229,249,"settings.dataManagement.syncButton")," "),i(5),u(d(234,251,"settings.dataManagement.resetTitle")),i(3),u(d(237,253,"settings.dataManagement.resetDescription")),i(4),f(" ",d(241,255,"settings.dataManagement.resetButton")," "),i(6),f(" ",d(247,257,"settings.personalGym.title")," "),i(2),c("ngIf",!t.subscriptionService.isPremium()),i(3),u(d(252,259,"settings.personalGym.description")),i(4),f(" ",d(256,261,"settings.personalGym.button")," "),i(4),u(d(260,263,"settings.exerciseLibrary.title")),i(4),u(d(264,265,"settings.exerciseLibrary.description")),i(4),f(" ",d(268,267,"settings.exerciseLibrary.button")," "),i(4),u(d(272,269,"settings.achievements.title")),i(4),u(d(276,271,"settings.achievements.description")),i(4),f(" ",d(280,273,"settings.achievements.button")," "),i(4),u(d(284,275,"settings.general.title")),i(6),f(" ",d(290,277,"settings.general.language")," "),i(3),f(" ",d(293,279,"settings.general.languageDescription")," "),i(2),c("formControl",t.languageControl),i(),c("ngForOf",t.languageService.supportedLanguages),i(4),u(d(300,281,"settings.general.weightUnits")),i(3),c("ngClass",T(323,ve,t.unitsService.currentWeightUnit()==="kg",t.unitsService.currentWeightUnit()==="lbs")),i(),c("ngClass",T(326,O,t.unitsService.currentWeightUnit()==="kg",t.unitsService.currentWeightUnit()!=="kg")),i(2),c("ngClass",T(329,O,t.unitsService.currentWeightUnit()==="lbs",t.unitsService.currentWeightUnit()!=="lbs")),i(4),u(d(310,283,"settings.general.measureUnits")),i(3),c("ngClass",T(332,ve,t.unitsService.currentMeasureUnit()==="cm",t.unitsService.currentMeasureUnit()==="in")),i(),c("ngClass",T(335,O,t.unitsService.currentMeasureUnit()==="cm",t.unitsService.currentMeasureUnit()!=="cm")),i(2),c("ngClass",T(338,O,t.unitsService.currentMeasureUnit()==="in",t.unitsService.currentMeasureUnit()!=="in")),i(4),u(d(320,285,"settings.general.distanceUnits")),i(3),c("ngClass",T(341,ve,t.unitsService.currentDistanceMeasureUnit()==="km",t.unitsService.currentDistanceMeasureUnit()==="mi")),i(),c("ngClass",T(344,O,t.unitsService.currentDistanceMeasureUnit()==="km",t.unitsService.currentDistanceMeasureUnit()!=="km")),i(2),c("ngClass",T(347,O,t.unitsService.currentDistanceMeasureUnit()==="mi",t.unitsService.currentDistanceMeasureUnit()!=="mi")),i(4),u(d(330,287,"settings.general.bodyWeightUnits")),i(3),c("ngClass",T(350,ve,t.unitsService.currentBodyWeightUnit()==="kg",t.unitsService.currentBodyWeightUnit()==="lbs")),i(),c("ngClass",T(353,O,t.unitsService.currentBodyWeightUnit()==="kg",t.unitsService.currentBodyWeightUnit()!=="kg")),i(2),c("ngClass",T(356,O,t.unitsService.currentBodyWeightUnit()==="lbs",t.unitsService.currentBodyWeightUnit()!=="lbs")),i(4),u(d(340,289,"settings.general.bodyMeasureUnits")),i(3),c("ngClass",T(359,ve,t.unitsService.currentBodyMeasureUnit()==="cm",t.unitsService.currentBodyMeasureUnit()==="in")),i(),c("ngClass",T(362,O,t.unitsService.currentBodyMeasureUnit()==="cm",t.unitsService.currentBodyMeasureUnit()!=="cm")),i(2),c("ngClass",T(365,O,t.unitsService.currentBodyMeasureUnit()==="in",t.unitsService.currentBodyMeasureUnit()!=="in")),i(5),u(d(351,291,"settings.general.darkMode")),i(3),c("checked",t.themeService.isDarkTheme()),i(4),u(d(358,293,"settings.general.wipMessage")),i(3),c("checked",!t.userProfileService.getHideWipDisclaimer()),i(6),f(" ",d(367,295,"settings.general.menuMode")," "),i(2),c("ngIf",!t.subscriptionService.isPremium()),i(2),c("ngClass",nt(368,Lt,t.appSettingsService.menuMode()==="dropdown",t.appSettingsService.menuMode()==="compact",t.appSettingsService.menuMode()==="modal")),i(),c("ngClass",T(372,O,t.appSettingsService.menuMode()==="dropdown",t.appSettingsService.menuMode()!=="dropdown")),i(),u(d(373,297,"settings.general.menuModes.dropdown")),i(2),c("ngClass",T(375,O,t.appSettingsService.menuMode()==="compact",t.appSettingsService.menuMode()!=="compact")),i(),u(d(376,299,"settings.general.menuModes.compact")),i(2),c("ngClass",T(378,O,t.appSettingsService.menuMode()==="modal",t.appSettingsService.menuMode()!=="modal")),i(),u(d(379,301,"settings.general.menuModes.modal"))}},dependencies:[te,Se,Z,ee,Ue,Ie,De,Oe,Ee,Me,mt,ft,Pe,Ce,bt,yt,ht,gt,Te,Fe,vt,Ne,ie,Pt,ne,lt,re],encapsulation:2})};var Ut=["bodyweight/calisthenics","dumbbells","kettlebells","barbells","machines","cables","bands","cardio","stretching","plyometrics","strongman","custom","other"];var li=(s,r)=>({count:s,total:r}),pi=s=>({count:s});function di(s,r){if(s&1&&(a(0,"option",38),o(1),n()),s&2){let e=r.$implicit;c("value",e),i(),f(" ",e," ")}}function ci(s,r){if(s&1&&(a(0,"option",38),o(1),p(2,"titlecase"),n()),s&2){let e=r.$implicit;c("value",e),i(),f(" ",d(2,2,e)," ")}}function mi(s,r){if(s&1&&(a(0,"span"),o(1),p(2,"translate"),n()),s&2){let e=x(2);i(),f(" ",P(2,1,"personalBests.filters.showingResultOf",T(4,li,e.displayPersonalBests().length,e.combinedPersonalBests().length))," ")}}function ui(s,r){if(s&1&&(o(0),p(1,"translate")),s&2){let e=x(2);f(" ",P(1,1,"personalBests.filters.showingResult",I(4,pi,e.displayPersonalBests().length))," ")}}function gi(s,r){if(s&1&&(a(0,"div",39),w(1,mi,3,7,"span",36)(2,ui,2,6,"ng-template",null,4,Q),n()),s&2){let e=U(3),t=x();i(),c("ngIf",t.exerciseNameFilter()||t.exerciseCategoryFilter()||t.pbTypeFilter())("ngIfElse",e)}}function vi(s,r){if(s&1&&(a(0,"span"),o(1),p(2,"date"),n()),s&2){let e=r.$implicit,t=r.last,l=x(2).$implicit,m=x(2);i(),xe(" ",m.formatPbValue(e,l.pbType)," (",P(2,3,e.timestamp,"dd/MM/yy"),")",t?"":", "," ")}}function fi(s,r){s&1&&(a(0,"span"),o(1," ..."),n())}function hi(s,r){if(s&1&&(a(0,"div",53)(1,"span",54),o(2),p(3,"translate"),n(),w(4,vi,3,6,"span",55)(5,fi,2,0,"span",56),n()),s&2){let e=x().$implicit;i(2),u(d(3,3,"personalBests.card.previous")),i(2),c("ngForOf",e.history.slice(0,1)),i(),c("ngIf",e.history.length>1)}}function yi(s,r){if(s&1&&(a(0,"div",57)(1,"p",58),o(2),n()()),s&2){let e=x().$implicit;V("mt-2",e.history&&e.history.length>0)("mt-1",!(e.history&&e.history.length>0)),i(),c("title",e.notes),i(),f(" ",e.notes," ")}}function bi(s,r){if(s&1){let e=F();a(0,"div",59)(1,"button",60),h("click",function(l){B(e);let m=x().$implicit,g=x(2);return E(g.navigateToLogDetail(m.workoutLogId,l))}),v(2,"app-icon",61),a(3,"span"),o(4),p(5,"translate"),n()(),a(6,"button",62),p(7,"translate"),h("click",function(){B(e);let l=x().$implicit,m=x(2);return E(m.showPbTrend(l.exerciseId,l.pbType))}),v(8,"app-icon",63),a(9,"span"),o(10),p(11,"translate"),n()()()}s&2&&(i(4),u(d(5,3,"personalBests.card.viewLog")),i(2),c("title",d(7,5,"personalBests.card.showTrendTooltip")),i(4),u(d(11,7,"personalBests.card.trend")))}function xi(s,r){if(s&1&&(a(0,"div",42)(1,"div",43)(2,"div",44)(3,"div")(4,"h2",45),o(5),n(),a(6,"p",46),o(7),p(8,"titlecase"),n()()(),a(9,"div",47)(10,"span",48),o(11),n()(),a(12,"div",49)(13,"span"),o(14),n(),a(15,"span"),o(16),p(17,"date"),n()(),w(18,hi,6,5,"div",50)(19,yi,3,6,"div",51),n(),w(20,bi,12,9,"div",52),n()),s&2){let e=r.$implicit,t=x(2);i(4),c("title",e.exerciseName),i(),f(" ",e.exerciseName," "),i(2),f(" (",d(8,9,e.primaryMuscleGroup),") "),i(4),u(t.formatPbValue(e)),i(3),u(e.pbType),i(2),u(P(17,11,e.timestamp,"dd/MM/yy")),i(2),c("ngIf",e.history&&e.history.length>0),i(),c("ngIf",e.notes),i(),c("ngIf",e.pbType!=="1RM (Estimated)"&&e.workoutLogId)}}function Si(s,r){if(s&1&&(a(0,"div")(1,"div",40),w(2,xi,21,14,"div",41),n()()),s&2){let e=x();i(2),c("ngForOf",e.displayPersonalBests())}}function _i(s,r){s&1&&(a(0,"span"),o(1),p(2,"translate"),n()),s&2&&(i(),u(d(2,1,"personalBests.noPBs.noMatchTitle")))}function wi(s,r){s&1&&(o(0),p(1,"translate")),s&2&&u(d(1,1,"personalBests.noPBs.noPBsTitle"))}function ki(s,r){if(s&1){let e=F();a(0,"span"),o(1),p(2,"translate"),a(3,"button",69),h("shortPress",function(){B(e);let l=x(2);return E(l.resetFiltersAndShow())}),o(4),p(5,"translate"),n()()}s&2&&(i(),f("",d(2,2,"personalBests.noPBs.noMatchMessage")," "),i(3),u(d(5,4,"personalBests.noPBs.resetFiltersLink")))}function Bi(s,r){s&1&&(a(0,"span"),o(1),p(2,"translate"),n()),s&2&&(i(),u(d(2,1,"personalBests.noPBs.noPBsMessage")))}function Ei(s,r){if(s&1){let e=F();a(0,"span"),o(1),p(2,"translate"),a(3,"button",69),h("shortPress",function(){B(e);let l=x(2);return E(l.triggerRecalculatePBs())}),o(4),p(5,"translate"),n(),o(6),p(7,"translate"),n()}s&2&&(i(),f(" ",d(2,3,"personalBests.noPBs.recalculatePrompt")),i(3),u(d(5,5,"personalBests.noPBs.recalculateLink")),i(2),f("",d(7,7,"personalBests.noPBs.recalculateSuggestion")," "))}function Pi(s,r){if(s&1&&(a(0,"div",64),K(),a(1,"svg",65),v(2,"path",66),n(),X(),a(3,"h2",67),w(4,_i,3,3,"span",36)(5,wi,2,3,"ng-template",null,5,Q),n(),a(7,"p",68),w(8,ki,6,6,"span",56)(9,Bi,3,3,"span",56)(10,Ei,8,9,"span",56),n()()),s&2){let e=U(6),t=x();i(4),c("ngIf",t.hasActiveFilters())("ngIfElse",e),i(4),c("ngIf",t.hasActiveFilters()),i(),c("ngIf",!t.hasActiveFilters()&&t.allPersonalBestsSignalEmpty()),i(),c("ngIf",!t.allPersonalBestsSignalEmpty()&&t.displayPersonalBests().length===0&&!t.hasActiveFilters())}}function Ci(s,r){if(s&1){let e=F();a(0,"button",70),h("shortPress",function(){B(e);let l=x();return E(l.scrollToTop())}),K(),a(1,"svg",71),v(2,"path",72),n(),X(),a(3,"span",15),o(4),p(5,"translate"),n()()}s&2&&(i(4),u(d(5,1,"personalBests.backToTop")))}var ze=class s{trackingService=S(oe);exerciseService=S(Le);unitsService=S(W);router=S(we);toastService=S(H);platformId=S(be);workoutService=S(se);translate=S(L);allPersonalBestsRaw=N({});allExercisesRaw=N([]);filtersVisible=N(!1);exerciseNameFilter=N("");pbTypeFilter=N("");exerciseCategoryFilter=N("");decimalPipe=new pt("en-US");availableCategories=Y(()=>[...Ut].sort());availablePbTypes=Y(()=>{let r=this.allPersonalBestsRaw(),e=new Set;return Object.values(r).forEach(t=>{t.forEach(l=>{l.pbType&&e.add(l.pbType)})}),Array.from(e).sort()});combinedPersonalBests=Y(()=>{let r=this.allPersonalBestsRaw(),e=this.allExercisesRaw();if(Object.keys(r).length===0||e.length===0)return[];let t=new Map(e.map(m=>[m.id,m])),l=[];for(let m in r)if(r.hasOwnProperty(m)){let g=t.get(m),b=r[m];g&&b.forEach(k=>{l.push(G(R({},k),{exerciseName:g.name,exerciseCategory:g.category,primaryMuscleGroup:g.primaryMuscleGroup}))})}return l});displayPersonalBests=Y(()=>{let r=this.combinedPersonalBests(),e=this.exerciseNameFilter().toLowerCase().trim(),t=this.exerciseCategoryFilter(),l=this.pbTypeFilter();if(!e&&!t&&!l)return this.sortPBs(r);let m=r.filter(g=>!(e&&!g.exerciseName.toLowerCase().includes(e)||t&&g.exerciseCategory!==t||l&&g.pbType!==l));return this.sortPBs(m)});hasActiveFilters=Y(()=>this.exerciseNameFilter().trim()!==""||this.exerciseCategoryFilter()!==""||this.pbTypeFilter().trim()!=="");allPersonalBestsSignalEmpty=Y(()=>Object.keys(this.allPersonalBestsRaw()).length===0);constructor(){}ngOnInit(){me(this.platformId)&&window.scrollTo(0,0),this.trackingService.personalBests$.subscribe(r=>{this.allPersonalBestsRaw.set(r)}),this.exerciseService.getExercises().pipe(tt(1)).subscribe(r=>{this.allExercisesRaw.set(r)})}toggleFiltersVisibility(){this.filtersVisible.update(r=>!r)}resetFilters(){this.exerciseNameFilter.set(""),this.exerciseCategoryFilter.set("")}resetFiltersAndShow(){this.resetFilters(),this.filtersVisible.set(!0)}getPbTypeSortOrder(r){return r.includes("1RM (Actual)")?0:r.includes("1RM (Estimated)")?1:r.includes("3RM (Actual)")?2:r.includes("5RM (Actual)")?3:r.includes("Heaviest Lifted")?4:r.includes("Max Reps (Bodyweight)")?5:r.includes("Max Duration")?6:100}sortPBs(r){return[...r].sort((e,t)=>{let l=e.exerciseName.localeCompare(t.exerciseName);if(l!==0)return l;let m=this.getPbTypeSortOrder(e.pbType),g=this.getPbTypeSortOrder(t.pbType);return m!==g?m-g:e.weightUsed!==void 0&&t.weightUsed!==void 0?(t.weightUsed??0)-(e.weightUsed??0):e.repsAchieved!==void 0&&t.repsAchieved!==void 0&&e.pbType.includes("Max Reps")?(t.repsAchieved??0)-(e.repsAchieved??0):e.durationPerformed!==void 0&&t.durationPerformed!==void 0&&e.pbType.includes("Max Duration")?(t.durationPerformed??0)-(e.durationPerformed??0):new Date(t.timestamp).getTime()-new Date(e.timestamp).getTime()})}formatPbValue(r,e){let t="",l=r.pbType||e;if(r.weightUsed!==void 0&&r.weightUsed!==null){if(t+=`${this.decimalPipe.transform(r.weightUsed,"1.0-2")}${this.unitsService.getWeightUnitSuffix()}`,r.repsAchieved>0){let m=!0;if(l&&l.includes("RM (Actual)")){let g=l.split("RM")[0],b=parseInt(g,10);!isNaN(b)&&r.repsAchieved===b&&(m=!1)}m&&(t+=` x ${r.repsAchieved}`)}}else r.repsAchieved>0&&l?.includes("Max Reps")?t=`${r.repsAchieved} ${this.translate.instant("personalBests.units.reps")}`:r.durationPerformed&&r.durationPerformed>0&&l?.includes("Max Duration")?t=`${r.durationPerformed}${this.translate.instant("personalBests.units.seconds")}`:r.repsAchieved>0?t=`${r.repsAchieved} ${this.translate.instant("personalBests.units.reps")}`:r.durationPerformed&&r.durationPerformed>0&&(t=`${r.durationPerformed}${this.translate.instant("personalBests.units.seconds")}`);return t||"N/A"}navigateToLogDetail(r,e){e?.stopPropagation(),r?(this.workoutService.vibrate(),this.router.navigate(["/history/log",r])):(this.toastService.error(this.translate.instant("personalBests.toasts.logNotFound"),0,this.translate.instant("personalBests.toasts.navigationError")),console.warn("Attempted to navigate to log detail, but workoutLogId is undefined for PB:",e))}triggerRecalculatePBs(){return C(this,null,function*(){try{yield this.trackingService.recalculateAllPersonalBests(),this.filtersVisible.set(!1)}catch(r){console.error("Error initiating PB recalculation:",r),this.toastService.error(this.translate.instant("personalBests.toasts.recalcError"))}})}resetPBs(){return C(this,null,function*(){try{yield this.trackingService.clearAllPersonalBests_DEV_ONLY()}catch(r){console.error("Error clearAllPersonalBests_DEV_ONLY:",r),this.toastService.error(this.translate.instant("personalBests.toasts.resetError"))}})}showPbTrend(r,e){if(!r||!e){this.toastService.error(this.translate.instant("personalBests.toasts.trendError"),0,"Error");return}let t=encodeURIComponent(e);this.workoutService.vibrate(),this.router.navigate(["/profile/pb-trend",r,t]),console.log(`Requesting trend for Exercise ID: ${r}, PB Type: ${e}`)}showBackToTopButton=N(!1);onWindowScroll(){let r=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;this.showBackToTopButton.set(r>400)}scrollToTop(){me(this.platformId)&&window.scrollTo({top:0,behavior:"smooth"})}static \u0275fac=function(e){return new(e||s)};static \u0275cmp=J({type:s,selectors:[["app-personal-bests"]],hostBindings:function(e,t){e&1&&h("scroll",function(){return t.onWindowScroll()},it)},decls:69,vars:57,consts:[["nameFilterInput",""],["pbTypeFilterInput",""],["categoryFilterInput",""],["noPBsOrFilters",""],["totalOnly",""],["noPBsMessage",""],[1,"container","mx-auto","p-2","sm:p-4"],[1,"mb-6","flex","items-center"],["routerLink","/profile",1,"text-gray-600","dark:text-gray-300","hover:text-primary","dark:hover:text-primary-light","p-2","-ml-2","rounded-full","focus:outline-none","focus:ring-2","focus:ring-primary-focus"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 19l-7-7 7-7"],[1,"flex","flex-grow","justify-between","items-center","pb-2"],[1,"text-2xl","font-bold","text-gray-800","dark:text-gray-200"],["type","button",1,"rounded-md","text-gray-600","dark:text-gray-300","hover:bg-gray-200","dark:hover:bg-gray-700","focus:outline-none","focus:ring-2","focus:ring-primary","dark:focus:ring-primary-light","transition-all","duration-300","ease-in-out",3,"click"],["name","filter",1,"w-10","h-10","transition-transform","duration-300"],[1,"sr-only"],[1,"overflow-hidden","transition-all","duration-500","ease-in-out"],[1,"p-4","bg-white","dark:bg-gray-700","rounded-md","shadow-md","border","dark:border-gray-600"],[1,"text-xl","font-semibold","text-gray-700","dark:text-gray-300","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","mb-4"],["for","exerciseNameFilter",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-1"],["type","text","id","exerciseNameFilter",1,"mt-1","block","w-full","px-3","py-2","bg-white","dark:bg-gray-800","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:outline-none","focus:ring-primary","focus:border-primary","sm:text-sm","text-gray-900","dark:text-gray-100","placeholder-gray-400","dark:placeholder-gray-500",3,"input","value","placeholder"],["for","pbTypeFilter",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-1"],["id","pbTypeFilter",1,"mt-1","block","w-full","px-3","py-2","bg-white","dark:bg-gray-800","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:outline-none","focus:ring-primary","focus:border-primary","sm:text-sm","text-gray-900","dark:text-gray-100",3,"change","value"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","categoryFilter",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-1"],["id","categoryFilter",1,"mt-1","block","w-full","px-3","py-2","bg-white","dark:bg-gray-800","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:outline-none","focus:ring-primary","focus:border-primary","sm:text-sm","text-gray-900","dark:text-gray-100",3,"change","value"],[1,"mt-4","flex","justify-between","items-center"],["appPress","",1,"flex","px-4","py-2","bg-yellow-200","dark:bg-yellow-700","text-gray-700","dark:text-gray-200","rounded-md","hover:bg-yellow-300","dark:hover:bg-yellow-500","text-sm","items-center",3,"shortPress"],["name","trash"],["appPress","",1,"ml-2","p-2","text-sm","text-gray-500","dark:text-gray-400","hover:text-primary","dark:hover:text-primary-light","rounded-md","border","border-gray-300","dark:border-gray-600","hover:bg-gray-100","dark:hover:bg-gray-700","transition-colors","flex","items-center",3,"shortPress","title"],["name","change"],[1,"hidden","sm:inline-block","ml-1"],["appPress","",1,"ml-2","p-2","text-sm","text-gray-500","dark:text-gray-400","hover:text-red-600","dark:hover:text-red-500","rounded-md","border","border-gray-300","dark:border-gray-600","hover:bg-red-100","dark:hover:bg-red-900/50","transition-colors","flex","items-center",3,"shortPress","title"],["class","text-sm text-gray-600 dark:text-gray-400",4,"ngIf"],[4,"ngIf","ngIfElse"],["appPress","","type","button","class","fixed bottom-20 right-4 z-40 bg-primary dark:bg-primary text-white rounded-full p-3 shadow-lg hover:bg-primary-dark dark:hover:bg-primary-light focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-focus dark:focus:ring-offset-gray-900 transition-opacity animate-fade-in",3,"shortPress",4,"ngIf"],[3,"value"],[1,"text-sm","text-gray-600","dark:text-gray-400"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-3","xl:grid-cols-4","gap-4"],["class","flex flex-col border dark:border-none bg-white dark:bg-gray-700 rounded-md shadow-md hover:shadow-lg transition-shadow duration-200 relative group transform hover:-translate-y-1",4,"ngFor","ngForOf"],[1,"flex","flex-col","border","dark:border-none","bg-white","dark:bg-gray-700","rounded-md","shadow-md","hover:shadow-lg","transition-shadow","duration-200","relative","group","transform","hover:-translate-y-1"],[1,"p-3","flex-grow"],[1,"flex","justify-between","items-start","mb-1"],[1,"text-md","font-semibold","text-primary","dark:text-primary-light","truncate",3,"title"],[1,"text-xs","text-gray-500","dark:text-gray-400"],[1,"mb-2"],[1,"text-xl","font-bold","text-gray-900","dark:text-white"],[1,"flex","justify-between","items-center","text-xs","text-gray-500","dark:text-gray-400","mb-2"],["class","mt-2 pt-1 border-t border-gray-200 dark:border-gray-600 text-xs text-gray-500 dark:text-gray-400",4,"ngIf"],["class","pt-1 border-t border-gray-200 dark:border-gray-600",3,"mt-2","mt-1",4,"ngIf"],["class","grid grid-cols-1 sm:grid-cols-2 gap-4 pt-4 bg-gray-50 dark:bg-gray-800 border-gray-200 rounded-b dark:border-gray-600 p-2",4,"ngIf"],[1,"mt-2","pt-1","border-t","border-gray-200","dark:border-gray-600","text-xs","text-gray-500","dark:text-gray-400"],[1,"font-medium"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"pt-1","border-t","border-gray-200","dark:border-gray-600"],[1,"text-xs","text-gray-600","dark:text-gray-400","italic","max-h-16","overflow-y-auto","custom-scrollbar","pr-1",3,"title"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-4","pt-4","bg-gray-50","dark:bg-gray-800","border-gray-200","rounded-b","dark:border-gray-600","p-2"],[1,"flex","justify-center","items-center","px-6","py-3","bg-indigo-500","hover:bg-indigo-600","text-white","font-semibold","rounded-md","shadow-sm","text-lg","disabled:opacity-50","disabled:cursor-not-allowed",3,"click"],["name","eye",1,"w-8","h-8","mr-1"],[1,"flex","justify-center","items-center","px-6","py-3","bg-primary","hover:bg-primary-light","text-white","font-semibold","rounded-md","shadow-sm","text-lg","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","title"],["name","trend",1,"w-8","h-8","mr-1"],[1,"text-center","py-10","bg-white","dark:bg-gray-700","rounded-xl","shadow-lg"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-16","h-16","mx-auto","text-gray-400","dark:text-gray-500","mb-4"],["stroke-linecap","round","stroke-linejoin","round","d","M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607zM13.5 10.5h-6"],[1,"text-xl","font-semibold","text-gray-700","dark:text-gray-300","mb-2"],[1,"text-gray-500","dark:text-gray-400","px-4"],["appPress","",1,"text-primary","dark:text-primary-light","hover:underline",3,"shortPress"],["appPress","","type","button",1,"fixed","bottom-20","right-4","z-40","bg-primary","dark:bg-primary","text-white","rounded-full","p-3","shadow-lg","hover:bg-primary-dark","dark:hover:bg-primary-light","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-primary-focus","dark:focus:ring-offset-gray-900","transition-opacity","animate-fade-in",3,"shortPress"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","2.5","stroke","currentColor",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","d","M4.5 15.75l7.5-7.5 7.5 7.5"]],template:function(e,t){if(e&1){let l=F();a(0,"div",6)(1,"div",7)(2,"button",8),K(),a(3,"svg",9),v(4,"path",10),n()(),X(),a(5,"header",11)(6,"h1",12),o(7),p(8,"translate"),n(),a(9,"button",13),h("click",function(){return B(l),E(t.toggleFiltersVisibility())}),v(10,"app-icon",14),a(11,"span",15),o(12),p(13,"translate"),n()()()(),a(14,"div",16)(15,"div",17)(16,"h2",18),o(17),p(18,"translate"),n(),a(19,"div",19)(20,"div")(21,"label",20),o(22),p(23,"translate"),n(),a(24,"input",21,0),p(26,"translate"),h("input",function(){B(l);let g=U(25);return E(t.exerciseNameFilter.set(g.value))}),n()(),a(27,"div")(28,"label",22),o(29),p(30,"translate"),n(),a(31,"select",23,1),h("change",function(){B(l);let g=U(32);return E(t.pbTypeFilter.set(g.value))}),a(33,"option",24),o(34),p(35,"translate"),n(),w(36,di,2,2,"option",25),n()(),a(37,"div")(38,"label",26),o(39),p(40,"translate"),n(),a(41,"select",27,2),h("change",function(){B(l);let g=U(42);return E(t.exerciseCategoryFilter.set(g.value))}),a(43,"option",24),o(44),p(45,"translate"),n(),w(46,ci,3,4,"option",25),n()()(),a(47,"div",28)(48,"button",29),h("shortPress",function(){return B(l),E(t.resetFilters())}),v(49,"app-icon",30),o(50),p(51,"translate"),n(),a(52,"button",31),p(53,"translate"),h("shortPress",function(){return B(l),E(t.triggerRecalculatePBs())}),v(54,"app-icon",32),a(55,"span",33),o(56),p(57,"translate"),n()(),a(58,"button",34),p(59,"translate"),h("shortPress",function(){return B(l),E(t.resetPBs())}),v(60,"app-icon",30),a(61,"span",33),o(62),p(63,"translate"),n()(),w(64,gi,4,2,"div",35),n()()(),w(65,Si,3,1,"div",36)(66,Pi,11,5,"ng-template",null,3,Q)(68,Ci,6,3,"button",37),n()}if(e&2){let l=U(67);i(7),u(d(8,29,"personalBests.title")),i(3),V("rotate-180",t.filtersVisible()===!0),i(2),u(d(13,31,"personalBests.toggleFilters")),i(2),rt("max-height",t.filtersVisible()?"1000px":"0px"),V("mb-6",t.filtersVisible()),i(3),u(d(18,33,"personalBests.filters.title")),i(5),f(" ",d(23,35,"personalBests.filters.byNameLabel")," "),i(2),c("value",t.exerciseNameFilter())("placeholder",d(26,37,"personalBests.filters.byNamePlaceholder")),i(5),f(" ",d(30,39,"personalBests.filters.byTypeLabel")," "),i(2),c("value",t.pbTypeFilter()),i(3),u(d(35,41,"personalBests.filters.allTypes")),i(2),c("ngForOf",t.availablePbTypes()),i(3),f(" ",d(40,43,"personalBests.filters.byCategoryLabel")," "),i(2),c("value",t.exerciseCategoryFilter()),i(3),u(d(45,45,"personalBests.filters.allCategories")),i(2),c("ngForOf",t.availableCategories()),i(4),f(" ",d(51,47,"personalBests.filters.clearButton")," "),i(2),c("title",d(53,49,"personalBests.filters.recalculateTooltip")),i(4),u(d(57,51,"personalBests.filters.recalculateButton")),i(2),c("title",d(59,53,"personalBests.filters.resetTooltip")),i(4),u(d(63,55,"personalBests.filters.resetButton")),i(2),c("ngIf",t.combinedPersonalBests().length>0),i(),c("ngIf",t.displayPersonalBests().length>0)("ngIfElse",l),i(3),c("ngIf",t.showBackToTopButton())}},dependencies:[te,Z,ee,dt,Ne,ie,ne,ot,_e,re],styles:[".custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent;border-radius:3px}.custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#9ca3af;border-radius:3px}.custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#6b7280}.dark[_ngcontent-%COMP%]   .custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#4b5563}.dark[_ngcontent-%COMP%]   .custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#6b7280}"],data:{animation:[Je("slideInOutActions",[ge("void",ue({height:"0px",opacity:0,overflow:"hidden",paddingTop:"0",paddingBottom:"0",marginTop:"0",marginBottom:"0"})),ge("*",ue({height:"*",opacity:1,overflow:"hidden",paddingTop:"0.5rem",paddingBottom:"0.5rem"})),Be("void <=> *",ke("200ms ease-in-out"))]),Je("dropdownMenu",[ge("void",ue({opacity:0,transform:"scale(0.75) translateY(-10px)",transformOrigin:"top right"})),ge("*",ue({opacity:1,transform:"scale(1) translateY(0)",transformOrigin:"top right"})),Be("void => *",[ke("150ms cubic-bezier(0.25, 0.8, 0.25, 1)")]),Be("* => void",[ke("100ms cubic-bezier(0.25, 0.8, 0.25, 1)")])])]}})};var pe=s=>({unit:s}),Nt=s=>({date:s}),Ii=s=>({"clip-path":s}),Mi=s=>({left:s}),Ti=(s,r)=>({"text-yellow-500":s,"text-gray-500":r});function Fi(s,r){if(s&1&&(a(0,"option",18),o(1),p(2,"date"),n()),s&2){let e=r.$implicit;c("value",e.date),i(),f("",P(2,2,e.date,"mediumDate")," ")}}function Di(s,r){if(s&1&&(a(0,"option",18),o(1),p(2,"date"),n()),s&2){let e=r.$implicit;c("value",e.date),i(),f("",P(2,2,e.date,"mediumDate")," ")}}function Oi(s,r){if(s&1&&(a(0,"option",18),o(1),n()),s&2){let e=r.$implicit;c("value",e.key),i(),u(e.label)}}function Ai(s,r){if(s&1){let e=F();a(0,"img",40),h("click",function(){B(e);let l=x().$implicit,m=x(2);return E(m.openFullScreenImage(l.photoUrl))}),n()}if(s&2){let e=x().$implicit;c("src",e.photoUrl,$)}}function Ui(s,r){if(s&1){let e=F();a(0,"div",27)(1,"div",28)(2,"div",29)(3,"p",30),o(4),p(5,"date"),n(),w(6,Ai,1,1,"img",31),a(7,"label",32),o(8),p(9,"translate"),a(10,"input",33),h("change",function(l){let m=B(e).$implicit,g=x(2);return E(g.uploadPhoto(l,m.date))}),n()(),a(11,"div")(12,"button",34),p(13,"translate"),h("click",function(){let l=B(e).$implicit,m=x(2);return E(m.confirmDeleteEntry(l.date))}),v(14,"app-icon",35),n(),a(15,"button",34),p(16,"translate"),h("click",function(){let l=B(e).$implicit,m=x(2);return E(m.editEntry(l.date))}),v(17,"app-icon",36),n()()(),a(18,"div",37)(19,"p")(20,"strong"),o(21),p(22,"translate"),n(),o(23),n(),a(24,"p")(25,"strong"),o(26),p(27,"translate"),n(),o(28),n(),a(29,"p")(30,"strong"),o(31),p(32,"translate"),n(),o(33),n(),a(34,"p")(35,"strong"),o(36),p(37,"translate"),n(),o(38),n(),a(39,"p")(40,"strong"),o(41),p(42,"translate"),n(),o(43),n(),a(44,"p")(45,"strong"),o(46),p(47,"translate"),n(),o(48),n()(),a(49,"div")(50,"label",38),o(51),p(52,"translate"),n(),a(53,"textarea",39),p(54,"translate"),h("input",function(l){let m=B(e).$implicit,g=x(2);return E(g.updateNotes(m.date,l))}),n()()()()}if(s&2){let e=r.$implicit,t=x(2);i(4),u(P(5,26,e.date,"fullDate")),i(2),c("ngIf",e.photoUrl),i(2),f(" ",d(9,29,e.photoUrl?"measurementHistory.changePhoto":"measurementHistory.addPhoto")," "),i(4),c("title",d(13,31,"measurementHistory.deleteEntry")),i(3),c("title",d(16,33,"measurementHistory.editEntry")),i(6),u(d(22,35,"measurementHistory.weight")),i(2),z(" ",e.weight||"N/A"," ",t.unitsService.getBodyWeightUnitSuffix()),i(3),u(d(27,37,"measurementHistory.chest")),i(2),z(" ",e.chest||"N/A"," ",t.unitsService.getBodyMeasureUnitSuffix()),i(3),u(d(32,39,"measurementHistory.waist")),i(2),z(" ",e.waist||"N/A"," ",t.unitsService.getBodyMeasureUnitSuffix()),i(3),u(d(37,41,"measurementHistory.hips")),i(2),z(" ",e.hips||"N/A"," ",t.unitsService.getBodyMeasureUnitSuffix()),i(3),u(d(42,43,"measurementHistory.neck")),i(2),z(" ",e.neck||"N/A"," ",t.unitsService.getBodyMeasureUnitSuffix()),i(3),u(d(47,45,"measurementHistory.rightArm")),i(2),z(" ",e.rightArm||"N/A"," ",t.unitsService.getBodyMeasureUnitSuffix()),i(3),f("",d(52,47,"measurementHistory.notes"),":"),i(2),c("value",e.notes||"")("placeholder",d(54,49,"measurementHistory.notesPlaceholder"))}}function Ni(s,r){if(s&1){let e=F();a(0,"div")(1,"section",19)(2,"h2",20),o(3),p(4,"translate"),n(),a(5,"div",21)(6,"select",22),h("change",function(l){B(e);let m=x();return E(m.updateChart(l))}),w(7,Oi,2,2,"option",11),n()(),a(8,"div",23),v(9,"ngx-charts-line-chart",24),n()(),a(10,"section",25)(11,"h2",20),o(12),p(13,"translate"),n(),w(14,Ui,55,51,"div",26),n()()}if(s&2){let e=x();i(3),u(d(4,15,"measurementHistory.chartTitle")),i(4),c("ngForOf",e.availableMetrics),i(2),c("results",e.chartData)("scheme",e.colorScheme)("xAxis",!0)("yAxis",!0)("legend",!0)("showXAxisLabel",!0)("showYAxisLabel",!0)("xAxisLabel","Date")("yAxisLabel",e.yAxisLabel)("autoScale",!0)("referenceLines",e.referenceLines),i(3),u(d(13,17,"measurementHistory.logHistoryTitle")),i(2),c("ngForOf",e.measurementHistory)}}function Vi(s,r){s&1&&(a(0,"div",41)(1,"p",42),o(2),p(3,"translate"),n(),a(4,"p",43),o(5),p(6,"translate"),n()()),s&2&&(i(2),u(d(3,2,"measurementHistory.noDataTitle")),i(3),u(d(6,4,"measurementHistory.noDataMessage")))}function Hi(s,r){if(s&1){let e=F();a(0,"div",44),h("click",function(){B(e);let l=x();return E(l.closeFullScreenImage())}),v(1,"img",45),n()}if(s&2){let e=x();i(),c("src",e.fullScreenImageUrl,$)}}function Li(s,r){if(s&1){let e=F();a(0,"div",46)(1,"div",47)(2,"h2",48),o(3),p(4,"translate"),n(),a(5,"form",49),h("ngSubmit",function(){B(e);let l=x();return E(l.saveEntry())}),a(6,"label",50),o(7),p(8,"translate"),n(),v(9,"input",51),a(10,"div",52)(11,"div")(12,"label",53),o(13),p(14,"translate"),n(),v(15,"input",54),n(),a(16,"div")(17,"label",55),o(18),p(19,"translate"),n(),v(20,"input",56),n(),a(21,"div")(22,"label",57),o(23),p(24,"translate"),n(),v(25,"input",58),n(),a(26,"div")(27,"label",59),o(28),p(29,"translate"),n(),v(30,"input",60),n(),a(31,"div")(32,"label",61),o(33),p(34,"translate"),n(),v(35,"input",62),n(),a(36,"div")(37,"label",63),o(38),p(39,"translate"),n(),v(40,"input",64),n()(),v(41,"textarea",65),p(42,"translate"),a(43,"div",66)(44,"button",67),h("click",function(){B(e);let l=x();return E(l.isAddEntryModalOpen=!1)}),v(45,"app-icon",68),o(46),p(47,"translate"),n(),a(48,"button",69),v(49,"app-icon",70),o(50),p(51,"translate"),n()()()()()}if(s&2){let e=x();i(3),u(d(4,19,"measurementHistory.addEntryModal.title")),i(2),c("formGroup",e.entryForm),i(2),u(d(8,21,"measurementHistory.addEntryModal.dateLabel")),i(6),u(P(14,23,"measurementHistory.addEntryModal.weightLabel",I(47,pe,e.unitsService.getBodyWeightUnitSuffix()))),i(2),c("placeholder","Weight "+e.unitsService.getBodyWeightUnitSuffix()),i(3),u(P(19,26,"measurementHistory.addEntryModal.chestLabel",I(49,pe,e.unitsService.getBodyMeasureUnitSuffix()))),i(2),c("placeholder","Chest "+e.unitsService.getBodyMeasureUnitSuffix()),i(3),u(P(24,29,"measurementHistory.addEntryModal.waistLabel",I(51,pe,e.unitsService.getBodyMeasureUnitSuffix()))),i(2),c("placeholder","Waist "+e.unitsService.getBodyMeasureUnitSuffix()),i(3),u(P(29,32,"measurementHistory.addEntryModal.hipsLabel",I(53,pe,e.unitsService.getBodyMeasureUnitSuffix()))),i(2),c("placeholder","Hips "+e.unitsService.getBodyMeasureUnitSuffix()),i(3),u(P(34,35,"measurementHistory.addEntryModal.neckLabel",I(55,pe,e.unitsService.getBodyMeasureUnitSuffix()))),i(2),c("placeholder","Neck "+e.unitsService.getBodyMeasureUnitSuffix()),i(3),u(P(39,38,"measurementHistory.addEntryModal.rightArmLabel",I(57,pe,e.unitsService.getBodyMeasureUnitSuffix()))),i(2),c("placeholder","Right Arm "+e.unitsService.getBodyMeasureUnitSuffix()),i(),c("placeholder",d(42,41,"measurementHistory.addEntryModal.notesPlaceholder")),i(5),f(" ",d(47,43,"measurementHistory.addEntryModal.cancel")),i(2),c("disabled",e.entryForm.invalid),i(2),u(d(51,45,"measurementHistory.addEntryModal.save"))}}function Wi(s,r){s&1&&(a(0,"span"),o(1),p(2,"translate"),n()),s&2&&(i(),u(d(2,1,"measurementHistory.comparisonModal.sideBySideView")))}function Ri(s,r){s&1&&(a(0,"span"),o(1),p(2,"translate"),n()),s&2&&(i(),u(d(2,1,"measurementHistory.comparisonModal.sliderView")))}function Gi(s,r){if(s&1&&(a(0,"div",94)(1,"div",95),v(2,"img",96),a(3,"p",97),o(4),p(5,"date"),n()(),a(6,"div",95),v(7,"img",98),a(8,"p",97),o(9),p(10,"date"),n()()()),s&2){let e=x(2);i(2),c("src",e.comparisonData.from.photoUrl||"./assets/images/no_data.png",$),i(2),u(P(5,4,e.comparisonData.from.date,"fullDate")),i(3),c("src",e.comparisonData.to.photoUrl||"./assets/images/no_data.png",$),i(2),u(P(10,7,e.comparisonData.to.date,"fullDate"))}}function ji(s,r){if(s&1){let e=F();a(0,"div",99)(1,"h3",100),o(2),p(3,"translate"),n(),a(4,"div",101)(5,"div",102),v(6,"img",103),a(7,"span",104),o(8),p(9,"date"),p(10,"translate"),n()(),a(11,"div",105),v(12,"img",106),a(13,"span",107),o(14),p(15,"date"),p(16,"translate"),n()(),a(17,"div",108)(18,"div",109),K(),a(19,"svg",110),v(20,"path",111),n()()(),X(),a(21,"input",112),h("input",function(l){B(e);let m=x(2);return E(m.onSliderChange(l))}),n()()()}if(s&2){let e=x(2);i(2),u(d(3,8,"measurementHistory.comparisonModal.sliderTitle")),i(4),c("src",e.comparisonData.from.photoUrl||"./assets/images/no_data.png",$),i(2),f(" ",P(10,14,"measurementHistory.comparisonModal.before",I(24,Nt,Xe(9,10,e.comparisonData.from.date,"dd-MM-yy","UTC")))," "),i(3),c("ngStyle",I(26,Ii,"inset(0 "+(100-e.comparisonSliderValue)+"% 0 0)")),i(),c("src",e.comparisonData.to.photoUrl||"./assets/images/no_data.png",$),i(2),f(" ",P(16,21,"measurementHistory.comparisonModal.after",I(28,Nt,Xe(15,17,e.comparisonData.to.date,"dd-MM-yy","UTC")))," "),i(3),c("ngStyle",I(30,Mi,"calc("+e.comparisonSliderValue+"% - 1px)")),i(4),c("value",e.comparisonSliderValue)}}function $i(s,r){if(s&1&&(a(0,"span"),o(1),n()),s&2){let e=x().$implicit;i(),u(e.unit)}}function zi(s,r){if(s&1&&(a(0,"span"),o(1),n()),s&2){let e=x().$implicit;i(),u(e.unit)}}function Yi(s,r){if(s&1&&(qe(0),o(1),Ke()),s&2){let e=x().$implicit;i(),xe(" ",e.difference>0?"+":"","",e.difference," ",e.unit," ")}}function qi(s,r){s&1&&(qe(0),o(1,"N/A"),Ke())}function Ki(s,r){if(s&1&&(a(0,"tr",113)(1,"th",114),o(2),n(),a(3,"td",115),o(4),w(5,$i,2,1,"span",81),n(),a(6,"td",115),o(7),w(8,zi,2,1,"span",81),n(),a(9,"td",116),w(10,Yi,2,3,"ng-container",81)(11,qi,2,0,"ng-container",81),n()()),s&2){let e=r.$implicit;i(2),u(e.metricLabel),i(2),f("",e.fromValue," "),i(),c("ngIf",e.fromValue!=="N/A"),i(2),f("",e.toValue," "),i(),c("ngIf",e.toValue!=="N/A"),i(),c("ngClass",T(8,Ti,e.difference!==null&&e.difference!==null,e.difference===0||e.difference===null)),i(),c("ngIf",e.difference!==null),i(),c("ngIf",e.difference===null)}}function Xi(s,r){if(s&1){let e=F();a(0,"div",71)(1,"div",72)(2,"div",73)(3,"div",74)(4,"h2",75),o(5),p(6,"translate"),n(),a(7,"button",76),h("click",function(){B(e);let l=x();return E(l.comparisonData=null)}),v(8,"app-icon",77),n()(),a(9,"div",78)(10,"button",79),h("click",function(){B(e);let l=x();return E(l.toggleComparisonMode())}),v(11,"app-icon",80),w(12,Wi,3,3,"span",81)(13,Ri,3,3,"span",81),n()()(),w(14,Gi,11,10,"div",82)(15,ji,22,32,"div",83),a(16,"div",84)(17,"table",85)(18,"thead",86)(19,"tr")(20,"th",87),o(21),p(22,"translate"),n(),a(23,"th",88),o(24),p(25,"date"),n(),a(26,"th",88),o(27),p(28,"date"),n(),a(29,"th",89),o(30),p(31,"translate"),n()()(),a(32,"tbody"),w(33,Ki,12,11,"tr",90),n()()(),a(34,"div",91)(35,"button",92),h("click",function(){B(e);let l=x();return E(l.comparisonData=null)}),v(36,"app-icon",93),o(37),p(38,"translate"),n()()()()}if(s&2){let e=x();i(5),u(d(6,11,"measurementHistory.comparisonModal.title")),i(7),c("ngIf",e.comparisonMode==="slider"),i(),c("ngIf",e.comparisonMode==="side-by-side"),i(),c("ngIf",e.comparisonMode==="side-by-side"),i(),c("ngIf",e.comparisonMode==="slider"),i(6),u(d(22,13,"measurementHistory.comparisonModal.metric")),i(3),f("",P(25,15,e.comparisonData.from.date,"shortDate")," "),i(3),f("",P(28,18,e.comparisonData.to.date,"shortDate")," "),i(3),u(d(31,21,"measurementHistory.comparisonModal.change")),i(3),c("ngForOf",e.comparisonData.rows),i(4),f(" ",d(38,23,"measurementHistory.comparisonModal.close"))}}var Ye=class s{userProfileService=S(ae);imageStorageService=S(le);toastService=S(H);fb=S(Ae);alertService=S(Ve);unitsService=S(W);translate=S(L);compareFromDate="";compareToDate="";userProfile=null;measurementHistory=[];fullScreenImageUrl=null;isAddEntryModalOpen=!1;comparisonData=null;entryForm;chartData=[];yAxisLabel="Value";referenceLines=[];colorScheme="vivid";availableMetrics=[];notesUpdate$=new et;ngOnInit(){this.userProfile=this.userProfileService.getProfile(),this.setupAvailableMetrics(),this.loadHistory(),this.initEntryForm(),this.notesUpdate$.pipe(j(1e3)).subscribe(r=>this.saveNotes(r.date,r.notes))}setupAvailableMetrics(){this.availableMetrics=[{key:"weight",label:this.translate.instant("measurementHistory.metrics.weight",{unit:this.unitsService.getBodyWeightUnitSuffix()})},{key:"bmi",label:this.translate.instant("measurementHistory.metrics.bmi")},{key:"bodyFat",label:this.translate.instant("measurementHistory.metrics.bodyFat")},{key:"chest",label:this.translate.instant("measurementHistory.metrics.chest",{unit:this.unitsService.getBodyMeasureUnitSuffix()})},{key:"waist",label:this.translate.instant("measurementHistory.metrics.waist",{unit:this.unitsService.getBodyMeasureUnitSuffix()})},{key:"hips",label:this.translate.instant("measurementHistory.metrics.hips",{unit:this.unitsService.getBodyMeasureUnitSuffix()})},{key:"neck",label:this.translate.instant("measurementHistory.metrics.neck",{unit:this.unitsService.getBodyMeasureUnitSuffix()})},{key:"rightArm",label:this.translate.instant("measurementHistory.metrics.rightArm",{unit:this.unitsService.getBodyMeasureUnitSuffix()})}]}loadHistory(){return C(this,null,function*(){this.userProfile=this.userProfileService.getProfile();let r=this.userProfile?.measurementHistory?.slice().sort((e,t)=>new Date(t.date).getTime()-new Date(e.date).getTime())||[];if(this.measurementHistory=yield Promise.all(r.map(e=>C(this,null,function*(){if(!e.date)return null;let t=yield this.imageStorageService.getImage(e.date),l=t?URL.createObjectURL(t):void 0;return G(R({},e),{photoUrl:l})}))).then(e=>e.filter(Boolean)),this.measurementHistory.length>0){let e=document.getElementById("metric-select");this.prepareChartData(e?.value||"weight")}else this.chartData=[]})}prepareChartData(r){let e=this.availableMetrics.find(m=>m.key===r);this.yAxisLabel=e?e.label:"Value";let l=this.measurementHistory.slice().reverse().map(m=>{let g=null;if(r==="bmi")m.weight&&this.userProfile?.height&&this.userProfile.height>0&&(g=this.userProfileService.calculateBMI(m.weight,this.userProfile.height));else if(r==="bodyFat"){let{gender:b,height:k}=this.userProfile||{},{waist:y,neck:M,hips:D}=m;if(b&&k&&y&&M){let de={waist:y,neck:M,height:k,hips:D??void 0};g=this.userProfileService.calculateBodyFatNavy(b,de)}}else{let b=m[r];typeof b=="number"&&(g=b)}return{name:m.date,value:g}}).filter(m=>m.value!==null&&m.value!==void 0&&!isNaN(m.value));this.chartData=[{name:this.yAxisLabel,series:l}],this.updateReferenceLine(r)}updateReferenceLine(r){let e=this.userProfile?.measurementGoals?.[r];typeof e=="number"?this.referenceLines=[{name:"Goal",value:e}]:this.referenceLines=[]}updateChart(r){let e=r.target;this.prepareChartData(e.value)}initEntryForm(){this.entryForm=this.fb.group({date:["",_.required],weight:[null,[_.min(0)]],waist:[null,[_.min(0)]],neck:[null,[_.min(0)]],chest:[null,[_.min(0)]],hips:[null,[_.min(0)]],rightArm:[null,[_.min(0)]],notes:[""]})}openAddEntryModal(){this.entryForm.reset({date:new Date().toISOString().split("T")[0]}),this.isAddEntryModalOpen=!0}saveEntry(){this.entryForm.invalid||(this.userProfileService.addOrUpdateMeasurementEntry(this.entryForm.value),this.isAddEntryModalOpen=!1,this.loadHistory(),this.toastService.success(this.translate.instant("measurementHistory.toasts.entrySaved")))}updateNotes(r,e){let t=e.target.value;this.notesUpdate$.next({date:r,notes:t})}saveNotes(r,e){let t=this.measurementHistory.find(l=>l.date===r);if(t){let l=G(R({},t),{notes:e});delete l.photoUrl,this.userProfileService.addOrUpdateMeasurementEntry(l),this.toastService.info(this.translate.instant("measurementHistory.toasts.notesSaved"),1500)}}uploadPhoto(r,e){return C(this,null,function*(){let t=r.target;if(!t.files||t.files.length===0)return;let l=t.files[0];try{yield this.imageStorageService.saveImage(e,l);let m=this.measurementHistory.find(g=>g.date===e);m&&(m.photoUrl&&URL.revokeObjectURL(m.photoUrl),m.photoUrl=URL.createObjectURL(l)),this.toastService.success(this.translate.instant("measurementHistory.toasts.photoSaved"))}catch(m){console.error("Failed to save photo:",m),this.toastService.error(this.translate.instant("measurementHistory.toasts.photoSaveError"))}finally{t.value=""}})}openFullScreenImage(r){this.fullScreenImageUrl=r}closeFullScreenImage(){this.fullScreenImageUrl=null}onCompareFromChange(r){let e=r.target;this.compareFromDate=e.value}onCompareToChange(r){let e=r.target;this.compareToDate=e.value}closeCompareModal(){this.comparisonData=null,this.compareFromDate="",this.compareToDate=""}openCompareModal(r,e){if(this.comparisonMode="slider",this.comparisonSliderValue=50,!r||!e){this.toastService.error(this.translate.instant("measurementHistory.toasts.selectDatesError"));return}let t=this.measurementHistory.find(g=>g.date===r),l=this.measurementHistory.find(g=>g.date===e);if(!t||!l){this.toastService.error(this.translate.instant("measurementHistory.toasts.findEntriesError"));return}new Date(t.date)>new Date(l.date)&&([t,l]=[l,t]);let m=this.calculateComparisonRows(t,l);this.comparisonData={from:t,to:l,rows:m}}calculateComparisonRows(r,e){return[{key:"weight",label:"Weight",unit:this.unitsService.getBodyWeightUnitSuffix()},{key:"chest",label:"Chest",unit:this.unitsService.getBodyMeasureUnitSuffix()},{key:"waist",label:"Waist",unit:this.unitsService.getBodyMeasureUnitSuffix()},{key:"hips",label:"Hips",unit:this.unitsService.getBodyMeasureUnitSuffix()},{key:"neck",label:"Neck",unit:this.unitsService.getBodyMeasureUnitSuffix()},{key:"rightArm",label:"Right Arm",unit:this.unitsService.getBodyMeasureUnitSuffix()}].map(l=>{let m=r[l.key],g=e[l.key],b=null;return typeof m=="number"&&typeof g=="number"&&(b=parseFloat((g-m).toFixed(2))),{metricLabel:l.label,unit:l.unit,fromValue:m??"N/A",toValue:g??"N/A",difference:b}})}editEntry(r){let e=this.measurementHistory.find(t=>t.date===r);if(!e){this.toastService.error(this.translate.instant("measurementHistory.toasts.entryNotFound"));return}this.entryForm.setValue({date:e.date,weight:e.weight??null,waist:e.waist??null,neck:e.neck??null,chest:e.chest??null,hips:e.hips??null,rightArm:e.rightArm??null,notes:e.notes??""}),this.isAddEntryModalOpen=!0}confirmDeleteEntry(r){return C(this,null,function*(){let e=yield this.alertService.showConfirm(this.translate.instant("measurementHistory.alerts.deleteTitle"),this.translate.instant("measurementHistory.alerts.deleteMessage",{date:r}));if(e&&e.data)try{this.userProfileService.deleteMeasurementEntry(r),yield this.imageStorageService.deleteImage(r),this.toastService.success(this.translate.instant("measurementHistory.toasts.entryDeleted")),yield this.loadHistory()}catch(t){console.error("Failed to delete entry:",t),this.toastService.error(this.translate.instant("measurementHistory.toasts.deleteError"))}})}comparisonSliderValue=50;comparisonMode="slider";onSliderChange(r){let e=r.target.value;this.comparisonSliderValue=Number(e)}toggleComparisonMode(){this.comparisonMode=this.comparisonMode==="slider"?"side-by-side":"slider"}static \u0275fac=function(e){return new(e||s)};static \u0275cmp=J({type:s,selectors:[["app-measurement-history"]],decls:34,vars:27,consts:[["noData",""],[1,"container","mx-auto","text-gray-800","dark:text-gray-200"],[1,"flex","justify-between","items-center","pb-4","border-b","border-gray-200","dark:border-gray-700","mb-4"],[1,"text-2xl","font-bold"],[1,"px-4","py-2","bg-primary","hover:bg-primary-dark","text-white","font-semibold","rounded-md","shadow-sm","transition-colors","inline-flex","items-center","text-sm",3,"click"],["name","plus-circle"],[1,"bg-white","dark:bg-gray-800","p-4","rounded-md","shadow-md","mb-6"],[1,"font-semibold","mb-2"],[1,"flex","flex-col","sm:flex-row","gap-4","items-center"],[1,"flex-1","p-2","border","dark:border-gray-600","rounded-md","dark:bg-gray-700",3,"change"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"px-4","py-2","bg-indigo-500","hover:bg-indigo-600","text-white","rounded-md","disabled:opacity-50","flex","items-center",3,"click","disabled"],["name","magnifier",1,"h-6","w-6","mr-1",3,"strokeWidth"],[4,"ngIf","ngIfElse"],["class","fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 p-4",3,"click",4,"ngIf"],["class","fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4 text-gray-800 dark:text-gray-200 backdrop-blur-sm animate-fade-in",4,"ngIf"],["class","fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 p-4 animate-fade-in text-gray-800 dark:text-gray-200",4,"ngIf"],[3,"value"],[1,"bg-white","dark:bg-gray-800","p-4","sm:p-6","rounded-md","shadow-md","mb-6"],[1,"text-xl","font-semibold","mb-4"],[1,"mb-4"],[1,"p-2","border","dark:border-gray-600","rounded-md","dark:bg-gray-700",3,"change"],[1,"w-full","h-[300px]"],[3,"results","scheme","xAxis","yAxis","legend","showXAxisLabel","showYAxisLabel","xAxisLabel","yAxisLabel","autoScale","referenceLines"],[1,"bg-white","dark:bg-gray-800","p-4","sm:p-6","rounded-md","shadow-md"],["class","border-b dark:border-gray-700 py-4 last:border-b-0",4,"ngFor","ngForOf"],[1,"border-b","dark:border-gray-700","py-4","last:border-b-0"],[1,"grid","grid-cols-1","sm:grid-cols-3","gap-4","items-start"],[1,"flex","flex-col","items-center"],[1,"font-medium","text-lg","mb-2"],["alt","Progress photo","class","w-24 h-24 object-cover rounded-md shadow-lg cursor-pointer hover:opacity-80 transition-opacity",3,"src","click",4,"ngIf"],[1,"cursor-pointer","text-sm","text-primary","dark:text-primary-dark","hover:underline","mt-2"],["type","file","accept","image/*",1,"hidden",3,"change"],[1,"p-1","rounded-full","text-gray-400","hover:bg-red-100","hover:text-red-500","dark:hover:bg-red-900/50","transition-colors",3,"click","title"],["name","trash",1,"w-4","h-4"],["name","edit",1,"w-4","h-4"],[1,"text-sm","grid","grid-cols-2","gap-x-4","gap-y-1"],[1,"font-semibold","text-sm"],[1,"w-full","p-2","mt-1","border","rounded-md","dark:bg-gray-700","dark:border-gray-600","h-24",3,"input","value","placeholder"],["alt","Progress photo",1,"w-24","h-24","object-cover","rounded-md","shadow-lg","cursor-pointer","hover:opacity-80","transition-opacity",3,"click","src"],[1,"text-center","bg-white","dark:bg-gray-800","p-10","rounded-md","shadow-md"],[1,"text-lg"],[1,"text-gray-500","dark:text-gray-400","mt-2"],[1,"fixed","inset-0","bg-black","bg-opacity-80","flex","items-center","justify-center","z-50","p-4",3,"click"],[1,"max-w-full","max-h-full","object-contain",3,"src"],[1,"fixed","inset-0","bg-black","bg-opacity-60","flex","items-center","justify-center","z-50","p-4","text-gray-800","dark:text-gray-200","backdrop-blur-sm","animate-fade-in"],[1,"bg-white","dark:bg-gray-800","rounded-lg","shadow-xl","p-6","w-full","max-w-md"],[1,"text-xl","font-bold","mb-4"],[3,"ngSubmit","formGroup"],["for","date",1,"block","text-xs","font-medium","text-gray-600","dark:text-gray-400"],["type","date","formControlName","date","id","date",1,"w-full","p-2","border","rounded","mb-4","dark:bg-gray-700","dark:border-gray-600"],[1,"grid","grid-cols-2","gap-4","mb-4"],["for","weight",1,"block","text-xs","font-medium","text-gray-600","dark:text-gray-400"],["type","number","formControlName","weight","id","weight",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200","text-lg",3,"placeholder"],["for","chest",1,"block","text-xs","font-medium","text-gray-600","dark:text-gray-400"],["type","number","formControlName","chest","id","chest",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200","text-lg",3,"placeholder"],["for","waist",1,"block","text-xs","font-medium","text-gray-600","dark:text-gray-400"],["type","number","formControlName","waist","id","waist",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200","text-lg",3,"placeholder"],["for","hips",1,"block","text-xs","font-medium","text-gray-600","dark:text-gray-400"],["type","number","formControlName","hips","id","hips",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200","text-lg",3,"placeholder"],["for","neck",1,"block","text-xs","font-medium","text-gray-600","dark:text-gray-400"],["type","number","formControlName","neck","id","neck",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200","text-lg",3,"placeholder"],["for","rightArm",1,"block","text-xs","font-medium","text-gray-600","dark:text-gray-400"],["type","number","formControlName","rightArm","id","rightArm",1,"mt-1","block","w-full","sm:w-1/3","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200","text-lg",3,"placeholder"],["formControlName","notes",1,"w-full","p-2","border","rounded","mb-4","h-24","dark:bg-gray-700","dark:border-gray-600",3,"placeholder"],[1,"flex","justify-end","gap-4","text-white"],["type","button",1,"px-4","py-2","rounded","flex","items-center",3,"click"],["name","cancel",1,"h-6","w-6","text-white"],["type","submit",1,"px-4","py-2","bg-primary","text-white","rounded","disabled:opacity-50","flex","items-center",3,"disabled"],["name","save",1,"h-7","w-7","mr-1"],[1,"fixed","inset-0","bg-black","bg-opacity-70","flex","items-center","justify-center","z-50","p-4","animate-fade-in","text-gray-800","dark:text-gray-200"],[1,"bg-white","dark:bg-gray-800","rounded-lg","shadow-xl","p-4","sm:p-6","w-full","max-w-3xl","max-h-[90vh]","overflow-y-auto"],[1,"flex","flex-col","sm:flex-row","justify-between","items-start","sm:items-center","mb-4"],[1,"flex","items-center","justify-between","w-full","sm:w-auto","mb-2","sm:mb-0"],[1,"text-xl","sm:text-2xl","font-bold","mb-2","sm:mb-0"],[1,"text-gray-500","hover:text-gray-800","dark:hover:text-gray-200",3,"click"],["name","cancel",1,"h-6","w-6"],[1,"flex","items-center","gap-4"],[1,"px-3","py-1.5","text-xs","font-medium","text-gray-600","dark:text-gray-300","bg-gray-100","dark:bg-gray-700","rounded-md","hover:bg-gray-200","dark:hover:bg-gray-600","transition-colors","flex","items-center",3,"click"],["name","change",1,"w-4","h-4","mr-1"],[4,"ngIf"],["class","grid grid-cols-2 gap-4 mb-6",4,"ngIf"],["class","mb-6",4,"ngIf"],[1,"overflow-x-auto"],[1,"w-full","text-sm","text-left"],[1,"text-xs","text-gray-700","uppercase","bg-gray-50","dark:bg-gray-700","dark:text-gray-400","rounded-lg"],["scope","col",1,"px-2","py-3","rounded-l-lg"],["scope","col",1,"px-2","py-3","text-center"],["scope","col",1,"px-2","py-3","text-center","rounded-r-lg"],["class","border-b dark:border-gray-700",4,"ngFor","ngForOf"],[1,"flex","justify-end","mt-6"],[1,"px-5","py-2.5","rounded-lg","bg-gray-200","hover:bg-gray-300","dark:bg-gray-600","dark:hover:bg-gray-700","text-sm","font-medium","flex","items-center",3,"click"],["name","cancel"],[1,"grid","grid-cols-2","gap-4","mb-6"],[1,"text-center"],["alt","Start photo",1,"w-full","h-48","sm:h-64","object-cover","rounded-md","bg-gray-200","dark:bg-gray-700",3,"src"],[1,"mt-2","font-semibold","text-sm"],["alt","End photo",1,"w-full","h-48","sm:h-64","object-cover","rounded-md","bg-gray-200","dark:bg-gray-700",3,"src"],[1,"mb-6"],[1,"font-semibold","text-center","mb-2"],[1,"relative","w-full","aspect-[4/3]","rounded-md","overflow-hidden","select-none","bg-gray-200","dark:bg-gray-700"],[1,"absolute","inset-0","z-10"],["alt","Start photo",1,"w-full","h-full","object-cover","max-w-none",3,"src"],[1,"absolute","top-2","left-2","bg-black/50","text-white","text-xs","font-bold","py-1","px-2","rounded-full","z-10"],[1,"absolute","inset-0","z-20",3,"ngStyle"],["alt","End photo",1,"w-full","h-full","object-cover","max-w-none",3,"src"],[1,"absolute","top-2","right-2","bg-black/50","text-white","text-xs","font-bold","py-1","px-2","rounded-full","z-10"],[1,"absolute","top-0","bottom-0","bg-white","w-1","pointer-events-none","z-30",3,"ngStyle"],[1,"absolute","top-1/2","-translate-y-1/2","-translate-x-1/2","bg-white","border-2","border-primary","rounded-full","h-8","w-8","flex","items-center","justify-center","shadow-lg"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-primary"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","3","d","M8 9l4-4 4 4m0 6l-4 4-4-4"],["type","range","min","0","max","100",1,"absolute","inset-0","w-full","h-full","cursor-ew-resize","appearance-none","bg-transparent","z-40",2,"--thumb-color","transparent",3,"input","value"],[1,"border-b","dark:border-gray-700"],["scope","row",1,"px-2","py-4","font-medium","whitespace-nowrap"],[1,"px-2","py-4","text-center"],[1,"px-2","py-4","text-center","font-bold",3,"ngClass"]],template:function(e,t){if(e&1){let l=F();a(0,"div",1)(1,"header",2)(2,"h1",3),o(3),p(4,"translate"),n(),a(5,"button",4),h("click",function(){return B(l),E(t.openAddEntryModal())}),v(6,"app-icon",5),o(7),p(8,"translate"),n()(),a(9,"section",6)(10,"h3",7),o(11),p(12,"translate"),n(),a(13,"div",8)(14,"select",9),h("change",function(g){return B(l),E(t.onCompareFromChange(g))}),a(15,"option",10),o(16),p(17,"translate"),n(),w(18,Fi,3,5,"option",11),n(),a(19,"select",9),h("change",function(g){return B(l),E(t.onCompareToChange(g))}),a(20,"option",10),o(21),p(22,"translate"),n(),w(23,Di,3,5,"option",11),n(),a(24,"button",12),h("click",function(){return B(l),E(t.openCompareModal(t.compareFromDate,t.compareToDate))}),v(25,"app-icon",13),o(26),p(27,"translate"),n()()(),w(28,Ni,15,19,"div",14)(29,Vi,7,6,"ng-template",null,0,Q),n(),w(31,Hi,2,1,"div",15)(32,Li,52,59,"div",16)(33,Xi,39,25,"div",17)}if(e&2){let l=U(30);i(3),u(d(4,15,"measurementHistory.title")),i(4),f(" ",d(8,17,"measurementHistory.addPastEntry")," "),i(4),u(d(12,19,"measurementHistory.comparisonTitle")),i(5),u(d(17,21,"measurementHistory.selectStartDate")),i(2),c("ngForOf",t.measurementHistory),i(3),u(d(22,23,"measurementHistory.selectEndDate")),i(2),c("ngForOf",t.measurementHistory),i(),c("disabled",!t.compareFromDate||!t.compareToDate),i(),c("strokeWidth",2),i(),f(" ",d(27,25,"measurementHistory.compare")," "),i(2),c("ngIf",t.measurementHistory.length>0)("ngIfElse",l),i(3),c("ngIf",t.fullScreenImageUrl),i(),c("ngIf",t.isAddEntryModalOpen),i(),c("ngIf",t.comparisonData)}},dependencies:[te,Se,Z,ee,st,Mt,It,Ue,Ie,De,Oe,Ee,Me,Pe,Ce,Te,Fe,ie,ne,_e,re],encapsulation:2})};var sa=[{path:"",component:$e,title:"Profile & Settings"},{path:"personal-bests",component:ze,title:"Personal Bests"},{path:"measurements",component:Ye,title:"Body Measurements"}];export{sa as PROFILE_SETTINGS_ROUTES};
