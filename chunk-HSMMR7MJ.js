import{M as a,k as o}from"./chunk-GNSBRKUC.js";var s=class e{loadingCount=0;isLoading=new o(!1);loadingMessage=new o(null);activeTimeoutId=null;loading$=this.isLoading.asObservable();message$=this.loadingMessage.asObservable();constructor(){}show(t=null,i=6e3,n="Sembra che ci siano problemi di connessione..."){this.loadingCount++,this.loadingCount===1&&this.isLoading.next(!0),this.loadingMessage.next(t),this.activeTimeoutId&&(clearTimeout(this.activeTimeoutId),this.activeTimeoutId=null),typeof i=="number"&&i>0&&typeof n=="string"&&(this.activeTimeoutId=setTimeout(()=>{this.isLoading.value&&this.loadingMessage.next(t+" ("+n+")"),this.activeTimeoutId=null},i))}hide(){this.loadingCount>0&&this.loadingCount--,this.loadingCount===0&&(this.isLoading.next(!1),this.loadingMessage.next(null),this.activeTimeoutId&&(clearTimeout(this.activeTimeoutId),this.activeTimeoutId=null))}reset(){this.loadingCount=0,this.isLoading.next(!1),this.loadingMessage.next(null),this.activeTimeoutId&&(clearTimeout(this.activeTimeoutId),this.activeTimeoutId=null)}static \u0275fac=function(i){return new(i||e)};static \u0275prov=a({token:e,factory:e.\u0275fac,providedIn:"root"})};export{s as a};
