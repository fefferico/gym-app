import{B as Be,D as We,F as De,w as Ne,x as Ve}from"./chunk-WLX6ZW54.js";import{a as H}from"./chunk-R4NHFADC.js";import{a as Ae}from"./chunk-JVHWKQWW.js";import{a as $}from"./chunk-C44MBSHB.js";import{a as Le,q as Oe}from"./chunk-INNVEGQN.js";import{$c as j,Ac as c,Bc as ve,Cc as he,E as z,F as oe,Gc as _e,Ha as s,Hc as Ce,Ia as o,Ic as ke,Ja as n,Ka as p,Kb as B,Lb as W,Lc as we,Mb as pe,Mc as Ee,N as v,Nb as ce,Nc as Se,Oa as S,Oc as Te,Pa as T,Pc as Fe,Qc as Pe,Ra as _,Rb as ue,Rc as Me,S as y,Sa as x,T as f,Ta as d,U as O,V as A,Wb as D,Wc as qe,Xb as ge,Yc as Ie,Z as k,_a as Q,a as te,ab as me,ad as Ge,ca as ae,cb as l,db as C,eb as b,ec as ye,fb as Z,ga as le,gb as se,gc as R,hc as fe,i as ie,ia as a,lb as de,mc as U,n as ne,nb as J,nc as P,qa as N,qc as F,rc as G,sb as q,sc as M,tb as I,va as g,wb as X,yc as xe,z as re,zb as V,zc as be}from"./chunk-ATAZJIH6.js";import{a as w,b as E,g as ee}from"./chunk-GAL4ENT6.js";function $e(r,t){if(r&1&&(o(0,"option",24),l(1),n()),r&2){let e=t.$implicit;s("value",e),a(),C(e)}}function He(r,t){if(r&1&&(o(0,"div")(1,"p")(2,"strong"),l(3,"Weight:"),n(),l(4),n()()),r&2){let e=d().$implicit,i=d(3);a(4),Z(" ",e.weight," ",i.unitService.getWeightUnitSuffix())}}function Ye(r,t){if(r&1&&(o(0,"div")(1,"p")(2,"strong"),l(3,"Range:"),n(),l(4),n()()),r&2){let e=d().$implicit,i=d(3);a(4),se(" ",e.minweight," - ",e.maxweight," ",i.unitService.getWeightUnitSuffix())}}function Ke(r,t){if(r&1&&(o(0,"div")(1,"p")(2,"strong"),l(3,"Weight:"),n(),l(4),n()()),r&2){let e=d().$implicit,i=d(3);a(4),Z(" ",e.weight," ",i.unitService.getWeightUnitSuffix())}}function ze(r,t){if(r&1&&(o(0,"div")(1,"p")(2,"strong"),l(3,"Type:"),n(),l(4),n()()),r&2){let e=d().$implicit;a(4),b(" ",e.bandType)}}function Qe(r,t){if(r&1&&(o(0,"div")(1,"p")(2,"strong"),l(3),n(),l(4),n()()),r&2){let e=t.$implicit;a(3),b("",e.key,":"),a(),b(" ",e.value)}}function Ze(r,t){if(r&1&&(o(0,"div"),g(1,Qe,5,2,"div",39),n()),r&2){let e=d().$implicit;a(),s("ngForOf",e.properties)}}function Je(r,t){if(r&1){let e=_();o(0,"app-action-menu",40),x("itemClick",function(m){y(e);let u=d(4);return f(u.handleActionMenuItemClick(m))})("closeMenu",function(){y(e);let m=d(4);return f(m.onCloseActionMenu())}),n()}if(r&2){let e=d().$implicit,i=d(3);s("modalTitle","")("displayMode",i.menuModeDropdown?"dropdown":"modal")("gridClass"," grid grid-cols-2 ")("items",i.getGymActionItems(e.id,i.menuModeDropdown?"dropdown":"modal"))("isVisible",i.areActionsVisible(e.id))}}function Xe(r,t){if(r&1){let e=_();o(0,"app-action-menu",41),x("itemClick",function(m){y(e);let u=d(4);return f(u.handleActionMenuItemClick(m))})("closeMenu",function(){y(e);let m=d(4);return f(m.onCloseActionMenu())}),n()}if(r&2){let e=d().$implicit,i=d(3);s("items",i.getGymActionItems(e.id,"compact"))("isVisible",i.areActionsVisible(e.id))}}function et(r,t){if(r&1){let e=_();o(0,"div",28),x("click",function(){let m=y(e).$implicit,u=d(3);return f(u.navigateToForm(m.id))}),o(1,"div")(2,"h2",29),l(3),n(),o(4,"p",30),l(5),n(),o(6,"div",31)(7,"p")(8,"strong"),l(9,"Quantity:"),n(),l(10),n(),g(11,He,5,2,"div",32)(12,Ye,5,3,"div",32)(13,Ke,5,2,"div",32)(14,ze,5,1,"div",32)(15,Ze,2,1,"div",32),n()(),o(16,"div",33)(17,"div",34)(18,"button",35),x("click",function(m){let u=y(e).$implicit,h=d(3);return f(h.toggleActions(u.id,m))}),p(19,"app-icon",36),n(),g(20,Je,1,5,"app-action-menu",37),n()(),g(21,Xe,1,2,"app-action-menu",38),n()}if(r&2){let e=t.$implicit,i=d(3);a(3),C(e.name),a(2),b(" ",i.isCustom(e)?e.customCategoryName:e.category," "),a(5),b(" ",e.quantity),a(),s("ngIf",i.isFixedWeight(e)),a(),s("ngIf",i.isAdjustableWeight(e)),a(),s("ngIf",i.isWeightPlate(e)),a(),s("ngIf",i.isBand(e)),a(),s("ngIf",i.isCustom(e)),a(5),s("ngIf",i.areActionsVisible(e.id)&&(i.menuModeDropdown||i.menuModeModal)),a(),s("ngIf",i.areActionsVisible(e.id)&&i.menuModeCompact)}}function tt(r,t){if(r&1&&(o(0,"div",26),g(1,et,22,10,"div",27),n()),r&2){let e=d(2);a(),s("ngForOf",e.filteredEquipment())("ngForTrackBy",e.trackById)}}function it(r,t){if(r&1&&(o(0,"div"),g(1,tt,2,2,"div",25),n()),r&2){let e=d(),i=Q(21);a(),s("ngIf",e.filteredEquipment().length>0)("ngIfElse",i)}}function nt(r,t){if(r&1){let e=_();o(0,"div",42)(1,"h3",43),l(2,"Your Gym is Empty!"),n(),o(3,"p",44),l(4,"Start by adding the first piece of your equipment."),n(),o(5,"button",45),x("click",function(){y(e);let m=d();return f(m.navigateToForm())}),p(6,"app-icon",6),l(7," Add First Item "),n()()}}function rt(r,t){r&1&&(o(0,"div",46)(1,"h3",43),l(2,"No Matches Found"),n(),o(3,"p",47),l(4,"Try adjusting your filters to find your equipment."),n()())}function ot(r,t){if(r&1){let e=_();o(0,"button",48),x("shortPress",function(){y(e);let m=d();return f(m.scrollToTop())}),O(),o(1,"svg",49),p(2,"path",50),n(),A(),o(3,"span",22),l(4,"Back to Top"),n()()}}function at(r,t){if(r&1){let e=_();o(0,"div",51)(1,"div",52)(2,"span",53),l(3," CREATE EQUIPMENT "),n(),o(4,"button",54),x("click",function(){y(e);let m=d();return f(m.navigateToForm())}),O(),o(5,"svg",55),p(6,"path",56),n(),A(),o(7,"span",22),l(8,"CREATE EQUIPMENT"),n()()()()}r&2&&s("@fabSlideUp",void 0)}var Y=class r{router=v(R);personalGymService=v(H);unitService=v($);subscriptionService=v(Oe);platformId=v(ae);appSettingsService=v(Le);allEquipment=k([]);menuModeDropdown=!1;menuModeCompact=!1;menuModeModal=!1;searchTerm=k("");selectedCategory=k(null);categories=["Dumbbell","Kettlebell","Plate","Barbell","Band","Machine","Accessory","Bag","Macebell","Club","Cardio","Custom"];filteredEquipment=V(()=>{let t=this.allEquipment(),e=this.searchTerm().toLowerCase(),i=this.selectedCategory();return i&&(t=t.filter(m=>m.category===i)),e&&(t=t.filter(m=>m.name.toLowerCase().includes(e)||m.brand&&m.brand.toLowerCase().includes(e))),t});ngOnInit(){this.personalGymService.getAllEquipment().subscribe(t=>{this.allEquipment.set(t)}),this.subscriptionService.canAccess("personal_gym")||this.subscriptionService.showUpgradeModal().then(()=>{this.router.navigate(["profile"])}),this.menuModeDropdown=this.appSettingsService.isMenuModeDropdown(),this.menuModeCompact=this.appSettingsService.isMenuModeCompact(),this.menuModeModal=this.appSettingsService.isMenuModeModal()}onSearchChange(t){this.searchTerm.set(t.target.value)}onCategoryChange(t){let e=t.target.value;this.selectedCategory.set(e)}clearFilters(){this.searchTerm.set(""),this.selectedCategory.set(null);let t=document.getElementById("search-term");t&&(t.value="");let e=document.getElementById("category-filter");e&&(e.value="")}trackById(t,e){return e.id}navigateToForm(t){let e=t?["/personal-gym/edit",t]:["/personal-gym/new"];this.router.navigate(e)}deleteEquipment(t,e){return ee(this,null,function*(){e?.stopPropagation(),yield this.personalGymService.deleteEquipment(t)})}isFixedWeight(t){return"weightType"in t&&t.weightType==="fixed"}isAdjustableWeight(t){return"weightType"in t&&t.weightType==="adjustable"}isWeightPlate(t){return t.category==="Plate"}isBand(t){return t.category==="Band"}isCustom(t){return t.category==="Custom"}scrollToTop(){ge(this.platformId)&&window.scrollTo({top:0,behavior:"smooth"})}isFabActionsOpen=k(!1);isTouchDevice=!1;handleFabClick(){this.isFabActionsOpen.update(t=>!t)}handleFabMouseEnter(){this.isTouchDevice||this.isFabActionsOpen.set(!0)}handleFabMouseLeave(){this.isTouchDevice||this.isFabActionsOpen.set(!1)}showBackToTopButton=k(!1);onWindowScroll(){let t=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;this.showBackToTopButton.set(t>400)}activeEquipmentIdActions=k(null);toggleActions(t,e){e.stopPropagation(),this.activeEquipmentIdActions.update(i=>i===t?null:t)}areActionsVisible(t){return this.activeEquipmentIdActions()===t}onCloseActionMenu(){this.activeEquipmentIdActions.set(null)}getGymActionItems(t,e){let i="rounded text-left px-3 py-1.5 sm:px-4 sm:py-2 font-medium text-gray-600 dark:text-gray-300 hover:bg-primary flex items-center text-sm hover:text-white dark:hover:text-gray-100 dark:hover:text-white",m="rounded text-left px-3 py-1.5 sm:px-4 sm:py-2 font-medium text-gray-600 dark:text-gray-300 hover:bg-red-600 flex items-center text-sm hover:text-gray-100 hover:animate-pulse",u=this.allEquipment().find(K=>K.id===t),h=[E(w({},Be),{data:{equipmentId:t}}),E(w({},We),{data:{equipmentId:t}})];return u?.isHidden?h.push(E(w({},Ve),{data:{equipmentId:t}})):h.push(E(w({},Ne),{data:{equipmentId:t}})),h.push(E(w({},De),{data:{equipmentId:t}})),h}handleActionMenuItemClick(t,e){let i=t.data?.equipmentId;if(i){switch(t.actionKey){case"view":this.navigateToForm(i);break;case"edit":this.navigateToForm(i);break;case"delete":this.deleteEquipment(i);break;case"hide":this.hideEquipment(i);break;case"unhide":this.unhideEquipment(i);break}this.activeEquipmentIdActions.set(null)}}hideEquipment(t){this.personalGymService.hideEquipment(t).subscribe(),this.activeEquipmentIdActions.set(null)}unhideEquipment(t){this.personalGymService.unhideEquipment(t).subscribe(),this.activeEquipmentIdActions.set(null)}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=N({type:r,selectors:[["app-personal-gym-list"]],hostBindings:function(e,i){e&1&&x("scroll",function(){return i.onWindowScroll()},le)},decls:31,vars:9,consts:[["noEquipmentState",""],["noFilterResultsState",""],[1,"container","mx-auto","p-2","sm:p-4"],[1,"flex","justify-between","items-center","pb-4","border-b","dark:border-gray-700","mb-4"],[1,"text-2xl","font-bold","text-gray-800","dark:text-gray-200"],[1,"flex","items-center","bg-primary","hover:bg-primary-dark","text-white","font-semibold","py-2","px-4","rounded-md","shadow-sm",3,"click"],["name","plus-circle",1,"w-6","h-6","mr-1"],[1,"mb-6","p-4","bg-white","dark:bg-gray-700","rounded-md","shadow"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-4"],["type","text","id","search-term","placeholder","Search by name or brand...",1,"block","w-full","p-2","border","rounded-md","dark:bg-gray-600","dark:border-gray-500","dark:text-gray-200",3,"input","value"],["id","category-filter",1,"block","w-full","p-2","border","rounded-md","dark:bg-gray-600","dark:border-gray-500","dark:text-gray-200",3,"change","value"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"px-4","py-2","bg-gray-200","dark:bg-gray-600","text-gray-700","dark:text-gray-200","rounded-md","hover:bg-gray-300","dark:hover:bg-gray-500","inline-flex","items-center","justify-center",3,"click"],["name","trash",1,"h-6","w-6","mr-1"],[4,"ngIf","ngIfElse"],[1,"fixed","bottom-20","right-6","z-40","flex","flex-col","items-center","gap-4"],["appPress","","type","button","class","bg-primary dark:bg-primary text-white rounded-full p-3 shadow-lg hover:bg-primary-dark dark:hover:bg-primary-light focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-focus dark:focus:ring-offset-gray-900 transition-opacity animate-fade-in",3,"shortPress",4,"ngIf"],[1,"flex","flex-col-reverse","items-center","gap-4",3,"mouseenter","mouseleave"],["appPress","","type","button",1,"flex","h-14","w-14","items-center","justify-center","rounded-full","bg-primary","text-white","shadow-xl","transition-all","duration-300","hover:bg-primary-dark","hover:scale-105","focus:outline-none","focus:ring-2","focus:ring-primary-focus","focus:ring-offset-2","dark:ring-offset-gray-900",3,"shortPress"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2.5",1,"h-8","w-8","transition-transform","duration-300"],["stroke-linecap","round","stroke-linejoin","round","d","M12 6v6m0 0v6m0-6h6m-6 0H6"],[1,"sr-only"],["class","flex flex-col items-center gap-4",4,"ngIf"],[3,"value"],["class","grid grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-4",4,"ngIf","ngIfElse"],[1,"grid","grid-cols-2","md:grid-cols-2","lg:grid-cols-3","gap-4"],["class","bg-white dark:bg-gray-800 rounded-lg shadow-md hover:shadow-xl transition-shadow cursor-pointer p-4 flex flex-col justify-between relative",3,"click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"bg-white","dark:bg-gray-800","rounded-lg","shadow-md","hover:shadow-xl","transition-shadow","cursor-pointer","p-4","flex","flex-col","justify-between","relative",3,"click"],[1,"text-lg","font-bold","text-primary","dark:text-primary-light"],[1,"text-sm","text-gray-500","dark:text-gray-400"],[1,"text-sm","text-gray-600","dark:text-gray-300","mt-2"],[4,"ngIf"],[1,"absolute","top-2","right-2"],[1,"relative"],[1,"text-gray-500","dark:text-gray-400","hover:bg-gray-200","dark:hover:bg-gray-500","rounded-full","focus:outline-none","flex","items-center",3,"click"],["name","menu-action",1,"h-10","w-10"],["class","action-menu-container",3,"modalTitle","displayMode","gridClass","items","isVisible","itemClick","closeMenu",4,"ngIf"],["displayMode","compact",3,"items","isVisible","itemClick","closeMenu",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"action-menu-container",3,"itemClick","closeMenu","modalTitle","displayMode","gridClass","items","isVisible"],["displayMode","compact",3,"itemClick","closeMenu","items","isVisible"],[1,"text-center","py-12","px-6","bg-white","dark:bg-gray-700","rounded-md","shadow-md","justify-center"],[1,"text-xl","font-semibold","text-gray-700","dark:text-gray-300"],[1,"text-gray-500","dark:text-gray-400","mt-2","mb-6"],[1,"bg-primary","hover:bg-primary-dark","text-white","font-semibold","py-2","px-6","rounded-md","inline-flex","items-center",3,"click"],[1,"text-center","py-12","px-6","bg-white","dark:bg-gray-700","rounded-md","shadow-md"],[1,"text-gray-500","dark:text-gray-400","mt-2"],["appPress","","type","button",1,"bg-primary","dark:bg-primary","text-white","rounded-full","p-3","shadow-lg","hover:bg-primary-dark","dark:hover:bg-primary-light","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-primary-focus","dark:focus:ring-offset-gray-900","transition-opacity","animate-fade-in",3,"shortPress"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","2.5","stroke","currentColor",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","d","M4.5 15.75l7.5-7.5 7.5 7.5"],[1,"flex","flex-col","items-center","gap-4"],[1,"group","relative","flex","items-center"],[1,"absolute","right-full","md:hidden","whitespace-nowrap","rounded-md","bg-blue-500","px-3","py-2","text-sm","font-semibold","text-white","group-hover:block",2,"margin-right","-10px"],["type","button",1,"flex","h-14","w-14","items-center","justify-center","rounded-full","bg-blue-500","text-white","shadow-lg","transition-transform","hover:scale-110","focus:outline-none","focus:ring-2","focus:ring-blue-400","focus:ring-offset-2","dark:ring-offset-gray-900",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"h-7","w-7"],["d","M10.75 4.75a.75.75 0 0 0-1.5 0v4.5h-4.5a.75.75 0 0 0 0 1.5h4.5v4.5a.75.75 0 0 0 1.5 0v-4.5h4.5a.75.75 0 0 0 0-1.5h-4.5v-4.5Z"]],template:function(e,i){if(e&1){let m=_();o(0,"div",2)(1,"header",3)(2,"h1",4),l(3,"My Personal Gym"),n(),o(4,"button",5),x("click",function(){return y(m),f(i.navigateToForm())}),p(5,"app-icon",6),l(6," Add Equipment "),n()(),o(7,"section",7)(8,"div",8)(9,"input",9),x("input",function(h){return y(m),f(i.onSearchChange(h))}),n(),o(10,"select",10),x("change",function(h){return y(m),f(i.onCategoryChange(h))}),o(11,"option",11),l(12,"All Categories"),n(),g(13,$e,2,2,"option",12),n(),o(14,"button",13),x("click",function(){return y(m),f(i.clearFilters())}),p(15,"app-icon",14),l(16," Clear Filters "),n()()(),g(17,it,2,2,"div",15)(18,nt,8,0,"ng-template",null,0,X)(20,rt,5,0,"ng-template",null,1,X),n(),o(22,"div",16),g(23,ot,5,0,"button",17),o(24,"div",18),x("mouseenter",function(){return y(m),f(i.handleFabMouseEnter())})("mouseleave",function(){return y(m),f(i.handleFabMouseLeave())}),o(25,"button",19),x("shortPress",function(){return y(m),f(i.handleFabClick())}),O(),o(26,"svg",20),p(27,"path",21),n(),A(),o(28,"span",22),l(29,"Open creation menu"),n()(),g(30,at,9,1,"div",23),n()()}if(e&2){let m=Q(19);a(9),s("value",i.searchTerm()),a(),s("value",i.selectedCategory()||""),a(3),s("ngForOf",i.categories),a(4),s("ngIf",i.allEquipment().length>0)("ngIfElse",m),a(6),s("ngIf",i.showBackToTopButton()),a(3),me("rotate-45",i.isFabActionsOpen()),a(4),s("ngIf",i.isFabActionsOpen())}},dependencies:[D,B,W,j,Ae],encapsulation:2,data:{animation:[U("fabSlideUp",[M(":enter",[F({opacity:0,transform:"translateY(200%)"}),P("250ms ease-out",F({opacity:1,transform:"translateY(0)"}))]),M(":leave",[P("200ms ease-in",F({opacity:0,transform:"translateY(100%)"}))])]),U("slideInOutActions",[G("void",F({height:"0px",opacity:0,overflow:"hidden",paddingTop:"0",paddingBottom:"0",marginTop:"0",marginBottom:"0"})),G("*",F({height:"*",opacity:1,paddingTop:"0.5rem",paddingBottom:"0.5rem"})),M("void <=> *",P("200ms ease-in-out"))]),U("dropdownMenu",[G("void",F({opacity:0,transform:"scale(0.75) translateY(-10px)",transformOrigin:"top right"})),G("*",F({opacity:1,transform:"scale(1) translateY(0)",transformOrigin:"top right"})),M("void => *",[P("150ms cubic-bezier(0.25, 0.8, 0.25, 1)")]),M("* => void",[P("100ms cubic-bezier(0.25, 0.8, 0.25, 1)")])])]}})};var lt=()=>["/personal-gym"],mt=()=>["Dumbbell","Kettlebell","Macebell","Club"];function st(r,t){if(r&1&&(o(0,"option",26),l(1),n()),r&2){let e=t.$implicit;s("value",e),a(),C(e)}}function dt(r,t){if(r&1&&(o(0,"label",32),p(1,"input",33),o(2,"span",34),l(3),n()()),r&2){let e=t.$implicit;a(),s("value",e),a(2),C(e)}}function pt(r,t){if(r&1&&(o(0,"div")(1,"label",35),l(2),n(),p(3,"input",36),n()),r&2){let e=d(2);a(2),b("Weight (",e.unitService.getWeightUnitSuffix(),")")}}function ct(r,t){if(r&1&&(o(0,"div",37)(1,"div")(2,"label",38),l(3),n(),p(4,"input",39),n(),o(5,"div")(6,"label",40),l(7),n(),p(8,"input",41),n(),o(9,"div")(10,"label",42),l(11),n(),p(12,"input",43),n()()),r&2){let e=d(2);a(3),b("Min (",e.unitService.getWeightUnitSuffix(),")"),a(4),b("Max (",e.unitService.getWeightUnitSuffix(),")"),a(4),b("Step (",e.unitService.getWeightUnitSuffix(),")")}}function ut(r,t){if(r&1&&(S(0),o(1,"div",27)(2,"label",28),l(3,"Weight Type"),n(),o(4,"div",29),g(5,dt,4,2,"label",30),n(),g(6,pt,4,1,"div",19)(7,ct,13,3,"div",31),n(),T()),r&2){let e,i,m=d();a(5),s("ngForOf",m.weightTypes),a(),s("ngIf",((e=m.equipmentForm.get("weightType"))==null?null:e.value)==="fixed"),a(),s("ngIf",((i=m.equipmentForm.get("weightType"))==null?null:i.value)==="adjustable")}}function gt(r,t){r&1&&(o(0,"span",55),l(1,"(Automatic)"),n())}function yt(r,t){r&1&&(o(0,"span",55),l(1,"(Custom)"),n())}function ft(r,t){if(r&1&&(S(0),o(1,"div",44)(2,"div")(3,"label",35),l(4),n(),p(5,"input",36),n(),o(6,"div",45)(7,"label",46),l(8,"Is Olympic Plate?"),n(),o(9,"label",47),p(10,"input",48)(11,"span",49),n()(),o(12,"div")(13,"label",50),l(14," Color "),g(15,gt,2,0,"span",51)(16,yt,2,0,"span",51),n(),o(17,"div",52),p(18,"input",53)(19,"input",54),n()()(),T()),r&2){let e,i,m=d();a(4),b("Weight (",m.unitService.getWeightUnitSuffix(),")"),a(11),s("ngIf",(e=m.equipmentForm.get("isOlympic"))==null?null:e.value),a(),s("ngIf",!((i=m.equipmentForm.get("isOlympic"))!=null&&i.value))}}function xt(r,t){if(r&1&&(o(0,"option",26),l(1),q(2,"titlecase"),n()),r&2){let e=t.$implicit;s("value",e),a(),C(I(2,2,e))}}function bt(r,t){if(r&1&&(S(0),o(1,"div",56)(2,"div")(3,"label",35),l(4),n(),p(5,"input",36),n(),o(6,"div")(7,"label",57),l(8,"Bar Type"),n(),o(9,"select",58),g(10,xt,3,4,"option",10),n()()(),T()),r&2){let e=d();a(4),b("Bar Weight (",e.unitService.getWeightUnitSuffix(),")"),a(6),s("ngForOf",e.barTypes)}}function vt(r,t){if(r&1&&(o(0,"option",26),l(1),q(2,"titlecase"),n()),r&2){let e=t.$implicit;s("value",e),a(),C(I(2,2,e))}}function ht(r,t){if(r&1&&(o(0,"option",26),l(1),q(2,"titlecase"),n()),r&2){let e=t.$implicit;s("value",e),a(),C(I(2,2,e))}}function _t(r,t){if(r&1&&(S(0),o(1,"div",59)(2,"div")(3,"label",60),l(4,"Band Type"),n(),o(5,"select",61),g(6,vt,3,4,"option",10),n()(),o(7,"div")(8,"label",62),l(9,"Resistance Level"),n(),o(10,"select",63),g(11,ht,3,4,"option",10),n()(),o(12,"div")(13,"label",64),l(14),n(),p(15,"input",65),n(),o(16,"div")(17,"label",50),l(18,"Color (Optional)"),n(),p(19,"input",66),n(),o(20,"div")(21,"label",67),l(22),n(),p(23,"input",68),n()(),T()),r&2){let e=d();a(6),s("ngForOf",e.bandTypes),a(5),s("ngForOf",e.resistanceLevels),a(3),b("Resistance (",e.unitService.getWeightUnitSuffix(),", Optional)"),a(8),b("Length (",e.unitService.getMeasureUnitSuffix(),", Optional)")}}function Ct(r,t){if(r&1&&(o(0,"option",26),l(1),q(2,"titlecase"),n()),r&2){let e=t.$implicit;s("value",e),a(),C(I(2,2,e))}}function kt(r,t){if(r&1&&(S(0),o(1,"div",56)(2,"div")(3,"label",69),l(4,"Load Type"),n(),o(5,"select",70),g(6,Ct,3,4,"option",10),n()(),o(7,"div")(8,"label",71),l(9),n(),p(10,"input",72),n()(),T()),r&2){let e=d();a(6),s("ngForOf",e.machineLoadTypes),a(3),b("Max Load (",e.unitService.getWeightUnitSuffix(),", Optional)")}}function wt(r,t){if(r&1){let e=_();o(0,"div",79),p(1,"input",80)(2,"input",81),o(3,"button",82),x("click",function(){let m=y(e).index,u=d(2);return f(u.removeCustomProperty(m))}),p(4,"app-icon",83),n()()}if(r&2){let e=t.index,i=d(2);s("formGroupName",e),a(2),s("placeholder",de("Value (e.g., 10",i.unitService.getWeightUnitSuffix(),")"))}}function Et(r,t){if(r&1){let e=_();S(0),o(1,"div",27)(2,"div")(3,"label",73),l(4,"Custom Type Name"),n(),p(5,"input",74),n(),o(6,"div",75)(7,"h3",76),l(8,"Custom Properties"),n(),g(9,wt,5,3,"div",77),o(10,"button",78),x("click",function(){y(e);let m=d();return f(m.addCustomProperty())}),l(11,"+ Add Property"),n()()(),T()}if(r&2){let e=d();a(9),s("ngForOf",e.customProperties.controls)}}var L=class r{fb=v(qe);router=v(R);route=v(ye);personalGymService=v(H);toastService=v(Ge);unitService=v($);equipmentForm;isEditMode=k(!1);editingEquipmentId=null;pageTitle=V(()=>this.isEditMode()?"Edit Equipment":"Add New Equipment");subscriptions=new te;categories=["Dumbbell","Kettlebell","Plate","Barbell","Band","Machine","Accessory","Bag","Macebell","Club","Cardio","Custom"];weightTypes=["fixed","adjustable"];bandTypes=["loop","mini-loop","handled","therapy"];machineLoadTypes=["stack","plate-loaded","bodyweight"];barTypes=["olympic","standard","ez-curl","hex","swiss","custom"];resistanceLevels=["extra-light","light","medium","heavy","extra-heavy"];OLYMPIC_COLORS_KG={25:"#ff0000",20:"#0000ff",15:"#ffff00",10:"#00ff00",5:"#fafafa",2.5:"#ff0000",2:"#0000ff",1.5:"#ffff00",1:"#00ff00",.5:"#fafafa"};OLYMPIC_COLORS_LB={55:"#ff0000",45:"#0000ff",35:"#ffff00",25:"#00ff00",10:"#fafafa",5:"#424242",2.5:"#424242"};constructor(){this.equipmentForm=this.fb.group({name:["",c.required],category:[null,c.required],quantity:[1,[c.required,c.min(1)]],brand:[""],notes:[""],unit:[this.unitService.getWeightUnitSuffix()]})}ngOnInit(){let t=this.route.paramMap.pipe(oe(i=>(this.editingEquipmentId=i.get("id"),this.editingEquipmentId?(this.isEditMode.set(!0),this.personalGymService.getEquipmentById(this.editingEquipmentId)):ie(null))),re(1)).subscribe(i=>{i&&this.patchFormForEditing(i)});this.subscriptions.add(t);let e=this.equipmentForm.get("category")?.valueChanges.subscribe(i=>{this.updateFormForCategory(i)});this.subscriptions.add(e)}ngOnDestroy(){this.subscriptions.unsubscribe()}updateFormForCategory(t){switch(["weightType","weight","minweight","maxweight","increment","barType","bandType","resistanceLevel","resistance","color","length","loadType","maxLoad","customCategoryName","properties","isOlympic"].forEach(i=>this.removeControl(i)),t){case"Dumbbell":case"Kettlebell":case"Macebell":case"Club":if(this.addControl("weightType","fixed",c.required),!this.subscriptions.closed){let i=this.equipmentForm.get("weightType")?.valueChanges.subscribe(m=>{this.updateFormForWeightType(m)});i&&this.subscriptions.add(i)}this.updateFormForWeightType("fixed");break;case"Plate":this.addControl("weight",null,[c.required,c.min(0)]),this.addControl("isOlympic",!0),this.addControl("color",this.getOlympicPlateColor(0)),this.setupPlateColorSubscription();break;case"Barbell":this.addControl("weight",null,[c.required,c.min(0)]),this.addControl("barType","olympic");break;case"Band":this.addControl("bandType","loop",c.required),this.addControl("resistanceLevel","medium"),this.addControl("resistance",null,[c.min(0)]),this.addControl("color",""),this.addControl("length",null,[c.min(0)]);break;case"Machine":this.addControl("loadType","stack",c.required),this.addControl("maxLoad",null,c.min(0));break;case"Custom":this.addControl("customCategoryName","",c.required),this.addControl("properties",this.fb.array([]));break}}updateFormForWeightType(t){this.removeControl("weight"),this.removeControl("minweight"),this.removeControl("maxweight"),this.removeControl("increment"),t==="fixed"?this.addControl("weight",null,[c.required,c.min(0)]):t==="adjustable"&&(this.addControl("minweight",null,[c.required,c.min(0)]),this.addControl("maxweight",null,[c.required,c.min(0)]),this.addControl("increment",null,[c.required,c.min(.1)]))}patchFormForEditing(t){if(this.updateFormForCategory(t.category),this.equipmentForm.patchValue(t),t.category==="Custom"){let e=this.equipmentForm.get("properties");e.clear(),t.properties.forEach(i=>{e.push(this.fb.group({key:[i.key,c.required],value:[i.value,c.required]}))})}}addControl(t,e,i){this.equipmentForm.addControl(t,this.fb.control(e,i))}removeControl(t){this.equipmentForm.get(t)&&this.equipmentForm.removeControl(t)}get customProperties(){return this.equipmentForm.get("properties")}addCustomProperty(){this.customProperties.push(this.fb.group({key:["",c.required],value:["",c.required]}))}removeCustomProperty(t){this.customProperties.removeAt(t)}onSubmit(){if(this.equipmentForm.invalid){this.toastService.error("Please fill out all required fields.",0,"Invalid Form"),this.equipmentForm.markAllAsTouched();return}let t=this.equipmentForm.getRawValue();if(this.isEditMode()&&this.editingEquipmentId){let e=E(w({},t),{id:this.editingEquipmentId});this.personalGymService.updateEquipment(e)}else this.personalGymService.addEquipment(t);this.router.navigate(["/personal-gym"])}setupPlateColorSubscription(){let t=this.equipmentForm.get("isOlympic")?.valueChanges.pipe(z(this.equipmentForm.get("isOlympic")?.value)),e=this.equipmentForm.get("weight")?.valueChanges.pipe(z(this.equipmentForm.get("weight")?.value)),i=this.equipmentForm.get("color");if(t&&e&&i){let m=ne([t,e]).subscribe(([u,h])=>{if(u){let K=this.getOlympicPlateColor(h||0);i.setValue(K),i.disable()}else i.enable()});this.subscriptions.add(m)}}getOlympicPlateColor(t){return(this.unitService.getWeightUnitSuffix()==="kg"?this.OLYMPIC_COLORS_KG:this.OLYMPIC_COLORS_LB)[t]||"#424242"}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=N({type:r,selectors:[["app-personal-gym-form"]],decls:43,vars:16,consts:[[1,"container","mx-auto","max-w-2xl","p-4","sm:p-6"],[1,"mb-6","flex","items-center"],[1,"text-gray-600","dark:text-gray-300","hover:text-primary","p-2","-ml-2",3,"routerLink"],["name","back",1,"w-6","h-6"],[1,"text-2xl","font-bold","text-gray-800","dark:text-gray-200","ml-4"],[1,"space-y-6","bg-white","dark:bg-gray-800","p-6","rounded-lg","shadow-md",3,"ngSubmit","formGroup"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-4"],["for","category",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["id","category","formControlName","category",1,"mt-1","block","w-full","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","text-lg","dark:text-gray-200"],["disabled","",3,"ngValue"],[3,"value",4,"ngFor","ngForOf"],["for","name",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["type","text","id","name","formControlName","name","placeholder","e.g., Competition Kettlebell",1,"mt-1","block","w-full","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","text-lg","dark:text-gray-200"],[1,"grid","grid-cols-2","gap-4"],["for","quantity",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["type","number","id","quantity","formControlName","quantity",1,"mt-1","block","w-full","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","text-lg","dark:text-gray-200"],["for","brand",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["type","text","id","brand","formControlName","brand",1,"mt-1","block","w-full","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","text-lg","dark:text-gray-200"],[3,"ngSwitch"],[4,"ngIf"],[4,"ngSwitchCase"],["for","notes",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["id","notes","formControlName","notes","rows","3",1,"mt-1","block","w-full","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","text-lg","dark:text-gray-200"],[1,"pt-4","border-t","border-gray-200","dark:border-gray-600","flex","justify-end"],["type","submit",1,"flex","items-center","bg-primary","text-white","hover:bg-primary-dark","font-semibold","py-2","px-4","rounded-md","disabled:opacity-50",3,"disabled"],["name","save",1,"h-6","w-6","mr-1"],[3,"value"],[1,"space-y-4","pt-4","border-t","dark:border-gray-600"],[1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],[1,"flex","space-x-4"],["class","flex items-center",4,"ngFor","ngForOf"],["class","grid grid-cols-3 gap-4",4,"ngIf"],[1,"flex","items-center"],["type","radio","formControlName","weightType",1,"form-radio",3,"value"],[1,"text-gray-700","dark:text-gray-300","ml-2"],["for","weight",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["type","number","id","weight","formControlName","weight",1,"mt-1","block","w-full","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","text-lg","dark:text-gray-200"],[1,"grid","grid-cols-3","gap-4"],["for","minweight",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["type","number","id","minweight","formControlName","minweight",1,"mt-1","block","w-full","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","text-lg","dark:text-gray-200"],["for","maxweight",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["type","number","id","maxweight","formControlName","maxweight",1,"mt-1","block","w-full","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","text-lg","dark:text-gray-200"],["for","increment",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["type","number","id","increment","formControlName","increment",1,"mt-1","block","w-full","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","text-lg","dark:text-gray-200"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-x-4","gap-y-6","pt-4","border-t","dark:border-gray-600"],[1,"flex","items-center","justify-between","sm:mt-7"],["for","isOlympic",1,"text-sm","font-medium","text-gray-700","dark:text-gray-300"],[1,"toggle-switch"],["type","checkbox","id","isOlympic","formControlName","isOlympic"],[1,"slider","round"],["for","color",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["class","text-xs text-gray-500",4,"ngIf"],[1,"flex","items-center","space-x-2","mt-1"],["type","color","formControlName","color",1,"h-10","w-12","p-1","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","dark:bg-gray-600"],["type","text","id","color","formControlName","color",1,"block","w-full","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","text-lg","dark:text-gray-200"],[1,"text-xs","text-gray-500"],[1,"grid","grid-cols-2","gap-4","pt-4","border-t","dark:border-gray-600"],["for","barType",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["id","barType","formControlName","barType",1,"mt-1","block","w-full","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","text-lg","dark:text-gray-200"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-4","pt-4","border-t","dark:border-gray-600"],["for","bandType",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["id","bandType","formControlName","bandType",1,"mt-1","block","w-full","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","text-lg","dark:text-gray-200"],["for","resistanceLevel",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["id","resistanceLevel","formControlName","resistanceLevel",1,"mt-1","block","w-full","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","text-lg","dark:text-gray-200"],["for","resistance",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["type","number","id","resistance","formControlName","resistance",1,"mt-1","block","w-full","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","text-lg","dark:text-gray-200"],["type","text","id","color","formControlName","color",1,"mt-1","block","w-full","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","text-lg","dark:text-gray-200"],["for","length",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["type","number","id","length","formControlName","length",1,"mt-1","block","w-full","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","text-lg","dark:text-gray-200"],["for","loadType",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["id","loadType","formControlName","loadType",1,"mt-1","block","w-full","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","text-lg","dark:text-gray-200"],["for","maxLoad",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["type","number","id","maxLoad","formControlName","maxLoad",1,"mt-1","block","w-full","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","text-lg","dark:text-gray-200"],["for","customCategoryName",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["type","text","id","customCategoryName","formControlName","customCategoryName","placeholder","e.g., Sledgehammer",1,"mt-1","block","w-full","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","text-lg","dark:text-gray-200"],["formArrayName","properties",1,"space-y-3"],[1,"text-sm","font-medium","text-gray-700","dark:text-gray-300"],["class","flex items-center space-x-2",3,"formGroupName",4,"ngFor","ngForOf"],["type","button",1,"text-sm","text-primary","hover:underline",3,"click"],[1,"flex","items-center","space-x-2",3,"formGroupName"],["type","text","formControlName","key","placeholder","Property (e.g., Weight)",1,"input-field","flex-1"],["type","text","formControlName","value",1,"input-field","flex-1",3,"placeholder"],["type","button",1,"p-2","text-red-500","hover:bg-red-100","rounded-full",3,"click"],["name","trash",1,"w-5","h-5"]],template:function(e,i){if(e&1&&(o(0,"div",0)(1,"header",1)(2,"button",2),p(3,"app-icon",3),n(),o(4,"h1",4),l(5),n()(),o(6,"form",5),x("ngSubmit",function(){return i.onSubmit()}),o(7,"div",6)(8,"div")(9,"label",7),l(10,"Category"),n(),o(11,"select",8)(12,"option",9),l(13,"-- Select a Category --"),n(),g(14,st,2,2,"option",10),n()(),o(15,"div")(16,"label",11),l(17,"Equipment Name"),n(),p(18,"input",12),n()(),o(19,"div",13)(20,"div")(21,"label",14),l(22,"Quantity"),n(),p(23,"input",15),n(),o(24,"div")(25,"label",16),l(26,"Brand (Optional)"),n(),p(27,"input",17),n()(),S(28,18),g(29,ut,8,3,"ng-container",19)(30,ft,20,3,"ng-container",20)(31,bt,11,2,"ng-container",20)(32,_t,24,4,"ng-container",20)(33,kt,11,2,"ng-container",20)(34,Et,12,1,"ng-container",20),T(),o(35,"div")(36,"label",21),l(37,"Notes (Optional)"),n(),p(38,"textarea",22),n(),o(39,"div",23)(40,"button",24),p(41,"app-icon",25),l(42),n()()()()),e&2){let m,u;a(2),s("routerLink",J(14,lt)),a(3),C(i.pageTitle()),a(),s("formGroup",i.equipmentForm),a(6),s("ngValue",null),a(2),s("ngForOf",i.categories),a(14),s("ngSwitch",(m=i.equipmentForm.get("category"))==null?null:m.value),a(),s("ngIf",J(15,mt).includes((u=i.equipmentForm.get("category"))==null?null:u.value)),a(),s("ngSwitchCase","Plate"),a(),s("ngSwitchCase","Barbell"),a(),s("ngSwitchCase","Band"),a(),s("ngSwitchCase","Machine"),a(),s("ngSwitchCase","Custom"),a(6),s("disabled",i.equipmentForm.invalid),a(2),b(" ",i.isEditMode()?"SAVE CHANGES":"ADD TO GYM"," ")}},dependencies:[D,B,W,pe,ce,Ie,_e,Pe,Me,be,Ce,xe,Fe,ke,ve,he,we,Te,Ee,Se,j,fe,ue],encapsulation:2})};var si=[{path:"",component:Y,title:"My Personal Gym"},{path:"new",component:L,title:"Add New Equipment"},{path:"edit/:id",component:L,title:"Edit Equipment"}];export{si as PERSONAL_GYM_ROUTES};
