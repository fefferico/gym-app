import{b as Ne,c as Ge}from"./chunk-UFXFSU3M.js";import{c as se,d as ie,g as $,h as j,i as re}from"./chunk-PPV5CVAY.js";import{a as O}from"./chunk-BJHWSFGY.js";import{b as De,c as Pe}from"./chunk-N4SVDFLX.js";import{A as T,Aa as Z,Ba as Y,Bb as ve,Cb as ye,Da as E,Db as P,E as pe,Ea as u,Eb as ee,Fa as d,G as ge,M as y,Ma as L,Na as xe,Nb as te,O as f,Oa as ae,P as _,Pb as N,Q as h,Qa as a,Qb as G,R as S,Ra as v,Sa as k,Ta as ue,V as w,Wb as he,Xb as A,Yb as be,Zb as Ee,_ as z,a as U,ab as X,ac as we,b as ce,ba as R,bb as fe,cc as Ce,da as s,ec as Se,f as F,fb as b,fc as ke,gb as C,gc as Ie,hb as W,hc as Te,ic as Ae,jb as I,la as M,lb as _e,m as q,mc as Fe,oc as Me,p as me,pc as B,qa as p,r as de,sb as J,sc as Le,tb as V,ub as D,wa as l,xa as n,ya as r,yb as K,za as g,zb as Q,zc as Ve}from"./chunk-BLDG3RHL.js";var Re=i=>({"filter dark:invert":i});function $e(i,t){if(i&1&&(n(0,"option",30),a(1),b(2,"titlecase"),r()),i&2){let e=t.$implicit;l("value",e),s(),v(C(2,2,e))}}function je(i,t){if(i&1&&(n(0,"option",30),a(1),b(2,"titlecase"),r()),i&2){let e=t.$implicit;l("value",e),s(),v(C(2,2,e))}}function He(i,t){if(i&1&&(n(0,"span"),a(1," of "),n(2,"strong",32),a(3),r()()),i&2){let e=d(2);s(3),v(e.allExercises().length)}}function qe(i,t){if(i&1&&(n(0,"div",31),a(1," Showing "),n(2,"strong",32),a(3),r(),p(4,He,4,1,"span",33),a(5," exercises "),r()),i&2){let e=d();s(3),v(e.filteredExercises().length),s(),l("ngIf",e.searchTerm()||e.selectedCategory()||e.selectedMuscleGroup())}}function ze(i,t){if(i&1&&g(0,"img",52),i&2){let e=d().$implicit,o=d(3);l("src",o.getIconPath(e.iconName),R)("alt",e.name+" icon")("ngClass",X(3,Re,e.iconName!=="default-exercise"))}}function Ze(i,t){if(i&1&&(n(0,"p",53),a(1),r()),i&2){let e=d().$implicit;l("title",e.description),s(),v(e.description)}}function Ye(i,t){if(i&1){let e=E();n(0,"div",54)(1,"button",55),u("click",function(c){f(e);let m=d().$implicit,x=d(3);return _(x.goToExerciseDetails(m.id,c))}),h(),n(2,"svg",56),g(3,"path",57)(4,"path",58),r(),a(5,"View "),r(),S(),n(6,"button",55),u("click",function(c){f(e);let m=d().$implicit,x=d(3);return _(x.editExercise(m.id,c))}),h(),n(7,"svg",56),g(8,"path",59),r(),a(9,"Edit "),r(),S(),g(10,"div",60),n(11,"button",61),u("click",function(c){f(e);let m=d().$implicit,x=d(3);return _(x.deleteExercise(m.id,c))}),h(),n(12,"svg",56),g(13,"path",62),r(),a(14,"Delete "),r()()}i&2&&l("@dropdownMenu",void 0)}function Xe(i,t){if(i&1){let e=E();n(0,"div",63)(1,"button",64),u("click",function(c){f(e);let m=d().$implicit,x=d(3);return _(x.goToExerciseDetails(m.id,c))}),h(),n(2,"svg",65),g(3,"path",66)(4,"path",67),r(),a(5,"DETAILS "),r(),S(),n(6,"button",68),u("click",function(c){f(e);let m=d().$implicit,x=d(3);return _(x.editExercise(m.id,c))}),h(),n(7,"svg",65),g(8,"path",69),r(),a(9,"EDIT "),r(),S(),n(10,"button",70),u("click",function(c){f(e);let m=d().$implicit,x=d(3);return _(x.deleteExercise(m.id,c))}),h(),n(11,"svg",65),g(12,"path",27),r(),a(13,"DELETE "),r()()}i&2&&l("@slideInOutActions",void 0)}function We(i,t){if(i&1){let e=E();n(0,"div",37)(1,"div",38)(2,"div",39),p(3,ze,1,5,"img",40),n(4,"h2",41),a(5),r()(),n(6,"p",42),a(7),b(8,"titlecase"),r(),n(9,"p",43),a(10),b(11,"titlecase"),r(),p(12,Ze,2,2,"p",44),r(),n(13,"div",45)(14,"div",46)(15,"button",47),u("click",function(c){let m=f(e).$implicit,x=d(3);return _(x.toggleActions(m.id,c))}),h(),n(16,"svg",48),g(17,"path",49),r()(),p(18,Ye,15,1,"div",50),r()(),p(19,Xe,14,1,"div",51),r()}if(i&2){let e=t.$implicit,o=d(3);s(3),l("ngIf",e),s(),l("title",e.name),s(),v(e.name),s(2),v(C(8,8,e.category)),s(3),k("Primary: ",C(11,10,e.primaryMuscleGroup)),s(2),l("ngIf",e.description),s(6),l("ngIf",o.actionsVisibleId()===e.id&&!o.menuModeCompact),s(),l("ngIf",o.actionsVisibleId()===e.id&&o.menuModeCompact)}}function Je(i,t){if(i&1&&(n(0,"div",35),p(1,We,20,12,"div",36),r()),i&2){let e=d(2);s(),l("ngForOf",e.filteredExercises())}}function Ke(i,t){i&1&&(n(0,"div",71)(1,"p",72),a(2,"No exercises found matching your criteria."),r(),n(3,"p",73),a(4,"Try adjusting your filters or search term."),r()())}function Qe(i,t){if(i&1&&(n(0,"div"),p(1,Je,2,1,"div",34)(2,Ke,5,0,"ng-template",null,1,I),r()),i&2){let e=L(3),o=d();s(),l("ngIf",o.filteredExercises().length>0)("ngIfElse",e)}}function et(i,t){i&1&&(n(0,"div",71),h(),n(1,"svg",76),g(2,"circle",77)(3,"path",78),r(),S(),n(4,"p",79),a(5,"Loading exercises..."),r()())}function tt(i,t){i&1&&(n(0,"div",80),h(),n(1,"svg",81),g(2,"path",82),r(),S(),n(3,"h3",83),a(4,"Your Exercise Library is Empty"),r(),n(5,"p",84),a(6,"Start building your collection by adding your first exercise."),r(),n(7,"button",85),a(8," Add Your First Exercise "),r()())}function it(i,t){if(i&1&&(n(0,"div",71),p(1,et,6,0,"div",74),b(2,"async"),p(3,tt,9,0,"div",75),b(4,"async"),r()),i&2){let e=d(2);s(),l("ngIf",C(2,2,e.exerciseService.isLoadingExercises$)),s(2),l("ngIf",!C(4,4,e.exerciseService.isLoadingExercises$)&&(!e.allExercises()||e.allExercises().length===0))}}function rt(i,t){if(i&1&&p(0,it,5,6,"div",74),i&2){let e=d();l("ngIf",!e.allExercises()||e.allExercises().length===0)}}var ne=class i{exerciseService=y(O);router=y(N);alertService=y(B);toastService=y(Le);spinnerService=y(Ve);themeService=y(Pe);platformId=y(z);categories$;primaryMuscleGroups$;selectedCategory=w(null);selectedMuscleGroup=w(null);searchTerm=w("");allExercises=w([]);actionsVisibleId=w(null);menuModeCompact=!1;isFilterAccordionOpen=w(!1);filteredExercises=_e(()=>{let t=this.allExercises(),e=this.selectedCategory();e&&(t=t.filter(m=>m.category===e));let o=this.selectedMuscleGroup();o&&(t=t.filter(m=>m.primaryMuscleGroup===o));let c=this.searchTerm();return c&&(t=t.filter(m=>m.name.toLowerCase().includes(c)||m.description&&m.description.toLowerCase().includes(c))),t.map(m=>ce(U({},m),{iconName:this.exerciseService.determineExerciseIcon(m,m?.name)}))});constructor(){}ngOnInit(){ee(this.platformId)&&window.scrollTo(0,0),this.categories$=this.exerciseService.getUniqueCategories(),this.primaryMuscleGroups$=this.exerciseService.getUniquePrimaryMuscleGroups(),this.menuModeCompact=this.themeService.isMenuModeCompact(),this.exerciseService.getExercises().subscribe(t=>{this.allExercises.set(t)})}onCategoryChange(t){let e=t.target;this.selectedCategory.set(e.value||null)}onMuscleGroupChange(t){let e=t.target;this.selectedMuscleGroup.set(e.value||null)}onSearchTermChange(t){let e=t.target;this.searchTerm.set(e.value.toLowerCase())}clearFilters(){this.selectedCategory.set(null),this.selectedMuscleGroup.set(null),this.searchTerm.set("");let t=document.getElementById("category-filter");t&&(t.value="");let e=document.getElementById("muscle-group-filter");e&&(e.value="");let o=document.getElementById("search-term");o&&(o.value="")}goToExerciseDetails(t,e){e?.stopPropagation(),this.router.navigate(["/library",t]),this.actionsVisibleId.set(null)}getIconPath(t){return this.exerciseService.getIconPath(t)}toggleActions(t,e){e.stopPropagation(),this.actionsVisibleId.update(o=>o===t?null:t)}editExercise(t,e){e.stopPropagation(),this.router.navigate(["/library/edit",t]),this.actionsVisibleId.set(null)}deleteExercise(t,e){return F(this,null,function*(){e.stopPropagation(),this.actionsVisibleId.set(null);let o=this.allExercises().find(m=>m.id===t);if(!o){this.toastService.error("Exercise not found.",0);return}let c=yield this.alertService.showConfirm("Delete Exercise",`Are you sure you want to delete the exercise "${o.name}"? This action cannot be undone.`,"Delete");if(c&&c.data)try{this.spinnerService.show("Deleting exercise..."),yield this.exerciseService.deleteExercise(t),this.toastService.success(`Exercise "${o.name}" deleted successfully.`,3e3,"Deleted")}catch(m){console.error("Error deleting exercise:",m),this.toastService.error("Failed to delete exercise. It might be in use.",0,"Error")}finally{this.spinnerService.hide()}})}toggleFilterAccordion(){this.isFilterAccordionOpen.update(t=>!t)}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=M({type:i,selectors:[["app-exercise-list"]],decls:47,vars:18,consts:[["loadingOrInitial",""],["noExercisesAfterFilter",""],[1,"container","mx-auto","p-1","sm:p-4"],[1,"flex","justify-between","items-center","mb-2","pb-2","border-b","border-gray-200","dark:border-gray-700"],[1,"text-2xl","font-bold","text-gray-800","dark:text-gray-200"],["type","button",1,"p-2","rounded-md","text-gray-600","dark:text-gray-300","hover:bg-gray-200","dark:hover:bg-gray-700","focus:outline-none","focus:ring-2","focus:ring-primary","dark:focus:ring-primary-light","transition-all","duration-300","ease-in-out",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-6","h-6","transition-transform","duration-300"],["stroke-linecap","round","stroke-linejoin","round","d","M10.5 6h9.75M10.5 6a1.5 1.5 0 1 1-3 0m3 0a1.5 1.5 0 1 0-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0M3.75 18H7.5m3-6h9.75m-9.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0M3.75 12H7.5"],[1,"sr-only"],["routerLink","/library/new",1,"bg-primary","hover:bg-primary-dark","text-white","font-semibold","py-2","px-3","rounded-md","shadow-sm","hover:shadow-md","transition-all","duration-200","focus:outline-none","focus:ring-2","focus:ring-primary-light","focus:ring-opacity-75","text-sm","mb-2"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"w-4","h-4","mr-1.5","inline-block","align-text-bottom"],["d","M10.75 4.75a.75.75 0 0 0-1.5 0v4.5h-4.5a.75.75 0 0 0 0 1.5h4.5v4.5a.75.75 0 0 0 1.5 0v-4.5h4.5a.75.75 0 0 0 0-1.5h-4.5v-4.5Z"],[1,"overflow-hidden","transition-all","duration-500","ease-in-out"],[1,"p-4","bg-white","dark:bg-gray-700","rounded-lg","shadow-md","border","dark:border-gray-600"],[1,"text-xl","font-semibold","text-gray-700","dark:text-gray-300","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-4","items-end"],["for","category-filter",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-1"],["id","category-filter",1,"block","w-full","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200",3,"change","value"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","muscle-group-filter",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-1"],["id","muscle-group-filter",1,"block","w-full","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200",3,"change","value"],["for","search-term",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-1"],["type","text","id","search-term","placeholder","Search by name or description...",1,"block","w-full","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200",3,"input","value"],[1,"mt-4","flex","justify-between","items-center"],[1,"flex","px-4","py-2","bg-yellow-200","dark:bg-yellow-700","text-gray-700","dark:text-gray-200","rounded-md","hover:bg-yellow-300","dark:hover:bg-yellow-500","text-sm","items-center",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"size-5","mr-2"],["stroke-linecap","round","stroke-linejoin","round","d","m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"],["class","text-sm text-gray-600 dark:text-gray-400",4,"ngIf"],[4,"ngIf","ngIfElse"],[3,"value"],[1,"text-sm","text-gray-600","dark:text-gray-400"],[1,"text-gray-800","dark:text-gray-200"],[4,"ngIf"],["class","grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",4,"ngIf","ngIfElse"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-3","gap-4","sm:gap-6"],["class","bg-white dark:bg-gray-700 rounded-lg shadow-lg hover:shadow-xl transition-shadow duration-300 flex flex-col relative",4,"ngFor","ngForOf"],[1,"bg-white","dark:bg-gray-700","rounded-lg","shadow-lg","hover:shadow-xl","transition-shadow","duration-300","flex","flex-col","relative"],[1,"p-4","sm:p-5","flex-grow","cursor-pointer"],[1,"flex","items-start","mb-1.5"],["class","w-7 h-7 sm:w-8 sm:h-8 object-contain mr-2 mt-0.5 sm:mt-1",3,"src","alt","ngClass",4,"ngIf"],[1,"text-lg","sm:text-xl","font-semibold","text-primary","dark:text-primary-light","flex-grow","pr-8",3,"title"],[1,"text-xs","sm:text-sm","text-gray-500","dark:text-gray-400","mb-1","capitalize"],[1,"text-xs","sm:text-sm","text-gray-700","dark:text-gray-300","mb-2","sm:mb-3"],["class","text-gray-600 dark:text-gray-400 text-xs sm:text-sm mb-3 sm:mb-4 line-clamp-2 sm:line-clamp-3",3,"title",4,"ngIf"],[1,"absolute","top-2","right-2","z-20"],[1,"relative"],[1,"p-1.5","text-gray-500","dark:text-gray-400","hover:bg-gray-200","dark:hover:bg-gray-700","rounded-full","focus:outline-none",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"h-4","w-4","sm:h-5","sm:w-5"],["d","M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"],["class","origin-top-right absolute right-0 top-full mt-1 sm:mt-2 w-40 sm:w-48 rounded-md shadow-lg bg-white dark:bg-gray-800 ring-1 ring-black dark:ring-gray-600 ring-opacity-5 focus:outline-none py-1 z-50",4,"ngIf"],["class",`absolute inset-x-0 bottom-0 p-2 bg-gray-100 dark:bg-gray-700 border-t border-gray-200 dark:border-gray-700
                     flex flex-wrap gap-1.5 justify-center z-10 rounded-b-lg`,4,"ngIf"],[1,"w-7","h-7","sm:w-8","sm:h-8","object-contain","mr-2","mt-0.5","sm:mt-1",3,"src","alt","ngClass"],[1,"text-gray-600","dark:text-gray-400","text-xs","sm:text-sm","mb-3","sm:mb-4","line-clamp-2","sm:line-clamp-3",3,"title"],[1,"origin-top-right","absolute","right-0","top-full","mt-1","sm:mt-2","w-40","sm:w-48","rounded-md","shadow-lg","bg-white","dark:bg-gray-800","ring-1","ring-black","dark:ring-gray-600","ring-opacity-5","focus:outline-none","py-1","z-50"],[1,"w-full","text-left","px-3","py-1.5","sm:px-4","sm:py-2","text-gray-700","dark:text-gray-200","hover:bg-gray-100","dark:hover:bg-gray-500","flex","items-center",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"w-3.5","h-3.5","sm:w-4","sm:h-4","mr-2"],["d","M10 12.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5Z"],["fill-rule","evenodd","d","M.664 10.59a1.651 1.651 0 010-1.186A10.004 10.004 0 0110 3c4.257 0 7.893 2.66 9.336 6.41.147.381.146.804 0 1.186A10.004 10.004 0 0110 17c-4.257 0-7.893-2.66-9.336-6.41ZM14 10a4 4 0 11-8 0 4 4 0 018 0Z","clip-rule","evenodd"],["d","m13.83 3.393 2.777 2.777-9.333 9.333H4.5v-2.777l9.33-9.333Zm0 0L12.5 2.06M6 13.5V15h1.5l7.5-7.5-1.5-1.5L6 13.5Z"],[1,"my-0.5","sm:my-1","border-t","border-gray-200","dark:border-gray-600"],[1,"w-full","text-left","px-3","py-1.5","sm:px-4","sm:py-2","text-red-600","dark:text-red-400","hover:bg-red-50","dark:hover:bg-red-600/50","flex","items-center",3,"click"],["fill-rule","evenodd","d","M8.75 1A2.75 2.75 0 006 3.75v.443c-.795.077-1.58.177-2.365.298a.75.75 0 10.23 1.482l.149-.022.841 10.518A2.75 2.75 0 007.596 19h4.807a2.75 2.75 0 002.742-2.53l.841-10.52.149.023a.75.75 0 00.23-1.482A41.03 41.03 0 0014 4.193V3.75A2.75 2.75 0 0011.25 1h-2.5ZM10 4c.84 0 1.673.025 2.5.075V3.75c0-.69-.56-1.25-1.25-1.25h-2.5c-.69 0-1.25.56-1.25 1.25v.325C8.327 4.025 9.16 4 10 4ZM8.58 7.72a.75.75 0 00-1.5.06l.3 7.5a.75.75 0 101.5-.06l-.3-7.5Zm4.34.06a.75.75 0 10-1.5-.06l-.3 7.5a.75.75 0 101.5.06l.3-7.5Z","clip-rule","evenodd"],[1,"absolute","inset-x-0","bottom-0","p-2","bg-gray-100","dark:bg-gray-700","border-t","border-gray-200","dark:border-gray-700","flex","flex-wrap","gap-1.5","justify-center","z-10","rounded-b-lg"],["title","View Details",1,"flex-1","text-xs","min-w-[70px]","flex","items-center","justify-center","p-1.5","bg-cyan-500","text-white","rounded-md","hover:bg-cyan-600","transition-colors",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","2","stroke","currentColor",1,"size-4","mr-1"],["stroke-linecap","round","stroke-linejoin","round","d","M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"],["stroke-linecap","round","stroke-linejoin","round","d","M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"],["title","Edit Exercise",1,"flex-1","text-xs","min-w-[70px]","flex","items-center","justify-center","p-1.5","bg-yellow-500","text-white","rounded-md","hover:bg-yellow-600","transition-colors",3,"click"],["stroke-linecap","round","stroke-linejoin","round","d","m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"],["title","Delete Exercise",1,"flex-1","text-xs","min-w-[70px]","flex","items-center","justify-center","p-1.5","bg-red-500","text-white","rounded-md","hover:bg-red-600","transition-colors",3,"click"],[1,"text-center","py-10"],[1,"text-xl","text-gray-600","dark:text-gray-400"],[1,"text-sm","text-gray-500","dark:text-gray-400","mt-2"],["class","text-center py-10",4,"ngIf"],["class","text-center py-12 px-6 bg-white dark:bg-gray-700 rounded-lg shadow-md",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","h-8","w-8","text-primary","dark:text-primary-light","mx-auto"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],[1,"text-lg","text-gray-600","dark:text-gray-400","mt-3"],[1,"text-center","py-12","px-6","bg-white","dark:bg-gray-700","rounded-lg","shadow-md"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-16","h-16","mx-auto","text-gray-400","dark:text-gray-200","mb-4"],["stroke-linecap","round","stroke-linejoin","round","d","M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"],[1,"text-xl","font-semibold","text-gray-700","dark:text-gray-300","mb-2"],[1,"text-gray-500","dark:text-gray-400","mb-6"],["routerLink","/library/new",1,"bg-primary","hover:bg-primary-dark","text-white","font-semibold","py-2.5","px-6","rounded-md","shadow-md","hover:shadow-lg","transition-all","duration-300","focus:outline-none","focus:ring-2","focus:ring-primary-light","focus:ring-opacity-75"]],template:function(e,o){if(e&1){let c=E();n(0,"div",2)(1,"header",3)(2,"h1",4),a(3,"Exercise Library"),r(),n(4,"button",5),u("click",function(){return f(c),_(o.toggleFilterAccordion())}),h(),n(5,"svg",6),g(6,"path",7),r(),S(),n(7,"span",8),a(8,"Toggle Filters"),r()()(),n(9,"button",9),h(),n(10,"svg",10),g(11,"path",11),r(),a(12," Add New Exercise "),r(),S(),n(13,"div",12)(14,"div",13)(15,"h2",14),a(16,"Filter Exercises"),r(),n(17,"div",15)(18,"div")(19,"label",16),a(20,"Category"),r(),n(21,"select",17),u("change",function(x){return f(c),_(o.onCategoryChange(x))}),n(22,"option",18),a(23,"All Categories"),r(),p(24,$e,3,4,"option",19),b(25,"async"),r()(),n(26,"div")(27,"label",20),a(28,"Primary Muscle Group"),r(),n(29,"select",21),u("change",function(x){return f(c),_(o.onMuscleGroupChange(x))}),n(30,"option",18),a(31,"All Muscle Groups"),r(),p(32,je,3,4,"option",19),b(33,"async"),r()(),n(34,"div")(35,"label",22),a(36,"Search"),r(),n(37,"input",23),u("input",function(x){return f(c),_(o.onSearchTermChange(x))}),r()()(),n(38,"div",24)(39,"button",25),u("click",function(){return f(c),_(o.clearFilters())}),h(),n(40,"svg",26),g(41,"path",27),r(),a(42," Clear Filters "),r(),p(43,qe,6,2,"div",28),r()()(),p(44,Qe,4,2,"div",29)(45,rt,1,1,"ng-template",null,0,I),r()}if(e&2){let c=L(46);s(5),ae("rotate-180",o.isFilterAccordionOpen()),s(8),xe("max-height",o.isFilterAccordionOpen()?"1000px":"0px"),ae("mb-8",o.isFilterAccordionOpen()),s(8),l("value",o.selectedCategory()||""),s(3),l("ngForOf",C(25,14,o.categories$)),s(5),l("value",o.selectedMuscleGroup()||""),s(3),l("ngForOf",C(33,16,o.primaryMuscleGroups$)),s(5),l("value",o.searchTerm()),s(6),l("ngIf",o.allExercises().length>0),s(),l("ngIf",o.allExercises().length>0)("ngIfElse",c)}},dependencies:[P,J,V,D,K,Q,G],encapsulation:2,data:{animation:[se("slideInOutActions",[j("void",$({height:"0px",opacity:0,overflow:"hidden",paddingTop:"0",paddingBottom:"0",marginTop:"0",marginBottom:"0"})),j("*",$({height:"*",opacity:1,paddingTop:"0.5rem",paddingBottom:"0.5rem"})),re("void <=> *",ie("200ms ease-in-out"))]),se("dropdownMenu",[j("void",$({opacity:0,transform:"scale(0.75) translateY(-10px)",transformOrigin:"top right"})),j("*",$({opacity:1,transform:"scale(1) translateY(0)",transformOrigin:"top right"})),re("void => *",[ie("150ms cubic-bezier(0.25, 0.8, 0.25, 1)")]),re("* => void",[ie("100ms cubic-bezier(0.25, 0.8, 0.25, 1)")])])]}})};var nt=(i,t)=>({"bg-white dark:bg-gray-300":i,"bg-gray-400 dark:bg-gray-700":t}),ot=i=>["/library/edit",i];function at(i,t){if(i&1){let e=E();n(0,"button",34),u("click",function(){f(e);let c=d(3);return _(c.prevImage())}),a(1," \u276E "),r()}}function st(i,t){if(i&1){let e=E();n(0,"button",35),u("click",function(){f(e);let c=d(3);return _(c.nextImage())}),a(1," \u276F "),r()}}function lt(i,t){if(i&1){let e=E();n(0,"span",38),u("click",function(){let c=f(e).index,m=d(4);return _(m.currentImageIndex.set(c))}),r()}if(i&2){let e=t.index,o=d(4);l("ngClass",fe(1,nt,o.currentImageIndex()===e,o.currentImageIndex()!==e))}}function ct(i,t){if(i&1&&(n(0,"div",36),p(1,lt,1,4,"span",37),r()),i&2){let e=d(2).ngIf;s(),l("ngForOf",e.imageUrls)}}function mt(i,t){if(i&1&&(n(0,"div",29),g(1,"img",30),p(2,at,2,0,"button",31)(3,st,2,0,"button",32)(4,ct,2,1,"div",33),r()),i&2){let e=d().ngIf,o=d();s(),l("src",e.imageUrls[o.currentImageIndex()],R)("alt",e.name+" form "+(o.currentImageIndex()+1)),s(),l("ngIf",e.imageUrls.length>1),s(),l("ngIf",e.imageUrls.length>1),s(),l("ngIf",e.imageUrls.length>1)}}function dt(i,t){i&1&&(n(0,"div",39)(1,"p",40),a(2,"No image available"),r()())}function pt(i,t){if(i&1){let e=E();n(0,"div",41)(1,"button",42),h(),n(2,"svg",43),g(3,"path",44),r(),a(4," Edit "),r(),S(),n(5,"button",45),u("click",function(){let c=f(e).ngIf,m=d(2);return _(m.confirmDeleteExercise(c))}),h(),n(6,"svg",43),g(7,"path",46),r(),a(8," Delete "),r()()}if(i&2){let e=t.ngIf;s(),l("routerLink",X(1,ot,e.id))}}function gt(i,t){if(i&1&&(n(0,"li"),a(1),r()),i&2){let e=t.$implicit;s(),v(e)}}function xt(i,t){if(i&1&&(n(0,"li"),a(1),r()),i&2){let e=t.$implicit;s(),v(e)}}function ut(i,t){if(i&1&&(n(0,"div",17)(1,"h3",21),a(2,"Equipment Needed"),r(),n(3,"ul",23),p(4,xt,2,1,"li",24),r()()),i&2){let e=d().ngIf;s(4),l("ngForOf",e.equipmentNeeded)}}function ft(i,t){if(i&1&&(n(0,"div",17)(1,"h3",21),a(2,"Notes & Tips"),r(),n(3,"p",47),a(4),r()()),i&2){let e=d().ngIf;s(4),v(e.notes)}}function _t(i,t){if(i&1&&(n(0,"div",17)(1,"a",48),h(),n(2,"svg",49),g(3,"path",50),r(),a(4," Watch Video "),r()()),i&2){let e=d().ngIf;s(),l("href",e.videoUrl,R)}}function vt(i,t){if(i&1&&(n(0,"p",60),a(1),r()),i&2){let e=d().$implicit;l("title",e.notes),s(),k(" Notes: ",e.notes," ")}}function yt(i,t){if(i&1&&(n(0,"div",55)(1,"p",56),a(2),r(),n(3,"p",57),a(4),r(),n(5,"p",58),a(6),b(7,"date"),r(),p(8,vt,2,2,"p",59),r()),i&2){let e=t.$implicit,o=d(3);s(2),v(e.pbType),s(2),v(o.formatPbValue(e)),s(2),k(" Achieved on: ",W(7,4,e.timestamp,"mediumDate")," "),s(2),l("ngIf",e.notes)}}function ht(i,t){if(i&1&&(n(0,"div",51)(1,"h3",52),a(2,"Your Personal Bests"),r(),n(3,"div",53),p(4,yt,9,7,"div",54),r()()),i&2){let e=d(2);s(4),l("ngForOf",e.exercisePBs())}}function bt(i,t){i&1&&(n(0,"div",51)(1,"p",61),a(2,"No personal bests recorded for this exercise yet. "),r()())}function Et(i,t){if(i&1&&(Z(0),p(1,bt,3,0,"div",26),Y()),i&2){let e=t.ngIf,o=d(2);s(),l("ngIf",o.exercise()&&o.exercisePBs().length===0&&e.length>0)}}function wt(i,t){if(i&1&&(n(0,"div"),a(1),r()),i&2){let e=d().model;s(),k("Reps: ",e.extra.reps)}}function Ct(i,t){if(i&1&&(n(0,"div",66)(1,"div")(2,"strong"),a(3),b(4,"date"),r()(),n(5,"div"),a(6),b(7,"number"),r(),p(8,wt,2,1,"div",27),r()),i&2){let e=t.model;s(3),v(W(4,4,e.name,"mediumDate")),s(3),ue("",e.series,": ",W(7,7,e.value,"1.0-2")," kg"),s(2),l("ngIf",e.extra&&e.extra.reps)}}function St(i,t){}function kt(i,t){if(i&1){let e=E();n(0,"div",62)(1,"h3",63),a(2),r(),n(3,"div",64)(4,"ngx-charts-line-chart",65),u("select",function(c){f(e);let m=d(2);return _(m.onProgressChartSelect(c))}),p(5,Ct,9,10,"ng-template",null,1,I)(7,St,0,0,"ng-template",null,2,I),r()()()}if(i&2){let e=d(2);s(2),k("Progress: ",e.progressChartYAxisLabel," Over Time"),s(2),l("view",e.progressChartView)("scheme",e.progressChartColorScheme)("results",e.exerciseProgressChartData())("legend",!1)("xAxis",e.progressChartShowXAxis)("yAxis",e.progressChartShowYAxis)("xAxisLabel",e.progressChartXAxisLabel)("yAxisLabel",e.progressChartYAxisLabel)("timeline",e.progressChartTimeline)("showXAxisLabel",e.progressChartShowXAxisLabel)("showYAxisLabel",e.progressChartShowYAxisLabel)("autoScale",e.progressChartAutoScale)}}function It(i,t){if(i&1&&(n(0,"div",62)(1,"p",61),a(2," Not enough history for "),n(3,"strong",67),a(4),r(),a(5," to plot a progress trend (need at least 2 workouts for this exercise). Keep logging! "),r()()),i&2){let e,o=d(3);s(4),v((e=o.exercise())==null?null:e.name)}}function Tt(i,t){if(i&1&&(Z(0),p(1,It,6,1,"div",28),Y()),i&2){let e=t.ngIf,o=d(2);s(),l("ngIf",e&&e.length>0&&!o.hasSufficientProgressData)}}function At(i,t){if(i&1&&(Z(0),n(1,"div",5),p(2,mt,5,5,"div",6)(3,dt,3,0,"div",7),n(4,"div",8)(5,"div",9)(6,"button",10),h(),n(7,"svg",11),g(8,"path",12),r()(),S(),n(9,"h1",13),a(10),r(),p(11,pt,9,3,"div",14),r(),n(12,"div",15)(13,"span",16),a(14),r()(),n(15,"div",17)(16,"h2",18),a(17,"Description"),r(),n(18,"p",19),a(19),r()(),n(20,"div",20)(21,"div")(22,"h3",21),a(23,"Primary Muscle Group"),r(),n(24,"p",22),a(25),r()(),n(26,"div")(27,"h3",21),a(28,"Other Muscle Groups"),r(),n(29,"ul",23),p(30,gt,2,1,"li",24),r()()(),p(31,ut,5,1,"div",25)(32,ft,5,1,"div",25)(33,_t,5,1,"div",25)(34,ht,5,1,"div",26)(35,Et,2,1,"ng-container",27),b(36,"async"),p(37,kt,9,13,"div",28)(38,Tt,2,1,"ng-container",27),b(39,"async"),r()(),Y()),i&2){let e=t.ngIf,o=d();s(2),l("ngIf",!1),s(),l("ngIf",!e.imageUrls||e.imageUrls.length===0),s(7),v(e.name),s(),l("ngIf",o.exercise()),s(3),k(" ",e.category," "),s(5),v(e.description),s(6),v(e.primaryMuscleGroup),s(5),l("ngForOf",e.muscleGroups),s(),l("ngIf",e.equipmentNeeded&&e.equipmentNeeded.length>0),s(),l("ngIf",e.notes),s(),l("ngIf",e.videoUrl),s(),l("ngIf",o.exercisePBs().length>0),s(),l("ngIf",C(36,15,o.trackingService.workoutLogs$)),s(2),l("ngIf",o.exercise()&&o.hasSufficientProgressData),s(),l("ngIf",o.exercise()&&C(39,17,o.trackingService.workoutLogs$))}}function Ft(i,t){i&1&&(n(0,"div",69)(1,"p",70),a(2,"Loading exercise details..."),r()())}function Mt(i,t){i&1&&(n(0,"div",69)(1,"h2",71),a(2,"Exercise Not Found"),r(),n(3,"p",22),a(4,"The exercise you are looking for does not exist or could not be loaded."),r(),n(5,"a",72),a(6,"Go to Library"),r()())}function Lt(i,t){if(i&1&&p(0,Ft,3,0,"div",68)(1,Mt,7,0,"ng-template",null,3,I),i&2){let e=L(2),o=d();l("ngIf",o.exercise()===void 0)("ngIfElse",e)}}var oe=class i{route=y(te);router=y(N);exerciseService=y(O);trackingService=y(De);alertService=y(B);exercise=w(void 0);currentImageIndex=w(0);exercisePBs=w([]);exerciseProgressChartData=w([]);exerciseDetailSub;progressChartView=[700,300];progressChartColorScheme="cool";progressChartXAxisLabel="Date";progressChartYAxisLabel="Max Weight Lifted (kg)";progressChartShowXAxis=!0;progressChartShowYAxis=!0;progressChartGradient=!1;progressChartShowXAxisLabel=!0;progressChartShowYAxisLabel=!0;progressChartTimeline=!0;progressChartAutoScale=!0;id;platformId=y(z);ngOnInit(){ee(this.platformId)&&window.scrollTo(0,0);let t=this.id?q(this.id):this.route.paramMap.pipe(me(e=>e.get("id")));this.exerciseDetailSub=t.pipe(ge(e=>{this.exercise.set(void 0),this.exercisePBs.set([]),this.exerciseProgressChartData.set([]),e?this.loadExerciseData(e):this.exercise.set(null)})).subscribe()}loadExercise(t){this.exerciseService.getExerciseById(t).subscribe(e=>{this.exercise.set(e||null),this.currentImageIndex.set(0)})}nextImage(){let t=this.exercise();t&&t.imageUrls.length>1&&this.currentImageIndex.update(e=>(e+1)%t.imageUrls.length)}prevImage(){let t=this.exercise();t&&t.imageUrls.length>1&&this.currentImageIndex.update(e=>(e-1+t.imageUrls.length)%t.imageUrls.length)}loadExercisePBs(t){this.trackingService.getAllPersonalBestsForExercise(t).pipe(T(1)).subscribe(e=>{let o=e.sort((c,m)=>c.pbType.includes("RM (Actual)")&&!m.pbType.includes("RM (Actual)")?-1:!c.pbType.includes("RM (Actual)")&&m.pbType.includes("RM (Actual)")?1:c.pbType.includes("RM (Estimated)")&&!m.pbType.includes("RM (Estimated)")?-1:!c.pbType.includes("RM (Estimated)")&&m.pbType.includes("RM (Estimated)")?1:(m.weightUsed??0)-(c.weightUsed??0)||c.pbType.localeCompare(m.pbType));this.exercisePBs.set(o),console.log(`PBs for ${t}:`,o)})}formatPbValue(t){let e="";return t.weightUsed!==void 0&&t.weightUsed!==null?(e+=`${t.weightUsed}kg`,t.repsAchieved>1&&!t.pbType.includes("RM (Actual)")&&!t.pbType.includes("RM (Estimated)")?e+=` x ${t.repsAchieved}`:t.repsAchieved>1&&t.pbType==="Heaviest Lifted"&&(e+=` x ${t.repsAchieved}`)):t.repsAchieved>0&&t.pbType.includes("Max Reps")?e=`${t.repsAchieved} reps`:t.durationPerformed&&t.durationPerformed>0&&t.pbType.includes("Max Duration")&&(e=`${t.durationPerformed}s`),e||"N/A"}loadExerciseData(t){de({baseExercise:this.exerciseService.getExerciseById(t).pipe(T(1)),pbs:this.trackingService.getAllPersonalBestsForExercise(t).pipe(T(1)),progress:this.trackingService.getExercisePerformanceHistory(t).pipe(T(1))}).subscribe(({baseExercise:e,pbs:o,progress:c})=>{this.exercise.set(e||null),this.currentImageIndex.set(0);let m=o.sort((x,le)=>(le.weightUsed??0)-(x.weightUsed??0)||x.pbType.localeCompare(le.pbType));this.exercisePBs.set(m),c&&c.length>0?this.exerciseProgressChartData.set([{name:e?.name||"Max Weight",series:c.map(x=>({name:x.date,value:x.value,extra:{reps:x.reps,logId:x.logId}}))}]):this.exerciseProgressChartData.set([])},e=>{console.error("Error loading exercise details page data:",e),this.exercise.set(null)})}onProgressChartSelect(t){console.log("Progress chart item selected:",t),t.extra&&t.extra.logId}get hasSufficientProgressData(){let t=this.exerciseProgressChartData();return t.length>0&&t[0]&&t[0].series&&t[0].series.length>1}confirmDeleteExercise(t){return F(this,null,function*(){if(!t)return;let e=[{text:"Cancel",role:"cancel",data:!1,cssClass:"bg-gray-300 hover:bg-gray-500"},{text:"Delete Exercise",role:"confirm",data:!0,cssClass:"button-danger"}],o=yield this.alertService.showConfirmationDialog("Confirm Deletion",`Are you sure you want to delete the exercise "${t.name}"? 
      If this exercise is part of any past workout logs, it will be removed from those logs. 
      If a log becomes empty as a result, the entire log might be deleted. This action cannot be undone.`,e);if(o&&o.data===!0)try{yield this.exerciseService.deleteExercise(t.id),this.alertService.showAlert("Success",`Exercise "${t.name}" deleted successfully.`),this.router.navigate(["/library"])}catch(c){console.error("Error deleting exercise:",c),this.alertService.showAlert("Error",`Failed to delete exercise: ${c.message||"Unknown error"}`)}})}ngOnDestroy(){this.exerciseDetailSub?.unsubscribe()}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=M({type:i,selectors:[["app-exercise-detail"]],inputs:{id:"id"},decls:3,vars:2,consts:[["loadingOrNotFound",""],["tooltipTemplate",""],["seriesTooltipTemplate",""],["notFound",""],[4,"ngIf","ngIfElse"],[1,"bg-white","dark:bg-gray-700","rounded-lg","shadow-xl","overflow-hidden"],["class","relative",4,"ngIf"],["class","w-full h-64 sm:h-80 md:h-96 bg-gray-200 dark:bg-gray-700 flex items-center justify-center",4,"ngIf"],[1,"p-6","md:p-8"],[1,"flex","justify-between","pb-1","sm:flex-row"],["routerLink","/library",1,"text-gray-600","dark:text-gray-300","hover:text-primary","dark:hover:text-primary-light","p-2","-ml-1"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 19l-7-7 7-7"],[1,"flex","text-3xl","md:text-4xl","font-bold","mb-3","text-gray-800","dark:text-gray-100"],["class","mt-4 flex flex-wrap gap-2 justify-center sm:justify-start sm:flex-row",4,"ngIf"],[1,"mb-4"],[1,"px-3","py-1","text-xs","font-semibold","rounded-full","bg-primary-light","text-white","dark:bg-primary-dark","dark:text-primary-light","capitalize"],[1,"mb-6"],[1,"text-xl","font-semibold","mb-2","text-gray-700","dark:text-gray-300"],[1,"text-gray-600","dark:text-gray-400","leading-relaxed"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6","mb-6"],[1,"text-lg","font-semibold","mb-2","text-gray-700","dark:text-gray-300"],[1,"text-gray-600","dark:text-gray-400"],[1,"list-disc","list-inside","text-gray-600","dark:text-gray-400"],[4,"ngFor","ngForOf"],["class","mb-6",4,"ngIf"],["class","mt-6 pt-6 border-t border-gray-200 dark:border-gray-700",4,"ngIf"],[4,"ngIf"],["class","mt-8 pt-6 border-t border-gray-200 dark:border-gray-700",4,"ngIf"],[1,"relative"],[1,"w-full","h-64","sm:h-80","md:h-96","object-contain","bg-gray-200","dark:bg-gray-700",3,"src","alt"],["class","absolute top-1/2 left-2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white p-2 rounded-full hover:bg-opacity-75 focus:outline-none",3,"click",4,"ngIf"],["class","absolute top-1/2 right-2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white p-2 rounded-full hover:bg-opacity-75 focus:outline-none",3,"click",4,"ngIf"],["class","absolute bottom-2 left-1/2 transform -translate-x-1/2 flex space-x-2",4,"ngIf"],[1,"absolute","top-1/2","left-2","transform","-translate-y-1/2","bg-black","bg-opacity-50","text-white","p-2","rounded-full","hover:bg-opacity-75","focus:outline-none",3,"click"],[1,"absolute","top-1/2","right-2","transform","-translate-y-1/2","bg-black","bg-opacity-50","text-white","p-2","rounded-full","hover:bg-opacity-75","focus:outline-none",3,"click"],[1,"absolute","bottom-2","left-1/2","transform","-translate-x-1/2","flex","space-x-2"],["class","w-3 h-3 rounded-full cursor-pointer",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"w-3","h-3","rounded-full","cursor-pointer",3,"click","ngClass"],[1,"w-full","h-64","sm:h-80","md:h-96","bg-gray-200","dark:bg-gray-700","flex","items-center","justify-center"],[1,"text-gray-500","dark:text-gray-400"],[1,"mt-4","flex","flex-wrap","gap-2","justify-center","sm:justify-start","sm:flex-row"],["type","button",1,"bg-yellow-500","hover:bg-yellow-600","text-white","font-semibold","py-2","px-3","rounded-md","shadow-sm","text-xs","sm:text-sm","flex","items-center",3,"routerLink"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"size-4","sm:size-5","mr-1"],["stroke-linecap","round","stroke-linejoin","round","d","m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"],["type","button",1,"bg-red-500","hover:bg-red-600","text-white","font-semibold","py-2","px-3","rounded-md","shadow-sm","text-xs","sm:text-sm","flex","items-center",3,"click"],["stroke-linecap","round","stroke-linejoin","round","d","m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"],[1,"text-gray-600","dark:text-gray-400","whitespace-pre-line"],["target","_blank","rel","noopener noreferrer",1,"inline-flex","items-center","px-4","py-2","border","border-transparent","text-sm","font-medium","rounded-md","shadow-sm","text-white","bg-red-600","hover:bg-red-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-red-500",3,"href"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"w-5","h-5","mr-2"],["d","M3 4a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H3Zm10 6.004a.75.75 0 0 0-.504-.705l-4.25-2.125a.75.75 0 0 0-1.042.705v4.25a.75.75 0 0 0 1.042.705l4.25-2.125A.75.75 0 0 0 13 10.004Z"],[1,"mt-6","pt-6","border-t","border-gray-200","dark:border-gray-700"],[1,"text-xl","font-semibold","mb-3","text-gray-700","dark:text-gray-300"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-3","gap-4","mb-2"],["class","p-4 bg-gray-50 dark:bg-gray-700 rounded-lg border dark:border-gray-600 shadow-sm",4,"ngFor","ngForOf"],[1,"p-4","bg-gray-50","dark:bg-gray-700","rounded-lg","border","dark:border-gray-600","shadow-sm"],[1,"text-sm","font-medium","text-primary","dark:text-primary-light"],[1,"text-2xl","font-bold","text-gray-800","dark:text-gray-100","mt-1"],[1,"text-xs","text-gray-500","dark:text-gray-400","mt-1"],["class","mt-2 text-xs italic text-gray-500 dark:text-gray-400 line-clamp-2",3,"title",4,"ngIf"],[1,"mt-2","text-xs","italic","text-gray-500","dark:text-gray-400","line-clamp-2",3,"title"],[1,"text-md","text-gray-600","dark:text-gray-400","italic"],[1,"mt-8","pt-6","border-t","border-gray-200","dark:border-gray-700"],[1,"text-xl","font-semibold","mb-4","text-gray-700","dark:text-gray-300"],[1,"bg-white","dark:bg-gray-700","p-4","rounded-lg","shadow-md","min-h-[350px]"],[3,"select","view","scheme","results","legend","xAxis","yAxis","xAxisLabel","yAxisLabel","timeline","showXAxisLabel","showYAxisLabel","autoScale"],[1,"p-2","bg-gray-700","text-white","rounded","shadow-lg","text-xs"],[1,"dark:text-gray-200"],["class","text-center py-10",4,"ngIf","ngIfElse"],[1,"text-center","py-10"],[1,"text-xl","text-gray-600","dark:text-gray-400"],[1,"text-2xl","font-semibold","mb-4","text-gray-700","dark:text-gray-200"],["routerLink","/library",1,"mt-4","inline-block","bg-primary","hover:bg-primary-dark","text-white","font-semibold","py-2","px-4","rounded-md"]],template:function(e,o){if(e&1&&p(0,At,40,19,"ng-container",4)(1,Lt,3,2,"ng-template",null,0,I),e&2){let c=L(2);l("ngIf",o.exercise())("ngIfElse",c)}},dependencies:[P,J,V,D,K,ye,ve,G,Ge,Ne],encapsulation:2})};function Vt(i,t){if(i&1&&(n(0,"option",27),a(1),b(2,"titlecase"),r()),i&2){let e=t.$implicit;l("value",e),s(),v(C(2,2,e))}}function Dt(i,t){if(i&1&&(n(0,"option",27),a(1),r()),i&2){let e=t.$implicit;l("value",e),s(),v(e)}}function Pt(i,t){if(i&1){let e=E();n(0,"div",28),g(1,"input",29),n(2,"button",30),u("click",function(){let c=f(e).index,m=d();return _(m.removeControlFromFormArray("muscleGroups",c))}),a(3,"Remove"),r()()}if(i&2){let e=t.index;s(),l("formControlName",e)}}function Nt(i,t){if(i&1){let e=E();n(0,"div",28),g(1,"input",29),n(2,"button",30),u("click",function(){let c=f(e).index,m=d();return _(m.removeControlFromFormArray("equipmentNeeded",c))}),a(3,"Remove"),r()()}if(i&2){let e=t.index;s(),l("formControlName",e)}}function Gt(i,t){if(i&1){let e=E();n(0,"div",28),g(1,"input",33),n(2,"button",30),u("click",function(){let c=f(e).index,m=d(2);return _(m.removeControlFromFormArray("imageUrls",c))}),a(3,"Remove"),r()()}if(i&2){let e=t.index;s(),l("formControlName",e)}}function Bt(i,t){if(i&1){let e=E();n(0,"div",31)(1,"h3",32),a(2,"Image URLs (one per line)"),r(),p(3,Gt,4,1,"div",16),n(4,"button",17),u("click",function(){f(e);let c=d();return _(c.addControlToFormArray("imageUrls"))}),a(5,"+ Add Image URL"),r()()}if(i&2){let e=d();s(3),l("ngForOf",e.getFormArray("imageUrls").controls)}}var H=class i{fb=y(Fe);router=y(N);route=y(te);exerciseService=y(O);alertService=y(B);exerciseForm;isEditMode=w(!1);editingExerciseId=null;pageTitle=w("Add New Exercise");categories=["barbells","dumbbells","bodyweight","machines","cables","kettlebells","bands","other"];availableMuscleGroups=["Chest","Back","Legs","Shoulders","Biceps","Triceps","Abs","Calves","Forearms","Glutes","Hamstrings","Lats","Quads","Traps"];constructor(){this.exerciseForm=this.fb.group({name:["",A.required],description:["",A.required],category:["bodyweight",A.required],primaryMuscleGroup:["",A.required],muscleGroups:this.fb.array([]),equipmentNeeded:this.fb.array([]),imageUrls:this.fb.array([]),videoUrl:[""],notes:[""]})}ngOnInit(){this.route.paramMap.pipe(pe(t=>(this.editingExerciseId=t.get("id"),this.editingExerciseId?(this.isEditMode.set(!0),this.pageTitle.set("Edit Exercise"),this.exerciseService.getExerciseById(this.editingExerciseId)):q(null))),T(1)).subscribe(t=>{t&&this.isEditMode()&&this.patchFormForEditing(t)})}patchFormForEditing(t){this.exerciseForm.patchValue({name:t.name,description:t.description,category:t.category,primaryMuscleGroup:t.primaryMuscleGroup,videoUrl:t.videoUrl||"",notes:t.notes||""}),this.setFormArrayControls("muscleGroups",t.muscleGroups),this.setFormArrayControls("equipmentNeeded",t.equipmentNeeded||[]),this.setFormArrayControls("imageUrls",t.imageUrls)}getFormArray(t){return this.exerciseForm.get(t)}setFormArrayControls(t,e){let o=this.getFormArray(t);o.clear(),e.forEach(c=>o.push(this.fb.control(c,A.required)))}addControlToFormArray(t){this.getFormArray(t).push(this.fb.control("",A.required))}removeControlFromFormArray(t,e){this.getFormArray(t).removeAt(e)}onSubmit(){return F(this,null,function*(){if(this.exerciseForm.invalid){this.exerciseForm.markAllAsTouched(),this.alertService.showAlert("Error","Please fill in all required fields.");return}let t=this.exerciseForm.value,e=U({},t);try{if(this.isEditMode()&&this.editingExerciseId)yield this.exerciseService.updateExercise(U({id:this.editingExerciseId},e)).toPromise(),this.alertService.showAlert("Success","Exercise updated successfully!"),this.router.navigate(["/library",this.editingExerciseId]);else{let o=yield this.exerciseService.addExercise(e).toPromise();o?(this.alertService.showAlert("Success","Exercise added successfully!"),this.router.navigate(["/library",o.id])):(console.error("Failed to add exercise, newExercise is undefined."),this.alertService.showAlert("Error","Failed to add exercise. Please try again."))}}catch(o){console.error("Error saving exercise:",o),this.alertService.showAlert("Error",`Failed to save exercise: ${o.message}`)}})}get f(){return this.exerciseForm.controls}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=M({type:i,selectors:[["app-exercise-form"]],decls:51,vars:9,consts:[[1,"container","mx-auto","p-1","sm:p-4"],[1,"mb-6","pb-4","border-b","border-gray-200","dark:border-gray-700"],[1,"text-2xl","font-bold","text-gray-800","dark:text-gray-200"],[1,"space-y-6","bg-white","dark:bg-gray-700","p-6","rounded-lg","shadow-md",3,"ngSubmit","formGroup"],["for","name",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["type","text","id","name","formControlName","name",1,"mt-1","block","w-full","p-2","border","rounded-md"],["for","description",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["id","description","formControlName","description","rows","3",1,"mt-1","block","w-full","p-2","border","rounded-md"],["for","category",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["id","category","formControlName","category",1,"mt-1","block","w-full","p-2","border","rounded-md"],[3,"value",4,"ngFor","ngForOf"],["for","primaryMuscleGroup",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["id","primaryMuscleGroup","formControlName","primaryMuscleGroup",1,"mt-1","block","w-full","p-2","border","rounded-md"],["value",""],["formArrayName","muscleGroups"],[1,"text-lg","font-medium","dark:text-gray-300"],["class","flex items-center space-x-2 mb-2",4,"ngFor","ngForOf"],["type","button",1,"text-sm","text-blue-600",3,"click"],["formArrayName","equipmentNeeded"],["formArrayName","imageUrls",4,"ngIf"],["for","videoUrl",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["type","url","id","videoUrl","formControlName","videoUrl",1,"mt-1","block","w-full","p-2","border","rounded-md"],["for","notes",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["id","notes","formControlName","notes","rows","3",1,"mt-1","block","w-full","p-2","border","rounded-md"],[1,"pt-6","flex","justify-end","space-x-3"],["routerLink","/library",1,"px-4","py-2","border","rounded-md","dark:bg-gray-400"],["type","submit",1,"px-4","py-2","bg-primary","text-white","rounded-md","disabled:opacity-50",3,"disabled"],[3,"value"],[1,"flex","items-center","space-x-2","mb-2"],["type","text",1,"block","w-full","p-2","border","rounded-md",3,"formControlName"],["type","button",1,"text-red-500",3,"click"],["formArrayName","imageUrls"],[1,"text-lg","font-medium"],["type","url","placeholder","https://example.com/image.jpg",1,"block","w-full","p-2","border","rounded-md",3,"formControlName"]],template:function(e,o){e&1&&(n(0,"div",0)(1,"header",1)(2,"h1",2),a(3),r()(),n(4,"form",3),u("ngSubmit",function(){return o.onSubmit()}),n(5,"div")(6,"label",4),a(7,"Name"),r(),g(8,"input",5),r(),n(9,"div")(10,"label",6),a(11,"Description"),r(),g(12,"textarea",7),r(),n(13,"div")(14,"label",8),a(15,"Category"),r(),n(16,"select",9),p(17,Vt,3,4,"option",10),r()(),n(18,"div")(19,"label",11),a(20,"Primary Muscle Group"),r(),n(21,"select",12)(22,"option",13),a(23,"Select Primary Muscle"),r(),p(24,Dt,2,2,"option",10),r()(),n(25,"div",14)(26,"h3",15),a(27,"Other Muscle Groups"),r(),p(28,Pt,4,1,"div",16),n(29,"button",17),u("click",function(){return o.addControlToFormArray("muscleGroups")}),a(30,"+ Add Muscle Group"),r()(),n(31,"div",18)(32,"h3",15),a(33,"Equipment Needed"),r(),p(34,Nt,4,1,"div",16),n(35,"button",17),u("click",function(){return o.addControlToFormArray("equipmentNeeded")}),a(36,"+ Add Equipment"),r()(),p(37,Bt,6,1,"div",19),n(38,"div")(39,"label",20),a(40,"Video URL (Optional)"),r(),g(41,"input",21),r(),n(42,"div")(43,"label",22),a(44,"Notes & Tips (Optional)"),r(),g(45,"textarea",23),r(),n(46,"div",24)(47,"a",25),a(48,"Cancel"),r(),n(49,"button",26),a(50),r()()()()),e&2&&(s(3),v(o.pageTitle()),s(),l("formGroup",o.exerciseForm),s(13),l("ngForOf",o.categories),s(7),l("ngForOf",o.availableMuscleGroups),s(4),l("ngForOf",o.getFormArray("muscleGroups").controls),s(6),l("ngForOf",o.getFormArray("equipmentNeeded").controls),s(3),l("ngIf",!1),s(12),l("disabled",o.exerciseForm.invalid),s(),k(" ",o.isEditMode()?"Update Exercise":"Add Exercise"," "))},dependencies:[P,V,D,Q,Me,we,Te,Ae,he,Ie,be,Ee,Ce,ke,Se,G],encapsulation:2})};var Ri=[{path:"",component:ne,title:"Exercise Library"},{path:"new",component:H,title:"Add New Exercise"},{path:"edit/:id",component:H,title:"Edit Exercise"},{path:":id",component:oe,title:"Exercise Details"}];export{Ri as EXERCISE_LIBRARY_ROUTES};
