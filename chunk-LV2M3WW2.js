import{K as a,O as o,d as s,fd as l}from"./chunk-L7EF5E5T.js";var r=class e{loadingCount=0;isLoading=new s(!1);loadingMessage=new s(null);activeTimeoutId=null;translate=o(l);loading$=this.isLoading.asObservable();message$=this.loadingMessage.asObservable();constructor(){}show(t=null,i=6e3,u="spinnerService.timeoutMessage"){this.loadingCount++,this.loadingCount===1&&this.isLoading.next(!0),this.loadingMessage.next(t),this.activeTimeoutId&&(clearTimeout(this.activeTimeoutId),this.activeTimeoutId=null);let n=this.translate.instant(u);typeof i=="number"&&i>0&&typeof n=="string"&&(this.activeTimeoutId=setTimeout(()=>{if(this.isLoading.value){let d=t?`${t} (${n})`:n;this.loadingMessage.next(d)}this.activeTimeoutId=null},i))}hide(){this.loadingCount>0&&this.loadingCount--,this.loadingCount===0&&(this.isLoading.next(!1),this.loadingMessage.next(null),this.activeTimeoutId&&(clearTimeout(this.activeTimeoutId),this.activeTimeoutId=null))}reset(){this.loadingCount=0,this.isLoading.next(!1),this.loadingMessage.next(null),this.activeTimeoutId&&(clearTimeout(this.activeTimeoutId),this.activeTimeoutId=null)}static \u0275fac=function(i){return new(i||e)};static \u0275prov=a({token:e,factory:e.\u0275fac,providedIn:"root"})};export{r as a};
