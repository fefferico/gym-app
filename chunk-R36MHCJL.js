import{a as Ie}from"./chunk-DPJTO5SN.js";import"./chunk-5BCFPMUV.js";import{a as j,c as Me}from"./chunk-KKXOK4YJ.js";import{a as Ae}from"./chunk-3PDLREWY.js";import{a as Te}from"./chunk-CUDOTC7H.js";import{Ac as ye,Ba as c,Bb as ce,Bc as be,Ca as r,Cb as O,Cc as we,Da as n,Db as H,E as ee,Ea as x,Gc as Ee,Hb as de,I as te,Ia as w,Ib as D,Ic as Ce,Ja as g,Jc as ke,Ka as d,Kb as me,Kc as q,Mc as Se,Nb as U,Ob as X,Q as h,Ra as Y,S as f,Sa as K,T as v,Ta as P,U as _,V as C,Va as s,Wa as k,Xa as S,Xb as pe,Z as y,Zb as z,_b as R,a as F,b as Q,ca as ie,dc as $,ec as A,fa as re,fb as oe,g as N,ga as ne,gc as T,hc as L,ia as a,ic as I,kb as b,lb as E,mb as se,nb as ae,ob as W,oc as ue,p as J,pc as M,qa as B,qc as xe,rb as le,rc as ge,uc as fe,va as u,wc as ve,yc as he,zc as _e}from"./chunk-IG32NSHN.js";var Be=o=>({"filter dark:invert":o});function Pe(o,t){if(o&1&&(r(0,"option",39),s(1),b(2,"titlecase"),n()),o&2){let e=t.$implicit;c("value",e),a(),k(E(2,2,e))}}function Oe(o,t){if(o&1&&(r(0,"option",39),s(1),b(2,"titlecase"),n()),o&2){let e=t.$implicit;c("value",e),a(),k(E(2,2,e))}}function He(o,t){if(o&1&&(r(0,"div",40),s(1," Showing "),r(2,"strong",41),s(3),n(),s(4," exercises "),n()),o&2){let e=d();a(3),k(e.filteredExercises().length)}}function De(o,t){if(o&1&&x(0,"img",65),o&2){let e=d().$implicit,i=d(3);c("src",i.getIconPath(e.iconName),re)("alt",e.name+" icon")("ngClass",oe(3,Be,e.iconName!=="default-exercise"))}}function Ue(o,t){o&1&&(r(0,"span",66),_(),r(1,"svg",67),x(2,"path",68)(3,"path",69),n(),s(4," Hidden "),n())}function ze(o,t){o&1&&(r(0,"span",70),_(),r(1,"svg",71),x(2,"path",72)(3,"path",73),n(),s(4," Custom "),n())}function Re(o,t){if(o&1&&(r(0,"p",53)(1,"span",74),s(2," Equipment: "),n(),r(3,"span"),s(4),b(5,"titlecase"),n()()),o&2){let e=d().$implicit;a(4),S(" ",E(5,1,e.equipmentNeeded.join(", ")||"None")," ")}}function $e(o,t){if(o&1&&(r(0,"div",75),_(),r(1,"svg",76)(2,"g")(3,"g"),x(4,"path",77)(5,"path",78),n()()(),C(),r(6,"span",74),s(7,"Muscles:"),n(),r(8,"span",79),s(9),b(10,"titlecase"),n()()),o&2){let e=d().$implicit;a(9),S(" ",E(10,1,e.primaryMuscleGroup)," ")}}function qe(o,t){if(o&1&&(r(0,"p",80),s(1),n()),o&2){let e=d().$implicit;c("title",e.description),a(),k(e.description)}}function je(o,t){if(o&1&&(r(0,"p",81),s(1),b(2,"date"),n()),o&2){let e=d().$implicit;a(),S(" Last used: ",ae(2,1,e.lastUsedAt,"dd-MM-yyyy","UTC")," ")}}function Ze(o,t){if(o&1&&(r(0,"p",81),s(1),b(2,"date"),n()),o&2){let e=d().$implicit;a(),S(" Last updated: ",se(2,1,e.updatedAt,"short")," ")}}function Ye(o,t){if(o&1){let e=w();r(0,"app-action-menu",82),g("itemClick",function(l){f(e);let m=d(4);return v(m.handleActionMenuItemClick(l))})("closeMenu",function(){f(e);let l=d(4);return v(l.onCloseActionMenu())}),n()}if(o&2){let e=d().$implicit,i=d(3);c("items",i.getExerciseDropdownActionItems(e.id,"dropdown"))("isVisible",i.areActionsVisible(e.id))}}function Ke(o,t){if(o&1){let e=w();r(0,"app-action-menu",83),g("itemClick",function(l){f(e);let m=d(4);return v(m.handleActionMenuItemClick(l))})("closeMenu",function(){f(e);let l=d(4);return v(l.onCloseActionMenu())}),n()}if(o&2){let e=d().$implicit,i=d(3);c("items",i.getExerciseDropdownActionItems(e.id,"compact-bar"))("isVisible",i.areActionsVisible(e.id))}}function We(o,t){if(o&1){let e=w();r(0,"div",45),g("click",function(){let l=f(e).$implicit,m=d(3);return v(m.goToExerciseDetails(l.id))}),r(1,"div",46)(2,"div",47),u(3,De,1,5,"img",48),r(4,"h2",49),s(5),n()(),r(6,"div",50),u(7,Ue,5,0,"span",51)(8,ze,5,0,"span",52),n(),r(9,"p",53),s(10),b(11,"titlecase"),n(),u(12,Re,6,3,"p",54)(13,$e,11,3,"div",55)(14,qe,2,2,"p",56)(15,je,3,5,"p",57)(16,Ze,3,4,"p",57),n(),r(17,"div",58)(18,"div",59)(19,"button",60),g("click",function(l){let m=f(e).$implicit,p=d(3);return v(p.toggleActions(m.id,l))}),_(),r(20,"svg",61),x(21,"path",62),n()(),u(22,Ye,1,2,"app-action-menu",63),n()(),u(23,Ke,1,2,"app-action-menu",64),n()}if(o&2){let e=t.$implicit,i=d(3);K("z-index",i.areActionsVisible(e.id)?50:"auto"),a(3),c("ngIf",e),a(),c("title",e.name),a(),k(e.name),a(2),c("ngIf",e.isHidden),a(),c("ngIf",e.isCustom),a(2),S("Category: ",E(11,15,e.category)),a(2),c("ngIf",e.equipmentNeeded),a(),c("ngIf",e.primaryMuscleGroup),a(),c("ngIf",e.description),a(),c("ngIf",e.lastUsedAt),a(),c("ngIf",e.updatedAt),a(6),c("ngIf",i.areActionsVisible(e.id)&&!i.menuModeCompact),a(),c("ngIf",i.areActionsVisible(e.id)&&i.menuModeCompact)}}function Xe(o,t){if(o&1&&(r(0,"div",43),u(1,We,24,17,"div",44),n()),o&2){let e=d(2);a(),c("ngForOf",e.filteredExercises())}}function Qe(o,t){o&1&&(r(0,"div",84)(1,"p",85),s(2,"No exercises found matching your criteria"),n(),r(3,"p",86),s(4,"Try adjusting your filters or search term."),n()())}function Je(o,t){if(o&1&&(r(0,"div"),u(1,Xe,2,1,"div",42)(2,Qe,5,0,"ng-template",null,1,W),n()),o&2){let e=Y(3),i=d();a(),c("ngIf",i.filteredExercises().length>0)("ngIfElse",e)}}function et(o,t){o&1&&(r(0,"div",84),_(),r(1,"svg",89),x(2,"circle",90)(3,"path",91),n(),C(),r(4,"p",92),s(5,"Loading exercises..."),n()())}function tt(o,t){o&1&&(r(0,"div",93),_(),r(1,"svg",94),x(2,"path",95),n(),C(),r(3,"h3",96),s(4,"Your Exercise Library is Empty"),n(),r(5,"p",97),s(6,"Start building your collection by adding your first exercise "),n(),r(7,"button",98),s(8," Add Your First Exercise "),n()())}function it(o,t){if(o&1&&(r(0,"div",84),u(1,et,6,0,"div",87),b(2,"async"),u(3,tt,9,0,"div",88),b(4,"async"),n()),o&2){let e=d(2);a(),c("ngIf",E(2,2,e.exerciseService.isLoadingExercises$)),a(2),c("ngIf",!E(4,4,e.exerciseService.isLoadingExercises$)&&(!e.allExercises()||e.allExercises().length===0))}}function rt(o,t){if(o&1&&u(0,it,5,6,"div",87),o&2){let e=d();c("ngIf",!e.allExercises()||e.allExercises().length===0)}}function nt(o,t){if(o&1){let e=w();r(0,"button",99),g("shortPress",function(){f(e);let l=d();return v(l.scrollToTop())}),_(),r(1,"svg",100),x(2,"path",101),n(),C(),r(3,"span",8),s(4,"Back to Top"),n()()}}function ot(o,t){if(o&1){let e=w();r(0,"div",102)(1,"div",103)(2,"span",104),s(3," CREATE EXERCISE "),n(),r(4,"button",105),g("shortPress",function(){f(e);let l=d();return v(l.navigateToCreateExercise())}),_(),r(5,"svg",106),x(6,"path",107),n(),C(),r(7,"span",8),s(8,"CREATE EXERCISE"),n()()()()}o&2&&c("@fabSlideUp",void 0)}var Z=class o{exerciseService=h(j);router=h(z);alertService=h(q);toastService=h(Se);spinnerService=h(Te);themeService=h(Me);platformId=h(ie);categories$;primaryMuscleGroups$;selectedCategory=y(null);selectedMuscleGroup=y(null);searchTerm=y("");allExercises=y([]);showHiddenExercises=y(!1);actionsVisibleId=y(null);menuModeCompact=!1;isFilterAccordionOpen=y(!1);filteredExercises=le(()=>{let t=this.allExercises();this.showHiddenExercises()||(t=t.filter(p=>!p.isHidden));let i=this.selectedCategory();i&&(t=t.filter(p=>p.category===i));let l=this.selectedMuscleGroup();l&&(t=t.filter(p=>p.primaryMuscleGroup===l));let m=this.searchTerm();if(m=this.exerciseService.normalizeExerciseNameForSearch(m),m){let p=m.split(/\s+/).filter(Boolean);t=t.filter(G=>{let Fe=[G.name,G.description||""].join(" ").toLowerCase();return p.every(Le=>Fe.includes(Le))})}return t.map(p=>Q(F({},p),{iconName:this.exerciseService.determineExerciseIcon(p,p?.name)}))});constructor(){}showBackToTopButton=y(!1);onWindowScroll(){let t=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;this.showBackToTopButton.set(t>400)}isFabActionsOpen=y(!1);isTouchDevice=!1;ngOnInit(){X(this.platformId)&&(window.scrollTo(0,0),this.isTouchDevice="ontouchstart"in window||navigator.maxTouchPoints>0),this.categories$=this.exerciseService.getUniqueCategories(),this.primaryMuscleGroups$=this.exerciseService.getUniquePrimaryMuscleGroups(),this.menuModeCompact=this.themeService.isMenuModeCompact(),this.exerciseService.exercises$.subscribe(t=>{this.allExercises.set(t)})}onCategoryChange(t){let e=t.target;this.selectedCategory.set(e.value||null)}onMuscleGroupChange(t){let e=t.target;this.selectedMuscleGroup.set(e.value||null)}onSearchTermChange(t){let e=t.target;this.searchTerm.set(e.value.toLowerCase())}clearFilters(){this.selectedCategory.set(null),this.selectedMuscleGroup.set(null),this.searchTerm.set(""),this.showHiddenExercises.set(!1);let t=document.getElementById("category-filter");t&&(t.value="");let e=document.getElementById("muscle-group-filter");e&&(e.value="");let i=document.getElementById("search-term");i&&(i.value="")}goToExerciseDetails(t){this.router.navigate(["/library",t]),this.actionsVisibleId.set(null)}getIconPath(t){return this.exerciseService.getIconPath(t)}editExercise(t){this.router.navigate(["/library/edit",t]),this.actionsVisibleId.set(null)}deleteExercise(t){return N(this,null,function*(){this.actionsVisibleId.set(null);let e=this.allExercises().find(l=>l.id===t);if(!e){this.toastService.error("Exercise not found",0);return}let i=yield this.alertService.showConfirm("Delete Exercise",`Are you sure you want to delete the exercise "${e.name}"? This action cannot be undone.`,"Delete");if(i&&i.data)try{this.spinnerService.show("Deleting exercise.."),yield this.exerciseService.deleteExercise(t),this.toastService.success(`Exercise "${e.name}" deleted successfully.`,3e3,"Deleted")}catch(l){console.error("Error deleting exercise:",l),this.toastService.error("Failed to delete exercise. It might be in use",0,"Error")}finally{this.spinnerService.hide()}})}hideExercise(t){this.exerciseService.hideExercise(t).subscribe(),this.activeExerciseIdActions.set(null)}unhideExercise(t){this.exerciseService.unhideExercise(t).subscribe(),this.activeExerciseIdActions.set(null)}toggleFilterAccordion(){this.isFilterAccordionOpen.update(t=>!t)}scrollToTop(){X(this.platformId)&&window.scrollTo({top:0,behavior:"smooth"})}handleFabClick(){this.isFabActionsOpen.update(t=>!t)}handleFabMouseEnter(){this.isTouchDevice||this.isFabActionsOpen.set(!0)}handleFabMouseLeave(){this.isTouchDevice||this.isFabActionsOpen.set(!1)}navigateToCreateExercise(){this.router.navigate(["/library/new"])}getExerciseDropdownActionItems(t,e){let i="rounded text-left px-3 py-1.5 sm:px-4 sm:py-2 font-medium text-gray-600 dark:text-gray-300 hover:bg-primary flex items-center text-sm hover:text-white dark:hover:text-gray-100 dark:hover:text-white",l="rounded text-left px-3 py-1.5 sm:px-4 sm:py-2 font-medium text-gray-600 dark:text-gray-300 hover:bg-red-600 flex items-center text-sm hover:text-gray-100 hover:animate-pulse",m=this.allExercises().find(G=>G.id===t),p=[{label:"VIEW",actionKey:"view",iconSvg:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path d="M10 12.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5Z" /><path fill-rule="evenodd" d="M.664 10.59a1.651 1.651 0 010-1.186A10.004 10.004 0 0110 3c4.257 0 7.893 2.66 9.336 6.41.147.381.146.804 0 1.186A10.004 10.004 0 0110 17c-4.257 0-7.893-2.66-9.336-6.41ZM14 10a4 4 0 11-8 0 4 4 0 018 0Z" clip-rule="evenodd" /></svg>',iconClass:"w-8 h-8 mr-2",buttonClass:(e==="dropdown"?"w-full ":"")+i,data:{exerciseId:t}},{label:"EDIT",actionKey:"edit",iconSvg:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10" /></svg>',iconClass:"w-8 h-8 mr-2",buttonClass:(e==="dropdown"?"w-full ":"")+i,data:{exerciseId:t}},{isDivider:!0}];return m?.isHidden?p.push({label:"UNHIDE",actionKey:"unhide",iconSvg:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path d="M10 12.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5Z" /><path fill-rule="evenodd" d="M.664 10.59a1.651 1.651 0 010-1.186A10.004 10.004 0 0110 3c4.257 0 7.893 2.66 9.336 6.41.147.381.146.804 0 1.186A10.004 10.004 0 0110 17c-4.257 0-7.893-2.66-9.336-6.41ZM14 10a4 4 0 11-8 0 4 4 0 018 0Z" clip-rule="evenodd" /></svg>',iconClass:"w-8 h-8 mr-2",buttonClass:(e==="dropdown"?"w-full ":"")+i,data:{exerciseId:t}}):p.push({label:"HIDE",actionKey:"hide",iconSvg:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M3.28 2.22a.75.75 0 00-1.06 1.06l14.5 14.5a.75.75 0 101.06-1.06l-1.745-1.745a10.029 10.029 0 003.3-4.38 1.651 1.651 0 000-1.185A10.004 10.004 0 009.999 3a9.956 9.956 0 00-4.744 1.194L3.28 2.22zM7.752 6.69l1.092 1.092a2.5 2.5 0 013.374 3.373l1.091 1.092a4 4 0 00-5.557-5.557z" clip-rule="evenodd" /><path d="M10.748 13.93l2.523 2.523a9.987 9.987 0 01-3.27.547c-4.257 0-7.893-2.66-9.336-6.41a1.651 1.651 0 010-1.186A10.007 10.007 0 012.839 6.02L6.07 9.252a4 4 0 004.678 4.678z" /></svg>',iconClass:"w-8 h-8 mr-2",buttonClass:(e==="dropdown"?"w-full ":"")+i,data:{exerciseId:t}}),p.push({label:"DELETE",actionKey:"delete",iconSvg:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M8.75 1A2.75 2.75 0 006 3.75v.443c-.795.077-1.58.177-2.365.298a.75.75 0 10.23 1.482l.149-.022.841 10.518A2.75 2.75 0 007.596 19h4.807a2.75 2.75 0 002.742-2.53l.841-10.52.149.023a.75.75 0 00.23-1.482A41.03 41.03 0 0014 4.193V3.75A2.75 2.75 0 0011.25 1h-2.5ZM10 4c.84 0 1.673.025 2.5.075V3.75c0-.69-.56-1.25-1.25-1.25h-2.5c-.69 0-1.25.56-1.25 1.25v.325C8.327 4.025 9.16 4 10 4ZM8.58 7.72a.75.75 0 00-1.5.06l.3 7.5a.75.75 0 101.5-.06l-.3-7.5Zm4.34.06a.75.75 0 10-1.5-.06l-.3 7.5a.75.75 0 101.5.06l.3-7.5Z" clip-rule="evenodd" /></svg>',iconClass:"w-8 h-8 mr-2",buttonClass:(e==="dropdown"?"w-full ":"")+l,data:{exerciseId:t}}),p}handleActionMenuItemClick(t,e){let i=t.data?.exerciseId;if(i){switch(t.actionKey){case"view":this.goToExerciseDetails(i);break;case"edit":this.editExercise(i);break;case"delete":this.deleteExercise(i);break;case"hide":this.hideExercise(i);break;case"unhide":this.unhideExercise(i);break}this.activeExerciseIdActions.set(null)}}activeExerciseIdActions=y(null);toggleActions(t,e){e.stopPropagation(),this.activeExerciseIdActions.update(i=>i===t?null:t)}areActionsVisible(t){return this.activeExerciseIdActions()===t}onCloseActionMenu(){this.activeExerciseIdActions.set(null)}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=B({type:o,selectors:[["app-exercise-list"]],hostBindings:function(e,i){e&1&&g("scroll",function(){return i.onWindowScroll()},ne)},decls:58,vars:23,consts:[["loadingOrInitial",""],["noExercisesAfterFilter",""],[1,"container","mx-auto","p-2","sm:p-4"],[1,"flex","justify-between","items-center","pb-2"],[1,"text-2xl","font-bold","text-gray-800","dark:text-gray-200"],["type","button",1,"rounded-md","text-gray-600","dark:text-gray-300","hover:bg-gray-200","dark:hover:bg-gray-700","focus:outline-none","focus:ring-2","focus:ring-primary","dark:focus:ring-primary-light","transition-all","duration-300","ease-in-out",3,"click"],["stroke","currentColor","viewBox","0 0 24 24","stroke-width","0.02","fill","currentColor","xmlns","http://www.w3.org/2000/svg",1,"w-10","h-10","transition-transform","duration-300"],["stroke-linecap","round","stroke-linejoin","round","d","M9 5a1 1 0 1 0 0 2 1 1 0 0 0 0-2zM6.17 5a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 0 1 0-2h1.17zM15 11a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-1.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h7.17zM9 17a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h1.17z"],[1,"sr-only"],[1,"overflow-y-auto","transition-all","duration-500","ease-in-out","rounded-md"],[1,"p-4","bg-white","dark:bg-gray-700","rounded-md","shadow-md","border","dark:border-gray-600"],[1,"text-xl","font-semibold","text-gray-700","dark:text-gray-300","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-4","items-end"],["for","category-filter",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-1"],["id","category-filter",1,"block","w-full","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200",3,"change","value"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","muscle-group-filter",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-1"],["id","muscle-group-filter",1,"block","w-full","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200",3,"change","value"],["for","search-term",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-1"],["type","text","id","search-term","placeholder","Search by name or description...",1,"block","w-full","p-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-primary","focus:border-primary","dark:bg-gray-600","dark:text-gray-200",3,"input","value"],[1,"md:col-span-1","border-t","md:border-t-0","pt-4","md:pt-0"],["for","show-hidden-exercises",1,"inline-flex","items-center","cursor-pointer","mt-2"],["type","checkbox","id","show-hidden-exercises",1,"sr-only","peer",3,"change","checked"],[1,"relative","w-11","h-6","bg-gray-200","peer-focus:outline-none","peer-focus:ring-4","peer-focus:ring-blue-300","dark:peer-focus:ring-blue-800","rounded-full","peer","dark:bg-gray-600","peer-checked:after:translate-x-full","rtl:peer-checked:after:-translate-x-full","peer-checked:after:border-white","after:content-['']","after:absolute","after:top-[2px]","after:start-[2px]","after:bg-white","after:border-gray-300","after:border","after:rounded-full","after:h-5","after:w-5","after:transition-all","dark:border-gray-600","peer-checked:bg-primary","dark:peer-checked:bg-primary-dark"],[1,"ms-3","text-sm","font-medium","text-gray-900","dark:text-gray-300"],[1,"mt-4","flex","justify-between","items-center"],["appPress","",1,"flex","px-4","py-2","bg-yellow-200","dark:bg-yellow-700","text-gray-700","dark:text-gray-200","rounded-md","hover:bg-yellow-300","dark:hover:bg-yellow-500","text-sm","items-center",3,"shortPress"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"size-5","mr-2"],["stroke-linecap","round","stroke-linejoin","round","d","m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"],["class","text-sm text-gray-600 dark:text-gray-400",4,"ngIf"],[4,"ngIf","ngIfElse"],[1,"fixed","bottom-20","right-6","z-40","flex","flex-col","items-center","gap-4"],["appPress","","type","button","class","bg-primary dark:bg-primary-dark text-white rounded-full p-3 shadow-lg hover:bg-primary-dark dark:hover:bg-primary-light focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-focus dark:focus:ring-offset-gray-900 transition-opacity animate-fade-in",3,"shortPress",4,"ngIf"],[1,"flex","flex-col-reverse","items-center","gap-4",3,"mouseenter","mouseleave"],["appPress","","type","button",1,"flex","h-14","w-14","items-center","justify-center","rounded-full","bg-primary","text-white","shadow-xl","transition-all","duration-300","hover:bg-primary-dark","hover:scale-105","focus:outline-none","focus:ring-2","focus:ring-primary-focus","focus:ring-offset-2","dark:ring-offset-gray-900",3,"shortPress"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2.5",1,"h-8","w-8","transition-transform","duration-300"],["stroke-linecap","round","stroke-linejoin","round","d","M12 6v6m0 0v6m0-6h6m-6 0H6"],["class","flex flex-col items-center gap-4",4,"ngIf"],[3,"value"],[1,"text-sm","text-gray-600","dark:text-gray-400"],[1,"text-gray-800","dark:text-gray-200"],["class","grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mt-4",4,"ngIf","ngIfElse"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-4","mt-4"],["class","bg-white dark:bg-gray-700 rounded-md shadow-lg hover:shadow-xl transition-shadow duration-300 flex flex-col relative transform hover:-translate-y-1",3,"zIndex","click",4,"ngFor","ngForOf"],[1,"bg-white","dark:bg-gray-700","rounded-md","shadow-lg","hover:shadow-xl","transition-shadow","duration-300","flex","flex-col","relative","transform","hover:-translate-y-1",3,"click"],[1,"p-3","cursor-pointer"],[1,"flex","items-start","mb-1.5"],["class","w-7 h-7 sm:w-8 sm:h-8 object-contain mr-2 mt-0.5 sm:mt-1",3,"src","alt","ngClass",4,"ngIf"],[1,"text-lg","sm:text-xl","font-semibold","text-primary","dark:text-primary-light","flex-grow","pr-8",3,"title"],[1,"flex","flex-wrap","gap-2","mb-2"],["class","inline-flex items-center gap-x-1.5 rounded-full bg-yellow-100 px-2 py-1 text-xs font-medium text-yellow-700 dark:bg-yellow-800/50 dark:text-yellow-400",4,"ngIf"],["class","inline-flex items-center gap-x-1.5 rounded-full bg-blue-100 px-2 py-1 text-xs font-medium text-blue-700 dark:bg-blue-800/50 dark:text-blue-400",4,"ngIf"],[1,"text-xs","sm:text-sm","text-gray-500","dark:text-gray-400","mb-1","capitalize"],["class","text-xs sm:text-sm text-gray-500 dark:text-gray-400 mb-1 capitalize",4,"ngIf"],["class","flex items-center text-xs text-gray-500 dark:text-gray-300 mb-2 flex gap-1",4,"ngIf"],["class","text-gray-600 dark:text-gray-400 text-xs sm:text-sm mb-3 sm:mb-4 line-clamp-2 sm:line-clamp-3",3,"title",4,"ngIf"],["class","text-xs sm:text-sm text-gray-500 dark:text-gray-400 italic",4,"ngIf"],[1,"absolute","top-2","right-2"],[1,"relative"],[1,"p-1.5","text-gray-500","dark:text-gray-400","hover:bg-gray-200","dark:hover:bg-gray-700","rounded-full","focus:outline-none",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"h-5","w-5"],["stroke-linecap","round","stroke-linejoin","round","d","M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"],["displayMode","dropdown",3,"items","isVisible","itemClick","closeMenu",4,"ngIf"],["displayMode","compact-bar",3,"items","isVisible","itemClick","closeMenu",4,"ngIf"],[1,"w-7","h-7","sm:w-8","sm:h-8","object-contain","mr-2","mt-0.5","sm:mt-1",3,"src","alt","ngClass"],[1,"inline-flex","items-center","gap-x-1.5","rounded-full","bg-yellow-100","px-2","py-1","text-xs","font-medium","text-yellow-700","dark:bg-yellow-800/50","dark:text-yellow-400"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"h-4","w-4"],["fill-rule","evenodd","d","M3.28 2.22a.75.75 0 00-1.06 1.06l14.5 14.5a.75.75 0 101.06-1.06l-1.745-1.745a10.029 10.029 0 003.3-4.38 1.651 1.651 0 000-1.185A10.004 10.004 0 009.999 3a9.956 9.956 0 00-4.744 1.194L3.28 2.22zM7.752 6.69l1.092 1.092a2.5 2.5 0 013.374 3.373l1.091 1.092a4 4 0 00-5.557-5.557z","clip-rule","evenodd"],["d","M10.748 13.93l2.523 2.523a9.987 9.987 0 01-3.27.547c-4.257 0-7.893-2.66-9.336-6.41a1.651 1.651 0 010-1.186A10.007 10.007 0 012.839 6.02L6.07 9.252a4 4 0 004.678 4.678z"],[1,"inline-flex","items-center","gap-x-1.5","rounded-full","bg-blue-100","px-2","py-1","text-xs","font-medium","text-blue-700","dark:bg-blue-800/50","dark:text-blue-400"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 16 16","fill","currentColor",1,"h-4","w-4"],["d","M9.914 4.086a.75.75 0 1 0-1.06-1.06L5.75 6.13L4.086 4.464a.75.75 0 0 0-1.06 1.06L4.69 7.25L3.025 8.914a.75.75 0 1 0 1.06 1.06L5.75 8.31l1.664 1.664a.75.75 0 1 0 1.06-1.06L6.81 7.25l3.104-3.164Z"],["fill-rule","evenodd","d","M2.5 1A1.5 1.5 0 0 0 1 2.5v11A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.75.75 0 0 0-1.5 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5h6a.75.75 0 0 0 0-1.5h-6Z","clip-rule","evenodd"],[1,"font-medium"],[1,"flex","items-center","text-xs","text-gray-500","dark:text-gray-300","mb-2","flex","gap-1"],["version","1.1","id","Capa_1","xmlns","http://www.w3.org/2000/svg","stroke","currentColor","stroke-width","1.5",0,"xmlns","xlink","http://www.w3.org/1999/xlink","viewBox","-3 0 60 60",0,"xml","space","preserve",1,"w-4","h-4","transition-all",2,"enable-background","new 0 0 49.495 49.495"],["d",`M1.434,28.084c1.527,0.188,3.644,0.847,3.644,1.587c0,0.207,0.128,0.393,0.321,0.467c0.189,0.073,0.412,0.021,0.551-0.133
			c0.026-0.027,2.688-2.917,7.878-2.917c5.405,0,8.5,2.556,8.5,3.25c0,0.241,0.172,0.447,0.408,0.491
			c0.24,0.044,0.471-0.087,0.559-0.312c0.019-0.051,1.904-4.85,4.922-4.85c0.01,0,0.021,0,0.027,0
			c1.557,0.018,4.362,0.042,6.073,2.143c0.193,0.269,0.318,0.438,0.354,0.486c0.16,0.223,0.467,0.271,0.688,0.116
			s0.281-0.456,0.136-0.686c-0.118-0.184-0.243-0.354-0.372-0.518c-1.658-2.314-8.548-12.151-8.548-15.794
			c0-0.194-0.112-0.371-0.288-0.453c-0.175-0.083-0.382-0.056-0.531,0.068c-0.058,0.047-5.736,4.688-10.149,1.041
			c-0.052-0.056-1.274-1.379-0.466-2.437c0.094-0.123,0.124-0.282,0.085-0.432s-0.146-0.272-0.289-0.333
			c-0.008-0.003-0.812-0.354-1.062-1.093c-0.164-0.483-0.062-1.055,0.304-1.7c1.356-2.392,3.701-4.431,3.779-4.506
			c0.012-0.014,1.186-1.341,3.882,0.116c0.351,0.189,0.768,0.409,1.236,0.656c3.612,1.901,10.334,5.439,12.925,9.109
			c0.548,0.773,1.248,1.658,2.062,2.682c3.635,4.578,9.113,11.486,9.43,19.683c-0.25,0.541-1.715,3.412-5.574,5.773
			c-3.948,2.418-11.291,4.786-23.824,2.332c-0.13-0.025-0.272,0.002-0.385,0.082c-0.113,0.079-0.187,0.2-0.206,0.338
			c-0.006,0.039-0.591,3.967-2.71,6.318c-0.185,0.205-0.168,0.521,0.037,0.706c0.096,0.086,0.216,0.128,0.335,0.128
			c0.137,0,0.272-0.056,0.372-0.166c1.867-2.074,2.626-5.123,2.865-6.331c3.566,0.67,6.729,0.956,9.533,0.956
			c16.356-0.001,20.479-9.74,20.523-9.854c0.026-0.064,0.038-0.135,0.036-0.203c-0.276-8.578-5.917-15.683-9.646-20.385
			c-0.806-1.012-1.496-1.887-2.025-2.638c-2.729-3.866-9.592-7.477-13.278-9.417c-0.465-0.245-0.879-0.463-1.228-0.651
			c-3.397-1.837-5.051,0.036-5.063,0.062c-0.102,0.087-2.499,2.169-3.941,4.715c-0.515,0.908-0.643,1.758-0.378,2.525
			c0.237,0.689,0.741,1.144,1.126,1.405c-0.558,1.27,0.255,2.644,0.868,3.285c4.082,3.376,8.941,0.736,10.749-0.476
			c0.651,3.412,4.48,9.436,6.937,13.036c-1.628-0.668-3.354-0.686-4.443-0.695c-2.725-0.035-4.565,2.925-5.363,4.513
			c-1.268-1.495-4.704-3.096-8.974-3.096c-4.277,0-6.947,1.781-8.048,2.708c-0.904-1.229-3.599-1.627-4.225-1.704
			c-0.268-0.035-0.522,0.161-0.557,0.437C0.965,27.799,1.16,28.05,1.434,28.084z`],["d",`M30.738,39.531c1.036,0,2.114-0.15,3.146-0.551c1.934-0.75,3.356-2.25,4.239-4.457c0.104-0.256-0.021-0.547-0.276-0.65
			c-0.256-0.103-0.547,0.021-0.647,0.279c-0.771,1.938-2.013,3.248-3.671,3.895c-3.604,1.402-8.104-0.721-8.146-0.743
			c-0.25-0.119-0.549-0.015-0.668,0.233c-0.12,0.249-0.016,0.547,0.233,0.667C25.093,38.275,27.739,39.531,30.738,39.531z`],[1,"text-center","text-xs","bg-purple-100","text-purple-700","dark:bg-purple-700","dark:text-purple-200","px-1.5","py-0.5","rounded-full","mx-1","inline-block"],[1,"text-gray-600","dark:text-gray-400","text-xs","sm:text-sm","mb-3","sm:mb-4","line-clamp-2","sm:line-clamp-3",3,"title"],[1,"text-xs","sm:text-sm","text-gray-500","dark:text-gray-400","italic"],["displayMode","dropdown",3,"itemClick","closeMenu","items","isVisible"],["displayMode","compact-bar",3,"itemClick","closeMenu","items","isVisible"],[1,"text-center","py-10"],[1,"text-xl","text-gray-600","dark:text-gray-400"],[1,"text-sm","text-gray-500","dark:text-gray-400","mt-2"],["class","text-center py-10",4,"ngIf"],["class","text-center py-12 px-6 bg-white dark:bg-gray-700 rounded-md shadow-md",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","h-8","w-8","text-primary","dark:text-primary-light","mx-auto"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],[1,"text-lg","text-gray-600","dark:text-gray-400","mt-3"],[1,"text-center","py-12","px-6","bg-white","dark:bg-gray-700","rounded-md","shadow-md"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-16","h-16","mx-auto","text-gray-400","dark:text-gray-200","mb-4"],["stroke-linecap","round","stroke-linejoin","round","d","M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"],[1,"text-xl","font-semibold","text-gray-700","dark:text-gray-300","mb-2"],[1,"text-gray-500","dark:text-gray-400","mb-6"],["routerLink","/library/new",1,"bg-primary","hover:bg-primary-dark","text-white","font-semibold","py-2.5","px-6","rounded-md","shadow-md","hover:shadow-lg","transition-all","duration-300","focus:outline-none","focus:ring-2","focus:ring-primary-light","focus:ring-opacity-75"],["appPress","","type","button",1,"bg-primary","dark:bg-primary-dark","text-white","rounded-full","p-3","shadow-lg","hover:bg-primary-dark","dark:hover:bg-primary-light","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-primary-focus","dark:focus:ring-offset-gray-900","transition-opacity","animate-fade-in",3,"shortPress"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","2.5","stroke","currentColor",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","d","M4.5 15.75l7.5-7.5 7.5 7.5"],[1,"flex","flex-col","items-center","gap-4"],[1,"group","relative","flex","items-center"],[1,"absolute","right-full","md:hidden","whitespace-nowrap","rounded-md","bg-blue-500","px-3","py-2","text-sm","font-semibold","text-white","group-hover:block",2,"margin-right","-10px"],["appPress","","type","button",1,"flex","h-14","w-14","items-center","justify-center","rounded-full","bg-blue-500","text-white","shadow-lg","transition-transform","hover:scale-110","focus:outline-none","focus:ring-2","focus:ring-blue-400","focus:ring-offset-2","dark:ring-offset-gray-900",3,"shortPress"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"h-7","w-7"],["d","M10.75 4.75a.75.75 0 0 0-1.5 0v4.5h-4.5a.75.75 0 0 0 0 1.5h4.5v4.5a.75.75 0 0 0 1.5 0v-4.5h4.5a.75.75 0 0 0 0-1.5h-4.5v-4.5Z"]],template:function(e,i){if(e&1){let l=w();r(0,"div",2)(1,"header",3)(2,"h1",4),s(3,"Exercises"),n(),r(4,"button",5),g("click",function(){return f(l),v(i.toggleFilterAccordion())}),_(),r(5,"svg",6),x(6,"path",7),n(),C(),r(7,"span",8),s(8,"Toggle Filters"),n()()(),r(9,"div",9)(10,"div",10)(11,"h2",11),s(12,"Filter Exercises"),n(),r(13,"div",12)(14,"div")(15,"label",13),s(16,"Category"),n(),r(17,"select",14),g("change",function(p){return f(l),v(i.onCategoryChange(p))}),r(18,"option",15),s(19,"All Categories"),n(),u(20,Pe,3,4,"option",16),b(21,"async"),n()(),r(22,"div")(23,"label",17),s(24,"Primary Muscle"),n(),r(25,"select",18),g("change",function(p){return f(l),v(i.onMuscleGroupChange(p))}),r(26,"option",15),s(27,"All Muscle Groups"),n(),u(28,Oe,3,4,"option",16),b(29,"async"),n()(),r(30,"div")(31,"label",19),s(32,"Search"),n(),r(33,"input",20),g("input",function(p){return f(l),v(i.onSearchTermChange(p))}),n()(),r(34,"div",21)(35,"label",22)(36,"input",23),g("change",function(){return f(l),v(i.showHiddenExercises.set(!i.showHiddenExercises()))}),n(),x(37,"div",24),r(38,"span",25),s(39," Show Hidden Exercises "),n()()()(),r(40,"div",26)(41,"button",27),g("shortPress",function(){return f(l),v(i.clearFilters())}),_(),r(42,"svg",28),x(43,"path",29),n(),s(44," CLEAR FILTERS "),n(),u(45,He,5,1,"div",30),n()()(),u(46,Je,4,2,"div",31)(47,rt,1,1,"ng-template",null,0,W),n(),C(),r(49,"div",32),u(50,nt,5,0,"button",33),r(51,"div",34),g("mouseenter",function(){return f(l),v(i.handleFabMouseEnter())})("mouseleave",function(){return f(l),v(i.handleFabMouseLeave())}),r(52,"button",35),g("shortPress",function(){return f(l),v(i.handleFabClick())}),_(),r(53,"svg",36),x(54,"path",37),n(),C(),r(55,"span",8),s(56,"Open creation menu"),n()(),u(57,ot,9,1,"div",38),n()()}if(e&2){let l=Y(48);a(5),P("rotate-180",i.isFilterAccordionOpen()),a(4),K("max-height",i.isFilterAccordionOpen()?"600px":"0px"),P("mb-8",i.isFilterAccordionOpen()),a(8),c("value",i.selectedCategory()||""),a(3),c("ngForOf",E(21,19,i.categories$)),a(5),c("value",i.selectedMuscleGroup()||""),a(3),c("ngForOf",E(29,21,i.primaryMuscleGroups$)),a(5),c("value",i.searchTerm()),a(3),c("checked",i.showHiddenExercises()),a(9),c("ngIf",i.allExercises().length>0),a(),c("ngIf",i.allExercises().length>0)("ngIfElse",l),a(4),c("ngIf",i.showBackToTopButton()),a(3),P("rotate-45",i.isFabActionsOpen()),a(4),c("ngIf",i.isFabActionsOpen())}},dependencies:[U,ce,O,H,de,D,me,R,ke,Ae],encapsulation:2,data:{animation:[$("fabSlideUp",[I(":enter",[T({opacity:0,transform:"translateY(200%)"}),A("250ms ease-out",T({opacity:1,transform:"translateY(0)"}))]),I(":leave",[A("200ms ease-in",T({opacity:0,transform:"translateY(100%)"}))])]),$("slideInOutActions",[L("void",T({height:"0px",opacity:0,overflow:"hidden",paddingTop:"0",paddingBottom:"0",marginTop:"0",marginBottom:"0"})),L("*",T({height:"*",opacity:1,paddingTop:"0.5rem",paddingBottom:"0.5rem"})),I("void <=> *",A("200ms ease-in-out"))]),$("dropdownMenu",[L("void",T({opacity:0,transform:"scale(0.75) translateY(-10px)",transformOrigin:"top right"})),L("*",T({opacity:1,transform:"scale(1) translateY(0)",transformOrigin:"top right"})),I("void => *",[A("150ms cubic-bezier(0.25, 0.8, 0.25, 1)")]),I("* => void",[A("100ms cubic-bezier(0.25, 0.8, 0.25, 1)")])])]}})};function st(o,t){if(o&1&&(r(0,"option",32),s(1),b(2,"titlecase"),n()),o&2){let e=t.$implicit;c("value",e),a(),k(E(2,2,e))}}function at(o,t){if(o&1&&(r(0,"option",32),s(1),n()),o&2){let e=t.$implicit;c("value",e),a(),k(e)}}function lt(o,t){if(o&1){let e=w();r(0,"div",33),x(1,"input",34),r(2,"button",35),g("click",function(){let l=f(e).index,m=d();return v(m.removeControlFromFormArray("muscleGroups",l))}),s(3,"Remove"),n()()}if(o&2){let e=t.index;a(),c("formControlName",e)}}function ct(o,t){if(o&1){let e=w();r(0,"div",33),x(1,"input",34),r(2,"button",35),g("click",function(){let l=f(e).index,m=d();return v(m.removeControlFromFormArray("equipmentNeeded",l))}),s(3,"Remove"),n()()}if(o&2){let e=t.index;a(),c("formControlName",e)}}function dt(o,t){if(o&1){let e=w();r(0,"div",33),x(1,"input",38),r(2,"button",35),g("click",function(){let l=f(e).index,m=d(2);return v(m.removeControlFromFormArray("imageUrls",l))}),s(3,"Remove"),n()()}if(o&2){let e=t.index;a(),c("formControlName",e)}}function mt(o,t){if(o&1){let e=w();r(0,"div",36)(1,"h3",37),s(2,"Image URLs (one per line)"),n(),u(3,dt,4,1,"div",21),r(4,"button",22),g("click",function(){f(e);let l=d();return v(l.addControlToFormArray("imageUrls"))}),s(5,"+ Add Image URL"),n()()}if(o&2){let e=d();a(3),c("ngForOf",e.getFormArray("imageUrls").controls)}}var V=class o{fb=h(Ee);router=h(z);route=h(pe);exerciseService=h(j);alertService=h(q);exerciseForm;isEditMode=y(!1);editingExerciseId=null;pageTitle=y("Add New Exercise");categories=["barbells","dumbbells","bodyweight/calisthenics","machines","cables","kettlebells","bands","other"];availableMuscleGroups=["Chest","Back","Legs","Shoulders","Biceps","Triceps","Abs","Calves","Forearms","Glutes","Hamstrings","Lats","Quads","Traps"];constructor(){this.exerciseForm=this.fb.group({name:["",M.required],description:["",M.required],category:["bodyweight/calisthenics",M.required],primaryMuscleGroup:["",M.required],muscleGroups:this.fb.array([]),equipmentNeeded:this.fb.array([]),imageUrls:this.fb.array([]),videoUrl:[""],notes:[""]})}ngOnInit(){this.route.paramMap.pipe(te(t=>(this.editingExerciseId=t.get("id"),this.editingExerciseId?(this.isEditMode.set(!0),this.pageTitle.set("Edit Exercise"),this.exerciseService.getExerciseById(this.editingExerciseId)):J(null))),ee(1)).subscribe(t=>{t&&this.isEditMode()&&this.patchFormForEditing(t)})}patchFormForEditing(t){this.exerciseForm.patchValue({name:t.name,description:t.description,category:t.category,primaryMuscleGroup:t.primaryMuscleGroup,videoUrl:t.videoUrl||"",notes:t.notes||""}),this.setFormArrayControls("muscleGroups",t.muscleGroups),this.setFormArrayControls("equipmentNeeded",t.equipmentNeeded||[]),this.setFormArrayControls("imageUrls",t.imageUrls)}getFormArray(t){return this.exerciseForm.get(t)}setFormArrayControls(t,e){let i=this.getFormArray(t);i.clear(),e.forEach(l=>i.push(this.fb.control(l,M.required)))}addControlToFormArray(t){this.getFormArray(t).push(this.fb.control("",M.required))}removeControlFromFormArray(t,e){this.getFormArray(t).removeAt(e)}onSubmit(){return N(this,null,function*(){if(this.exerciseForm.invalid){this.exerciseForm.markAllAsTouched(),this.alertService.showAlert("Error","Please fill in all required fields.");return}let t=this.exerciseForm.value,e=F({},t);try{if(this.isEditMode()&&this.editingExerciseId)yield this.exerciseService.updateExercise(F({id:this.editingExerciseId},e)).toPromise(),this.alertService.showAlert("Success","Exercise updated successfully!"),this.router.navigate(["/library",this.editingExerciseId]);else{let i=yield this.exerciseService.addExercise(e).toPromise();i?(this.alertService.showAlert("Success","Exercise added successfully!"),this.router.navigate(["/library",i.id])):(console.error("Failed to add exercise, newExercise is undefined."),this.alertService.showAlert("Error","Failed to add exercise. Please try again."))}}catch(i){console.error("Error saving exercise:",i),this.alertService.showAlert("Error",`Failed to save exercise: ${i.message}`)}})}get f(){return this.exerciseForm.controls}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=B({type:o,selectors:[["app-exercise-form"]],decls:56,vars:10,consts:[[1,"container","mx-auto","p-2","sm:p-4"],[1,"flex","items-center","justify-start","p-2"],[1,"flex","justify-between","items-center"],[1,"text-gray-600","dark:text-gray-300","hover:text-primary","dark:hover:text-primary-light","p-2","-ml-1",3,"routerLink"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 19l-7-7 7-7"],[1,"w-10","h-10"],[1,"text-2xl","font-bold","text-gray-800","dark:text-gray-200"],[1,"space-y-6","bg-white","dark:bg-gray-700","p-6","rounded-md","shadow-md",3,"ngSubmit","formGroup"],["for","name",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["type","text","id","name","formControlName","name",1,"mt-1","block","w-full","p-2","border","rounded-md"],["for","description",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["id","description","formControlName","description","rows","3",1,"mt-1","block","w-full","p-2","border","rounded-md"],["for","category",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["id","category","formControlName","category",1,"mt-1","block","w-full","p-2","border","rounded-md"],[3,"value",4,"ngFor","ngForOf"],["for","primaryMuscleGroup",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["id","primaryMuscleGroup","formControlName","primaryMuscleGroup",1,"mt-1","block","w-full","p-2","border","rounded-md"],["value",""],["formArrayName","muscleGroups"],[1,"text-lg","font-medium","dark:text-gray-300"],["class","flex items-center space-x-2 mb-2",4,"ngFor","ngForOf"],["type","button",1,"text-sm","text-blue-600",3,"click"],["formArrayName","equipmentNeeded"],["formArrayName","imageUrls",4,"ngIf"],["for","videoUrl",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["type","url","id","videoUrl","formControlName","videoUrl",1,"mt-1","block","w-full","p-2","border","rounded-md"],["for","notes",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["id","notes","formControlName","notes","rows","3",1,"mt-1","block","w-full","p-2","border","rounded-md"],[1,"pt-6","flex","justify-end","space-x-3"],["routerLink","/library",1,"px-4","py-2","border","rounded-md","dark:bg-gray-400"],["type","submit",1,"px-4","py-2","bg-primary","text-white","rounded-md","disabled:opacity-50",3,"disabled"],[3,"value"],[1,"flex","items-center","space-x-2","mb-2"],["type","text",1,"block","w-full","p-2","border","rounded-md",3,"formControlName"],["type","button",1,"text-red-500",3,"click"],["formArrayName","imageUrls"],[1,"text-lg","font-medium"],["type","url","placeholder","https://example.com/image.jpg",1,"block","w-full","p-2","border","rounded-md",3,"formControlName"]],template:function(e,i){e&1&&(r(0,"div",0)(1,"header",1)(2,"div",2)(3,"button",3),_(),r(4,"svg",4),x(5,"path",5),n()(),C(),x(6,"div",6),n(),r(7,"h1",7),s(8),n()(),r(9,"form",8),g("ngSubmit",function(){return i.onSubmit()}),r(10,"div")(11,"label",9),s(12,"Name"),n(),x(13,"input",10),n(),r(14,"div")(15,"label",11),s(16,"Description"),n(),x(17,"textarea",12),n(),r(18,"div")(19,"label",13),s(20,"Category"),n(),r(21,"select",14),u(22,st,3,4,"option",15),n()(),r(23,"div")(24,"label",16),s(25,"Primary Muscle Group"),n(),r(26,"select",17)(27,"option",18),s(28,"Select Primary Muscle"),n(),u(29,at,2,2,"option",15),n()(),r(30,"div",19)(31,"h3",20),s(32,"Other Muscle Groups"),n(),u(33,lt,4,1,"div",21),r(34,"button",22),g("click",function(){return i.addControlToFormArray("muscleGroups")}),s(35,"+ Add Muscle Group"),n()(),r(36,"div",23)(37,"h3",20),s(38,"Equipment Needed"),n(),u(39,ct,4,1,"div",21),r(40,"button",22),g("click",function(){return i.addControlToFormArray("equipmentNeeded")}),s(41,"+ Add Equipment"),n()(),u(42,mt,6,1,"div",24),r(43,"div")(44,"label",25),s(45,"Video URL (Optional)"),n(),x(46,"input",26),n(),r(47,"div")(48,"label",27),s(49,"Notes & Tips (Optional)"),n(),x(50,"textarea",28),n(),r(51,"div",29)(52,"a",30),s(53,"Cancel"),n(),r(54,"button",31),s(55),n()()()()),e&2&&(a(3),c("routerLink","/library"),a(5),k(i.pageTitle()),a(),c("formGroup",i.exerciseForm),a(13),c("ngForOf",i.categories),a(7),c("ngForOf",i.availableMuscleGroups),a(4),c("ngForOf",i.getFormArray("muscleGroups").controls),a(6),c("ngForOf",i.getFormArray("equipmentNeeded").controls),a(3),c("ngIf",!1),a(12),c("disabled",i.exerciseForm.invalid),a(),S(" ",i.isEditMode()?"Update Exercise":"Add Exercise"," "))},dependencies:[U,O,H,D,Ce,fe,be,we,ue,ye,xe,ge,ve,_e,he,R],encapsulation:2})};var Wt=[{path:"",component:Z,title:"Exercise Library"},{path:"new",component:V,title:"Add New Exercise"},{path:"edit/:id",component:V,title:"Edit Exercise"},{path:":id",component:Ie,title:"Exercise Details"}];export{Wt as EXERCISE_LIBRARY_ROUTES};
