import{b as c}from"./chunk-LRBWNCI4.js";import{M as o,Mc as u,Q as s,k as r}from"./chunk-L2DHHQHV.js";var f=class n{storageService=s(u);UNIT_STORAGE_KEY="fitTrackPro_weightUnit";KG_TO_LBS_FACTOR=2.20462;unitSubject=new r(this.loadUnitPreference());unit$=this.unitSubject.asObservable();currentUnit=c(this.unitSubject,{initialValue:"kg"});constructor(){}loadUnitPreference(){let e=this.storageService.getItem(this.UNIT_STORAGE_KEY);return e==="kg"||e==="lbs"?e:"kg"}setUnitPreference(e){e==="kg"||e==="lbs"?(this.storageService.setItem(this.UNIT_STORAGE_KEY,e),this.unitSubject.next(e),console.log("UnitsService: Unit preference set to",e)):console.warn("UnitsService: Attempted to set invalid unit preference:",e)}convertFromKg(e,t){if(e==null)return e;let i=t||this.currentUnit();return i==="kg"?e:i==="lbs"?Number.isFinite(e)?parseFloat((e*this.KG_TO_LBS_FACTOR).toFixed(2)):(console.warn("UnitsService: Invalid number passed to convertFromKg:",e),e):(console.warn("UnitsService: Attempted conversion to invalid target unit:",t),e)}convertToKg(e,t){if(e==null)return e;let i=t||this.currentUnit();return i==="kg"?e:i==="lbs"?Number.isFinite(e)?parseFloat((e/this.KG_TO_LBS_FACTOR).toFixed(2)):(console.warn("UnitsService: Invalid number passed to convertToKg:",e),e):(console.warn("UnitsService: Attempted conversion from invalid source unit:",t),e)}getUnitLabel(){return this.currentUnit()}getUnitSuffix(){return this.currentUnit()}static \u0275fac=function(t){return new(t||n)};static \u0275prov=o({token:n,factory:n.\u0275fac,providedIn:"root"})};export{f as a};
