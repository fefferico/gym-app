import{K as c,N as o,O as u,_ as s,gd as U,kd as g}from"./chunk-RK5CJIFL.js";var h=class a{constructor(e){this.storageService=e;this._loadPreferences()}WEIGHT_UNIT_KEY="fitTrackPro_weightUnit";MEASURE_UNIT_KEY="fitTrackPro_measureUnit";DISTANCE_MEASURE_UNIT_KEY="fitTrackPro_distanceMeasureUnit";BODY_WEIGHT_UNIT_KEY="fitTrackPro_bodyWeightUnit";BODY_MEASURE_UNIT_KEY="fitTrackPro_bodyMeasureUnit";currentWeightUnit=s("kg");currentMeasureUnit=s("cm");currentDistanceMeasureUnit=s("km");currentBodyWeightUnit=s("kg");currentBodyMeasureUnit=s("cm");translate=u(U);_loadPreferences(){let e=this.storageService.getItem(this.WEIGHT_UNIT_KEY);this.currentWeightUnit.set(e||"kg");let t=this.storageService.getItem(this.MEASURE_UNIT_KEY);this.currentMeasureUnit.set(t||"cm");let r=this.storageService.getItem(this.DISTANCE_MEASURE_UNIT_KEY);this.currentDistanceMeasureUnit.set(r||"km");let i=this.storageService.getItem(this.BODY_WEIGHT_UNIT_KEY);this.currentBodyWeightUnit.set(i||"kg");let n=this.storageService.getItem(this.BODY_MEASURE_UNIT_KEY);this.currentBodyMeasureUnit.set(n||"cm")}setWeightUnitPreference(e){this.storageService.setItem(this.WEIGHT_UNIT_KEY,e),this.currentWeightUnit.set(e)}setMeasureUnitPreference(e){this.storageService.setItem(this.MEASURE_UNIT_KEY,e),this.currentMeasureUnit.set(e)}setDistanceMeasureUnitPreference(e){this.storageService.setItem(this.DISTANCE_MEASURE_UNIT_KEY,e),this.currentDistanceMeasureUnit.set(e)}setBodyWeightUnitPreference(e){this.storageService.setItem(this.BODY_WEIGHT_UNIT_KEY,e),this.currentBodyWeightUnit.set(e)}setBodyMeasureUnitPreference(e){this.storageService.setItem(this.BODY_MEASURE_UNIT_KEY,e),this.currentBodyMeasureUnit.set(e)}getWeightUnitSuffix(){let e=this.currentWeightUnit()==="kg"?"units.weight.kg":"units.weight.lbs";return this.translate.instant(e)}getMeasureUnitSuffix(){let e=this.currentMeasureUnit()==="cm"?"units.measure.cm":"units.measure.in";return this.translate.instant(e)}getDistanceMeasureUnitSuffix(){let e=this.currentDistanceMeasureUnit()==="km"?"units.distance.km":"units.distance.mi";return this.translate.instant(e)}getBodyWeightUnitSuffix(){let e=this.currentBodyWeightUnit()==="kg"?"units.weight.kg":"units.weight.lbs";return this.translate.instant(e)}getBodyMeasureUnitSuffix(){let e=this.currentBodyMeasureUnit()==="cm"?"units.measure.cm":"units.measure.in";return this.translate.instant(e)}convertWeight(e,t,r){if(!e)return 0;if(t===r)return e;let i=2.20462,n=t==="kg"?e*i:e/i;return parseFloat(n.toFixed(2))}convertMeasure(e,t,r){if(t===r||!e)return e;let i=.393701,n=t==="cm"?e*i:e/i;return parseFloat(n.toFixed(2))}convertDistance(e,t,r){if(t===r||!e)return e;let i=.621371,n=t==="km"?e*i:e/i;return parseFloat(n.toFixed(3))}static \u0275fac=function(t){return new(t||a)(o(g))};static \u0275prov=c({token:a,factory:a.\u0275fac,providedIn:"root"})};export{h as a};
