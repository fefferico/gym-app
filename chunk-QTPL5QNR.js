import{L as v,Mc as p,P as n,d as y,h as m,l as c,pd as f,rd as h,ud as S,vd as b}from"./chunk-WBXHX4E4.js";import{a as u,b as d,g}from"./chunk-GAL4ENT6.js";var l=[{id:"football",name:"Football",description:"A team sport involving kicking a ball to score a goal.",category:"Team Sports",iconName:"football",intensity:"High",defaultTrackingMetrics:{duration:!0,distance:!0,calories:!0,notes:!0}},{id:"basketball",name:"Basketball",description:"A team sport where players shoot a ball through a hoop.",category:"Team Sports",iconName:"basketball",intensity:"High",defaultTrackingMetrics:{duration:!0,distance:!1,calories:!0,notes:!0}},{id:"volleyball",name:"Volleyball",description:"A team sport where two teams hit a ball over a net.",category:"Team Sports",iconName:"volleyball",intensity:"Medium",defaultTrackingMetrics:{duration:!0,distance:!1,calories:!0,notes:!0}},{id:"baseball",name:"Baseball",description:"A bat-and-ball game played between two opposing teams.",category:"Team Sports",iconName:"baseball",intensity:"Medium",defaultTrackingMetrics:{duration:!0,distance:!1,calories:!0,notes:!0}},{id:"running",name:"Running",description:"Running or jogging at a steady pace outdoors or on a treadmill.",category:"Individual Sports",iconName:"run",intensity:"High",defaultTrackingMetrics:{duration:!0,distance:!0,calories:!0,notes:!0}},{id:"swimming",name:"Swimming",description:"Propelling oneself through water using limbs, typically in a pool or open water.",category:"Individual Sports",iconName:"pool",intensity:"High",defaultTrackingMetrics:{duration:!0,distance:!0,calories:!0,notes:!0}},{id:"cycling",name:"Cycling",description:"Riding a bicycle for transport, recreation, or sport.",category:"Individual Sports",iconName:"bike",intensity:"Medium",defaultTrackingMetrics:{duration:!0,distance:!0,calories:!0,notes:!0}},{id:"tennis",name:"Tennis",description:"A racket sport that can be played individually or between two teams of two.",category:"Individual Sports",iconName:"tennisball",intensity:"High",defaultTrackingMetrics:{duration:!0,distance:!1,calories:!0,notes:!0}},{id:"golf",name:"Golf",description:"A club-and-ball sport in which players use various clubs to hit balls into a series of holes.",category:"Individual Sports",iconName:"golf",intensity:"Low",defaultTrackingMetrics:{duration:!0,distance:!1,calories:!0,notes:!0}},{id:"hiking",name:"Hiking",description:"A long, vigorous walk, usually on trails or footpaths in the countryside.",category:"Outdoor & Adventure",iconName:"hiking",intensity:"Medium",defaultTrackingMetrics:{duration:!0,distance:!0,calories:!0,notes:!0}},{id:"rock-climbing",name:"Rock Climbing",description:"The sport of climbing rock faces, especially with the aid of ropes and special equipment.",category:"Outdoor & Adventure",iconName:"rock-climbing",intensity:"High",defaultTrackingMetrics:{duration:!0,distance:!1,calories:!0,notes:!0}},{id:"skiing",name:"Skiing",description:"The action of traveling over snow on skis, especially as a sport or recreation.",category:"Outdoor & Adventure",iconName:"skiing",intensity:"High",defaultTrackingMetrics:{duration:!0,distance:!0,calories:!0,notes:!0}},{id:"kayaking",name:"Kayaking",description:"The use of a kayak for moving across water.",category:"Outdoor & Adventure",iconName:"kayaking",intensity:"Medium",defaultTrackingMetrics:{duration:!0,distance:!0,calories:!0,notes:!0}},{id:"yoga",name:"Yoga",description:"A group of physical, mental, and spiritual practices which originated in ancient India.",category:"Fitness & Classes",iconName:"yoga",intensity:"Low",defaultTrackingMetrics:{duration:!0,distance:!1,calories:!0,notes:!0}},{id:"pilates",name:"Pilates",description:"A physical fitness system developed in the early 20th century by Joseph Pilates.",category:"Fitness & Classes",iconName:"pilates",intensity:"Low",defaultTrackingMetrics:{duration:!0,distance:!1,calories:!0,notes:!0}},{id:"hiit-class",name:"HIIT Class",description:"High-Intensity Interval Training class, involving short bursts of intense exercise.",category:"Fitness & Classes",iconName:"flame",intensity:"High",defaultTrackingMetrics:{duration:!0,distance:!1,calories:!0,notes:!0}},{id:"spinning",name:"Spinning Class",description:"An indoor cycling class focusing on endurance, strength, and high-intensity.",category:"Fitness & Classes",iconName:"spin-bike",intensity:"High",defaultTrackingMetrics:{duration:!0,distance:!0,calories:!0,notes:!0}},{id:"meditation",name:"Meditation",description:"A practice where an individual uses a technique to train attention and awareness.",category:"Mind & Body",iconName:"meditation",intensity:"Low",defaultTrackingMetrics:{duration:!0,distance:!1,calories:!1,notes:!0}},{id:"stretching",name:"Stretching",description:"A form of physical exercise in which a specific muscle or tendon is deliberately flexed or stretched.",category:"Mind & Body",iconName:"stretch",intensity:"Low",defaultTrackingMetrics:{duration:!0,distance:!1,calories:!0,notes:!0}},{id:"walking",name:"Walking",description:"Walking at a casual to brisk pace for leisure or transport.",category:"Recreational & Leisure",iconName:"walk",intensity:"Low",defaultTrackingMetrics:{duration:!0,distance:!0,calories:!0,notes:!0}},{id:"dancing",name:"Dancing (Social)",description:"Moving rhythmically to music, as a form of social interaction or performance.",category:"Recreational & Leisure",iconName:"dance",intensity:"Medium",defaultTrackingMetrics:{duration:!0,distance:!1,calories:!0,notes:!0}},{id:"gardening",name:"Gardening",description:"The practice of growing and cultivating plants as part of horticulture.",category:"Home & Lifestyle",iconName:"leaf",intensity:"Low",defaultTrackingMetrics:{duration:!0,distance:!1,calories:!0,notes:!0}},{id:"heavy-chores",name:"Heavy Chores",description:"Physically demanding household or yard work, such as moving furniture or landscaping.",category:"Home & Lifestyle",iconName:"home-wrench",intensity:"Medium",defaultTrackingMetrics:{duration:!0,distance:!1,calories:!0,notes:!0}}];var A=class o{storageService=n(b);toastService=n(f);alertService=n(S);translate=n(h);ACTIVITIES_LOGS_STORAGE_KEY="fitTrackPro_activityLogs";activityLogsSubject=new y(this._loadLogsFromStorage());activityLogs$=this.activityLogsSubject.asObservable();constructor(){}_loadLogsFromStorage(){let e=this.storageService.getItem(this.ACTIVITIES_LOGS_STORAGE_KEY);return e?e.sort((t,i)=>i.startTime-t.startTime):[]}_saveLogsToStorage(e){this.storageService.setItem(this.ACTIVITIES_LOGS_STORAGE_KEY,e),this.activityLogsSubject.next([...e].sort((t,i)=>i.startTime-t.startTime))}addActivityLog(e){let t=d(u({},e),{id:p()}),i=this.activityLogsSubject.getValue(),r=[t,...i];this._saveLogsToStorage(r);let s=this.translate.instant("activityService.logSuccess.message",{activityName:t.activityName}),a=this.translate.instant("activityService.logSuccess.title");return this.toastService.success(s,3e3,a),t}getLogsForDate(e){return this.activityLogs$.pipe(c(t=>t.filter(i=>i.date===e)))}getActivities(){return m([...l].sort((e,t)=>e.name.localeCompare(t.name)))}getActivityById(e){return l.find(t=>t.id===e)}getActivityLogById(e){return this.activityLogs$.pipe(c(t=>t.find(i=>i.id===e)))}deleteActivityLog(e){let i=this.activityLogsSubject.getValue().filter(a=>a.id!==e);this._saveLogsToStorage(i);let r=this.translate.instant("activityService.deleteSuccess.message"),s=this.translate.instant("activityService.deleteSuccess.title");this.toastService.info(r,3e3,s)}updateActivityLog(e){let t=this.activityLogsSubject.getValue(),i=t.findIndex(r=>r.id===e.id);if(i>-1){let r=[...t];r[i]=e,this._saveLogsToStorage(r);let s=this.translate.instant("activityService.updateSuccess.message",{activityName:e.activityName}),a=this.translate.instant("activityService.updateSuccess.title");this.toastService.success(s,3e3,a)}}getLogsForBackup(){return this.activityLogsSubject.getValue()}mergeData(e){if(!Array.isArray(e)){console.warn("ActivityService: Imported data for logs is not an array. Skipping.");return}let t=this.activityLogsSubject.getValue(),i=new Set(t.map(a=>a.id)),r=0,s=e.filter(a=>a.id&&!i.has(a.id)?(r++,!0):!1);if(s.length>0){let a=[...t,...s];this._saveLogsToStorage(a);let L=this.translate.instant("activityService.mergeSuccess.message",{count:r}),T=this.translate.instant("activityService.mergeSuccess.title");this.toastService.success(L,3e3,T)}else{let a=this.translate.instant("activityService.mergeInfo");this.toastService.info(a,2e3)}}clearAllActivities_DEV_ONLY(){let e=this.translate.instant("activityService.alerts.clearAllTitle");return this.alertService.showConfirm(e,this.translate.instant("activityService.alerts.clearAllMessage")).then(t=>g(this,null,function*(){t&&t.data&&(this._saveLogsToStorage([]),yield this.alertService.showAlert(e,this.translate.instant("activityService.alerts.clearAllSuccess")))}))}getAllActivityLogs(){return this.activityLogsSubject.getValue()}getActivityLocations(){let e=this.getAllActivityLogs().map(t=>t.locationName||"").filter(t=>t.trim()!=="");return Array.from(new Set(e))}getActivityPeople(){let e=this.getAllActivityLogs().flatMap(t=>t.people||[]).map(t=>t.trim()).filter(t=>t!=="");return Array.from(new Set(e))}static \u0275fac=function(t){return new(t||o)};static \u0275prov=v({token:o,factory:o.\u0275fac,providedIn:"root"})};export{A as a};
