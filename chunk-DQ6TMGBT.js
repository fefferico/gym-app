import{a as y}from"./chunk-RISVNIDN.js";import{P as d,ba as h,qa as m,ra as l,wa as p}from"./chunk-WBXHX4E4.js";var u=class c{constructor(t,r){this.el=t;this.renderer=r}themeService=d(y);shatter(){this.renderer.setStyle(this.el.nativeElement,"transition","opacity 0.3s, transform 0.3s"),this.renderer.setStyle(this.el.nativeElement,"opacity","0"),this.renderer.setStyle(this.el.nativeElement,"transform","scale(0.7)");let t=this.el.nativeElement.getBoundingClientRect(),r=t.width,s=t.height,e=60;for(let i=0;i<e;i++)this.createParticle(t,r,s)}createParticle(t,r,s){let e=this.renderer.createElement("div");this.renderer.appendChild(document.body,e);let i=Math.floor(Math.random()*360),v=this.themeService.isDarkTheme()?70:45,S=`hsl(${i}, 85%, ${v}%)`,n=Math.floor(Math.random()*12+8),o=t.left+Math.random()*r-n/2+window.scrollX,a=t.top+Math.random()*s-n/2+window.scrollY,f=o+(Math.random()-.5)*200,M=a+(Math.random()-.5)*200,b=(Math.random()-.5)*720;this.renderer.setStyle(e,"position","absolute"),this.renderer.setStyle(e,"left",`${o}px`),this.renderer.setStyle(e,"top",`${a}px`),this.renderer.setStyle(e,"width",`${n}px`),this.renderer.setStyle(e,"height",`${n}px`),this.renderer.setStyle(e,"background",S),this.renderer.setStyle(e,"border-radius","4px"),this.renderer.setStyle(e,"transition","transform 1s ease-out, opacity 1s ease-out"),this.renderer.setStyle(e,"pointer-events","none"),this.renderer.setStyle(e,"z-index","9999"),requestAnimationFrame(()=>{this.renderer.setStyle(e,"transform",`translate(${f-o}px, ${M-a}px) rotate(${b}deg)`),this.renderer.setStyle(e,"opacity","0")}),setTimeout(()=>{this.renderer.removeChild(document.body,e)},1e3)}static \u0275fac=function(r){return new(r||c)(l(h),l(m))};static \u0275dir=p({type:c,selectors:[["","appShatterable",""]]})};export{u as a};
