import{b as f}from"./chunk-3WBVV5GY.js";import{$b as s,N as o,Q as c,R as l,ba as g,ga as u,m as i}from"./chunk-YF27MAQD.js";var m="app_language",p=class a{constructor(t){this.translate=t}currentLang=g("en");supportedLanguages=["en","es","it","fr","de"];platformId=l(u);init(){return new Promise(t=>{this.translate.setDefaultLang("en");let e=s(this.platformId)?localStorage.getItem(m):null,n=this.translate.getBrowserLang(),r;e&&this.supportedLanguages.includes(e)?r=e:n&&this.supportedLanguages.includes(n)?r=n:r=this.translate.getDefaultLang(),this.currentLang.set(r),i(this.translate.use(r)).then(()=>{t()}).catch(()=>{t()})})}setLanguage(t){this.currentLang()!==t&&(localStorage.setItem(m,t),s(this.platformId)&&window.location.reload())}static \u0275fac=function(e){return new(e||a)(c(f))};static \u0275prov=o({token:a,factory:a.\u0275fac,providedIn:"root"})};export{p as a};
