import './polyfills.server.mjs';
import{a as W}from"./chunk-4R6637LM.mjs";import{a as j,b as q}from"./chunk-V2MHWZQU.mjs";import{w as H}from"./chunk-FG43AHJK.mjs";import{$ as I,$b as R,Ga as m,Ha as n,I as h,Ia as r,Ja as p,M as _,N as u,Na as w,O as x,Oa as f,P as b,Pa as s,Sb as Z,T as E,Tb as B,Ub as N,Wa as T,Zb as O,_a as l,ab as y,bb as M,bc as F,ec as G,ib as L,ja as g,jb as V,nb as k,ob as D,pb as $,qb as S,ra as A,vc as z,wa as c}from"./chunk-AZOTOOYO.mjs";import{h as C}from"./chunk-S6KH3LOX.mjs";var Y=t=>({"ring-2 ring-green-500 dark:ring-green-400":t}),U=(t,i)=>({"text-green-600 dark:text-green-400 hover:bg-green-50 dark:hover:bg-green-600/50":t,"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600 opacity-70 cursor-not-allowed":i});function J(t,i){t&1&&(n(0,"span",26),l(1," Active "),r())}function K(t,i){if(t&1&&(n(0,"p",27),l(1),r()),t&2){let e=s().$implicit;m("title",e.description),g(),y(" ",e.description," ")}}function Q(t,i){if(t&1&&(n(0,"div")(1,"span",19),l(2,"Started:"),r(),l(3),k(4,"date"),r()),t&2){let e=s().$implicit;g(3),y(" ",$(4,1,e.startDate,"mediumDate")," ")}}function X(t,i){t&1&&(x(),n(0,"svg",30),p(1,"path",40),r())}function ee(t,i){t&1&&(x(),n(0,"svg",41),p(1,"path",42),r())}function te(t,i){if(t&1){let e=w();n(0,"div",28)(1,"button",29),f("click",function(a){_(e);let d=s().$implicit,v=s(3);return u(v.viewProgram(d.id,a))}),x(),n(2,"svg",30),p(3,"path",31)(4,"path",32),r(),l(5," View "),r(),b(),n(6,"button",29),f("click",function(a){_(e);let d=s().$implicit,v=s(3);return u(v.editProgram(d.id,a))}),x(),n(7,"svg",30),p(8,"path",33),r(),l(9," Edit "),r(),b(),n(10,"button",34),f("click",function(a){_(e);let d=s().$implicit,v=s(3);return u(v.toggleActiveProgram(d.id,d.isActive,a))}),c(11,X,2,0,"svg",35)(12,ee,2,0,"svg",36),l(13),r(),p(14,"div",37),n(15,"button",38),f("click",function(a){_(e);let d=s().$implicit,v=s(3);return u(v.deleteProgram(d.id,a))}),x(),n(16,"svg",30),p(17,"path",39),r(),l(18," Delete "),r()()}if(t&2){let e=s().$implicit;g(10),m("ngClass",V(4,U,!e.isActive,e.isActive)),g(),m("ngIf",!e.isActive),g(),m("ngIf",e.isActive),g(),y(" ",e.isActive?"Active":"Set Active"," ")}}function ie(t,i){if(t&1){let e=w();n(0,"div",12)(1,"div",13),f("click",function(){let a=_(e).$implicit,d=s(3);return u(d.viewProgram(a.id))}),n(2,"div",14)(3,"h2",15),l(4),r(),c(5,J,2,0,"span",16),r(),c(6,K,2,2,"p",17),n(7,"div",18)(8,"div")(9,"span",19),l(10,"Schedule:"),r(),l(11),r(),c(12,Q,5,4,"div",20),r()(),n(13,"div",21)(14,"button",22),f("click",function(a){let d=_(e).$implicit,v=s(3);return u(v.toggleActionsDropdown(d.id,a))}),x(),n(15,"svg",23),p(16,"path",24),r()(),c(17,te,19,7,"div",25),r()()}if(t&2){let e=i.$implicit,o=s(3);m("ngClass",L(9,Y,e.isActive)),g(3),m("title",e.name),g(),y(" ",e.name," "),g(),m("ngIf",e.isActive),g(),m("ngIf",e.description),g(5),M(" ",o.getDaysScheduled(e)," / ",o.getCycleInfo(e)," "),g(),m("ngIf",e.startDate),g(5),m("ngIf",o.activeProgramActions()===e.id)}}function re(t,i){if(t&1&&(n(0,"div",10),c(1,ie,18,11,"div",11),r()),t&2){let e=s().ngIf;g(),m("ngForOf",e)}}function ne(t,i){if(t&1){let e=w();n(0,"div",43),x(),n(1,"svg",44),p(2,"path",45),r(),b(),n(3,"h3",46),l(4,"No Training Programs Yet!"),r(),n(5,"p",47),l(6,"Create a structured program to follow your routines over time."),r(),n(7,"button",48),f("click",function(){_(e);let a=s(2);return u(a.navigateToCreateProgram())}),l(8," Create Your First Program "),r()()}}function oe(t,i){if(t&1&&(n(0,"div"),c(1,re,2,1,"div",9)(2,ne,9,0,"ng-template",null,1,S),r()),t&2){let e=i.ngIf,o=T(3);g(),m("ngIf",e.length>0)("ngIfElse",o)}}function ae(t,i){t&1&&(n(0,"div",49)(1,"p",50),l(2,"Loading programs..."),r()())}var P=class t{trainingProgramService=h(W);router=h(z);alertService=h(H);toastService=h(q);spinnerService=h(j);programs$;activeProgramActions=E(null);constructor(){}platformId=h(I);ngOnInit(){G(this.platformId)&&window.scrollTo(0,0),this.programs$=this.trainingProgramService.getAllPrograms()}navigateToCreateProgram(){this.router.navigate(["/training-programs/new"])}viewProgram(i,e){e?.stopPropagation(),this.router.navigate(["/training-programs/view",i]),this.activeProgramActions.set(null)}editProgram(i,e){e.stopPropagation(),this.router.navigate(["/training-programs/edit",i]),this.activeProgramActions.set(null)}deleteProgram(i,e){return C(this,null,function*(){e.stopPropagation(),this.activeProgramActions.set(null);try{this.spinnerService.show("Deleting program..."),yield this.trainingProgramService.deleteProgram(i)}catch(o){console.error("Error initiating program deletion from component:",o),this.toastService.error("An unexpected error occurred while trying to delete the program.",0,"Deletion Error")}finally{this.spinnerService.hide()}})}toggleActiveProgram(i,e,o){return C(this,null,function*(){if(o.stopPropagation(),this.activeProgramActions.set(null),e){this.toastService.info("To deactivate, set another program as active.",3e3,"Info");return}try{this.spinnerService.show("Activating program..."),yield this.trainingProgramService.setActiveProgram(i)}catch(a){console.error("Error activating program from component:",a),this.toastService.error("Failed to activate program.",0,"Activation Error")}finally{this.spinnerService.hide()}})}toggleActionsDropdown(i,e){e.stopPropagation(),this.activeProgramActions.update(o=>o===i?null:i)}getDaysScheduled(i){if(!i.schedule||i.schedule.length===0)return"0 days";let o=new Set(i.schedule.map(a=>a.dayOfWeek)).size;return`${o} day${o===1?"":"s"}`}getCycleInfo(i){return i.cycleLength&&i.cycleLength>0?`${i.cycleLength}-day cycle`:"Weekly"}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=A({type:t,selectors:[["app-training-program-list"]],decls:12,vars:4,consts:[["loadingPrograms",""],["noPrograms",""],[1,"container","mx-auto","p-4"],[1,"flex","justify-between","items-center","mb-6","pb-3","border-b","border-gray-200","dark:border-gray-700"],[1,"text-2xl","font-bold","text-gray-800","dark:text-gray-200"],[1,"bg-primary","hover:bg-primary-dark","text-white","font-semibold","py-2","px-3","rounded-md","shadow-sm","hover:shadow-md","transition-all","duration-200","focus:outline-none","focus:ring-2","focus:ring-primary-light","focus:ring-opacity-75","text-sm",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"w-4","h-4","mr-1.5","inline-block"],["d","M10.75 4.75a.75.75 0 0 0-1.5 0v4.5h-4.5a.75.75 0 0 0 0 1.5h4.5v4.5a.75.75 0 0 0 1.5 0v-4.5h4.5a.75.75 0 0 0 0-1.5h-4.5v-4.5Z"],[4,"ngIf","ngIfElse"],["class","grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",4,"ngIf","ngIfElse"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6"],["class","bg-white dark:bg-gray-800 rounded-xl shadow-lg hover:shadow-xl transition-shadow duration-200 flex flex-col relative",3,"ngClass",4,"ngFor","ngForOf"],[1,"bg-white","dark:bg-gray-800","rounded-xl","shadow-lg","hover:shadow-xl","transition-shadow","duration-200","flex","flex-col","relative",3,"ngClass"],[1,"p-5","flex-grow","cursor-pointer",3,"click"],[1,"flex","justify-between","items-start","mb-2"],[1,"text-xl","font-semibold","text-primary","dark:text-primary-light","truncate","pr-10",3,"title"],["class","absolute top-3 right-12 bg-green-100 text-green-700 dark:bg-green-700 dark:text-green-100 text-xs font-semibold px-2.5 py-0.5 rounded-full",4,"ngIf"],["class","text-gray-600 dark:text-gray-400 text-sm mb-3 line-clamp-2",3,"title",4,"ngIf"],[1,"space-y-1","text-sm","text-gray-500","dark:text-gray-300"],[1,"font-medium"],[4,"ngIf"],[1,"absolute","top-3","right-3","z-10"],[1,"p-2","text-gray-500","dark:text-gray-400","hover:bg-gray-100","dark:hover:bg-gray-700","rounded-full","focus:outline-none",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5"],["d","M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"],["class","origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg bg-white dark:bg-gray-700 ring-1 ring-black dark:ring-gray-600 ring-opacity-5 focus:outline-none py-1",4,"ngIf"],[1,"absolute","top-3","right-12","bg-green-100","text-green-700","dark:bg-green-700","dark:text-green-100","text-xs","font-semibold","px-2.5","py-0.5","rounded-full"],[1,"text-gray-600","dark:text-gray-400","text-sm","mb-3","line-clamp-2",3,"title"],[1,"origin-top-right","absolute","right-0","mt-2","w-48","rounded-md","shadow-lg","bg-white","dark:bg-gray-700","ring-1","ring-black","dark:ring-gray-600","ring-opacity-5","focus:outline-none","py-1"],[1,"w-full","text-left","px-4","py-2","text-sm","text-gray-700","dark:text-gray-200","hover:bg-gray-100","dark:hover:bg-gray-600","flex","items-center",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"w-4","h-4","mr-2"],["d","M10 12.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5Z"],["fill-rule","evenodd","d","M.664 10.59a1.651 1.651 0 010-1.186A10.004 10.004 0 0110 3c4.257 0 7.893 2.66 9.336 6.41.147.381.146.804 0 1.186A10.004 10.004 0 0110 17c-4.257 0-7.893-2.66-9.336-6.41ZM14 10a4 4 0 11-8 0 4 4 0 018 0Z","clip-rule","evenodd"],["d","m13.83 3.393 2.777 2.777-9.333 9.333H4.5v-2.777l9.33-9.333Zm0 0L12.5 2.06M6 13.5V15h1.5l7.5-7.5-1.5-1.5L6 13.5Z"],[1,"w-full","text-left","px-4","py-2","text-sm","font-medium","flex","items-center",3,"click","ngClass"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor","class","w-4 h-4 mr-2",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor","class","w-4 h-4 mr-2 text-green-500",4,"ngIf"],[1,"my-1","border-t","border-gray-200","dark:border-gray-600"],[1,"w-full","text-left","px-4","py-2","text-sm","text-red-600","dark:text-red-400","hover:bg-red-50","dark:hover:bg-red-600/50","flex","items-center",3,"click"],["fill-rule","evenodd","d","M8.75 1A2.75 2.75 0 006 3.75v.443c-.795.077-1.58.177-2.365.298a.75.75 0 10.23 1.482l.149-.022.841 10.518A2.75 2.75 0 007.596 19h4.807a2.75 2.75 0 002.742-2.53l.841-10.52.149.023a.75.75 0 00.23-1.482A41.03 41.03 0 0014 4.193V3.75A2.75 2.75 0 0011.25 1h-2.5ZM10 4c.84 0 1.673.025 2.5.075V3.75c0-.69-.56-1.25-1.25-1.25h-2.5c-.69 0-1.25.56-1.25 1.25v.325C8.327 4.025 9.16 4 10 4ZM8.58 7.72a.75.75 0 00-1.5.06l.3 7.5a.75.75 0 101.5-.06l-.3-7.5Zm4.34.06a.75.75 0 10-1.5-.06l-.3 7.5a.75.75 0 101.5.06l.3-7.5Z","clip-rule","evenodd"],["fill-rule","evenodd","d","M16.403 12.652a3 3 0 000-5.304 3 3 0 00-3.75-3.751 3 3 0 00-5.305 0 3 3 0 00-3.751 3.75 3 3 0 000 5.305 3 3 0 003.75 3.751 3 3 0 005.305 0 3 3 0 003.751-3.75Zm-2.546-4.46a.75.75 0 00-1.214-.883l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5Z","clip-rule","evenodd"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"w-4","h-4","mr-2","text-green-500"],["fill-rule","evenodd","d","M10 18a8 8 0 100-16 8 8 0 000 16Zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5Z","clip-rule","evenodd"],[1,"text-center","py-12","px-6","bg-white","dark:bg-gray-800","rounded-lg","shadow-md"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-16","h-16","mx-auto","text-gray-400","dark:text-gray-200","mb-4"],["stroke-linecap","round","stroke-linejoin","round","d","M3.75 12h16.5m-16.5 3.75h16.5M3.75 19.5h16.5M5.625 4.5h12.75a1.875 1.875 0 0 1 0 3.75H5.625a1.875 1.875 0 0 1 0-3.75Z"],[1,"text-xl","font-semibold","text-gray-700","dark:text-gray-300","mb-2"],[1,"text-gray-500","dark:text-gray-400","mb-6"],[1,"bg-primary","hover:bg-primary-dark","text-white","font-semibold","py-2","px-6","rounded-md","shadow-md","hover:shadow-lg","transition-all","duration-300","focus:outline-none","focus:ring-2","focus:ring-primary-light","focus:ring-opacity-75",3,"click"],[1,"text-center","py-10"],[1,"text-xl","text-gray-600","dark:text-gray-400"]],template:function(e,o){if(e&1){let a=w();n(0,"div",2)(1,"header",3)(2,"h1",4),l(3,"Training Programs"),r(),n(4,"button",5),f("click",function(){return _(a),u(o.navigateToCreateProgram())}),x(),n(5,"svg",6),p(6,"path",7),r(),l(7," New Program "),r()(),c(8,oe,4,2,"div",8),k(9,"async"),c(10,ae,3,0,"ng-template",null,0,S),r()}if(e&2){let a=T(11);g(8),m("ngIf",D(9,2,o.programs$))("ngIfElse",a)}},dependencies:[F,Z,B,N,O,R],encapsulation:2})};var Ce=[{path:"",component:P,title:"Training Programs"},{path:"new",loadComponent:()=>import("./chunk-MPLLHXP2.mjs").then(t=>t.TrainingProgramBuilderComponent),data:{mode:"new"},title:"New Training Program",\u0275entryName:"src/app/features/training-programs/training-program-builder/training-program-builder.ts"},{path:"edit/:programId",loadComponent:()=>import("./chunk-MPLLHXP2.mjs").then(t=>t.TrainingProgramBuilderComponent),data:{mode:"edit"},title:"Edit Training Program",\u0275entryName:"src/app/features/training-programs/training-program-builder/training-program-builder.ts"},{path:"view/:programId",loadComponent:()=>import("./chunk-MPLLHXP2.mjs").then(t=>t.TrainingProgramBuilderComponent),data:{mode:"view"},title:"View Training Program",\u0275entryName:"src/app/features/training-programs/training-program-builder/training-program-builder.ts"}];export{Ce as TRAINING_PROGRAM_ROUTES};
