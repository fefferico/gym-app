import{Ra as m,ba as h,qa as d,ra as s,wa as a}from"./chunk-C767T4VF.js";var c=class p{constructor(t,e){this.el=t;this.renderer=e}tooltipText="";tooltipPosition="top";tooltipDelay=200;tooltipElement=null;delayTimeout;onMouseEnter(){clearTimeout(this.delayTimeout),this.delayTimeout=setTimeout(()=>{this.createTooltip()},this.tooltipDelay)}onMouseLeave(){clearTimeout(this.delayTimeout),this.removeTooltip()}ngOnDestroy(){clearTimeout(this.delayTimeout),this.tooltipElement&&(this.renderer.removeChild(document.body,this.tooltipElement),this.tooltipElement=null)}createTooltip(){if(this.tooltipElement||!this.tooltipText)return;this.tooltipElement=this.renderer.createElement("span");let t=this.tooltipText.split(`
`);t.forEach((e,l)=>{this.renderer.appendChild(this.tooltipElement,this.renderer.createText(e)),l<t.length-1&&this.renderer.appendChild(this.tooltipElement,this.renderer.createElement("br"))}),this.renderer.appendChild(document.body,this.tooltipElement),this.renderer.addClass(this.tooltipElement,"tooltip-container"),this.renderer.addClass(this.tooltipElement,"tooltip-preparing"),this.positionTooltip(),setTimeout(()=>{this.tooltipElement&&(this.renderer.removeClass(this.tooltipElement,"tooltip-preparing"),this.renderer.addClass(this.tooltipElement,"tooltip-active"))},20)}removeTooltip(){this.tooltipElement&&(this.renderer.removeClass(this.tooltipElement,"tooltip-active"),setTimeout(()=>{this.tooltipElement&&(this.renderer.removeChild(document.body,this.tooltipElement),this.tooltipElement=null)},200))}positionTooltip(){if(!this.tooltipElement)return;let t=this.el.nativeElement.getBoundingClientRect(),e=this.tooltipElement.getBoundingClientRect(),l=window.innerWidth,r=window.innerHeight,i=8,o,n;switch(this.tooltipPosition){case"bottom":o=t.bottom+i,n=t.left+(t.width-e.width)/2;break;case"left":o=t.top+(t.height-e.height)/2,n=t.left-e.width-i;break;case"right":o=t.top+(t.height-e.height)/2,n=t.right+i;break;case"top":default:o=t.top-e.height-i,n=t.left+(t.width-e.width)/2;break}n<i&&(n=i),n+e.width>l-i&&(n=l-e.width-i),o<i&&(o=i),o+e.height>r-i&&(o=r-e.height-i),this.renderer.setStyle(this.tooltipElement,"top",`${o}px`),this.renderer.setStyle(this.tooltipElement,"left",`${n}px`)}static \u0275fac=function(e){return new(e||p)(s(h),s(d))};static \u0275dir=a({type:p,selectors:[["","appTooltip",""]],hostBindings:function(e,l){e&1&&m("mouseenter",function(){return l.onMouseEnter()})("mouseleave",function(){return l.onMouseLeave()})},inputs:{tooltipText:[0,"appTooltip","tooltipText"],tooltipPosition:"tooltipPosition",tooltipDelay:"tooltipDelay"}})};export{c as a};
